<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 08/09/2025 - 18h43</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': 'France : vote décisif à l’AN pour le gouvernement de François Bayrou', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440322-france-vote-decisif-a-lan-pour-le-gouvernement-de-francois-bayrou.html', 'summary': 'France : vote décisif à l’AN pour le gouvernement de François Bayrou. Le Premier ministre français, François Bayrou s’apprête à engager, ce lundi, la responsabilité de son gouvernement devant l’Assemblée nationale en sollicitant un vote de confiance pour valider ses choix budgétaires. Bayrou tenait à obtenir une base claire de soutien avant même la présentation du projet de loi de finances 2026 en créant un accord national . ', 'size': 2}, {'id': '107', 'title': 'France : vote décisif à l’Assemblée nationale pour le gouvernement de François Bayrou', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/france-vote-decisif-a-lassemblee-nationale-pour-le-gouvernement-de-francois-bayrou/', 'summary': 'France : vote décisif à l’Assemblée nationale pour le gouvernement de François Bayrou. Le Premier ministre français, François Bayrou s’apprête à engager, ce lundi, la responsabilité de son gouvernement devant l’Assemblée nationale en sollicitant un vote de confiance pour valider ses choix budgétaires. M. Bayrou tenait à obtenir une base claire de soutien avant même la présentation du projet de loi de finances 2026 en créant un accord .', 'size': 2}], 'main_title': 'France : vote décisif à l’AN pour le gouvernement de François Bayrou'}, {'community_id': '6', 'articles': [{'id': '2', 'title': 'Alerte météo : averses orageuses avec rafales de vent ce lundi dans plusieurs régions', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440324-alerte-meteo-averses-orageuses-avec-rafales-de-vent-ce-lundi-dans-plusieurs-regions.html', 'summary': 'Alerte météo : averses orageuses avec rafales de vent ce lundi dans plusieurs régions. La Direction générale de la météorologie (DGM), a annoncé des averses orageuses localement fortes avec rafales de vent sous orages attendues, ce lundi, dans plusieurs provinces du Royaume. Dans un bulletin d’alerte météorologique de niveau de vigilance orange, la DGM précise que ces averses orageuses (25 à 35 mm) sont prévues lundi de 14h à . ', 'size': 3}, {'id': '13', 'title': 'Averses orageuses avec rafales de vent ce lundi dans plusieurs régions du Maroc', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/averses-orageuses-avec-rafales-de-vent-dans-plusieurs-regions-du-maroc/300230', 'summary': 'Averses orageuses avec rafales de vent ce lundi dans plusieurs régions du Maroc. De fortes averses orageuses (25-35 mm) avec rafales de vent sont attendues ce lundi de 14h00 à 23h00 dans les provinces de Béni Mellal, Azilal, Ifrane, Boulemane, Khénifra, Khourib.', 'size': 2}, {'id': '57', 'title': 'Averses orageuses avec rafales de vent ce lundi dans plusieurs provinces du Royaume', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/08/averses-orageuses-avec-rafales-de-vent-ce-lundi-dans-plusieurs-provinces-du-royaume_1949195/', 'summary': 'Averses orageuses avec rafales de vent ce lundi dans plusieurs provinces du Royaume. Des averses orageuses localement fortes avec rafales de vent sous orages sont attendues, ce lundi, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses (25 à 35 mm) sont prévues lundi de 14h à 23h dans les provinces d’Aousserd, Azilal, Béni Mellal, Khénifra, Oued Ed-Dahab, Boujdour et.', 'size': 3}, {'id': '67', 'title': 'Maroc : Vigilance orange, averses orageuses et rafales de vent ce lundi', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175874/maroc-vigilance-orange-averses-orageuses.html', 'summary': 'Maroc : Vigilance orange, averses orageuses et rafales de vent ce lundi. Des averses orageuses localement fortes avec rafales de vent sous orages sont attendues, ce lundi, dans plusieurs provinces du Maroc, a annoncé la Direction générale de la météorologie (DGM).', 'size': 2}], 'main_title': 'Alerte météo : averses orageuses avec rafales de vent ce lundi dans plusieurs régions'}, {'community_id': '2', 'articles': [{'id': '3', 'title': 'Reconstruction à Al Haouz : 96 % de logements avancés, 4 % en suspens', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440254-reconstruction-a-al-haouz-96-de-logements-avances-4-en-suspens.html', 'summary': 'Reconstruction à Al Haouz : 96 % de logements avancés, 4 % en suspens. La reconstruction des habitations touchées par le séisme qui a frappé la province d’Al Haouz en septembre 2023 entre dans sa phase finale, portée par une mobilisation sans précédent des autorités locales, des ingénieurs, des entrepreneurs et des associations. Selon Hassan Ighighi, coordinateur du programme de reconstruction et de réhabilitation, le taux d’avancement des travaux . ', 'size': 2}, {'id': '126', 'title': 'Al Haouz : la reconstruction des logements entre dans sa phase finale, selon les responsables', 'source': 'lnt.ma', 'link': 'https://lnt.ma/al-haouz-la-reconstruction-des-logements-entre-dans-sa-phase-finale-selon-les-responsables/', 'summary': 'Al Haouz : la reconstruction des logements entre dans sa phase finale, selon les responsables. Deux ans après le séisme de septembre 2023, la reconstruction des logements sinistrés dans la province d’Al Haouz atteint un stade avancés, selon Hassan Ighighi, coordinateur du programme de reconstruction et de réhabilitation des zones touchées. L’état d’avancement s’élèverait à 91,33%, avec près de 24.000 habitations déjà rebâties selon des normes techniques et architecturales de . ', 'size': 2}], 'main_title': 'Reconstruction à Al Haouz : 96 % de logements avancés, 4 % en suspens'}, {'community_id': '3', 'articles': [{'id': '5', 'title': "Dernière séance d'entraînement : les Lions de l’Atlas prêts à défier la Zambie", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440319-derniere-seance-dentrainement-les-lions-de-latlas-prets-a-defier-la-zambie.html', 'summary': "Dernière séance d'entraînement : les Lions de l’Atlas prêts à défier la Zambie. ", 'size': 2}, {'id': '218', 'title': 'Mondial 2026 : Le Maroc domine la Zambie', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/mondial-2026-le-maroc-domine-la-zambie/', 'summary': 'Mondial 2026 : Le Maroc domine la Zambie. Les Lions de l’Atlas se sont imposés par deux buts à zéro contre la Zambie et ont ainsi consolidé leur position comme leaders du groupe avec 21 points.', 'size': 2}], 'main_title': "Dernière séance d'entraînement : les Lions de l’Atlas prêts à défier la Zambie"}, {'community_id': '4', 'articles': [{'id': '9', 'title': 'Marrakech : deux morts dans un incendie au douar Moulay Azzouz Elmelk', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440300-marrakech-deux-morts-dans-un-incendie-au-douar-moulay-azzouz-elmelk.html', 'summary': 'Marrakech : deux morts dans un incendie au douar Moulay Azzouz Elmelk. Deux personnes ont trouvé la mort dans un incendie qui s’est déclaré, lundi vers 5h30 du matin, dans cinq baraques au douar Moulay Azzouz Elmelk, relevant de la zone urbaine Annakhil à Marrakech, a-t-on appris auprès de la Wilaya de Marrakech-Safi. Aussitôt informés, les autorités locales et sécuritaires ainsi que les services de la Protection . ', 'size': 2}, {'id': '69', 'title': 'Marrakech : Deux morts dans un incendie au douar Moulay Azzouz Elmelk', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175866/marrakech-deux-morts-dans-incendie.html', 'summary': 'Marrakech : Deux morts dans un incendie au douar Moulay Azzouz Elmelk. Deux personnes ont été tuées dans un incendie qui s’est déclaré, ce lundi vers 5h30 du matin, dans cinq baraques au douar Moulay Azzouz Elmelk, relevant de la zone urbaine Annakhil à Marrakech, a-t-on appris auprès de la wilaya de Marrakech-Safi.', 'size': 2}], 'main_title': 'Marrakech : deux morts dans un incendie au douar Moulay Azzouz Elmelk'}, {'community_id': '5', 'articles': [{'id': '10', 'title': 'La fonction publique, premier choix des jeunes diplômés marocains en 2025 (Enquête)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/emploi/la-fonction-publique-premier-choix-des-jeunes-diplomes-marocains-en-2025/300244', 'summary': 'La fonction publique, premier choix des jeunes diplômés marocains en 2025 (Enquête). En 2025, la fonction publique marocaine attire, séduit et fait rêver les jeunes diplômés des grandes écoles. Une enquête menée par Careers, cabinet de conseil en ressources humaine.', 'size': 2}, {'id': '123', 'title': 'Enquête : L’attrait du secteur public pour les jeunes diplômés', 'source': 'lnt.ma', 'link': 'https://lnt.ma/enquete-lattrait-du-secteur-public-pour-les-jeunes-diplomes/', 'summary': 'Enquête : L’attrait du secteur public pour les jeunes diplômés. Une enquête récente menée entre le 26 juin et le 22 juillet 2025 par ‘’Careers in Morocco’’, auprès de plus de 1000 lauréats issus des grandes écoles marocaines (Ecoles d’ingénieurs, écoles de commerce et universités de renom) met en lumière les préférences professionnelles des jeunes diplômés lorsqu’il s’agit d’intégrer le secteur du travail. Alors que . ', 'size': 2}], 'main_title': 'La fonction publique, premier choix des jeunes diplômés marocains en 2025 (Enquête)'}, {'community_id': '7', 'articles': [{'id': '21', 'title': 'Free Fire Battle of Morocco 2025 : plus de 4.000 spectateurs réunis pour la grande finale à Casablanca', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/free-fire-battle-of-morocco-plus-de-4000-spectateurs-reunis-pour-la-finale/300191', 'summary': 'Free Fire Battle of Morocco 2025 : plus de 4.000 spectateurs réunis pour la grande finale à Casablanca. Le Complexe sportif Mohammed V a vibré, samedi, au rythme de la grande finale du Free Fire Battle of Morocco (BOM) 2025, un événement désormais incontournable de l’e-sport national.', 'size': 2}, {'id': '199', 'title': 'Esport : Les Ravens couronnés champions du Free Fire Battle du Maroc 2025', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175895/esport-ravens-couronnes-champions-free.html', 'summary': 'Esport : Les Ravens couronnés champions du Free Fire Battle du Maroc 2025. Les Ravens ont été couronnés nouveaux champions de la Battle of Morocco 2025 de Free Fire (esport), décrochant la victoire grâce à un Booyah décisif lors de la cinquième manche de la grande finale, qui sest tenue le 6 septembre à la salle Mohammed V de Casablanca.', 'size': 2}], 'main_title': 'Free Fire Battle of Morocco 2025 : plus de 4.000 spectateurs réunis pour la grande finale à Casablanca'}, {'community_id': '8', 'articles': [{'id': '32', 'title': '82e Mostra de Venise : “Calle Malaga” de Maryam Touzani décroche le Prix du public', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/venise-2025-calle-malaga-de-maryam-touzani-prime-par-le-public/300081', 'summary': '82e Mostra de Venise : “Calle Malaga” de Maryam Touzani décroche le Prix du public. Le cinéma marocain a brillé à la 82e édition du Festival international du film de Venise. Samedi soir, “Calle Malaga”, réalisé par Maryam Touzani et produit par Nabil Ayouch, s’est.', 'size': 4}, {'id': '63', 'title': 'Mostra de Venise : “Calle Malaga” de Maryam Touzani remporte le Prix du public', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/08/mostra-de-venise-calle-malaga-de-maryam-touzani-remporte-le-prix-du-public_1949154/', 'summary': 'Mostra de Venise : “Calle Malaga” de Maryam Touzani remporte le Prix du public. Le long-métrage marocain “Calle Malaga” de Maryam Touzani a remporté, samedi soir, le Prix du public dans la catégorie Spotlight en sélection officielle de la 82e édition du Festival international du film de Venise. Tourné au Maroc, « Calle Malaga » raconte l’histoire d’une Espagnole de 79 ans qui vit seule a Tanger où elle profite de.', 'size': 4}, {'id': '79', 'title': 'Festival international du film de Venise: «Calle Malaga» de Maryam Touzani remporte le Prix du public', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/festival-international-du-film-de-venise-calle-malaga-de-maryam-touzani-remporte-le-prix-du-public', 'summary': 'Festival international du film de Venise: «Calle Malaga» de Maryam Touzani remporte le Prix du public. Le long-métrage marocain «Calle Malaga» de Maryam Touzani vient de remporter le Prix du public dans la catégorie Spotlight en sélection officielle de la 82ème édition du Festival international du film de Venise. Tourné au Maroc, «Calle Malaga» raconte l’histoire d’une Espagnole de 79 ans qui vit seule à Tanger où elle profite de sa .', 'size': 4}, {'id': '127', 'title': '82e Mostra de Venise : “Calle Malaga” de Maryam Touzani remporte le Prix du public', 'source': 'lnt.ma', 'link': 'https://lnt.ma/82e-mostra-de-venise-calle-malaga-de-maryam-touzani-remporte-le-prix-du-public/', 'summary': '82e Mostra de Venise : “Calle Malaga” de Maryam Touzani remporte le Prix du public. Le long-métrage marocain « Calle Malaga », réalisé par Maryam Touzani, a décroché samedi soir le Prix du public dans la catégorie Spotlight, en sélection officielle de la 82e édition du Festival international du film de Venise. Tourné au Maroc, le film suit Maria, 79 ans, Espagnole vivant seule à Tanger, dont le quotidien bascule . ', 'size': 4}], 'main_title': '82e Mostra de Venise : “Calle Malaga” de Maryam Touzani décroche le Prix du public'}, {'community_id': '9', 'articles': [{'id': '59', 'title': 'Qualifications Mondial 2026 : “Nous affronterons la Zambie avec l’objectif de gagner”, assure Regragui', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/08/qualifications-mondial-2026-nous-affronterons-la-zambie-avec-lobjectif-de-gagner-assure-regragui_1949150/', 'summary': 'Qualifications Mondial 2026 : “Nous affronterons la Zambie avec l’objectif de gagner”, assure Regragui. Le sélectionneur national, Walid Regragui, a assuré que l’équipe du Maroc respecte tous les adversaires et affrontera la Zambie lundi en qualifications du Mondial-2026 avec “l’objectif de l’emporter”. Nous jouons chaque match pour le gagner. Nous sommes venus en Zambie pour faire un bon match”, a fait savoir Regragui, dimanche en conférence de presse à.', 'size': 3}, {'id': '71', 'title': 'Éliminatoires Mondial 2026 : «Nous affronterons la Zambie avec l’objectif de gagner» (Walid Regragui)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175854/eliminatoires-mondial-2026-nous-affronterons.html', 'summary': 'Éliminatoires Mondial 2026 : «Nous affronterons la Zambie avec l’objectif de gagner» (Walid Regragui). Le sélectionneur national, Walid Regragui, a assuré que l’équipe du Maroc respecte tous les adversaires et affrontera la Zambie lundi en qualifications du Mondial 2026 avec «l’objectif de l’emporter».', 'size': 3}, {'id': '124', 'title': 'Qualifs Mondial 2026: Regragui promet sérieux et victoire contre la Zambie', 'source': 'lnt.ma', 'link': 'https://lnt.ma/qualifs-mondial-2026-regragui-promet-serieux-et-victoire-contre-la-zambie/', 'summary': 'Qualifs Mondial 2026: Regragui promet sérieux et victoire contre la Zambie. Le sélectionneur national, Walid Regragui, a assuré que l’équipe du Maroc respecte tous les adversaires et affrontera la Zambie lundi en qualifications du Mondial-2026 avec « l’objectif de l’emporter ». « Nous jouons chaque match pour le gagner. Nous sommes venus en Zambie pour faire un bon match », a fait savoir Regragui, dimanche en conférence de . ', 'size': 3}], 'main_title': 'Qualifications Mondial 2026 : “Nous affronterons la Zambie avec l’objectif de gagner”, assure Regragui'}, {'community_id': '10', 'articles': [{'id': '64', 'title': 'Casablanca : 6 individus interpellés pour leur lien présumé à un braquage à main armée en France', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/08/casablanca-6-individus-interpelles-pour-leur-lien-presume-a-un-braquage-a-main-armee-en-france_1949156/', 'summary': 'Casablanca : 6 individus interpellés pour leur lien présumé à un braquage à main armée en France. La Brigade nationale de la police judiciaire (BNPJ) a déféré six individus devant le parquet compétent à Casablanca, pour leur implication présumée dans un réseau criminel spécialisé dans le vol et le recel de biens issus d’un braquage à main armée commis sur le territoire français, apprend-on de source sécuritaire. Selon les premiers éléments de.', 'size': 2}, {'id': '103', 'title': 'Un réseau de recel international poursuivi à Casablanca', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/un-reseau-de-recel-international-poursuivi-a-casablanca/', 'summary': 'Un réseau de recel international poursuivi à Casablanca. Six membres d’un réseau criminel international, dont des commerçants, ont été arrêtés au Maroc pour leur implication dans un vol à main armée commis en France. L’opération, fruit d’une coopération étroite entre les autorités marocaines et françaises, souligne l’efficacité des actions contre les circuits de recel transfrontaliers. La Brigade nationale de la police judiciaire (BNPJ) .', 'size': 2}], 'main_title': 'Casablanca : 6 individus interpellés pour leur lien présumé à un braquage à main armée en France'}, {'community_id': '11', 'articles': [{'id': '75', 'title': '«Fusée Musée», «Ighoud», «Mektoub»… Fonds Arabe pour les Arts et Culture : Neuf œuvres bénéficiaires', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/fusee-musee-ighoud-mektoub-fonds-arabe-pour-les-arts-et-culture-neuf-oeuvres-beneficiaires', 'summary': '«Fusée Musée», «Ighoud», «Mektoub» Fonds Arabe pour les Arts et Culture : Neuf œuvres bénéficiaires. Plusieurs œuvres artistiques et littéraires marocaines ont bénéficié des subventions accordées par le Fonds arabe pour les arts et culture (AFAC) pour l’année 2025. L’œuvre artistique «Fusée Musée» du Marocain Mohammed Laouli a bénéficié de la subvention du programme des arts visuels, annonce le Fonds sur son site web. Pour ce qui est du programme .', 'size': 2}, {'id': '147', 'title': 'Des œuvres artistiques et littéraires marocaines bénéficient des subventions du AFAC pour 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/des-uvres-marocaines-beneficient-des-subventions-du-afac/300342', 'summary': "Des œuvres artistiques et littéraires marocaines bénéficient des subventions du AFAC pour 2025. Plusieurs œuvres artistiques et littéraires marocaines ont bénéficié des subventions accordées par le Fonds arabe pour les arts et culture (AFAC) pour l'année 2025.**related_ar.", 'size': 2}], 'main_title': '«Fusée Musée», «Ighoud», «Mektoub»… Fonds Arabe pour les Arts et Culture : Neuf œuvres bénéficiaires'}, {'community_id': '12', 'articles': [{'id': '78', 'title': 'Il se produira à Casablanca et Rabat:  Erick Baert revient au Maroc avec «Illusions Vocales»', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/il-se-produira-a-casablanca-et-rabat-erick-baert-revient-au-maroc-avec-illusions-vocales', 'summary': 'Il se produira à Casablanca et Rabat: Erick Baert revient au Maroc avec «Illusions Vocales». Après avoir marqué les esprits à Comediablanca, Erick Baert fait son grand retour au Maroc. L’artiste, véritable phénomène vocal, revient cette fois avec son spectacle intégral “ILLUSIONS VOCALES” accompagné de ses musiciens pour deux soirées qui s’annoncent inoubliables : le 30 septembre à Casablanca au Studio des Arts Vivants et le 1er octobre à Rabat .', 'size': 2}, {'id': '88', 'title': 'Erick Baert, l’homme aux 100 voix, de retour au Maroc avec son spectacle “Illusions vocales”', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/comese/erick-baert-lhomme-aux-100-voix-de-retour-au-maroc-avec-son-spectacle-illusions-vocales/', 'summary': "Erick Baert, l’homme aux 100 voix, de retour au Maroc avec son spectacle “Illusions vocales”. Après avoir marqué les esprits à Comediablanca, Erick Baert fait son grand retour au Maroc, soutenu par Tendansia qui orchestre cette nouvelle aventure. L'artiste, véritable phénomène vocal, revient cette fois avec son spectacle intégral “ILLUSIONS VOCALES” accompagné de ses musiciens pour deux soirées qui s'annoncent inoubliables : le 30 septembre à Casablanca au Studio des Arts Vivants et le 1er octobre à Rabat au Cinéma Renaissance.", 'size': 2}], 'main_title': 'Il se produira à Casablanca et Rabat:  Erick Baert revient au Maroc avec «Illusions Vocales»'}, {'community_id': '13', 'articles': [{'id': '101', 'title': 'Reconstruction post-séisme d’Al Haouz : Un taux d’avancement de 85% à Marrakech', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/reconstruction-post-seisme-dal-haouz-un-taux-davancement-de-85-a-marrakech/', 'summary': 'Reconstruction post-séisme d’Al Haouz : Un taux d’avancement de 85% à Marrakech. Environ 2.620 habitations ont été reconstruites ou réhabilitées à Marrakech. Le taux d’avancement devrait atteindre 90% fin septembre et 96% dans les deux prochains mois.', 'size': 2}, {'id': '163', 'title': 'Marrakech prend à bras le corps la réhabilitation post-séisme de ses monuments historiques', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Marrakech-prend-a-bras-le-corps-la-rehabilitation-post-seisme-de-ses-monuments-historiques_a71517.html', 'summary': 'Marrakech prend à bras le corps la réhabilitation post-séisme de ses monuments historiques. \u200bLa ville de Marrakech, véritable joyau architectural et patrimonial d’une valeur inestimable, prend à bras le corps la réhabilitation de ses monuments historiques suite au séisme d’Al Haouz de 2023, dans le respect des techniques de construction authentiques et des normes parasismiques internationales.', 'size': 2}], 'main_title': 'Reconstruction post-séisme d’Al Haouz : Un taux d’avancement de 85% à Marrakech'}, {'community_id': '14', 'articles': [{'id': '119', 'title': 'L’APEP constitue son nouveau bureau', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/lapep-constitue-son-nouveau-bureau.html', 'summary': 'L’APEP constitue son nouveau bureau. L’Association Professionnelle des Établissements de Paiement (APEP), organisation représentative des acteurs du paiement au Maroc, annonce la constitution officielle de son bureau pour la nouvelle mandature 2025/2028. ', 'size': 2}, {'id': '232', 'title': 'Établissements de paiement : l’APEP constitue son nouveau bureau pour 2025-2028', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/etablissements-de-paiement-lapep-constitue-son-nouveau-bureau-pour-2025-2028/', 'summary': 'Établissements de paiement : l’APEP constitue son nouveau bureau pour 2025-2028. L’Association Professionnelle des Établissements de Paiement (APEP) a annoncé la constitution de son bureau pour la nouvelle mandature 2025-2028, marquant une nouvelle étape dans la structuration de la gouvernance du secteur, dans un contexte d’accélération de la digitalisation des services financiers. Présidée par Maha Kohen, Présidente du Directoire de Damane Cash, l’APEP s’appuie sur une .', 'size': 2}], 'main_title': 'L’APEP constitue son nouveau bureau'}, {'community_id': '15', 'articles': [{'id': '149', 'title': 'Le Maroc, place forte du football mondial (RMC sport)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/le-maroc-place-forte-du-football-mondial-rmc-sport/300340', 'summary': 'Le Maroc, place forte du football mondial (RMC sport). Le Maroc, ajoute la même source, «se pose aujourd’hui en carrefour des prochains grands événements dans le monde du football », notant que l’influence du Royaume dans le football m.', 'size': 2}, {'id': '231', 'title': 'Le Maroc, place forte du football mondial', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-maroc-place-forte-du-football-mondial/', 'summary': 'Le Maroc, place forte du football mondial. Le Maroc, qui sera sur le devant de la scène pour les cinq prochaines années entre la CAN 2025 et la Coupe du monde 2030, est « une place forte du football mondial », écrit le site spécialisé «RMC sport ». Le Maroc, ajoute la même source, «se pose aujourd’hui en carrefour des prochains grands événements dans .', 'size': 2}], 'main_title': 'Le Maroc, place forte du football mondial (RMC sport)'}, {'community_id': '1', 'articles': [{'id': '183', 'title': 'Qualifications Mondial 2026 : le Maroc domine la Zambie (2-0)', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/08/qualifications-mondial-2026-le-maroc-domine-la-zambie-2-0_1949380/', 'summary': 'Qualifications Mondial 2026 : le Maroc domine la Zambie (2-0). La sélection marocaine de football, qui a déjà validé son billet pour la Coupe du Monde 2026, s’est imposée, lundi à Ndola, en Zambie, contre son homologue zambienne sur le score de 2 buts à 0, dans un match comptant pour la 8e journée du Groupe E des qualifications africaines. Les buts de la rencontre.', 'size': 3}, {'id': '198', 'title': 'Eliminatoires Mondial 2026 : Le Maroc domine la Zambie (2-0)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175902/eliminatoires-mondial-2026-maroc-domine.html', 'summary': 'Eliminatoires Mondial 2026 : Le Maroc domine la Zambie (2-0). La sélection marocaine de football, qui a déjà validé son billet pour la Coupe du Monde 2026, s’est imposée, lundi à Ndola, contre son homologue zambienne sur le score de 2 buts à 0, dans un match comptant pour la 8e journée du Groupe E des qualifications africaines. Les buts de la rencontre ont été marqués par Youssef En-Nesyri (7e) et Hamza Igamane (47e).', 'size': 3}, {'id': '202', 'title': 'Qualifications Mondial 2026 : le Maroc signe un carton plein en disposant de la Zambie', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/une/qualifications-mondial-2026-le-maroc-signe-un-carton-plein-en-disposant-de-la-zambie', 'summary': 'Qualifications Mondial 2026 : le Maroc signe un carton plein en disposant de la Zambie. Auréolée par sa qualification pour le Mondial 2026 de football, la sélection marocaine n’a pas eu à forcer son talent face à son homologue zambienne (2-0), lundi au stade Levy Mwanawasa à Ndola pour le compte de la 8è journée du groupe E des qualifications africaines. Les Lions de l’Atlas, qui ont validé leur ticket .', 'size': 3}], 'main_title': 'Qualifications Mondial 2026 : le Maroc domine la Zambie (2-0)'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
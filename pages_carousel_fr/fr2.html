<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 05/07/2025 - 18h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '9', 'articles': [{'id': '0', 'title': "Les pays de l'Opep+ augmenteront leur production en août", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/431960-les-pays-de-lopep-augmenteront-leur-production-en-aout.html', 'summary': "Les pays de l'Opep+ augmenteront leur production en août. L’Arabie Saoudite, la Russie et six autres producteurs de pétrole de l’Opep+ se sont accordés samedi pour augmenter leur production de pétrole de 548.000 barils par jour en août, soit plus que prévu par le marché et les analystes, selon un communiqué de l’Opep. « Les huit pays participants mettront en œuvre un ajustement de la production de . ", 'size': 2}, {'id': '193', 'title': 'Vers une détente des prix du pétrole\xa0? Huit pays de l’OPEP+ rouvrent les vannes', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/vers-une-detente-des-prix-du-petrole-huit-pays-de-lopep-rouvrent-les-vannes-306176/', 'summary': 'Vers une détente des prix du pétrole ? Huit pays de l’OPEP+ rouvrent les vannes. L’Arabie Saoudite, la Russie et six autres producteurs de pétrole de l’Opep+ ont déjoué les prévisions du marché en annonçant lors d’une réunion samedi une nouvelle hausse des quotas plus importante que prévu en août. « Les huit pays participants mettront en œuvre un ajustement de la production de 548.000 barils', 'size': 2}], 'main_title': "Les pays de l'Opep+ augmenteront leur production en août"}, {'community_id': '3', 'articles': [{'id': '1', 'title': "CAN féminine: Motsepe félicite l'organisation et la contribution du Maroc", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/431953-can-feminine-motsepe-felicite-lorganisation-et-la-contribution-du-maroc.html', 'summary': "CAN féminine: Motsepe félicite l'organisation et la contribution du Maroc. Le président de la Confédération africaine de football (CAF), Patrice Motsepe, a salué l’engagement et les efforts du Maroc pour faire briller le football notamment féminin, à l’occasion du début de la Coupe d’Afrique des Nations (CAN) féminine. Le Maroc n’a eu de cesse de contribuer au développement du football en général, et du football . ", 'size': 2}, {'id': '114', 'title': 'Motsepe : «Le Maroc n’a eu de cesse de contribuer au développement du football féminin africain»', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/motsepe-le-maroc-na-eu-de-cesse-de-contribuer-au-developpement-du-football-feminin-africain/', 'summary': 'Motsepe : «Le Maroc n’a eu de cesse de contribuer au développement du football féminin africain». Le Maroc n’a eu de cesse de contribuer au développement du football en général, et du football féminin en particulier, a assuré le président de la Confédération africaine de football (CAF).', 'size': 2}], 'main_title': "CAN féminine: Motsepe félicite l'organisation et la contribution du Maroc"}, {'community_id': '0', 'articles': [{'id': '19', 'title': "La République d'Equateur inaugure son Ambassade à Rabat", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/la-republique-dequateur-inaugure-son-ambassade-a-rabat/289304', 'summary': "La République d'Equateur inaugure son Ambassade à Rabat. Dans une allocution prononcée lors de cette cérémonie, Nasser Bourita a souligné que l’inauguration de cette ambassade intervient suite à la décision historique de la République d.", 'size': 3}, {'id': '46', 'title': "L'Equateur inaugure son Ambassade à Rabat", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/L-Equateur-inaugure-son-Ambassade-a-Rabat_a69495.html', 'summary': "L'Equateur inaugure son Ambassade à Rabat. Le ministre des Affaires étrangères, de la Coopération Africaine et des Marocains résidant à l’étranger, Nasser Bourita, et la ministre équatorienne des Relations extérieures et de la mobilité humaine, Gabriela Sommerfeld, ont procédé, vendredi, à l’inauguration de l’ambassade de la République d’Equateur à Rabat.", 'size': 4}, {'id': '62', 'title': "La République d'Equateur inaugure son ambassade à Rabat", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/04/la-republique-dequateur-inaugure-son-ambassade-a-rabat_1941127/', 'summary': "La République d'Equateur inaugure son ambassade à Rabat. Le ministre des Affaires étrangères, de la Coopération Africaine et des Marocains résidant à l’étranger, Nasser Bourita, et la ministre équatorienne des Relations extérieures et de la mobilité humaine, Gabriela Sommerfeld, ont procédé, vendredi, à l’inauguration de l’ambassade de la République d’Equateur à Rabat. Dans une allocution prononcée lors de cette cérémonie, Bourita a souligné.", 'size': 4}, {'id': '211', 'title': 'Maroc | Inauguration de l’ambassade de la République d’Équateur à Rabat', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/maroc-inauguration-de-lambassade-de-la-republique-dequateur-a-rabat/', 'summary': 'Maroc | Inauguration de l’ambassade de la République d’Équateur à Rabat. Le ministre des Affaires étrangères, de la Coopération Africaine et des Marocains résidant à l’étranger, Nasser Bourita, et la ministre équatorienne des Relations extérieures et de la mobilité humaine, Gabriela Sommerfeld, ont procédé, vendredi, à l’inauguration de l’ambassade de la République d’Equateur à Rabat. Dans une allocution prononcée lors de cette cérémonie, M. Bourita a ', 'size': 3}], 'main_title': "L'Equateur inaugure son Ambassade à Rabat"}, {'community_id': '6', 'articles': [{'id': '30', 'title': 'Concours « ImagineTaVille » : la Fondation Attijariwafa bank dévoile les gagnants', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/concours-imaginetaville-la-fondation-awb-devoile-les-gagnants/289241', 'summary': 'Concours « ImagineTaVille » : la Fondation Attijariwafa bank dévoile les gagnants. Quatre nominés ont été désignés par un jury composé d’experts en arts visuels et en RSE, parmi lesquels figurent Abla Ababou, galeriste spécialisée dans la création émergente, Zine.', 'size': 3}, {'id': '132', 'title': 'La Fondation Attijariwafa bank dévoile les lauréats de la 2ème édition de son concours d’arts visuels «ImagineTaVille »', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/comese/la-fondation-attijariwafa-bank-devoile-les-laureats-de-la-2eme-edition-de-son-concours-darts-visuels-imaginetaville/', 'summary': "La Fondation Attijariwafa bank dévoile les lauréats de la 2ème édition de son concours d’arts visuels «ImagineTaVille ». La Fondation Attijariwafa bank vient de dévoiler les lauréats de la 2ème édition de son concours d'arts visuels « ImagineTaVille », dédié cette année aux enjeux climatiques et environnementaux. Clôturé en mai dernier, ce concours a suscité un engouement remarquable avec 327 candidatures reçues de toutes les régions du Maroc.", 'size': 3}, {'id': '169', 'title': 'Arts visuels : la Fondation Attijariwafa bank distingue les lauréats de la deuxième édition du concours « ImagineTaVille »', 'source': 'lnt.ma', 'link': 'https://lnt.ma/arts-visuels-la-fondation-attijariwafa-bank-distingue-les-laureats-de-la-deuxieme-edition-du-concours-imaginetaville/', 'summary': 'Arts visuels : la Fondation Attijariwafa bank distingue les lauréats de la deuxième édition du concours « ImagineTaVille ». La Fondation Attijariwafa bank a annoncé les résultats de la deuxième édition de son concours national d’arts visuels « ImagineTaVille », organisé cette année autour des thématiques climatiques et environnementales. Ce concours, lancé dans le cadre de ses actions en faveur de la promotion de la culture et de la jeunesse, a suscité une participation . ', 'size': 3}], 'main_title': 'Concours « ImagineTaVille » : la Fondation Attijariwafa bank dévoile les gagnants'}, {'community_id': '11', 'articles': [{'id': '32', 'title': 'En direct : Renault Group Maroc célèbre le 2000e Mobilize Duo, fabriqué à Tanger', 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/renault-group-maroc-fete-le-2000e-mobilize-duo-produit-a-tanger/289202', 'summary': "En direct : Renault Group Maroc célèbre le 2000e Mobilize Duo, fabriqué à Tanger. Renault Group Maroc célèbre la production du 2000e Mobilize Duo dans son usine de Tanger. Ce véhicule électrique incarne l'engagement du Groupe en faveur d’une mobilité urbaine.", 'size': 4}, {'id': '49', 'title': "L'usine de Renault au Maroc célèbre la production de son 2000ème Mobilize DUO", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/L-usine-de-Renault-au-Maroc-celebre-la-production-de-son-2000eme-Mobilize-DUO_a69491.html', 'summary': "L'usine de Renault au Maroc célèbre la production de son 2000ème Mobilize DUO. L’usine Renault Group de Tanger, l’un des piliers du dispositif industriel du Groupe, a célébré, vendredi, la sortie de chaîne du 2000ème Mobilize DUO, le premier quadricycle 100% électrique produit par le Groupe au Maroc.", 'size': 4}, {'id': '86', 'title': 'Renault Group Maroc célèbre la sortie du 2000ème Mobilize DUO, premier véhicule 100% électrique fabriqué à Tanger', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/renault-group-maroc-celebre-la-sortie-du-2000eme-mobilize-duo-premier-vehicule-100-electrique-fabrique-a-tanger-306117/', 'summary': 'Renault Group Maroc célèbre la sortie du 2000ème Mobilize DUO, premier véhicule 100% électrique fabriqué à Tanger. L’usine de Tanger, l’un des piliers du dispositif industriel de Renault Group, a célébré, vendredi 4 juillet, la sortie de chaîne du 2000ème Mobilize DUO, le premier quadricycle 100% électrique produit sur ce site. A préciser que ce véhicule est destiné actuellement au marché européen et ne sera commercialisé au', 'size': 3}, {'id': '127', 'title': 'Véhicule 100% électrique : L’usine de Renault Tanger célèbre la production du 2000è Mobilize DUO', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/auto/vehicule-100-electrique-lusine-de-renault-de-tanger-celebre-la-production-du-2000e-mobilize-duo/', 'summary': 'Véhicule 100% électrique : L’usine de Renault Tanger célèbre la production du 2000è Mobilize DUO. Mobilize DUO, 100% électrique et dédié à la mobilité urbaine, témoigne de la capacité de la plateforme industrielle marocaine du Groupe à accompagner les évolutions technologiques du secteur', 'size': 3}], 'main_title': 'En direct : Renault Group Maroc célèbre le 2000e Mobilize Duo, fabriqué à Tanger'}, {'community_id': '1', 'articles': [{'id': '65', 'title': 'Akhannouch lundi au Parlement pour une séance de questions orales', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/04/akhannouch-lundi-au-parlement-pour-une-seance-de-questions-orales_1941108/', 'summary': 'Akhannouch lundi au Parlement pour une séance de questions orales. La Chambre des représentants tiendra, lundi prochain, une séance plénière consacrée aux questions orales adressées au chef du gouvernement sur la politique générale. Cette séance, qui se tiendra conformément aux dispositions du 3è paragraphe de l’article 100 de la Constitution et du règlement intérieur de la Chambre, débutera à 15h00 et sera axée sur le.', 'size': 3}, {'id': '102', 'title': 'Chambre des représentants: Séance plénière lundi du Chef du gouvernement', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/chambre-des-representants-seance-pleniere-lundi-du-chef-du-gouvernement', 'summary': 'Chambre des représentants: Séance plénière lundi du Chef du gouvernement. La Chambre des représentants tiendra, lundi prochain, une séance plénière consacrée aux questions orales adressées au Chef du gouvernement sur la politique générale. Cette séance, qui se tiendra conformément aux dispositions du 3è paragraphe de l’article 100 de la Constitution et du règlement intérieur de la Chambre, débutera à 15h00 et sera axée sur le .', 'size': 3}, {'id': '125', 'title': 'Chambre des représentants : Séance plénière lundi consacrée aux questions orales adressées au Chef du gouvernement', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/chambre-des-representants-seance-pleniere-lundi-consacree-aux-questions-orales-adressees-au-chef-du-gouvernement/', 'summary': 'Chambre des représentants : Séance plénière lundi consacrée aux questions orales adressées au Chef du gouvernement. La Chambre des représentants tiendra, lundi prochain, une séance plénière consacrée aux questions orales adressées au Chef du gouvernement sur la politique générale.', 'size': 3}], 'main_title': 'Akhannouch lundi au Parlement pour une séance de questions orales'}, {'community_id': '4', 'articles': [{'id': '78', 'title': 'Billetterie sportive : la Sonarges s’engage à garantir un accès transparent, équitable et non discriminatoire', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/billetterie-sportive-la-sonarges-sengage-a-garantir-un-acces-transparent-equitable-et-non-discriminatoire-306171/', 'summary': 'Billetterie sportive : la Sonarges s’engage à garantir un accès transparent, équitable et non discriminatoire. Le Conseil de la concurrence annonce que la Société Nationale de Réalisation et de Gestion des Équipements Sportifs (Sonarges) s’est engagée à garantir un accès transparent, équitable et non discriminatoire aux prestations de billetterie pour l’utilisation de ses infrastructures. «Après plusieurs échanges avec les parties concernées dans un esprit de', 'size': 4}, {'id': '115', 'title': 'Billetterie sportive : La Sonarges s’engage à garantir un accès transparent, équitable et non discriminatoire', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/billetterie-sportive-la-sonarges-sengage-a-garantir-un-acces-transparent-equitable-et-non-discriminatoire/', 'summary': 'Billetterie sportive : La Sonarges s’engage à garantir un accès transparent, équitable et non discriminatoire. Le Conseil de la concurrence annonce que la Société Nationale de Réalisation et de Gestion des Équipements Sportifs (Sonarges) s’est engagée à garantir un accès transparent, équitable et non discriminatoire aux prestations de billetterie pour l’utilisation de ses infrastructures.', 'size': 4}, {'id': '189', 'title': "Billetterie sportive : La Sonarges s'engage à garantir un accès transparent, équitable et non discriminatoire (Conseil de la concurrence)", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Billetterie-sportive-La-Sonarges-s-engage-a-garantir-un-acces-transparent-equitable-et-non-discriminatoire-Conseil-de_a69508.html', 'summary': "Billetterie sportive : La Sonarges s'engage à garantir un accès transparent, équitable et non discriminatoire (Conseil de la concurrence). Le Conseil de la concurrence annonce que la Société Nationale de Réalisation et de Gestion des Équipements Sportifs (Sonarges) s’est engagée à garantir un accès transparent, équitable et non discriminatoire aux prestations de billetterie pour l’utilisation de ses infrastructures.", 'size': 4}, {'id': '212', 'title': 'Billetteries sportives : Les engagements de la Sonarges', 'source': 'lnt.ma', 'link': 'https://lnt.ma/billetteries-sportives-les-engagements-de-la-sonarges/', 'summary': 'Billetteries sportives : Les engagements de la Sonarges. Le Conseil de la concurrence a annoncé, vendredi, que la Société Nationale de Réalisation et de Gestion des Équipements Sportifs (Sonarges) a pris un ensemble d’engagements visant à garantir un accès transparent, équitable et non discriminatoire aux prestations de billetterie liées à l’utilisation des infrastructures sportives qu’elle gère. Selon un communiqué publié à cet effet, . ', 'size': 4}], 'main_title': 'Billetterie sportive : la Sonarges s’engage à garantir un accès transparent, équitable et non discriminatoire'}, {'community_id': '10', 'articles': [{'id': '80', 'title': 'Les prévisions du samedi 5 juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-5-juillet-306160/', 'summary': 'Les prévisions du samedi 5 juillet. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 5 juillet 2025. -Temps demeurant chaud sur le Sud-Est et l’intérieur des provinces du Sud, et assez chaud sur le reste des régions à l’intérieur du Royaume. -Ondées ou averses orageuses avec rafales de vent', 'size': 2}, {'id': '204', 'title': 'Prévisions météorologiques pour le dimanche 6 juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-le-dimanche-6-juillet-2025/', 'summary': 'Prévisions météorologiques pour le dimanche 6 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le dimanche 6 juillet 2025 : – Temps assez chaud à chaud sur le Sud-Est, l’intérieur des provinces du Sud, l’Oriental, le Saiss, les plaines de Tadla et Rehamna. – Nuages bas assez denses avec brume ou brouillard près des côtes. – .', 'size': 2}], 'main_title': 'Les prévisions du samedi 5 juillet'}, {'community_id': '5', 'articles': [{'id': '88', 'title': 'Le Libéria, membre du Conseil de sécurité, exprime un soutien ferme à la marocanité du Sahara', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-liberia-membre-du-conseil-de-securite-exprime-un-soutien-ferme-a-la-marocanite-du-sahara-306101/', 'summary': 'Le Libéria, membre du Conseil de sécurité, exprime un soutien ferme à la marocanité du Sahara. Le Libéria, nouveau membre non permanent du Conseil de sécurité des Nations Unies à partir de 2026, a réaffirmé, vendredi 4 juillet à Rabat, son soutien à l’intégrité territoriale et à la souveraineté du Maroc sur l’ensemble de son territoire, y compris la région du Sahara. Cette position a été', 'size': 2}, {'id': '160', 'title': 'Le Libéria réaffirme son soutien à l’initiative marocaine d’autonomie', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-liberia-reaffirme-son-soutien-a-linitiative-marocaine-dautonomie.html', 'summary': 'Le Libéria réaffirme son soutien à l’initiative marocaine d’autonomie. La République du Libéria, nouveau membre non permanent du Conseil de sécurité des Nations Unies à partir de 2026, a réaffirmé, vendredi à Rabat, son soutien à l’intégrité territoriale et à la souveraineté du Maroc sur l’ensemble de son territoire, y compris la région du Sahara. Cette position a été exprimée par la ministre des . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Le Libéria, membre du Conseil de sécurité, exprime un soutien ferme à la marocanité du Sahara'}, {'community_id': '2', 'articles': [{'id': '109', 'title': 'Pour la fourniture de 1,1 million de tonnes d’engrais : OCP Nutricrops signe un accord stratégique avec le Bangladesh', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/pour-la-fourniture-de-11-million-de-tonnes-dengrais-ocp-nutricrops-signe-un-accord-strategique-avec-le-bangladesh', 'summary': 'Pour la fourniture de 1,1 million de tonnes d’engrais : OCP Nutricrops signe un accord stratégique avec le Bangladesh. Cet engagement à long terme reflète l’engagement d’OCP Nutricrops à promouvoir la santé des sols, à autonomiser les agriculteurs et à renforcer la sécurité alimentaire au Bangladesh. Partenariat : OCP Nutricrops a signé un accord majeur avec la Bangladesh Agricultural Development Corporation (BADC) portant sur la livraison de 1,1 million de tonnes d’engrais non uréiques .', 'size': 2}, {'id': '154', 'title': 'Sécurité alimentaire\u202f: OCP Nutricrops au cœur de la stratégie agricole bangladaise', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/securite-alimentaire-ocp-nutricrops-au-coeur-de-la-strategie-agricole-bangladaise.html', 'summary': 'Sécurité alimentaire : OCP Nutricrops au cœur de la stratégie agricole bangladaise. En actant la fourniture de 1,1 million de tonnes d’engrais au Bangladesh pour 2025–2026, OCP Nutricrops prolonge un partenariat stratégique entamé il y a dix-sept ans avec la Bangladesh Agricultural Development Corporation. ', 'size': 2}], 'main_title': 'Pour la fourniture de 1,1 million de tonnes d’engrais : OCP Nutricrops signe un accord stratégique avec le Bangladesh'}, {'community_id': '7', 'articles': [{'id': '172', 'title': "Ryanair s'explique après une fausse alerte incendie", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/432010-ryanair-sexplique-apres-une-fausse-alerte-incendie.html', 'summary': "Ryanair s'explique après une fausse alerte incendie. Une fausse alerte incendie survenue à bord d’un avion Ryanair prêt à décoller de l’aéroport de Palma de Majorque a provoqué, vendredi soir, une évacuation d’urgence au cours de laquelle plusieurs passagers ont été légèrement blessés, a indiqué, samedi, la compagnie aérienne irlandaise. Ryanair explique que le vol a interrompu son décollage en raison d’un . ", 'size': 2}, {'id': '202', 'title': 'Espagne: Plusieurs blessés après l’évacuation d’un vol Ryanair suite à une fausse alerte incendie', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/espagne-plusieurs-blesses-apres-levacuation-dun-vol-ryanair-suite-a-une-fausse-alerte-incendie/', 'summary': 'Espagne: Plusieurs blessés après l’évacuation d’un vol Ryanair suite à une fausse alerte incendie. Une fausse alerte incendie survenue à bord d’un avion Ryanair prêt à décoller de l’aéroport de Palma de Majorque a provoqué, vendredi soir, une évacuation d’urgence au cours de laquelle plusieurs passagers ont été légèrement blessés, a indiqué, samedi, la compagnie aérienne irlandaise. Ryanair explique que le vol a interrompu son décollage en raison d’un .', 'size': 2}], 'main_title': "Ryanair s'explique après une fausse alerte incendie"}, {'community_id': '8', 'articles': [{'id': '188', 'title': "Commune de Tanger: Mise en place d'un nouveau système de stationnement basé sur l'efficacité et la transparence", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Commune-de-Tanger-Mise-en-place-d-un-nouveau-systeme-de-stationnement-base-sur-l-efficacite-et-la-transparence_a69509.html', 'summary': "Commune de Tanger: Mise en place d'un nouveau système de stationnement basé sur l'efficacité et la transparence. La commune de Tanger a annoncé l’entrée en vigueur, à partir du 9 juillet, d’une décision règlementaire relative à l’organisation du stationnement des véhicules, selon les nomes d’efficacité, de digitalisation et de transparence, en sus de l'amélioration de la relation avec les usagers.", 'size': 2}, {'id': '201', 'title': 'Tanger : Mise en place d’un nouveau système de stationnement des véhicules', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/scans/tanger-mise-en-place-dun-nouveau-systeme-de-stationnement-des-vehicules/', 'summary': "Tanger : Mise en place d’un nouveau système de stationnement des véhicules. La commune de Tanger a annoncé l’entrée en vigueur, à partir du 9 juillet, d’une décision règlementaire relative à l’organisation du stationnement des véhicules, selon les nomes d’efficacité, de digitalisation et de transparence, en sus de l'amélioration de la relation avec les usagers.", 'size': 2}], 'main_title': "Commune de Tanger: Mise en place d'un nouveau système de stationnement basé sur l'efficacité et la transparence"}, {'community_id': '12', 'articles': [{'id': '205', 'title': 'Le Maroc et l’Équateur partagent les mêmes aspirations de souveraineté, d’intégration et de dialogue structuré', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-maroc-et-lequateur-partagent-les-memes-aspirations-de-souverainete-dintegration-et-de-dialogue-structure/', 'summary': 'Le Maroc et l’Équateur partagent les mêmes aspirations de souveraineté, d’intégration et de dialogue structuré. Bien qu’appartenant à deux espaces géographiques distincts, le Maroc et l’Équateur partagent les mêmes aspirations en matière de souveraineté, d’intégration et de dialogue structuré, a affirmé, vendredi à Rabat, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita. Les deux pays réaffirment aujourd’hui que « le Sud peut .', 'size': 2}, {'id': '209', 'title': 'M.Bourita | Le Maroc et l’Équateur partagent les mêmes aspirations de souveraineté, d’intégration et de dialogue structuré', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/m-bourita-le-maroc-et-lequateur-partagent-les-memes-aspirations-de-souverainete-dintegration-et-de-dialogue-structure/', 'summary': 'M.Bourita | Le Maroc et l’Équateur partagent les mêmes aspirations de souveraineté, d’intégration et de dialogue structuré. Bien qu’appartenant à deux espaces géographiques distincts, le Maroc et l’Équateur partagent les mêmes aspirations en matière de souveraineté, d’intégration et de dialogue structuré, a affirmé, vendredi à Rabat, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita. Les deux pays réaffirment aujourd’hui que “le Sud peut ', 'size': 2}], 'main_title': 'Le Maroc et l’Équateur partagent les mêmes aspirations de souveraineté, d’intégration et de dialogue structuré'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
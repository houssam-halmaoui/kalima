<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 14/08/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '18', 'title': "L’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité", 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/creation-dun-centre-dexcellence-en-ia-et-cybersecurite-a-luir/296468', 'summary': "L’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité. A travers cette collaboration, Cisco et l’UIR ont l'intention de se concentrer sur la cybersécurité et l’intelligence artificielle, avec pour ambition de positionner l’UIR comm.", 'size': 3}, {'id': '112', 'title': 'UIR-Cisco : Alliance pour la création d’un centre d’excellence en IA et cybersécurité', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/tech/uir-cisco-alliance-pour-la-creation-dun-centre-dexcellence-en-ia-et-cybersecurite/', 'summary': 'UIR-Cisco : Alliance pour la création d’un centre d’excellence en IA et cybersécurité. Un Cisco EDGE Incubation Centre sera créé au sein de l’Université internationale de Rabat, dans le but d’accélérer l’innovation, créer un impact durable dans la région et former la prochaine génération de leaders technologiques.', 'size': 3}, {'id': '187', 'title': "Rabat : l’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/rabat-luir-et-cisco-sallient-pour-la-creation-dun-centre-dexcellence-en-ia-et-cybersecurite_1946487/', 'summary': "Rabat : l’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité. Cisco et l’Université internationale de Rabat (UIR) ont signé un protocole d’accord (MoU) visant la création d’un Cisco EDGE Incubation Centre au sein de l’université. A travers cette collaboration, Cisco et l’UIR ont l’intention de se concentrer sur la cybersécurité et l’intelligence artificielle, avec pour ambition de positionner l’UIR comme centre stratégique de développement et.", 'size': 4}, {'id': '194', 'title': 'Rabat : L’UIR et Cisco lancent un centre d’excellence en IA et cybersécurité', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/rabat-luir-et-cisco-lancent-un-centre-dexcellence-en-ia-et-cybersecurite-308540/', 'summary': 'Rabat : L’UIR et Cisco lancent un centre d’excellence en IA et cybersécurité. L’Université Internationale de Rabat (UIR) et Cisco, spécialiste des technologies de l’information, ont signé un protocole d’accord (MoU) visant la création d’un «Cisco EDGE Incubation Centre» au sein de l’université. Dans le cadre de ce partenariat, l’UIR et Cisco souhaitent mettre l’accent sur la cybersécurité et l’intelligence artificielle, avec pour', 'size': 4}], 'main_title': "Rabat : l’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité"}, {'community_id': '1', 'articles': [{'id': '19', 'title': 'Oncorad réussit la première chirurgie robotique d’implantation de sphincter urinaire artificiel en Afrique', 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/oncorad-signe-en-afrique-la-premiere-pose-robotique-de-sphincter-urinaire/296457', 'summary': 'Oncorad réussit la première chirurgie robotique d’implantation de sphincter urinaire artificiel en Afrique. Casablanca a été le théâtre d’une avancée médicale inédite sur le continent. À la Littoral Clinic Ain Diab, relevant d’Oncorad Group, une patiente de 24 ans, paralysée de la partie.', 'size': 2}, {'id': '205', 'title': 'Implantation d’un sphincter urinaire artificiel: Oncorad Group signe la première chirurgie robotique sur le continent', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/implantation-dun-sphincter-urinaire-artificiel-oncorad-group-signe-la-premiere-chirurgie-robotique-sur-le-continent', 'summary': 'Implantation d’un sphincter urinaire artificiel: Oncorad Group signe la première chirurgie robotique sur le continent. Innovation médicale : Une première en Afrique. A travers son établissement Littoral Clinic Ain Diab, Oncorad Group réalise la première chirurgie robotique pour l’implantation d’un sphincter urinaire artificiel en Afrique. Cette intervention a été réalisée avec succès sur une patiente de 24 ans paralysée de la partie inférieure du corps. « Ce que nous avons accompli .', 'size': 2}], 'main_title': 'Oncorad réussit la première chirurgie robotique d’implantation de sphincter urinaire artificiel en Afrique'}, {'community_id': '2', 'articles': [{'id': '33', 'title': 'Banque Populaire et Royal Air Maroc lancent la carte Visa Infinite pour voyageurs fréquents', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/banque-populaire-et-ram-lancent-une-carte-visa-infinite-avec-avantages/296318', 'summary': 'Banque Populaire et Royal Air Maroc lancent la carte Visa Infinite pour voyageurs fréquents. La Banque Populaire et Royal Air Maroc annoncent le lancement d’une carte Visa Infinite co-brandée, fruit d’un partenariat stratégique entre deux institutions de référence au Maroc.', 'size': 3}, {'id': '158', 'title': 'La Banque Populaire et Royal Air Maroc lancent une carte Visa Infinite co-brandée', 'source': 'lnt.ma', 'link': 'https://lnt.ma/la-banque-populaire-et-royal-air-maroc-lancent-une-carte-visa-infinite-co-brandee/', 'summary': 'La Banque Populaire et Royal Air Maroc lancent une carte Visa Infinite co-brandée. La Banque Populaire a annoncé le lancement d’une carte bancaire haut de gamme Visa Infinite co-brandée avec Royal Air Maroc, destinée à accompagner et récompenser les clients voyageurs, au Maroc comme à l’international. Fruit d’un partenariat stratégique entre les deux institutions, cette carte associe l’expertise bancaire de la Banque Populaire et le savoir-faire aérien de . ', 'size': 3}, {'id': '201', 'title': 'Co-brandée avec Royal Air Maroc : La Banque Populaire lance une carte Visa Infinite', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/co-brandee-avec-royal-air-maroc-la-banque-populaire-lance-une-carte-visa-infinite', 'summary': 'Co-brandée avec Royal Air Maroc : La Banque Populaire lance une carte Visa Infinite. Paiement : La Banque Populaire réaffirme son engagement à développer des solutions premium en phase avec les nouvelles attentes de mobilité et de confort de ses clients. A cet égard, la Banque met sur le marché une carte bancaire haut de gamme Visa Infinite co-brandée avec Royal Air Maroc (RAM). Ce lancement se veut le .', 'size': 3}], 'main_title': 'Banque Populaire et Royal Air Maroc lancent la carte Visa Infinite pour voyageurs fréquents'}, {'community_id': '3', 'articles': [{'id': '35', 'title': 'Artisanat : les exportations en hausse de 14% à fin juillet 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/artisanat-les-exportations-en-hausse-de-14-a-fin-juillet-2025/296313', 'summary': "Artisanat : les exportations en hausse de 14% à fin juillet 2025. Au cours du mois de juillet, la performance des produits de l'artisanat a été remarquable, avec un taux de croissance de 34% comparativement à Juillet 2024, fait savoir le Secr.", 'size': 3}, {'id': '74', 'title': 'Artisanat : les exportations en hausse de 14% à fin juillet', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/artisanat-les-exportations-en-hausse-de-14-a-fin-juillet_1946297/', 'summary': 'Artisanat : les exportations en hausse de 14% à fin juillet. Les exportations des produits de l’artisanat ont atteint plus de 737 millions de dirhams (MDH) à fin juillet, soit une hausse de 14% en glissement annuel, selon le Secrétariat d’État chargé de l’Artisanat et de l’économie sociale et solidaire. Au cours du mois de juillet, la performance des produits de l’artisanat a été remarquable, avec.', 'size': 3}, {'id': '81', 'title': 'Artisanat: le grand boom des exportations en juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/artisanat-le-grand-boom-des-exportations-en-juillet-308495/', 'summary': 'Artisanat: le grand boom des exportations en juillet. Les exportations des produits d’artisanat marocains ont enregistré une croissance de 34% durant le mois de juillet dernier, une remarquable performance qui contribue à une hausse de 14% du secteur au cours des sept premiers mois de 2025, par rapport à la même période de l’année passée. La valeur des', 'size': 2}, {'id': '162', 'title': 'Artisanat : les exportations en hausse à deux chiffres, Marrakech domine toujours', 'source': 'lnt.ma', 'link': 'https://lnt.ma/artisanat-les-exportations-en-hausse-a-deux-chiffres-marrakech-domine-toujours/', 'summary': 'Artisanat : les exportations en hausse à deux chiffres, Marrakech domine toujours. Les exportations de produits de l’artisanat marocain ont atteint plus de 737 millions de dirhams (MDH) à fin juillet 2025, en progression de 14 % par rapport à la même période de l’année précédente, selon le Secrétariat d’État chargé de l’Artisanat et de l’Économie sociale et solidaire. Le seul mois de juillet a enregistré une . ', 'size': 2}], 'main_title': 'Artisanat : les exportations en hausse de 14% à fin juillet 2025'}, {'community_id': '4', 'articles': [{'id': '54', 'title': 'L’ONDA réforme l’accès aux métiers de l’aérien', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/L-ONDA-reforme-l-acces-aux-metiers-de-l-aerien_a70798.html', 'summary': 'L’ONDA réforme l’accès aux métiers de l’aérien. \u200bL’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA).', 'size': 5}, {'id': '67', 'title': "Aviation civile : l'ONDA simplifie l'accès aux métiers du ciel marocain", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/aviation-civile-londa-simplifie-lacces-aux-metiers-du-ciel-marocain_1946370/', 'summary': "Aviation civile : l'ONDA simplifie l'accès aux métiers du ciel marocain. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Electronique en sécurité de la circulation aérienne (ESCA). Désormais intégrées dans le Concours national commun (CNC), ces filières sont accessibles à tous les.", 'size': 5}, {'id': '82', 'title': 'L’ONDA facilite l’accès à deux filières stratégiques de l’aviation civile', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/londa-facilite-lacces-a-deux-filieres-strategiques-de-laviation-civile-308489/', 'summary': 'L’ONDA facilite l’accès à deux filières stratégiques de l’aviation civile. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA).Désormais intégrées dans le Concours national commun (CNC), ces filières', 'size': 5}, {'id': '114', 'title': 'Aviation civile : L’ONDA réforme l’accès aux métiers de l’aérien', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/carriere/aviation-civile-londa-reforme-lacces-aux-metiers-de-laerien/', 'summary': 'Aviation civile : L’ONDA réforme l’accès aux métiers de l’aérien. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA).', 'size': 5}, {'id': '224', 'title': 'Maroc : l’ONDA réforme l’accès aux métiers de l’aérien', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/londa-reforme-lacces-aux-metiers-de-laerien.html', 'summary': 'Maroc : l’ONDA réforme l’accès aux métiers de l’aérien. L’Office national des aéroports (ONDA) ouvre pour la première fois l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA). Désormais intégrées dans le Concours national commun (CNC), ces filières sont accessibles à tous . L’article est apparu en premier sur .', 'size': 5}], 'main_title': 'L’ONDA réforme l’accès aux métiers de l’aérien'}, {'community_id': '5', 'articles': [{'id': '70', 'title': 'Racisme : la Fondation Hassan II pour les MRE suit avec “inquiétude” les “funestes dérives” en Espagne', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/racisme-la-fondation-hassan-ii-pour-les-mre-suit-avec-inquietude-les-funestes-derives-en-espagne_1946329/', 'summary': 'Racisme : la Fondation Hassan II pour les MRE suit avec “inquiétude” les “funestes dérives” en Espagne. La Fondation Hassan II pour les Marocains résidant à l’étranger (MRE) a exprimé sa vive inquiétude face à une série d’incidents graves qui ont touché la communauté marocaine établie en Espagne en moins d’un mois. D’après le communiqué publié le 12 août depuis Rabat, ces incidents comprennent l’incendie d’une mosquée à Piera, une “chasse aux.', 'size': 2}, {'id': '137', 'title': 'Espagne : la Fondation Hassan II dénonce une vague d’actes hostiles contre la communauté marocaine', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/espagne-la-fondation-hassan-ii-denonce-une-vague-dactes-hostiles-contre-la-communaute-marocaine.html', 'summary': 'Espagne : la Fondation Hassan II dénonce une vague d’actes hostiles contre la communauté marocaine. En moins d’un mois, plusieurs incidents graves visant la communauté marocaine établie en Espagne ont été signalés : incendie d’une mosquée à Piera, « chasse aux Maures » à Torre-Pacheco, messages de haine sur les réseaux sociaux, suspension du programme d’enseignement de la langue arabe et de la culture d’origine par la communauté autonome de Madrid et certaines municipalités, ainsi que restrictions aux pratiques cultuelles musulmanes à Jumilla. ', 'size': 2}, {'id': '204', 'title': 'Marocains résidant à l’étranger : La Fondation Hassan II condamne les dérives xénophobes indignes des radicaux espagnols', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/marocains-residant-a-letranger-la-fondation-hassan-ii-condamne-les-derives-xenophobes-indignes-des-radicaux-espagnols', 'summary': 'Marocains résidant à l’étranger : La Fondation Hassan II condamne les dérives xénophobes indignes des radicaux espagnols. En moins d’un mois, la communauté marocaine établie en Espagne a été victime d’incidents graves : incendie d’une mosquée à Piera, «chasse aux Maures» à Torre-Pacheco, messages de haine sur les réseaux sociaux Extrémisme : Les agissements xénophobes de groupes radicaux sur la péninsule poussent la Fondation Hassan II pour les Marocains résidant à l’étranger .', 'size': 3}], 'main_title': 'Marocains résidant à l’étranger : La Fondation Hassan II condamne les dérives xénophobes indignes des radicaux espagnols'}, {'community_id': '7', 'articles': [{'id': '78', 'title': 'Incendie de Chefchaouen: 3 des 4 foyers majeurs maîtrisés, les équipes toujours en action', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/incendie-de-chefchaouen-3-des-4-foyers-majeurs-maitrises-les-equipes-toujours-en-action-308527/', 'summary': 'Incendie de Chefchaouen: 3 des 4 foyers majeurs maîtrisés, les équipes toujours en action. Les opérations d’intervention pour éteindre le gigantesque feu de forêt déclarés dans la commune de Derdara, dans la province de Chefchaouen, ont permis de maîtriser 3 des 4 foyers majeurs, au moment où les avions bombardiers d’eau continuent leurs rondes jusqu’à l’extinction totale de l’incendie, affirme l’Agence nationale des eaux', 'size': 2}, {'id': '191', 'title': 'Incendie à Chefchaouen : trois sur quatre principaux foyers maîtrisés', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/incendie-a-chefchaouen-trois-sur-quatre-principaux-foyers-maitrises_1946482/', 'summary': 'Incendie à Chefchaouen : trois sur quatre principaux foyers maîtrisés. Les opérations d’intervention pour éteindre l’incendie de forêt déclenché dans la commune de Derdara, relevant de la province de Chefchaouen, ont permis de maîtriser trois des quatre principaux foyers, tandis que les avions œuvrent pour l’extinction du dernier foyer, indique l’Agence nationale des eaux et forêts (ANEF). Dans un communiqué, l’ANEF précise que de très.', 'size': 2}], 'main_title': 'Incendie de Chefchaouen: 3 des 4 foyers majeurs maîtrisés, les équipes toujours en action'}, {'community_id': '8', 'articles': [{'id': '172', 'title': "Le temps qu'il fera ce jeudi 14 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437562-le-temps-quil-fera-ce-jeudi-14-aout-2025.html', 'summary': "Le temps qu'il fera ce jeudi 14 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le jeudi 14 août 2025: – Temps assez chaud à localement chaud sur les plaines intérieures, le Sud-Est et l’intérieur des provinces sahariennes. – Des nuages instables avec ondées éparses sur l’Atlas et ses régions voisines, l’extrême Sud-Est et le Nord-Est des . ", 'size': 2}, {'id': '195', 'title': 'Les prévisions du jeudi 14 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-jeudi-14-aout-2025-308531/', 'summary': 'Les prévisions du jeudi 14 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le jeudi 14 août 2025. -Temps assez chaud à localement chaud sur les plaines intérieures, le Sud-Est et l’intérieur des provinces sahariennes. -Des nuages instables avec ondées éparses sur l’Atlas et ses régions voisines, l’extrême Sud-Est et', 'size': 2}], 'main_title': "Le temps qu'il fera ce jeudi 14 août 2025"}, {'community_id': '9', 'articles': [{'id': '190', 'title': 'Bitcoin : nouveau record au-dessus de 124.000 dollars', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/bitcoin-nouveau-record-au-dessus-de-124-000-dollars_1946480/', 'summary': 'Bitcoin : nouveau record au-dessus de 124.000 dollars. Le bitcoin a franchi pour la première fois le seuil des 124.000 dollars jeudi matin lors des premiers échanges en Asie, porté par la hausse de Wall Street, l’intérêt accru des investisseurs institutionnels et un environnement législatif favorable aux États-Unis. La cryptomonnaie vedette a battu son précédent record du 14 juillet (123.205 dollars), grimpant brièvement.', 'size': 2}, {'id': '213', 'title': 'Bitcoin : Nouveau record au-dessus de 124.000 dollars', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/bitcoin-nouveau-record-au-dessus-de-124-000-dollars/', 'summary': 'Bitcoin : Nouveau record au-dessus de 124.000 dollars. La cryptomonnaie vedette a battu son précédent record du 14 juillet de 123.205 dollars, soutenue par la progression de Wall Street.', 'size': 2}], 'main_title': 'Bitcoin : nouveau record au-dessus de 124.000 dollars'}, {'community_id': '6', 'articles': [{'id': '214', 'title': 'La canicule pourrait coûter 0,3 point de PIB à la France', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/la-canicule-pourrait-couter-03-point-de-pib-a-la-france/', 'summary': 'La canicule pourrait coûter 0,3 point de PIB à la France. La canicule pourrait coûter 0,3 point de PIB à la France, soit près de 9 milliards d’euros, selon une nouvelle étude d’Allianz Trade, leader mondial de l’assurance-crédit. Dans cette étude préliminaire, l’assureur relève que les récentes vagues de chaleur qui ont frappé l’Europe centrale, l’Europe du Sud, les États-Unis et la Chine pourraient avoir des .', 'size': 2}, {'id': '219', 'title': 'La canicule pourrait coûter 0,3 point de PIB à la France (étude)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/la-canicule-pourrait-couter-03-point-de-pib-a-la-france-etude.html', 'summary': 'La canicule pourrait coûter 0,3 point de PIB à la France (étude). La canicule pourrait coûter 0,3 point de PIB à la France, soit près de 9 milliards d’euros, selon une nouvelle étude d’Allianz Trade, leader mondial de l’assurance-crédit. Dans cette étude préliminaire, l’assureur relève que les récentes vagues de chaleur qui ont frappé l’Europe centrale, l’Europe du Sud, les États-Unis et la Chine pourraient avoir des . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'La canicule pourrait coûter 0,3 point de PIB à la France'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
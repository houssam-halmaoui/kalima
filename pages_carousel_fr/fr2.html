<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 04/10/2025 - 18h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '5', 'title': 'Les températures attendues ce samedi 4 octobre 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443896-les-temperatures-attendues-ce-samedi-4-octobre-2025.html', 'summary': 'Les températures attendues ce samedi 4 octobre 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le samedi 4 octobre 2025 Min Max – Oujda 17 33 – Bouarfa 13 30 – Al Hoceima 16 26 – Tétouan 14 31 – Sebta 18 23 – Mellilia 16 24 – Tanger 17 27 – Kénitra 19 26 . ', 'size': 2}, {'id': '205', 'title': 'Températures prévues pour le dimanche 05 octobre 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-dimanche-05-octobre-2025/', 'summary': 'Températures prévues pour le dimanche 05 octobre 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le dimanche 05 octobre 2025 : Min Max – Oujda 15 30 – Bouarfa 15 30 – Al Hoceima 19 29 – Tétouan 20 32 – Sebta 20 24 – Mellilia 20 26 – Tanger 18 24 – Kénitra 17 .', 'size': 2}], 'main_title': 'Les températures attendues ce samedi 4 octobre 2025'}, {'community_id': '1', 'articles': [{'id': '6', 'title': "Le temps qu'il fera ce samedi 4 octobre 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443895-le-temps-quil-fera-ce-samedi-4-octobre-2025.html', 'summary': "Le temps qu'il fera ce samedi 4 octobre 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 4 octobre 2025 – Temps assez chaud sur le Sud-Est et l’extrême Sud des provinces sahariennes. – Formations brumeuses ou bruine sur la méditerranée, les plaines atlantiques Nord et Centre et le Nord-Ouest des provinces sahariennes. – Rafales de vent . ", 'size': 2}, {'id': '77', 'title': 'Les prévisions météorologiques du samedi 04 octobre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-meteorologiques-du-samedi-04-octobre-2025-310957/', 'summary': 'Les prévisions météorologiques du samedi 04 octobre 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 04 octobre 2025: – Temps assez chaud sur le Sud-Est et l’extrême Sud', 'size': 2}], 'main_title': "Le temps qu'il fera ce samedi 4 octobre 2025"}, {'community_id': '5', 'articles': [{'id': '7', 'title': '30ᵉ Festival du Cinéma Méditerranéen de Tétouan : Colloques, rencontres et ateliers à l’affiche', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443830-30%e1%b5%89-festival-du-cinema-mediterraneen-de-tetouan-colloques-rencontres-et-ateliers-a-laffiche.html', 'summary': '30ᵉ Festival du Cinéma Méditerranéen de Tétouan : Colloques, rencontres et ateliers à l’affiche. À l’occasion de sa 30ᵉ édition, le Festival de Cinéma Méditerranéen de Tétouan propose un cycle de colloques, rencontres et ateliers, au Centre Culturel de Tétouan (Dar Taqafa) et dans plusieurs lieux de la ville. Pensés pour creuser des questions de création, d’esthétique et de transmission, ces rendez-vous seront animés par des réalisateurs, critiques, universitaires . ', 'size': 2}, {'id': '24', 'title': 'Festival de cinéma méditerranéen de Tétouan : rencontres et ateliers de la 30ᵉ édition', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/festival-de-cinema-mediterraneen-de-tetouan-ateliers-de-la-30-edition/305503', 'summary': 'Festival de cinéma méditerranéen de Tétouan : rencontres et ateliers de la 30ᵉ édition. Selon un communiqué du Festival, ces rendez-vous visent à approfondir les réflexions sur la création, l’esthétique et la transmission autour des cinémas méditerranéens. Ils seront.', 'size': 2}], 'main_title': '30ᵉ Festival du Cinéma Méditerranéen de Tétouan : Colloques, rencontres et ateliers à l’affiche'}, {'community_id': '3', 'articles': [{'id': '11', 'title': 'FC Barcelone : Lamine Yamal absent pour deux à trois semaines', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/fc-barcelone-lamine-yamal-absent-pour-deux-a-trois-semaines/305594', 'summary': "FC Barcelone : Lamine Yamal absent pour deux à trois semaines. Les douleurs au pubis qui gênaient le joueur Lamine Yamal sont réapparues après le match contre le PSG, écrit le Barça dans un communiqué, ajoutant que l'ailier de.", 'size': 2}, {'id': '62', 'title': 'Espagne : Lamine Yamal forfait “pour deux à trois semaines”', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/03/espagne-lamine-yamal-forfait-pour-deux-a-trois-semaines_1954007/', 'summary': 'Espagne : Lamine Yamal forfait “pour deux à trois semaines”. Le prodige du FC Barcelone Lamine Yamal, de retour comme titulaire face au PSG mercredi (défaite 2-1) en Ligue des champions, souffre à nouveau de douleurs au pubis et sera indisponible « pour deux à trois semaines », a annoncé vendredi le club catalan. Les douleurs au pubis qui gênaient le joueur Lamine Yamal sont réapparues après.', 'size': 2}], 'main_title': 'FC Barcelone : Lamine Yamal absent pour deux à trois semaines'}, {'community_id': '4', 'articles': [{'id': '16', 'title': 'Ce que dit le CNDH sur le mouvement de protestation des jeunes', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/ce-que-dit-le-cndh-sur-le-mouvement-de-protestation-des-jeunes/305516', 'summary': 'Ce que dit le CNDH sur le mouvement de protestation des jeunes. Dans un contexte marqué par une montée des contestations sociales dans différentes régions du Maroc, la présidente du Conseil national des droits de l’Homme (CNDH), Amina Bouayach,.', 'size': 2}, {'id': '162', 'title': 'Le CNDH publie des conclusions et recommandations préliminaires au sujet des protestations que connaissent des villes du Maroc', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-cndh-publie-des-conclusions-et-recommandations-preliminaires-au-sujet-des-protestations-que-connaissent-des-villes-du-maroc.html', 'summary': 'Le CNDH publie des conclusions et recommandations préliminaires au sujet des protestations que connaissent des villes du Maroc. Rabat – La présidente du Conseil National des Droits de l’Homme (CNDH), Amina Bouayach, a tenu, mercredi, une réunion élargie avec les présidentes et présidents des Commissions régionales des droits de l’Homme et les directeurs et chargés de mission auprès de la présidence du Conseil pour débattre des moyens de renforcer les mécanismes d’observation, de suivi et d’intervention du CNDH, dans le sillage des développements relatifs aux protestations des jeunes que connaissent certaines villes du Maroc ces derniers jours. L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Ce que dit le CNDH sur le mouvement de protestation des jeunes'}, {'community_id': '6', 'articles': [{'id': '31', 'title': 'La Bourse de Casablanca lance un programme d’accompagnement pour les entreprises industrielles à fort potentiel', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/la-bourse-de-casablanca-lance-un-programme-pour-les-industrielles/305456', 'summary': 'La Bourse de Casablanca lance un programme d’accompagnement pour les entreprises industrielles à fort potentiel. Ce programme cible spécifiquement les entreprises industrielles marocaines à fort potentiel de croissance. Il vise à renforcer leurs capacités stratégiques et financières en vue de.', 'size': 2}, {'id': '185', 'title': '\u200bCasablanca – Industrie : lancement d’un programme stratégique pour accompagner la croissance des entreprises marocaines', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bCasablanca-Industrie-lancement-d-un-programme-strategique-pour-accompagner-la-croissance-des-entreprises-marocaines_a72477.html', 'summary': '\u200bCasablanca – Industrie : lancement d’un programme stratégique pour accompagner la croissance des entreprises marocaines. Le Ministère de l’Industrie et du Commerce, en partenariat avec la Bourse de Casablanca, a donné le coup d’envoi officiel d’un ambitieux programme de formation et d’accompagnement dédié aux entreprises industrielles marocaines, visant à renforcer leur compétitivité et à stimuler leur croissance durable.', 'size': 2}], 'main_title': 'La Bourse de Casablanca lance un programme d’accompagnement pour les entreprises industrielles à fort potentiel'}, {'community_id': '7', 'articles': [{'id': '32', 'title': 'Le Médiateur du Royaume lance les « Forums de la gouvernance des services publics »', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/le-mediateur-du-royaume-lance-forums-de-la-gouvernance-des-services-publics/305434', 'summary': 'Le Médiateur du Royaume lance les « Forums de la gouvernance des services publics ». S’appuyant sur son rôle constitutionnel en tant qu’institution nationale indépendante et spécialisée, le Médiateur du Royaume entend renforcer les principes de bonne gouvernance, p.', 'size': 2}, {'id': '119', 'title': 'Le Médiateur du Royaume lance le programme «\xa0Forums de la gouvernance des services publics\xa0»', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/le-mediateur-du-royaume-lance-le-programme-forums-de-la-gouvernance-des-services-publics/', 'summary': "Le Médiateur du Royaume lance le programme « Forums de la gouvernance des services publics ». Ce programme vise l'implication des jeunes, des acteurs de la société civile, des experts et des intervenants dans la gestion administrative dans l'élaboration des propositions du Médiateur relatives au renforcement de la gouvernance administrative et l'amélioration du service public.", 'size': 2}], 'main_title': 'Le Médiateur du Royaume lance les « Forums de la gouvernance des services publics »'}, {'community_id': '13', 'articles': [{'id': '34', 'title': "Chami signe les lettres amendant l'accord agricole Maroc-UE", 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/chami-signe-les-lettres-amendant-laccord-agricole-maroc-ue/305417', 'summary': "Chami signe les lettres amendant l'accord agricole Maroc-UE. L’accord, signé du côté marocain par l’ambassadeur de Sa Majesté le Roi auprès de l’UE, Ahmed Réda Chami, entre immédiatement en application provisoire, en attendant la finalisatio.", 'size': 2}, {'id': '69', 'title': "Signature à Bruxelles de l'échange de lettres amendant l'accord agricole entre le Maroc et l’UE", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/03/signature-a-bruxelles-de-lechange-de-lettres-amendant-laccord-agricole-entre-le-maroc-et-lue_1953924/', 'summary': "Signature à Bruxelles de l'échange de lettres amendant l'accord agricole entre le Maroc et l’UE. Le Maroc et l’Union européenne ont signé, vendredi au siège de la Commission européenne à Bruxelles, l’échange de lettres amendant l’accord agricole liant les deux parties, confirmant ainsi la solidité de leur partenariat fondé sur une coopération multidimensionnelle élargie. L’accord, signé du côté marocain par l’ambassadeur du roi auprès de l’UE, Ahmed Réda Chami, entre.", 'size': 4}, {'id': '82', 'title': 'Le Maroc et l’UE signent un accord agricole incluant les provinces du Sud', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-maroc-et-lue-signent-un-accord-agricole-incluant-les-provinces-du-sud-310941/', 'summary': 'Le Maroc et l’UE signent un accord agricole incluant les provinces du Sud. Le Maroc et l’Union européenne ont signé, vendredi à Bruxelles, l’échange de lettres amendant l’accord agricole liant les deux parties, confirmant ainsi la solidité de leur partenariat fondé', 'size': 3}, {'id': '170', 'title': 'Accord agricole élargi: l’UE confirme son partenariat avec le Maroc et ses provinces du Sud', 'source': 'lnt.ma', 'link': 'https://lnt.ma/accord-agricole-elargi-lue-confirme-son-partenariat-avec-le-maroc-et-ses-provinces-du-sud/', 'summary': 'Accord agricole élargi: l’UE confirme son partenariat avec le Maroc et ses provinces du Sud. Le Royaume du Maroc et l’Union Européenne ont signé, vendredi au siège de la Commission européenne à Bruxelles, l’échange de lettres amendant l’accord agricole liant les deux parties, confirmant ainsi la solidité de leur partenariat fondé sur une coopération multidimensionnelle élargie. L’accord, signé du côté marocain par l’ambassadeur de Sa Majesté le Roi auprès de . ', 'size': 3}], 'main_title': "Signature à Bruxelles de l'échange de lettres amendant l'accord agricole entre le Maroc et l’UE"}, {'community_id': '9', 'articles': [{'id': '37', 'title': '9e session de la Commission nationale des investissements: 12 projets approuvés pour plus de 45 MMDH', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/commission-des-investissements-12-projets-approuves-pour-plus-de-45-mmdh/305446', 'summary': '9e session de la Commission nationale des investissements: 12 projets approuvés pour plus de 45 MMDH. Cette commission, instituée par la nouvelle Charte de l’Investissement opérationnelle depuis mars 2023, s’inscrit dans le cadre des Hautes Orientations de Sa Majesté le Roi Mohamme.', 'size': 2}, {'id': '70', 'title': 'Commission nationale des investissements : 12 projets approuvés pour plus de 45 MMDH', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/03/commission-nationale-des-investissements-12-projets-approuves-pour-plus-de-45-mmdh_1953904/', 'summary': 'Commission nationale des investissements : 12 projets approuvés pour plus de 45 MMDH. La 9ème Commission nationale des investissements, réunie jeudi à Rabat sous la présidence du chef du gouvernement Aziz Akhannouch, a approuvé douze projets d’un montant total de plus de 45 milliards de dirhams (MMDH), qui vont créer plus de 12.500 emplois directs et indirects. Cette commission, instituée par la nouvelle Charte de l’Investissement opérationnelle depuis.', 'size': 2}], 'main_title': '9e session de la Commission nationale des investissements: 12 projets approuvés pour plus de 45 MMDH'}, {'community_id': '10', 'articles': [{'id': '56', 'title': 'Maroc-Allemagne : la BVMW inaugure son bureau à Rabat', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Maroc-Allemagne-la-BVMW-inaugure-son-bureau-a-Rabat_a72457.html', 'summary': 'Maroc-Allemagne : la BVMW inaugure son bureau à Rabat. \u200bL’Association fédérale allemande des petites et moyennes entreprises (Bundesverband mittelständische Wirtschaft – BVMW) a inauguré, vendredi à Rabat, son Bureau Maroc, en présence du ministre délégué chargé de l’Investissement, de la Convergence et de l’Évaluation des Politiques Publiques, Karim Zidane, et du directeur générale de la BVMW Berlin, Christoph Ahlhaus.', 'size': 3}, {'id': '63', 'title': "Entreprises : l'association fédérale allemande des PME inaugure son bureau au Maroc", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/03/entreprises-lassociation-federale-allemande-des-pme-inaugure-son-bureau-au-maroc_1953975/', 'summary': "Entreprises : l'association fédérale allemande des PME inaugure son bureau au Maroc. L’Association fédérale allemande des petites et moyennes entreprises (Bundesverband mittelständische Wirtschaft – BVMW) a inauguré, vendredi à Rabat, son Bureau Maroc, en présence du ministre délégué chargé de l’Investissement, de la Convergence et de l’évaluation des politiques publiques, Karim Zidane, et du directeur générale de la BVMW Berlin, Christoph Ahlhaus. Cette initiative marque une étape.", 'size': 3}, {'id': '78', 'title': 'La BVMW, association des PME allemandes, s’installe au Maroc', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/la-bvmw-association-des-pme-allemandes-sinstalle-au-maroc-310953/', 'summary': 'La BVMW, association des PME allemandes, s’installe au Maroc. La Bundesverband Mittelständische Wirtschaft (BVMW), l’association fédérale allemande des petites et moyennes entreprises (PME), a ouvert, vendred 3 octobre 2025, un Bureau à Rabat, afin de renforcer les', 'size': 3}], 'main_title': 'Maroc-Allemagne : la BVMW inaugure son bureau à Rabat'}, {'community_id': '2', 'articles': [{'id': '71', 'title': 'GenZ212 adresse un mémorandum au roi, demande la démission du gouvernement et une réforme politique globale', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/03/genz212-adresse-un-memorandum-au-roi-demande-la-demission-du-gouvernement-et-une-reforme-politique-globale_1953902/', 'summary': 'GenZ212 adresse un mémorandum au roi, demande la démission du gouvernement et une réforme politique globale. Dans une initiative inédite, le mouvement “GenZ212” a adressé au roi Mohammed VI un long mémorandum revendicatif, comportant un diagnostic de la situation sociale et politique du Maroc, et appelant à une intervention urgente pour rétablir la confiance entre citoyens et institutions. Le document, signé par des jeunes se présentant comme des “porteurs d’un message.', 'size': 2}, {'id': '172', 'title': 'La Gen Z adresse un document de revendications à SM le Roi', 'source': 'lnt.ma', 'link': 'https://lnt.ma/la-gen-z-adresse-un-document-de-revendications-a-sm-le-roi/', 'summary': 'La Gen Z adresse un document de revendications à SM le Roi. Un document inédit a été rendu public par des jeunes se réclamant de la « Génération Z » au Maroc. Intitulé « Document populaire », ce texte s’adresse directement au Roi Mohammed VI et formule une série de revendications sociales, politiques et institutionnelles. Les auteurs expliquent avoir perdu confiance dans les institutions existantes (gouvernement, parlement . ', 'size': 2}], 'main_title': 'GenZ212 adresse un mémorandum au roi, demande la démission du gouvernement et une réforme politique globale'}, {'community_id': '8', 'articles': [{'id': '88', 'title': 'Crédit bancaire : un encours de 1.161 milliards DH à fin août', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/credit-bancaire-un-encours-de-1-161-milliards-dh-a-fin-aout', 'summary': 'Crédit bancaire : un encours de 1.161 milliards DH à fin août. L’encours du crédit bancaire s’est établi à 1.161 milliards de dirhams (MMDH) à fin août 2025, en progression de 5,3% par rapport à la même période de l’année précédente, selon Bank Al-Maghrib (BAM). Cette évolution couvre une hausse, en glissement annuel, des crédits aux agents non financiers (+3,4%) et aux agents financiers (+15,9%), précise BAM .', 'size': 2}, {'id': '125', 'title': 'Crédits-Dépôts bancaires : le tableau de bord de BAM en 5 points clés', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/credits-depots-bancaires-le-tableau-de-bord-de-bam-en-5-points-cles-2/', 'summary': 'Crédits-Dépôts bancaires : le tableau de bord de BAM en 5 points clés. Voici cinq points clés du tableau de bord « Crédits-Dépôts bancaires » de Bank Al-Maghrib (BAM) au titre du mois d’août 2025 : 1- L’encours du crédit bancaire s’est établi à 1.161 milliards de dirhams (MMDH) à fin août, en hausse annuelle de 5,3%. 2- Les concours aux agents non financiers ont progressé de 3,4%, tandis que .', 'size': 2}], 'main_title': 'Crédit bancaire : un encours de 1.161 milliards DH à fin août'}, {'community_id': '12', 'articles': [{'id': '128', 'title': 'Palestine: Organisation d’élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/palestine-organisation-delections-presidentielles-et-parlementaires-generales-dans-lannee/', 'summary': 'Palestine: Organisation d’élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre. Le président palestinien Mahmoud Abbas a réaffirmé, vendredi, son engagement à organiser des élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre. Dans un communiqué publié vendredi, la présidence palestinienne a indiqué que le président Mahmoud Abbas a réaffirmé son engagement à organiser des élections présidentielles et parlementaires générales dans l’année .', 'size': 2}, {'id': '154', 'title': 'Abbas pour l’organisation d’élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/abbas-pour-lorganisation-delections-presidentielles-et-parlementaires-generales-dans-lannee-suivant-la-fin-de-la-guerre.html', 'summary': 'Abbas pour l’organisation d’élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre. Le président palestinien Mahmoud Abbas a réaffirmé, vendredi, son engagement à organiser des élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre. Dans un communiqué publié vendredi, la présidence palestinienne a indiqué que le président Mahmoud Abbas a réaffirmé son engagement à organiser des élections présidentielles et parlementaires générales dans l’année . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Palestine: Organisation d’élections présidentielles et parlementaires générales dans l’année suivant la fin de la guerre'}, {'community_id': '11', 'articles': [{'id': '129', 'title': 'Accord agricole Maroc-UE : le Sahara marocain confirmé comme pôle économique stratégique', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/accord-agricole-maroc-ue-le-sahara-marocain-confirme-comme-pole-economique-strategique/', 'summary': 'Accord agricole Maroc-UE : le Sahara marocain confirmé comme pôle économique stratégique. La signature de l’accord agricole amendé entre le Maroc et l’Union européenne (UE) consacre le Sahara marocain comme un véritable moteur de développement économique, porteur d’opportunités d’investissement et de croissance. Cette avancée s’inscrit dans la vision éclairée de Sa Majesté le Roi Mohammed VI, qui fait des provinces du Sud un levier stratégique d’intégration régionale .', 'size': 2}, {'id': '175', 'title': "Accord agricole Maroc-UE amendé: Le Sahara marocain s'affirme comme un pôle économique prometteur", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443939-accord-agricole-maroc-ue-amende-le-sahara-marocain-saffirme-comme-un-pole-economique-prometteur.html', 'summary': "Accord agricole Maroc-UE amendé: Le Sahara marocain s'affirme comme un pôle économique prometteur. Après la signature de l’accord agricole amendé entre le Maroc et l’Union européenne (UE), le Sahara marocain s’affirme comme un pôle économique prometteur dans plusieurs domaines, grâce à la vision éclairée de Sa Majesté le Roi Mohammed VI, a souligné, vendredi, un investisseur dans le secteur agricole dans la région Dakhla-Oued Eddahab, Mohamed Fadel Houiba. . ", 'size': 2}], 'main_title': 'Accord agricole Maroc-UE : le Sahara marocain confirmé comme pôle économique stratégique'}, {'community_id': '14', 'articles': [{'id': '174', 'title': 'Marrakech : La justice dément toute mort lors des événements de Sidi Youssef Ben Ali', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443951-marrakech-la-justice-dement-toute-mort-lors-des-evenements-de-sidi-youssef-ben-ali.html', 'summary': 'Marrakech : La justice dément toute mort lors des événements de Sidi Youssef Ben Ali. Le parquet de la Cour d’appel de Marrakech a formellement démenti, ce jeudi, les informations faisant état du décès d’un citoyen lors des récentes manifestations dans le quartier de Sidi Youssef Ben Ali. Cette annonce fait suite à la diffusion d’un communiqué par la section locale de l’Association Marocaine des Droits de l’Homme (AMDH), relayé . ', 'size': 2}, {'id': '200', 'title': 'Décès d’un citoyen à Marrakech : le Parquet clarifie les faits et écarte tout lien avec les manifestations', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/deces-dun-citoyen-a-marrakech-le-parquet-clarifie-les-faits-et-ecarte-tout-lien-avec-les-manifestations/', 'summary': 'Décès d’un citoyen à Marrakech : le Parquet clarifie les faits et écarte tout lien avec les manifestations. À la suite d’informations relayées sur les réseaux sociaux faisant état du décès d’un citoyen lors des incidents survenus à Sidi Youssef Ben Ali, le Parquet général près la Cour d’appel de Marrakech a démenti catégoriquement cette rumeur. Aucun décès n’a été enregistré, précisant que la personne évoquée est décédée d’un malaise sans lien avec .', 'size': 2}], 'main_title': 'Marrakech : La justice dément toute mort lors des événements de Sidi Youssef Ben Ali'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
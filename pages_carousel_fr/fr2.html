<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 06/08/2025 - 12h31</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '18', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce mercredi 6 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436190-le-temps-quil-fera-ce-mercredi-6-aout-2025.html', 'summary': "Le temps qu'il fera ce mercredi 6 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le mercredi 6 août 2025 – Temps chaud sur les plaines intérieures, le Sud du Rif, le Sud-Est et l’intérieur des provinces Sud. – Ondées ou averses orageuses avec rafales de vent et risque de grêle sur les plateaux de Phosphates, et . ", 'size': 2}, {'id': '94', 'title': 'Les prévisions météorologiques du mardi 5 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-meteorologiques-du-mardi-5-aout-2025-308081/', 'summary': 'Les prévisions météorologiques du mardi 5 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le mardi 5 août 2025 : – Temps chaud sur les plaines de Tadla, Rehamna, le Saiss, Oulmès, le Sud-Est, l’Oriental et l’intérieur des provinces du Sud. – Ondées ou averses orageuses avec rafales de vent sur', 'size': 2}], 'main_title': "Le temps qu'il fera ce mercredi 6 août 2025"}, {'community_id': '14', 'articles': [{'id': '1', 'title': 'Marhaba : le ministère de l’Aménagement du Territoire mobilisé pour les MRE', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436667-marhaba-le-ministere-de-lamenagement-du-territoire-mobilise-pour-les-mre.html', 'summary': 'Marhaba : le ministère de l’Aménagement du Territoire mobilisé pour les MRE. Dans le cadre de l’opération Marhaba 2025 et conformément aux hautes instructions du Roi Mohammed VI, le ministère de l’Aménagement du Territoire National, de l’Urbanisme, de l’Habitat et de la Politique de la Ville a lancé une vaste campagne d’accompagnement dédiée aux Marocains résidant à l’étranger (MRE), avec pour objectif de renforcer les liens avec . ', 'size': 2}, {'id': '178', 'title': 'Marhaba 2025 | Le Ministère de l’Habitat lance une campagne dédiée aux “MRE”', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/marhaba-2025-le-ministere-de-lhabitat-lance-une-campagne-dediee-aux-mre/', 'summary': 'Marhaba 2025 | Le Ministère de l’Habitat lance une campagne dédiée aux “MRE”. Le ministère de l’Aménagement du territoire national, de l’Urbanisme, de l’Habitat et de la Politique de la ville organise une campagne au profit des Marocains résidant à l’étranger (MRE), sous le thème “Urbanisme et Habitat au service des Marocains du Monde”, dans le cadre de l’accompagnement de l’Opération “Marhaba 2025”. Dans ce cadre, une caravane ', 'size': 2}], 'main_title': 'Marhaba : le ministère de l’Aménagement du Territoire mobilisé pour les MRE'}, {'community_id': '8', 'articles': [{'id': '5', 'title': 'Régimes de retraite : 66,8 MMDH de cotisations collectées en 2024', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436623-regimes-de-retraite-668-mmdh-de-cotisations-collectees-en-2024.html', 'summary': 'Régimes de retraite : 66,8 MMDH de cotisations collectées en 2024. Le 12ème rapport annuel sur la stabilité financière fait ressortir que les régimes de retraite marocains ont collecté 66,8 milliards de dirhams (MMDH) en cotisations au titre de l’année 2024, soit une hausse de 8,9% par rapport à 2023. Les prestations servies ont progressé de 5,8% pour atteindre 71,1 MMDH et les réserves constituées par . ', 'size': 2}, {'id': '98', 'title': 'Régimes de retraite : 66,8 milliards DH de cotisations collectées en 2024', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/regimes-de-retraite-668-milliards-dh-de-cotisations-collectees-en-2024', 'summary': 'Régimes de retraite : 66,8 milliards DH de cotisations collectées en 2024. Les régimes de retraite marocains ont collecté 66,8 milliards de dirhams (MMDH) en cotisations au titre de l’année 2024, soit une hausse de 8,9% par rapport à 2023, selon le 12ème rapport annuel sur la stabilité financière. Les prestations servies ont progressé de 5,8% pour atteindre 71,1 MMDH et les réserves constituées par ces régimes .', 'size': 2}], 'main_title': 'Régimes de retraite : 66,8 MMDH de cotisations collectées en 2024'}, {'community_id': '9', 'articles': [{'id': '20', 'title': 'Ouezzane : 610 km de pistes rurales aménagées dans le cadre de la stratégie "Génération Green"', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/ouezzane-610-km-de-pistes-rurales-amenagees/295086', 'summary': 'Ouezzane : 610 km de pistes rurales aménagées dans le cadre de la stratégie "Génération Green". Selon un bilan de la Direction provinciale de l’Agriculture à Ouezzane, le coût total de la réalisation de ces pistes rurales, construites entre 2020 et la fin de l’année 2024, s’é.', 'size': 2}, {'id': '115', 'title': 'Génération Green: 600 MDH pour 610 km de pistes rurales dans la province de Ouezzane', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/generation-green-600-mdh-pour-610-km-de-pistes-rurales-dans-la-province-de-ouezzane/', 'summary': 'Génération Green: 600 MDH pour 610 km de pistes rurales dans la province de Ouezzane. Dans le cadre de la stratégie "Génération Green", le ministère de l’Agriculture a réalisé 610 km de pistes rurales dans la province de Ouezzane, bénéficiant à 55.000 habitants majoritairement ruraux. De nouveaux projets, prévus jusqu’en 2026, visent à renforcer l’accès aux infrastructures, favoriser le développement agricole et lutter contre l’exode rural.', 'size': 2}], 'main_title': 'Ouezzane : 610 km de pistes rurales aménagées dans le cadre de la stratégie "Génération Green"'}, {'community_id': '0', 'articles': [{'id': '42', 'title': 'Quatre Marocains libérés des mains de Daech grâce à une coopération entre la DGED et le Mali', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/liberation-de-4-chauffeurs-marocains-enleves-par-daech-au-burkina-faso/294961', 'summary': 'Quatre Marocains libérés des mains de Daech grâce à une coopération entre la DGED et le Mali. Le gouvernement malien a annoncé, lundi 4 août 2025, la libération de quatre chauffeurs routiers marocains enlevés le 18 janvier dernier dans le nord-est du Burkina Faso, à proximi.', 'size': 2}, {'id': '81', 'title': 'Mali : libération de quatre Marocains enlevés au Sahel en janvier', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/mali-liberation-de-quatre-marocains-enleves-au-sahel-en-janvier_1945246/', 'summary': 'Mali : libération de quatre Marocains enlevés au Sahel en janvier. Quatre chauffeurs routiers marocains enlevés au Sahel par le groupe Etat islamique le 18 janvier « ont été libérés sains et saufs » dimanche soir, a annoncé le gouvernement malien dans un communiqué lu à la télévision nationale lundi. Les quatre hommes, « enlevés au nord-est du Burkina Faso, près de la frontière avec le Niger », sont apparus.', 'size': 3}, {'id': '187', 'title': 'Bamako : Libération de quatre chauffeurs routiers marocains enlevés en janvier 2025', 'source': 'lnt.ma', 'link': 'https://lnt.ma/bamako-liberation-de-quatre-chauffeurs-routiers-marocains-enleves-en-janvier-2025/', 'summary': 'Bamako : Libération de quatre chauffeurs routiers marocains enlevés en janvier 2025. Le gouvernement malien a annoncé, lundi, la libération de quatre chauffeurs routiers marocains enlevés en janvier dernier au nord-est du Burkina Faso, près de la frontière nigérienne. Selon un communiqué officiel diffusé par la télévision nationale du Mali, les chauffeurs, enlevés le 18 janvier 2025, ont été retrouvés sains et saufs dans la soirée du . ', 'size': 2}], 'main_title': 'Mali : libération de quatre Marocains enlevés au Sahel en janvier'}, {'community_id': '1', 'articles': [{'id': '43', 'title': "Marrakech : suspension d'un Caïd pour son implication présumée dans un délit de corruption (Ministère)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/marrakech-un-caid-suspendu-pour-soupcon-de-corruption/294960', 'summary': "Marrakech : suspension d'un Caïd pour son implication présumée dans un délit de corruption (Ministère). Dans un communiqué, le ministère explique que cette décision, qui procède de son attachement à la déontologie de la fonction publique et s'inscrit dans le cadre du suivi quotid.", 'size': 2}, {'id': '83', 'title': 'Marrakech : un caïd suspendu pour corruption', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/marrakech-un-caid-suspendu-pour-corruption_1945230/', 'summary': 'Marrakech : un caïd suspendu pour corruption. Le ministère de l’Intérieur a annoncé avoir procédé à la suspension d’un caïd au niveau de la préfecture de Marrakech pour son implication présumée dans un délit de corruption. Dans un communiqué, le ministère explique que cette décision, qui procède de son attachement à la déontologie de la fonction publique et s’inscrit dans le cadre.', 'size': 3}, {'id': '188', 'title': 'Marrakech : Un responsable administratif suspendu pour une affaire présumée de corruption', 'source': 'lnt.ma', 'link': 'https://lnt.ma/marrakech-un-responsable-administratif-suspendu-pour-une-affaire-presumee-de-corruption/', 'summary': 'Marrakech : Un responsable administratif suspendu pour une affaire présumée de corruption. Le ministère de l’Intérieur a annoncé la suspension d’un Caïd relevant de la Préfecture de Marrakech, en lien avec une affaire présumée de corruption actuellement sous investigation judiciaire. Dans un communiqué publié lundi, le ministère précise que cette décision s’inscrit dans le cadre du suivi régulier de l’activité des agents d’autorité, et reflète l’attachement de . ', 'size': 2}], 'main_title': 'Marrakech : un caïd suspendu pour corruption'}, {'community_id': '6', 'articles': [{'id': '53', 'title': 'En Algérie, Massad Boulos réitére le soutien de l’administration Trump à la marocanité du Sahara', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/En-Algerie-Massad-Boulos-reitere-le-soutien-de-l-administration-Trump-a-la-marocanite-du-Sahara_a70570.html', 'summary': "En Algérie, Massad Boulos réitére le soutien de l’administration Trump à la marocanité du Sahara. En réponse aux questions d’un média algérien sur le dossier du Sahara, le conseiller spécial du président Donald Trump pour l'Afrique, Massad Boulos, a réitéré dans les termes les plus clairs l’appui de la diplomatie américaine au plan d’autonomie comme seule base de toute potentielle négociation.", 'size': 2}, {'id': '73', 'title': "À Alger, le conseiller de Trump réaffirme le soutien américain à l'initiative marocaine d'autonomie du Sahara", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/a-alger-le-conseiller-de-trump-reaffirme-le-soutien-americain-a-linitiative-marocaine-dautonomie-du-sahara_1945295/', 'summary': "À Alger, le conseiller de Trump réaffirme le soutien américain à l'initiative marocaine d'autonomie du Sahara. Dans un entretien accordé au journal algérien El Watan publié le 4 août, le haut conseiller de Donald Trump, Massad Boulos, en visite en Algérie le 27 juillet, a clairement réitéré la position américaine en faveur du plan marocain d’autonomie pour le Sahara. Boulos a déclaré que les États-Unis considèrent ce plan comme “unique base.", 'size': 2}], 'main_title': 'En Algérie, Massad Boulos réitére le soutien de l’administration Trump à la marocanité du Sahara'}, {'community_id': '16', 'articles': [{'id': '62', 'title': 'Météo: vague de chaleur et averses orageuses à partir d’aujourd’hui, jusqu’à 47° dans certaines provinces', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Meteo-vague-de-chaleur-et-averses-orageuses-a-partir-d-aujourd-hui-jusqu-a-47-dans-certaines-provinces_a70568.html', 'summary': 'Météo: vague de chaleur et averses orageuses à partir d’aujourd’hui, jusqu’à 47° dans certaines provinces. Une vague de chaleur et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues du mardi au vendredi dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte de niveau orange.', 'size': 4}, {'id': '78', 'title': "Jusqu'à 47°C cette semaine dans plusieurs provinces du Royaume", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/jusqua-47c-cette-semaine-dans-plusieurs-provinces-du-royaume_1945266/', 'summary': "Jusqu'à 47°C cette semaine dans plusieurs provinces du Royaume. Une vague de chaleur et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues du mardi 5 août au vendredi 8 août dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte de niveau orange. Ainsi, des températures comprises entre 40.", 'size': 4}, {'id': '126', 'title': 'Alerte météo : Le mercure affiche 47°C', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/scans/alerte-meteo-le-mercure-affiche-47c/', 'summary': 'Alerte météo : Le mercure affiche 47°C. Une vague de chaleur et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues du mardi au vendredi dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte de niveau orange.', 'size': 4}, {'id': '184', 'title': 'Météo : Vague de chaleur et averses orageuses', 'source': 'lnt.ma', 'link': 'https://lnt.ma/meteo-vague-de-chaleur-et-averses-orageuses/', 'summary': 'Météo : Vague de chaleur et averses orageuses. Une vague de chaleur et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues du mardi au vendredi dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte de niveau orange. Ainsi, des températures comprises entre 40 et 44°C sont prévues, . ', 'size': 4}], 'main_title': 'Météo: vague de chaleur et averses orageuses à partir d’aujourd’hui, jusqu’à 47° dans certaines provinces'}, {'community_id': '3', 'articles': [{'id': '67', 'title': 'CCM : près 26 millions de dirhams pour booster 40 festivals de cinéma au Maroc', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/ccm-pres-26-millions-de-dirhams-pour-booster-40-festivals-de-cinema-au-maroc_1945363/', 'summary': 'CCM : près 26 millions de dirhams pour booster 40 festivals de cinéma au Maroc. Le Centre cinématographique marocain (CCM) a annoncé l’octroi d’un soutien financier de 25,84 millions de dirhams à 40 festivals et manifestations cinématographiques à travers le pays, à l’issue de la deuxième session 2025 de sa Commission dédiée. Réunie du 22 au 25 juillet 2025 au siège du Centre cinématographique marocain à Rabat, sous la présidence.', 'size': 2}, {'id': '208', 'title': 'Le CCM accorde près de 26 millions de dirhams à 40 festivals en 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/le-ccm-soutient-40-festivals-de-cinema-avec-presque-26-millions-de-dirhams/295099', 'summary': 'Le CCM accorde près de 26 millions de dirhams à 40 festivals en 2025. Réunis du 22 au 25 juillet au siège du Centre cinématographique marocain (CCM), les membres de la commission chargée du soutien aux festivals ont étudié 49 dossiers de candidature..', 'size': 2}], 'main_title': 'CCM : près 26 millions de dirhams pour booster 40 festivals de cinéma au Maroc'}, {'community_id': '12', 'articles': [{'id': '71', 'title': "Israël réautorise l'entrée partielle des marchandises privées dans Gaza", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/israel-reautorise-lentree-partielle-des-marchandises-privees-dans-gaza_1945302/', 'summary': "Israël réautorise l'entrée partielle des marchandises privées dans Gaza. Israël a réautorisé l’entrée partielle des marchandises privées dans la bande de Gaza assiégée et menacée de famine, a annoncé mardi le Cogat, un organisme du ministère de la Défense en charge de l’administration civile de ce territoire palestinien. Un mécanisme a été approuvé pour reprendre progressivement et de manière contrôlée l’entrée de marchandises via.", 'size': 2}, {'id': '173', 'title': 'Israël a réautorisé l’entrée partielle des marchandises privées dans la bande de Gaza affamée', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/israel-a-reautorise-lentree-partielle-des-marchandises-privees-dans-la-bande-de-gaza-affamee.html', 'summary': 'Israël a réautorisé l’entrée partielle des marchandises privées dans la bande de Gaza affamée. Israël a réautorisé l’entrée partielle des marchandises privées dans la bande de Gaza assiégée et en proie à la famine, a annoncé mardi 5 août le Cogat, un organisme du ministère de la Défense en charge de l’administration civile de ce territoire palestinien. La famine se propage dans l’enclave palestinienne, ravagée par vingt-et-un mois de guerre . L’article est apparu en premier sur .', 'size': 2}], 'main_title': "Israël réautorise l'entrée partielle des marchandises privées dans Gaza"}, {'community_id': '17', 'articles': [{'id': '75', 'title': 'Acwa Power développera les centrales solaires Noor 2 et 3 à Midelt', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/05/acwa-power-developpera-les-centrales-solaires-noor-2-et-3-a-midelt_1945250/', 'summary': 'Acwa Power développera les centrales solaires Noor 2 et 3 à Midelt. L’entreprise saoudienne Acwa Power a remporté un appel d’offres international pour le développement des deux centrales photovoltaïques, Noor Midelt 2 et Noor Midelt 3, d’une capacité combinée de 800 mégawatts. Dans un communiqué publié ce lundi, Acwa Power a annoncé avoir été retenue à l’issue de cette procédure lancée par l’Agence marocaine pour l’énergie durable.', 'size': 2}, {'id': '93', 'title': 'ACWA Power décroche deux contrats majeurs d’énergie solaire au Maroc', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/acwa-power-decroche-deux-contrats-majeurs-denergie-solaire-au-maroc-308086/', 'summary': 'ACWA Power décroche deux contrats majeurs d’énergie solaire au Maroc. La société saoudienne ACWA Power, acteur mondial de la transition énergétique et du dessalement de l’eau de mer, a été retenue pour le développement des projets NOOR Midelt 2 et 3, à la suite d’un appel d’offres international lancé par l’Agence marocaine pour l’énergie durable (MASEN). En partenariat avec « des', 'size': 2}], 'main_title': 'Acwa Power développera les centrales solaires Noor 2 et 3 à Midelt'}, {'community_id': '15', 'articles': [{'id': '89', 'title': 'Maroc: les ventes de ciment enregistrent une hausse significative à fin juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/maroc-les-ventes-de-ciment-enregistrent-une-hausse-significative-a-fin-juillet-308106/', 'summary': 'Maroc: les ventes de ciment enregistrent une hausse significative à fin juillet. Les livraisons de ciment se sont élevées à plus de 8,28 millions de tonnes (Mt) à fin juillet 2025, en hausse de 11,03% par rapport à la même période de 2024, selon le ministère de l’Aménagement du territoire national, de l’Urbanisme, de l’Habitat et de la Politique de la ville.', 'size': 2}, {'id': '268', 'title': 'BTP : les livraisons de ciment en hausse de 11% à fin juillet', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/btp-les-livraisons-de-ciment-en-hausse-de-11-a-fin-juillet.html', 'summary': 'BTP : les livraisons de ciment en hausse de 11% à fin juillet. Les livraisons de ciment ont dépassé 8,28 millions de tonnes à fin juillet, enregistrant une progression de 11,03% par rapport à la même période de l’année précédente, selon les données du ministère de l’Aménagement du territoire national, de l’Urbanisme, de l’Habitat et de la Politique de la Ville. ', 'size': 2}], 'main_title': 'Maroc: les ventes de ciment enregistrent une hausse significative à fin juillet'}, {'community_id': '11', 'articles': [{'id': '92', 'title': 'Schneider Electric nomme un nouveau DG pour le Maroc et la Mauritanie', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/schneider-electric-nomme-un-nouveau-dg-pour-le-maroc-et-la-mauritanie-308091/', 'summary': 'Schneider Electric nomme un nouveau DG pour le Maroc et la Mauritanie. Schneider Electric, leader de la transformation numérique de la gestion de l’énergie et des automatismes, annonce la nomination de Nader Al Zouabi en tant que directeur général pour le Maroc et la Mauritanie. Dans ses nouvelles fonctions, M. Al Zouabi aura la responsabilité de déployer les solutions du groupe qui', 'size': 2}, {'id': '170', 'title': 'Schneider Electric : Nader Al Zouabi, nouveau DG', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/schneider-electric-nader-al-zouabi-nouveau-dg.html', 'summary': 'Schneider Electric : Nader Al Zouabi, nouveau DG. Schneider Electric a nommé Nader Al Zouabi en tant que directeur général pour le Maroc et la Mauritanie. ', 'size': 2}], 'main_title': 'Schneider Electric nomme un nouveau DG pour le Maroc et la Mauritanie'}, {'community_id': '2', 'articles': [{'id': '113', 'title': 'Le Maroc vice-président de la 3è Conférence onusienne sur les pays en développement sans littoral', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/le-maroc-vice-president-de-la-3e-conference-onusienne-sur-les-pays-en-developpement-sans-littoral/', 'summary': 'Le Maroc vice-président de la 3è Conférence onusienne sur les pays en développement sans littoral. L’annonce de la vice-présidence du Royaume, en la personne de Omar Hilale, a été faite lors d’une session plénière des délégations participantes à cette conférence (05-08 août), à laquelle le Maroc sera parmi les pays représentant le continent africain.', 'size': 2}, {'id': '206', 'title': 'Le Maroc élu vice-président de la 3e Conférence des Nations Unies sur les pays en développement sans littoral', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/le-maroc-vice-president-de-la-conference-des-nations-unies-sur-les-lldcs/295147', 'summary': 'Le Maroc élu vice-président de la 3e Conférence des Nations Unies sur les pays en développement sans littoral. L’annonce a été faite lors d’une session plénière des délégations participantes à cette conférence (05-08 août), à laquelle le Maroc sera parmi les pays représentant le continent a.', 'size': 2}], 'main_title': 'Le Maroc vice-président de la 3è Conférence onusienne sur les pays en développement sans littoral'}, {'community_id': '13', 'articles': [{'id': '119', 'title': 'Régimes de retraite de base : Les déséquilibres structurels subsistent en 2024', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/regimes-de-retraite-de-base-les-desequilibres-structurels-subsistent-en-2024/', 'summary': 'Régimes de retraite de base : Les déséquilibres structurels subsistent en 2024. Malgré l’amélioration temporaire de certains indicateurs financiers à la suite de l’application de la première tranche des augmentations salariales issues du dialogue social du 29 avril 2024, les régimes de retraite de base continuent d’enregistrer des déséquilibres structurels.', 'size': 2}, {'id': '176', 'title': 'Les régimes de retraite de base face à des déséquilibres structurels (Rapport)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/les-regimes-de-retraite-de-base-face-a-des-desequilibres-structurels-rapport/', 'summary': 'Les régimes de retraite de base face à des déséquilibres structurels (Rapport). Les régimes de retraite de base continuent d’enregistrer des déséquilibres structurels en 2024, ressort-il du rapport annuel sur la stabilité financière. “Malgré l’amélioration temporaire de certains indicateurs financiers à la suite de l’application de la première tranche des augmentations salariales issues du dialogue social du 29 avril 2024, les régimes de retraite de base continuent ', 'size': 2}], 'main_title': 'Régimes de retraite de base : Les déséquilibres structurels subsistent en 2024'}, {'community_id': '10', 'articles': [{'id': '160', 'title': 'Nouvelle distinction internationale pour Chaabi International Bank Offshore', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/nouvelle-distinction-internationale-pour-chaabi-international-bank-offshore.html', 'summary': 'Nouvelle distinction internationale pour Chaabi International Bank Offshore. Chaabi International Bank Offshore (CIBO), banque offshore du Groupe BCP, a été distinguée par Citi Bank, qui lui a décerné le Straight Through Processing (STP) Excellence Award 2024. ', 'size': 2}, {'id': '181', 'title': 'Chaabi International Bank Offshore reçoit une distinction internationale pour la qualité de ses paiements transfrontaliers', 'source': 'lnt.ma', 'link': 'https://lnt.ma/chaabi-international-bank-offshore-recoit-une-distinction-internationale-pour-la-qualite-de-ses-paiements-transfrontaliers/', 'summary': 'Chaabi International Bank Offshore reçoit une distinction internationale pour la qualité de ses paiements transfrontaliers. La Chaabi International Bank Offshore (CIBO), filiale du Groupe Banque Centrale Populaire (BCP) spécialisée dans les opérations bancaires offshores, a été récompensée par Citi Bank pour l’excellence de son traitement des paiements internationaux. La banque s’est vu décerner le prix Straight Through Processing (STP) Excellence Award 2024, une distinction qui souligne sa capacité à assurer . ', 'size': 2}], 'main_title': 'Nouvelle distinction internationale pour Chaabi International Bank Offshore'}, {'community_id': '5', 'articles': [{'id': '182', 'title': 'Le bien-être équin au coeur des réflexion du Salon du Cheval d’El Jadida 2025', 'source': 'lnt.ma', 'link': 'https://lnt.ma/le-bien-etre-equin-au-coeur-des-reflexion-du-salon-du-cheval-del-jadida-2025/', 'summary': 'Le bien-être équin au coeur des réflexion du Salon du Cheval d’El Jadida 2025. Dans le cadre de sa 16ᵉ édition, qui se tiendra du 30 septembre au 5 octobre 2025, le Salon du Cheval d’El Jadida organise un cycle de conférences consacré au thème « Le bien-être du cheval, trait d’union entre les pratiques équestres ». L’événement réunira, le vendredi 3 octobre, chercheurs, experts, historiens et praticiens autour . ', 'size': 2}, {'id': '239', 'title': 'Salon du cheval d’El Jadida 2025: Un cycle de conférences dédié au bien-être du cheval et au patrimoine équestre', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/salon-du-cheval-del-jadida-2025-un-cycle-de-conferences-dedie-au-bien-etre-du-cheval-et-au-patrimoine-equestre', 'summary': 'Salon du cheval d’El Jadida 2025: Un cycle de conférences dédié au bien-être du cheval et au patrimoine équestre. Fidèle à sa vocation de plateforme de réflexion et de transmission, le Salon du cheval d’El Jadida consacre, lors de sa 16ème édition, qui se tiendra du 30 septembre au 5 octobre 2025, un cycle de conférences réunissant chercheurs, experts, historiens et acteurs de terrain autour d’un sujet central : «Le bien-être du cheval, trait .', 'size': 2}], 'main_title': 'Le bien-être équin au coeur des réflexion du Salon du Cheval d’El Jadida 2025'}, {'community_id': '7', 'articles': [{'id': '199', 'title': 'Les températures attendues ce mercredi 6 août 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436199-les-temperatures-attendues-ce-mercredi-6-aout-2025.html', 'summary': 'Les températures attendues ce mercredi 6 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le mercredi 6 août 2025 Min Max – Oujda 23 40 – Bouarfa 23 36 – Al Hoceima 21 28 – Tétouan 21 29 – Sebta 21 25 – Mellilia 22 28 – Tanger 21 30 – Kénitra 22 31 . ', 'size': 2}, {'id': '251', 'title': 'Températures prévues pour le jeudi 07 août 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-jeudi-07-aout-2025/', 'summary': 'Températures prévues pour le jeudi 07 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le jeudi 07 août 2025 : Min Max – Oujda 23 42 – Bouarfa 23 37 – Al Hoceima 20 26 – Tétouan 20 30 – Sebta 20 26 – Mellilia 22 28 – Tanger 21 31 – Kénitra 22 .', 'size': 2}], 'main_title': 'Les températures attendues ce mercredi 6 août 2025'}, {'community_id': '4', 'articles': [{'id': '226', 'title': 'Opération Marhaba : un responsable dément les rumeurs de baisse des arrivées de MRE', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/06/operation-marhaba-2025-hausse-de-plus-de-10-des-entrees-de-mre-au-4-aout_1945391/', 'summary': 'Opération Marhaba : un responsable dément les rumeurs de baisse des arrivées de MRE. Un total de 2.789.197 membres de la communauté marocaine résidant à l’étranger sont entrés au pays jusqu’au 4 août courant, enregistrant ainsi une hausse de 10,37% par rapport à 2024, a indiqué mardi Omar Moussa Abdellah, responsable des projets et superviseur de l’opération Marhaba au sein de la Fondation Mohammed V pour la Solidarité. Invité.', 'size': 3}, {'id': '229', 'title': 'Marhaba 2025: les MRE plus nombreux à rentrer au pays, en hausse de 10,3%', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/marhaba-2025-les-mre-plus-nombreux-a-rentrer-au-pays-en-hausse-de-103-308135/', 'summary': 'Marhaba 2025: les MRE plus nombreux à rentrer au pays, en hausse de 10,3%. Depuis le démarrage de l’opération Marhaba, le 10 juin 2025, les chiffres montrent une hausse du nombre des membres de la diaspora marocaine rentrés au pays durant cet été, contrairement aux « rumeurs infondées » colportées sur les réseaux sociaux, assure Omar Moussa Abdellah, responsable des projets et superviseur de l’opération Marhaba', 'size': 2}, {'id': '277', 'title': 'Opération Marhaba 2025 : Les arrivées de MRE en hausse à deux chiffres', 'source': 'lnt.ma', 'link': 'https://lnt.ma/operation-marhaba-2025-les-arrivees-de-mre-en-hausse-a-deux-chiffres/', 'summary': 'Opération Marhaba 2025 : Les arrivées de MRE en hausse à deux chiffres. L’opération Marhaba 2025, coordonnée par la Fondation Mohammed V pour la Solidarité, poursuit son déroulement avec une affluence en hausse significative. Jusqu’au 4 août, 2.789.197 Marocains résidant à l’étranger (MRE) ont rejoint le Royaume par les différents points de passage, soit une progression de 10,37 % par rapport à la même période en 2024. C’est . ', 'size': 2}], 'main_title': 'Opération Marhaba : un responsable dément les rumeurs de baisse des arrivées de MRE'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
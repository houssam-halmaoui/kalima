<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 20/08/2025 - 12h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce mercredi 20 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438091-le-temps-quil-fera-ce-mercredi-20-aout-2025.html', 'summary': "Le temps qu'il fera ce mercredi 20 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le mercredi 20 août 2025 – Temps encore chaud sur l’intérieur des provinces du Sud et l’extrême Sud-Est du pays, et assez chaud sur les plaines de Tadla et l’intérieur du Souss. – Nuages cumuliformes et faiblement instables sur l’intérieur des provinces . ", 'size': 2}, {'id': '155', 'title': 'Les prévisions du mercredi 20 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-mercredi-20-aout-2025-308797/', 'summary': 'Les prévisions du mercredi 20 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le mercredi 20 août 2025: – Temps encore chaud sur l’intérieur des provinces du Sud et l’extrême Sud-Est du pays, et assez chaud sur les plaines de Tadla et l’intérieur du Souss. – Nuages cumuliformes et faiblement', 'size': 2}], 'main_title': "Le temps qu'il fera ce mercredi 20 août 2025"}, {'community_id': '1', 'articles': [{'id': '5', 'title': 'La police de Tanger arrête un citoyen danois', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438133-la-police-de-tanger-arrete-un-citoyen-danois.html', 'summary': 'La police de Tanger arrête un citoyen danois. Les éléments de la police de la préfecture de sûreté de Tanger ont réussi, ce mardi 19 août en soirée, à arrêter un citoyen danois d’origine palestinienne, âgé de 26 ans. Il faisait l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises dans une affaire liée à un meurtre avec arme. Le suspect . ', 'size': 4}, {'id': '116', 'title': 'Tanger : interpellation d’un ressortissant danois faisant l’objet d’un mandat d’arrêt international', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/tanger-interpellation-dun-ressortissant-danois-faisant-lobjet-dun-mandat-darret-international.html', 'summary': 'Tanger : interpellation d’un ressortissant danois faisant l’objet d’un mandat d’arrêt international. Les éléments de la préfecture de police de Tanger ont interpellé mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme, apprend-on de source sécuritaire. Le mis en cause (26 ans) a été arrêté à Tanger après que . L’article est apparu en premier sur .', 'size': 4}, {'id': '152', 'title': 'Tanger : interpellation d’un ressortissant danois recherché par Interpol', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/tanger-interpellation-dun-ressortissant-danois-recherche-par-interpol_1947029/', 'summary': 'Tanger : interpellation d’un ressortissant danois recherché par Interpol. Les éléments de la préfecture de police de Tanger ont interpellé, mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme, apprend-on de source sécuritaire. Le mis en cause (26 ans) a été arrêté à Tanger après que.', 'size': 4}, {'id': '154', 'title': 'Un Danois recherché par Interpol interpellé à Tanger', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/un-danois-recherche-par-interpol-interpelle-a-tanger-308793/', 'summary': 'Un Danois recherché par Interpol interpellé à Tanger. Les éléments de la préfecture de police de Tanger ont interpellé, mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme, apprend-on de source sécuritaire. Le mis en cause (26 ans) a été', 'size': 4}], 'main_title': 'La police de Tanger arrête un citoyen danois'}, {'community_id': '2', 'articles': [{'id': '31', 'title': 'Anniversaire de la Révolution du Roi et du Peuple : Grâce Royale au profit de 881 personnes', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Anniversaire-de-la-Revolution-du-Roi-et-du-Peuple-Grace-Royale-au-profit-de-881-personnes_a70945.html', 'summary': "Anniversaire de la Révolution du Roi et du Peuple : Grâce Royale au profit de 881 personnes. A l'occasion de l'anniversaire de la Révolution du Roi et du Peuple, Sa Majesté le Roi Mohammed VI, que Dieu L'assiste, a bien voulu accorder Sa grâce à 881 personnes, dont 676 en détention et 205 en liberté, condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué.", 'size': 3}, {'id': '150', 'title': "881 personnes graciées par le roi à l'occasion de l'anniversaire de la Révolution du roi et du peuple", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/881-personnes-graciees-par-le-roi-a-loccasion-de-lanniversaire-de-la-revolution-du-roi-et-du-peuple_1947035/', 'summary': "881 personnes graciées par le roi à l'occasion de l'anniversaire de la Révolution du roi et du peuple. A l’occasion de l’anniversaire de la Révolution du roi et du peuple, le roi Mohammed VI a gracié 881 personnes, dont 676 en détention et 205 en liberté, condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué. Les bénéficiaires de la grâce royale qui sont en détention sont au.", 'size': 4}, {'id': '156', 'title': 'Maroc : Grâce royale au profit de 881 personnes', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174584/maroc-grace-royale-profit-personnes.html', 'summary': 'Maroc : Grâce royale au profit de 881 personnes. A l’occasion de l’anniversaire de la Révolution du roi et du peuple, le roi Mohammed VI a accordé sa grâce à 881 personnes, dont 676 en détention et 205 en liberté, condamnées par différents tribunaux du Maroc, annonce le ministère de la Justice dans un communiqué.', 'size': 3}], 'main_title': "881 personnes graciées par le roi à l'occasion de l'anniversaire de la Révolution du roi et du peuple"}, {'community_id': '9', 'articles': [{'id': '41', 'title': 'Le Parquet livre les circonstances de la découverte de Sinon Assidon inconscient dans son domicile', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-Parquet-livre-les-circonstances-de-la-decouverte-de-Sinon-Assidon-inconscient-dans-son-domicile_a70934.html', 'summary': 'Le Parquet livre les circonstances de la découverte de Sinon Assidon inconscient dans son domicile. En réaction aux informations circulant sur les réseaux sociaux concernant l’affaire du militant Sion Assidon, retrouvé inconscient à son domicile, le procureur général près la Cour d’appel de Casablanca a indiqué que les investigations sont toujours en cours et que les mesures juridiques appropriées seront prises dès leur achèvement.', 'size': 3}, {'id': '51', 'title': 'Affaire Sion Assidon : le parquet de Casablanca clarifie la chronologie des faits', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/19/affaire-sion-assidon-le-parquet-de-casablanca-clarifie-la-chronologie-des-faits_1946993/', 'summary': 'Affaire Sion Assidon : le parquet de Casablanca clarifie la chronologie des faits. Le procureur général du roi près la Cour d’appel de Casablanca a publié, mardi 19 août, un communiqué destiné à clarifier les faits relayés sur les réseaux sociaux autour de l’affaire du militant pro-palestinien et coordinateur national de la branche marocaine du mouvement BDS Sion Assidon. Selon le communiqué, les investigations menées par les services.', 'size': 2}, {'id': '110', 'title': 'Affaire Sion Assidon : Les investigations toujours en cours, les effets juridiques appropriés seront établis', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/affaire-sion-assidon-les-investigations-toujours-en-cours-les-effets/', 'summary': 'Affaire Sion Assidon : Les investigations toujours en cours, les effets juridiques appropriés seront établis. Le Procureur général du Roi près la Cour d’appel de Casablanca a annoncé, mardi, que les investigations dans l’affaire Sion Assidon sont toujours en cours et que les effets juridiques appropriés seront établis dès leur clôture. En lien avec ce qui a été relayé sur les réseaux sociaux concernant l’affaire de Sion Assidon et afin .', 'size': 4}, {'id': '120', 'title': 'Maroc/Affaire Sion Assidon : Les investigations toujours en cours, les effets juridiques appropriés seront établis (Procureur général du Roi)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/affaire-sion-assidon-les-investigations-toujours-en-cours-les-effets-juridiques-appropries-seront-etablis-procureur-general-du-roi-pres-la-cour-dappel-de-casablanca.html', 'summary': 'Maroc/Affaire Sion Assidon : Les investigations toujours en cours, les effets juridiques appropriés seront établis (Procureur général du Roi). Le Procureur général du Roi près la Cour d’appel de Casablanca a annoncé, mardi, que les investigations dans l’affaire Sion Assidon sont toujours en cours et que les effets juridiques appropriés seront établis dès leur clôture. En lien avec ce qui a été relayé sur les réseaux sociaux concernant l’affaire de Sion Assidon et afin . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Affaire Sion Assidon : Les investigations toujours en cours, les effets juridiques appropriés seront établis'}, {'community_id': '4', 'articles': [{'id': '43', 'title': "TICAD-9 : le Japon réitère qu'il ne reconnaît pas le Polisario, l'Algérie embarrassée", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/TICAD-9-le-Japon-reitere-qu-il-ne-reconnait-pas-le-Polisario-l-Algerie-embarrassee_a70932.html', 'summary': "TICAD-9 : le Japon réitère qu'il ne reconnaît pas le Polisario, l'Algérie embarrassée. Le ministre japonais des Affaires étrangères, Takeshi Iwaya, a une nouvelle fois tenu, à l’ouverture, mardi à Yokohama, de la réunion ministérielle de la 9e Conférence internationale de Tokyo sur le développement de l'Afrique (TICAD-9), à clarifier la position officielle du Japon concernant l’entité séparatiste.", 'size': 4}, {'id': '61', 'title': 'TICAD-9 : le Japon réitère officiellement sa non-reconnaissance de la “RASD”', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/19/ticad-9-le-japon-reitere-officiellement-sa-non-reconnaissance-de-la-rasd_1946894/', 'summary': 'TICAD-9 : le Japon réitère officiellement sa non-reconnaissance de la “RASD”. La réunion des hauts fonctionnaires, préparatoire à la 9e Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), tenue mardi à Yokohama, a été marquée par une clarification ferme du Japon concernant sa position sur la non-reconnaissance de l’entité séparatiste sahraouie. En effet, le chef de la délégation japonaise a rappelé, dès l’ouverture de.', 'size': 4}, {'id': '71', 'title': 'TICAD-9: le Japon inflige un nouveau camouflet au polisario', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/ticad-9-le-japon-inflige-un-nouveau-camouflet-au-polisario-308765/', 'summary': 'TICAD-9: le Japon inflige un nouveau camouflet au polisario. Le ministre japonais des Affaires étrangères, Takeshi Iwaya, a une nouvelle fois tenu, à l’ouverture, mardi à Yokohama, de la réunion ministérielle de la 9e Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), à clarifier la position officielle du Japon concernant les séparatistes du polisario. « Je tiens à', 'size': 4}, {'id': '124', 'title': 'TICAD 9 | Le MAE japonais réaffirme la position ferme de Tokyo sur la non-reconnaissance de la “rasd”', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/ticad-9-le-mae-japonais-reaffirme-la-position-ferme-de-tokyo-sur-la-non-reconnaissance-de-la-rasd/', 'summary': 'TICAD 9 | Le MAE japonais réaffirme la position ferme de Tokyo sur la non-reconnaissance de la “rasd”. Le ministre japonais des Affaires étrangères, Takeshi Iwaya, a une nouvelle fois tenu, à l’ouverture, mardi à Yokohama, de la réunion ministérielle de la 9e Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), à clarifier la position officielle du Japon concernant l’entité séparatiste. “Je tiens à préciser que la présence dans cette réunion ', 'size': 4}], 'main_title': "TICAD-9 : le Japon réitère qu'il ne reconnaît pas le Polisario, l'Algérie embarrassée"}, {'community_id': '6', 'articles': [{'id': '60', 'title': 'Béni Mellal-Khénifra investit dans les barrages pour sécuriser ses ressources en eau', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/19/beni-mellal-khenifra-investit-dans-les-barrages-pour-securiser-ses-ressources-en-eau_1946901/', 'summary': 'Béni Mellal-Khénifra investit dans les barrages pour sécuriser ses ressources en eau. La région Béni Mellal-Khénifra renforce ses infrastructures hydrauliques avec deux grands barrages en construction (236 millions de m³) et une vingtaine de petits ouvrages programmés dans le cadre du PNAEPI 2020-2027. La région Béni Mellal-Khénifra poursuit ses efforts visant à développer un large réseau de barrages structurants afin d’assurer une gestion durable des ressources en.', 'size': 2}, {'id': '103', 'title': 'Béni Mellal-Khénifra : Deux grands barrages en cours de construction pour assurer une gestion hydrique durable', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/beni-mellal-khenifra-deux-grands-barrages-en-cours-de-construction-pour-assurer-une-gestion-hydrique-durable/', 'summary': "Béni Mellal-Khénifra : Deux grands barrages en cours de construction pour assurer une gestion hydrique durable. Deux grands barrages sont actuellement en cours de construction dans la région de Béni Mellal-Khénifra, totalisant une capacité de stockage de 236 millions de m3, à savoir, le barrage sur l'Oued Lakhdar dans la province d’Azilal et celui de Taghzirt dans la province de Béni Mellal. Les travaux du barrage sur l'Oued Lakhdar affichent un taux d’avancement de 50%.", 'size': 2}], 'main_title': 'Béni Mellal-Khénifra investit dans les barrages pour sécuriser ses ressources en eau'}, {'community_id': '8', 'articles': [{'id': '64', 'title': 'Le Maroc a enregistré un record de température à Laâyoune qui a frôlé les 50°C', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/19/le-maroc-a-enregistre-un-record-de-temperature-a-laayoune-qui-a-frole-les-50c_1946880/', 'summary': 'Le Maroc a enregistré un record de température à Laâyoune qui a frôlé les 50°C. La Direction générale de la météorologie marocaine (DGM) a annoncé lundi avoir constaté début août un record mensuel de température à Laâyoune, dans le Sahara, avec 49,2°C, battant ainsi un précédent record d’août 2016. Le pays traverse depuis près de deux semaines une intense vague de chaleur touchant principalement le centre, certaines zones côtières et.', 'size': 2}, {'id': '128', 'title': 'Laâyoune enregistre un record historique de chaleur avec 49,2°C', 'source': 'lnt.ma', 'link': 'https://lnt.ma/laayoune-enregistre-un-record-historique-de-chaleur-avec-492c/', 'summary': 'Laâyoune enregistre un record historique de chaleur avec 49,2°C. Le Maroc vient de connaître un nouveau record de chaleur. La Direction générale de la météorologie (DGM) a annoncé lundi que la station de Laâyoune a enregistré, le 9 août 2025, une température exceptionnelle de 49,2°C, battant largement le précédent record d’août 2016 (47°C). Une vague de chaleur persistante Ce nouveau pic s’inscrit dans une . ', 'size': 2}], 'main_title': 'Le Maroc a enregistré un record de température à Laâyoune qui a frôlé les 50°C'}, {'community_id': '11', 'articles': [{'id': '65', 'title': "L'indice des prix des restaurants et hôtels en hausse de 3,4% en juillet", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/19/lindice-des-prix-des-restaurants-et-hotels-en-hausse-de-34-en-juillet_1946875/', 'summary': "L'indice des prix des restaurants et hôtels en hausse de 3,4% en juillet. Selon le Haut-Commissariat au Plan (HCP), l’indice des prix des restaurants et hôtels a connu une hausse de 3,4% en juillet par rapport au même mois de l’année précédente. L’indice des prix à la consommation (IPC) a enregistré, en juillet, une hausse de 0,5% comparativement au même mois de l’année précédente. Cette évolution est la.", 'size': 2}, {'id': '73', 'title': 'Inflation: les prix à la consommation enregistrent une hausse modérée en juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/inflation-les-prix-a-la-consommation-enregistrent-une-hausse-moderee-en-juillet-308752/', 'summary': 'Inflation: les prix à la consommation enregistrent une hausse modérée en juillet. L’indice des prix à la consommation (IPC) a enregistré, en juillet dernier, une hausse de 0,5% comparativement au même mois de l’année précédente, selon le Haut-Commissariat au Plan (HCP). Cette évolution est la conséquence de l’augmentation de l’indice des produits alimentaires de 0,9% et de celui des produits non alimentaires', 'size': 2}], 'main_title': "L'indice des prix des restaurants et hôtels en hausse de 3,4% en juillet"}, {'community_id': '12', 'articles': [{'id': '75', 'title': 'Sur instructions royales, le Maroc envoie une aide humanitaire supplémentaire à Gaza', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/sur-instructions-royales-le-maroc-envoie-une-aide-humanitaire-supplementaire-a-gaza-308734/', 'summary': 'Sur instructions royales, le Maroc envoie une aide humanitaire supplémentaire à Gaza. En témoignage du soutien permanent et de la solidarité tangible de Sa Majesté le Roi Mohammed VI, Président du Comité Al-Qods, envers le peuple palestinien frère, le Souverain a donné ses très hautes instructions pour l’envoi d’une aide humanitaire supplémentaire au profit des habitants de Gaza, indique, lundi soir, un', 'size': 2}, {'id': '147', 'title': 'L’ONU salue la “générosité” du roi pour l’aide humanitaire “importante” envoyée à Gaza', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/lonu-salue-la-generosite-du-roi-pour-laide-humanitaire-importante-envoyee-a-gaza_1947046/', 'summary': 'L’ONU salue la “générosité” du roi pour l’aide humanitaire “importante” envoyée à Gaza. L’Organisation des Nations Unies a salué la “générosité” du roi Mohammed VI, président du Comité Al-Qods, suite à l’envoi d’une aide humanitaire supplémentaire “importante” au profit des habitants de Gaza. Nous saluons la générosité et la décision prise par Sa Majesté le roi Mohammed VI d’envoyer une aide humanitaire importante pour la population de Gaza« , a.', 'size': 3}, {'id': '173', 'title': 'ONU salue la générosité de SM le Roi Mohammed VI envers Gaza', 'source': 'lnt.ma', 'link': 'https://lnt.ma/onu-salue-la-generosite-de-sm-le-roi-mohammed-vi-envers-gaza/', 'summary': 'ONU salue la générosité de SM le Roi Mohammed VI envers Gaza. L’Organisation des Nations Unies a salué la « générosité » de SM le Roi Mohammed VI, Président du Comité Al-Qods, suite à l’envoi, sur Très Hautes Instructions du Souverain, d’une aide humanitaire supplémentaire « importante » au profit des habitants de Gaza. « Nous saluons la générosité et la décision prise par SM le Roi Mohammed VI d’envoyer une aide . ', 'size': 2}], 'main_title': 'L’ONU salue la “générosité” du roi pour l’aide humanitaire “importante” envoyée à Gaza'}, {'community_id': '5', 'articles': [{'id': '81', 'title': '72e anniversaire de la Révolution du Roi et du peuple: un engagement continu à porter le flambeau dans un esprit d’unité nationale et territoriale', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/72e-anniversaire-de-la-revolution-du-roi-et-du-peuple-un-engagement-continu-a-porter-le-flambeau-dans-un-esprit-dunite-nationale-et-territoriale', 'summary': '72e anniversaire de la Révolution du Roi et du peuple: un engagement continu à porter le flambeau dans un esprit d’unité nationale et territoriale. La célébration, mercredi 20 août 2025, du 72e anniversaire de la Révolution du Roi et du peuple est l’occasion chaque année de se remémorer un grand moment dans l’histoire du Royaume qui a incarné les plus belles illustrations de la symbiose dans la lutte nationale menée par le peuple marocain fidèle, sous la Conduite du .', 'size': 5}, {'id': '119', 'title': 'Maroc : célébration du 72e anniversaire de la Révolution du Roi et du peuple dans l’unité et l’engagement continu', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-celebration-du-72e-anniversaire-de-la-revolution-du-roi-et-du-peuple-dans-lunite-et-lengagement-continu.html', 'summary': 'Maroc : célébration du 72e anniversaire de la Révolution du Roi et du peuple dans l’unité et l’engagement continu. La célébration mercredi 20 août 2025 du 72e anniversaire de la Révolution du Roi et du peuple est l’occasion chaque année de se remémorer un grand moment dans l’histoire du Royaume qui a incarné les plus belles illustrations de la symbiose dans la lutte nationale menée par le peuple marocain fidèle, sous la Conduite du . L’article est apparu en premier sur .', 'size': 5}, {'id': '123', 'title': 'Le Royaume du Maroc célèbre le 72e anniversaire de la révolution du Roi et du peuple', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/le-royaume-du-maroc-celebre-le-72e-anniversaire-de-la-revolution-du-roi-et-du-peuple/', 'summary': 'Le Royaume du Maroc célèbre le 72e anniversaire de la révolution du Roi et du peuple. La célébration, mercredi 20 août 2025, du 72e anniversaire de la Révolution du Roi et du peuple est l’occasion chaque année de se remémorer un grand moment dans l’histoire du Royaume qui a incarné les plus belles illustrations de la symbiose dans la lutte nationale menée par le peuple marocain fidèle, sous la Conduite du ', 'size': 5}, {'id': '134', 'title': 'Revue de presse de ce mercredi 20 août 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438135-revue-de-presse-de-ce-mercredi-20-aout-2025.html', 'summary': 'Revue de presse de ce mercredi 20 août 2025. Voici les principaux titres de presse développés par la presse nationale ce mercredi 20 août 2025: Al Ittihad alichtiraki La célébration, mercredi 20 août 2025, du 72e anniversaire de la Révolution du Roi et du peuple est l’occasion chaque année de se remémorer un grand moment dans l’histoire du Royaume qui a incarné les plus . ', 'size': 5}, {'id': '141', 'title': 'Le Maroc célèbre le 72e anniversaire de la Révolution du Roi et du peuple', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/72e-anniversaire-de-la-revolution-du-roi-et-du-peuple-au-maroc/297266', 'summary': "Le Maroc célèbre le 72e anniversaire de la Révolution du Roi et du peuple. La célébration, mercredi 20 août 2025, du 72e anniversaire de la Révolution du Roi et du peuple est l'occasion chaque année de se remémorer un grand moment dans l'histoire.", 'size': 6}], 'main_title': 'Le Maroc célèbre le 72e anniversaire de la Révolution du Roi et du peuple'}, {'community_id': '7', 'articles': [{'id': '117', 'title': 'Port de Dakhla: Baisse de 21% des débarquements de pêche à fin juillet (ONP)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/port-de-dakhla-baisse-de-21-des-debarquements-de-peche-a-fin-juillet-onp.html', 'summary': 'Port de Dakhla: Baisse de 21% des débarquements de pêche à fin juillet (ONP). Les débarquements de la pêche côtière et artisanale au niveau du port de Dakhla se sont établis à 57.320 tonnes (T) au cours des sept premiers mois de 2025, en baisse de 21% par rapport à la même période de l’année précédente, selon l’Office national des pêches (ONP). La valeur marchande de ces captures a . L’article est apparu en premier sur .', 'size': 2}, {'id': '153', 'title': 'Port de Dakhla : les débarquements de pêche chutent à fin juillet 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/port-de-dakhla-les-debarquements-de-peche-chutent-a-fin-juillet-2025-308806/', 'summary': 'Port de Dakhla : les débarquements de pêche chutent à fin juillet 2025. Les débarquements de la pêche côtière et artisanale au niveau du port de Dakhla se sont établis à 57 320 tonnes (T) au cours des sept premiers mois de 2025, en baisse de 21% par rapport à la même période de l’année précédente, selon l’Office national des pêches (ONP). La', 'size': 2}], 'main_title': 'Port de Dakhla: Baisse de 21% des débarquements de pêche à fin juillet (ONP)'}, {'community_id': '10', 'articles': [{'id': '131', 'title': "Gaza: Israël ordonne le rappel de 60.000 réservistes de l'armée", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438141-gaza-israel-ordonne-le-rappel-de-60-000-reservistes-de-larmee.html', 'summary': "Gaza: Israël ordonne le rappel de 60.000 réservistes de l'armée. Le ministre israélien de la Défense, Israël Katz, a ordonné mercredi le rappel de 60.000 réservistes après avoir donné son feu vert à la prise de la ville de Gaza, en pleine médiation en vue d’une trêve dans le territoire palestinien et la libération d’otages. Le cabinet de sécurité présidé par le Premier ministre, Benjamin . ", 'size': 2}, {'id': '149', 'title': "Israël ordonne le rappel de 60.000 réservistes pour s'emparer de la ville de Gaza", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/israel-ordonne-le-rappel-de-60-000-reservistes-pour-semparer-de-la-ville-de-gaza_1947038/', 'summary': "Israël ordonne le rappel de 60.000 réservistes pour s'emparer de la ville de Gaza. Le ministre israélien de la Défense, Israël Katz, a ordonné mercredi le rappel de 60.000 réservistes après avoir donné son feu vert à la prise de la ville de Gaza, en pleine médiation en vue d’une trêve dans le territoire palestinien et la libération d’otages. Le cabinet de sécurité présidé par le Premier ministre, Benjamin.", 'size': 2}], 'main_title': "Gaza: Israël ordonne le rappel de 60.000 réservistes de l'armée"}, {'community_id': '3', 'articles': [{'id': '138', 'title': "Le Japon réaffirme pour la troisième fois, au Sommet de la TICAD-9, sa non-reconnaissance de l'entité séparatiste", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/le-japon-reaffirme-sa-non-reconnaissance-de-lentite-separatiste/297319', 'summary': "Le Japon réaffirme pour la troisième fois, au Sommet de la TICAD-9, sa non-reconnaissance de l'entité séparatiste. Dès l’ouverture du sommet et en prélude au début des travaux, le ministre japonais des Affaires étrangères, Takeshi Iwaya, a fait une déclaration solennelle au nom de son gouvernem.", 'size': 2}, {'id': '165', 'title': 'Sommet de la TICAD-9: Le Japon réaffirme pour la troisième fois sa non-reconnaissance de l’entité séparatiste', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/sommet-de-la-ticad-9-le-japon-reaffirme-pour-la-troisieme-fois-sa-non-reconnaissance-de-lentite-separatiste/', 'summary': 'Sommet de la TICAD-9: Le Japon réaffirme pour la troisième fois sa non-reconnaissance de l’entité séparatiste. La diplomatie japonaise a marqué sa réserve sur la présence du Polisario, en indiquant que le Japon a refusé de lui adresser une invitation et s’est contenté d’inviter les pays avec lesquels il entretient des relations diplomatiques.', 'size': 2}], 'main_title': "Le Japon réaffirme pour la troisième fois, au Sommet de la TICAD-9, sa non-reconnaissance de l'entité séparatiste"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 13/07/2025 - 18h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '10', 'articles': [{'id': '1', 'title': 'Alerte météo : vague de chaleur de mardi à vendredi dans plusieurs régions', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433235-alerte-meteo-vague-de-chaleur-de-mardi-a-vendredi-dans-plusieurs-regions-2.html', 'summary': 'Alerte météo : vague de chaleur de mardi à vendredi dans plusieurs régions. La Direction générale de la météorologie (DGM), a annoncé une vague de chaleur prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C. Dans un bulletin d’alerte de niveau de vigilance orange, la DGM précise que des températures variant entre 44 et 47°C seront ainsi enregistrées . ', 'size': 5}, {'id': '57', 'title': 'Alerte météo. Vague de chaleur extrême de mardi à vendredi dans plusieurs provinces', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/alerte-meteo-vague-de-chaleur-extreme-de-mardi-a-vendredi-dans-plusieurs-provinces/', 'summary': 'Alerte météo. Vague de chaleur extrême de mardi à vendredi dans plusieurs provinces. Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM).', 'size': 5}, {'id': '118', 'title': '\u200bVague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume (bulletin d’alerte)', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bVague-de-chaleur-de-mardi-a-vendredi-dans-plusieurs-provinces-du-Royaume-bulletin-d-alerte_a69799.html', 'summary': '\u200bVague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume (bulletin d’alerte). Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM).', 'size': 5}, {'id': '124', 'title': 'Vague de chaleur : Le mercure atteindra 47°C dans plusieurs provinces', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/vague-de-chaleur-le-mercure-atteindra-47c-dans-plusieurs-provinces', 'summary': 'Vague de chaleur : Le mercure atteindra 47°C dans plusieurs provinces. Une vague de chaleur est prévue de mardi à vendredi dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, des températures variant entre 44 et 47°C seront ainsi enregistrées de mardi à vendredi, dans les provinces d’Errachidia, Zagora, Taroudant, Tata, Assa-Zag, .', 'size': 5}, {'id': '131', 'title': 'Maroc : vague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-vague-de-chaleur-de-mardi-a-vendredi-dans-plusieurs-provinces-du-royaume.html', 'summary': 'Maroc : vague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume. Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, des températures variant entre 44 et 47°C seront ainsi enregistrées de mardi à vendredi, dans les provinces d’Errachidia, Zagora, Taroudant, Tata, . L’article est apparu en premier sur .', 'size': 5}], 'main_title': 'Alerte météo : vague de chaleur de mardi à vendredi dans plusieurs régions'}, {'community_id': '7', 'articles': [{'id': '5', 'title': 'CAN Féminine : Jorge Vilda fier de ses joueuses après la victoire contre le Sénégal', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433219-can-feminine-jorge-vilda-fier-de-ses-joueuses-apres-la-victoire-contre-le-senegal.html', 'summary': 'CAN Féminine : Jorge Vilda fier de ses joueuses après la victoire contre le Sénégal. Jorge Vilda, sélectionneur de l’équipe nationale féminine du Maroc, s’est déclaré très satisfait de la performance de ses joueuses après leur victoire face au Sénégal samedi soir, qui leur permet de se qualifier pour les quarts de finale de la Coupe d’Afrique des Nations féminine en terminant en tête de leur groupe. Il a affirmé . ', 'size': 2}, {'id': '50', 'title': 'CAN féminine 2024 : Victoire contre le Sénégal et première place pour les Lionnes de l’Atlas', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171558/feminine-2024-victoire-contre-senegal.html', 'summary': 'CAN féminine 2024 : Victoire contre le Sénégal et première place pour les Lionnes de l’Atlas. La sélection marocaine, qui a fait preuve d’une grande combativité, s’est qualifiée pour les quarts de finale de la Coupe d’Afrique des nations féminine de football (Maroc-2024) en s’imposant face à son homologue sénégalaise sur le score de 1 but à 0, samedi soir au stade Olympique de Rabat, en match de la 3è journée du groupe A. Dès l’entame du match, les Lionnes de l’Atlas ont déroulé un jeu offensif pour surprendre leur adversaire du jour, notamment des flancs, avec un ancrage défensif pour parer aux contre-attaques. Les Sénégalaises ont été dangereuses sur une action de Nguenar Ndiaye (16è), avant que les Lionnes de l’Atlas ne reprennent le dessus: Elles ont failli ouvrir la marque sur une frappe dIbtissam Jraïdi (17è), repoussée juste avant la ligne du but par la défense sénégalaise.', 'size': 3}, {'id': '82', 'title': 'CAN féminine Maroc-2024 (Maroc/Sénégal 1-0) : Combatives, les Lionnes de l’Atlas aux quarts de finale', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/can-feminine-maroc-2024-maroc-senegal-1-0-combatives-les-lionnes-de-latlas-aux-quarts-de-finale.html', 'summary': 'CAN féminine Maroc-2024 (Maroc/Sénégal 1-0) : Combatives, les Lionnes de l’Atlas aux quarts de finale. La sélection marocaine, qui a fait preuve d’une grande combativité, s’est qualifiée pour les quarts de finale de la Coupe d’Afrique des nations féminine de football (Maroc-2024) en s’imposant face à son homologue sénégalaise sur le score de 1 but à 0, samedi soir au stade Olympique de Rabat, en match de la 3è journée . L’article est apparu en premier sur .', 'size': 3}, {'id': '111', 'title': 'CAN féminine 2024 : Coup de griffe décisif des Lionnes de l’Atlas', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CAN-feminine-2024-Coup-de-griffe-decisif-des-Lionnes-de-l-Atlas_a69810.html', 'summary': 'CAN féminine 2024 : Coup de griffe décisif des Lionnes de l’Atlas. \u200bPortée par une combativité exemplaire et une maîtrise tactique affirmée, la sélection nationale marocaine féminine s’est imposée avec brio face au Sénégal (1-0), samedi soir au stade Olympique de Rabat, validant ainsi son billet pour les quarts de finale de la Coupe d’Afrique des Nations féminine (Maroc-2024). Avec cette deuxième victoire en trois matchs, les Lionnes de l’Atlas terminent en tête du groupe « A », à égalité de points avec la Zambie (7 pts), mais avec une meilleure différence de buts.', 'size': 4}], 'main_title': 'CAN féminine 2024 : Coup de griffe décisif des Lionnes de l’Atlas'}, {'community_id': '5', 'articles': [{'id': '6', 'title': 'Mondial des clubs : le PSG à une marche de conquérir le globe', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433138-mondial-des-clubs-le-psg-a-une-marche-de-conquerir-le-globe.html', 'summary': 'Mondial des clubs : le PSG à une marche de conquérir le globe. Le Paris SG champion d’Europe pourrait finir sa saison historique par le trophée du Mondial des clubs synonyme de quintuplé s’il assume son statut de favori contre Chelsea, dimanche (20h00) en finale au stade Metlife près de New York. Les joueurs l’avaient dit, ils l’ont fait: atteindre la finale pour se donner une chance de . ', 'size': 2}, {'id': '25', 'title': 'Coupe du monde des clubs : A quelle heure et sur quelles chaînes suivre la finale PSG-Chelsea ?', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/a-quelle-heure-et-sur-quelles-chaines-suivre-le-match-psg-chelsea/290757', 'summary': "Coupe du monde des clubs : A quelle heure et sur quelles chaînes suivre la finale PSG-Chelsea ?. Le Paris SG, champion d'Europe, pourrait finir sa saison historique par le trophée du Mondial des clubs synonyme de quintuplé s'il assume son statut de favori contre Chelse.", 'size': 2}], 'main_title': 'Mondial des clubs : le PSG à une marche de conquérir le globe'}, {'community_id': '3', 'articles': [{'id': '21', 'title': "Trump annonce 30% de droits de douane pour le Mexique et l'UE à partir du 1er août", 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/trump-annonce-30-de-droits-de-douane-pour-le-mexique-et-lue/290778', 'summary': "Trump annonce 30% de droits de douane pour le Mexique et l'UE à partir du 1er août. Les nouveaux tarifs douaniers entreront en vigueur le 1er août, a précisé le locataire de la Maison Blanche dans des lettres envoyées à la présidente de la Commission européenne (C.", 'size': 2}, {'id': '71', 'title': 'Trump menace d’imposer des tarifs douaniers de 30% à l’UE et au Mexique', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/trump-menace-dimposer-des-tarifs-douaniers-de-30-a-lue-et-au-mexique/', 'summary': 'Trump menace d’imposer des tarifs douaniers de 30% à l’UE et au Mexique. Le président américain, Donald Trump, a menacé, samedi, d’imposer des droits de douane de 30% à l’Union européenne (UE) et au Mexique. Les nouveaux tarifs entreront en vigueur le 1er août, a précisé le locataire de la Maison Blanche dans des lettres envoyées à la présidente de la Commission européenne (CE), Ursula von der Leyen, .', 'size': 2}], 'main_title': "Trump annonce 30% de droits de douane pour le Mexique et l'UE à partir du 1er août"}, {'community_id': '4', 'articles': [{'id': '23', 'title': 'Béni Mellal : fin dramatique d’un sit-in au sommet d’un château d’eau', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/beni-mellal-fin-du-sit-in-dun-individu-perche-sur-un-chateau-deau/290765', 'summary': 'Béni Mellal : fin dramatique d’un sit-in au sommet d’un château d’eau. Les autorités locales de la province de Béni Mellal ont indiqué que l’action de protestation entamée par un individu, consistant en un sit-in au sommet d’un château d’eau situé dan.', 'size': 2}, {'id': '39', 'title': "Beni Mellal: Un sit-in d'un individu perché sur un château d’eau tourne au drame, un pompier grièvement blessé", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Beni-Mellal-Un-sit-in-d-un-individu-perche-sur-un-chateau-d-eau-tourne-au-drame-un-pompier-grievement-blesse_a69784.html', 'summary': "Beni Mellal: Un sit-in d'un individu perché sur un château d’eau tourne au drame, un pompier grièvement blessé. Les autorités locales de la province de Béni Mellal ont indiqué que l’action de protestation entamée par un individu, consistant en un sit-in au sommet d’un château d’eau situé dans la commune territoriale d’Oulad Youssef, a pris fin dans la soirée du vendredi 11 juillet, après qu’il se soit jeté du haut de l’installation en ayant attaché une corde autour de son cou.", 'size': 2}], 'main_title': 'Béni Mellal : fin dramatique d’un sit-in au sommet d’un château d’eau'}, {'community_id': '9', 'articles': [{'id': '26', 'title': 'Baraka lance un Pôle Technologique pour rapprocher recherche, formation et ingénierie', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/pole-technologique-pour-rapprocher-recherche-formation-et-ingenierie/290751', 'summary': 'Baraka lance un Pôle Technologique pour rapprocher recherche, formation et ingénierie. C’est à l’École Hassania des Travaux Publics (EHTP), à Casablanca, qu’a été officiellement lancé, vendredi 11 juillet, le Pôle Technologique du ministère de l’Équipement et de l’Ea.', 'size': 3}, {'id': '87', 'title': 'Casablanca : lancement officiel du Pôle Technologique à l’École Hassania des Travaux Publics', 'source': 'lnt.ma', 'link': 'https://lnt.ma/casablanca-lancement-officiel-du-pole-technologique-a-lecole-hassania-des-travaux-publics/', 'summary': 'Casablanca : lancement officiel du Pôle Technologique à l’École Hassania des Travaux Publics. Une cérémonie officielle a marqué vendredi le lancement du Pôle Technologique à l’École Hassania des Travaux Publics (EHTP) de Casablanca. Ce projet vise à structurer un écosystème national dédié à l’innovation technologique, à la recherche appliquée et à l’ingénierie, dans le cadre d’une stratégie publique intégrée au service de la souveraineté technologique du Maroc. Lors . ', 'size': 3}, {'id': '112', 'title': 'EHTP : Un Pôle d’excellence et d’ingénierie technologique', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/EHTP-Un-Pole-d-excellence-et-d-ingenierie-technologique_a69808.html', 'summary': 'EHTP : Un Pôle d’excellence et d’ingénierie technologique. Dans une dynamique nationale visant à soutenir la souveraineté technologique du Maroc, le ministère de l’Équipement et de l’Eau a lancé un Pôle Technologique novateur au cœur de l’École Hassania des Travaux Publics (EHTP) destiné à former des ingénieurs polyvalents capables d’accompagner les chantiers structuraux du Royaume, notamment dans les secteurs des infrastructures et de l’eau.', 'size': 3}], 'main_title': 'Baraka lance un Pôle Technologique pour rapprocher recherche, formation et ingénierie'}, {'community_id': '2', 'articles': [{'id': '36', 'title': 'Plus de 311.600 candidats  décrochent leur baccalauréat en 2025', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Plus-de-311-600-candidats-decrochent-leur-baccalaureat-en-2025_a69787.html', 'summary': 'Plus de 311.600 candidats décrochent leur baccalauréat en 2025. Le ministère de l’Éducation nationale, du Préscolaire et des Sports a annoncé, samedi, que 311.625 candidats scolarisés de l’enseignement public et privé ont passé avec succès les épreuves des sessions ordinaire et de rattrapage au titre de l’année 2025.', 'size': 2}, {'id': '68', 'title': 'Plus de 311.600 candidats scolarisés décrochent leur baccalauréat en 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/plus-de-311-600-candidats-scolarises-decrochent-leur-baccalaureat-en-2025/', 'summary': 'Plus de 311.600 candidats scolarisés décrochent leur baccalauréat en 2025. Le ministère de l’Éducation nationale, du Préscolaire et des Sports a annoncé, samedi, que 311.625 candidats scolarisés de l’enseignement public et privé ont passé avec succès les épreuves des sessions ordinaire et de rattrapage au titre de l’année 2025. Le taux de réussite dans les deux sessions a atteint 83,3%, contre 84,1% en 2024, soit .', 'size': 2}], 'main_title': 'Plus de 311.600 candidats  décrochent leur baccalauréat en 2025'}, {'community_id': '0', 'articles': [{'id': '38', 'title': "Tanger: Des travaux forestiers techniques autorisés menés à la forêt Al Borj pour la mise en place d'une ligne électrique à haute tension", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Tanger-Des-travaux-forestiers-techniques-autorises-menes-a-la-foret-Al-Borj-pour-la-mise-en-place-d-une-ligne-electrique_a69785.html', 'summary': "Tanger: Des travaux forestiers techniques autorisés menés à la forêt Al Borj pour la mise en place d'une ligne électrique à haute tension. Des travaux forestiers techniques et préventifs autorisés sont menés à la forêt Al Borj en périphérie de Tanger, dans le cadre d'un projet de mise en place et de transport d'une ligne électrique de haute tension, a indiqué l'Agence nationale des eaux et forêts (ANEF).", 'size': 3}, {'id': '61', 'title': 'Tanger: Des travaux à la forêt Al Borj pour la mise en place d’une ligne électrique à haute tension', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/tanger-des-travaux-a-la-foret-al-borj-pour-la-mise-en-place-dune-ligne-electrique-a-haute-tension/', 'summary': 'Tanger: Des travaux à la forêt Al Borj pour la mise en place d’une ligne électrique à haute tension. D\'après l\'Agence nationale des eaux et forêts (ANEF), il s\'agit de travaux forestiers techniques et préventifs menés par l’Office national de l’électricité et de l\'eau potable (ONEE), visant à créer et à transporter l’énergie produite par le parc éolien "Tanger II", à travers une ligne électrique à haute tension.', 'size': 2}, {'id': '90', 'title': 'Travaux autorisés dans la forêt Al Borj : précisions de l’ANEF sur la ligne électrique à haute tension', 'source': 'lnt.ma', 'link': 'https://lnt.ma/travaux-autorises-dans-la-foret-al-borj-precisions-de-lanef-sur-la-ligne-electrique-a-haute-tension/', 'summary': 'Travaux autorisés dans la forêt Al Borj : précisions de l’ANEF sur la ligne électrique à haute tension. L’Agence nationale des eaux et forêts (ANEF) a apporté des précisions sur les travaux actuellement en cours dans la forêt domaniale d’Al Borj, en périphérie de Tanger. Ces opérations, qui suscitent depuis quelques jours des réactions dans certains médias évoquant une prétendue destruction massive et illégale, s’inscrivent en réalité dans le cadre d’un projet autorisé . ', 'size': 2}], 'main_title': "Tanger: Des travaux forestiers techniques autorisés menés à la forêt Al Borj pour la mise en place d'une ligne électrique à haute tension"}, {'community_id': '1', 'articles': [{'id': '67', 'title': 'Singapour maintient sa position de premier centre maritime mondial', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/singapour-maintient-sa-position-de-premier-centre-maritime-mondial/', 'summary': 'Singapour maintient sa position de premier centre maritime mondial. Singapour a maintenu sa position en tant que premier centre maritime mondial pour la 12e année consécutive, selon le rapport 2025 de l’Indice de développement des centres maritimes internationaux Xinhua-Baltic (ISCDI). Le pays insulaire de l’Asie du Sud-Est s’est largement démarqué avec un score de 99,50 sur 100, précise le rapport qui évalue les principaux .', 'size': 2}, {'id': '80', 'title': 'Singapour maintient sa position de premier centre maritime mondial (Indice)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/singapour-maintient-sa-position-de-premier-centre-maritime-mondial-indice.html', 'summary': "Singapour maintient sa position de premier centre maritime mondial (Indice). Singapour a maintenu sa position en tant que premier centre maritime mondial pour la 12e année consécutive, selon le rapport 2025 de l'Indice de développement des centres maritimes internationaux Xinhua-Baltic (ISCDI). L’article est apparu en premier sur .", 'size': 2}], 'main_title': 'Singapour maintient sa position de premier centre maritime mondial'}, {'community_id': '6', 'articles': [{'id': '72', 'title': 'Crash d’Air India: L’alimentation en carburant coupée juste avant l’accident', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/crash-dair-india-lalimentation-en-carburant-coupee-juste-avant-laccident/', 'summary': 'Crash d’Air India: L’alimentation en carburant coupée juste avant l’accident. Les interrupteurs d’alimentation en carburant des moteurs du Boeing 787-8 d’Air India, qui s’est écrasé le mois dernier à Ahmedabad, tuant 260 personnes, se sont mis en position « arrêt » quelques instants avant le crash, selon un rapport préliminaire publié samedi par le Bureau indien d’enquête sur les accidents aériens (AAIB). Ce document de 15 pages, .', 'size': 2}, {'id': '79', 'title': 'Crash d’Air India : L’alimentation en carburant coupée juste avant l’accident (Rapport préliminaire)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/crash-dair-india-lalimentation-en-carburant-coupee-juste-avant-laccident-rapport-preliminaire.html', 'summary': 'Crash d’Air India : L’alimentation en carburant coupée juste avant l’accident (Rapport préliminaire). Les interrupteurs d’alimentation en carburant des moteurs du Boeing 787-8 d’Air India qui s’est écrasé le mois dernier à Ahmedabad tuant 260 personnes se sont mis en position « arrêt » quelques instants avant le crash, selon un rapport préliminaire publié samedi par le Bureau indien d’enquête sur les accidents aériens (AAIB). Ce document de 15 pages . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Crash d’Air India: L’alimentation en carburant coupée juste avant l’accident'}, {'community_id': '8', 'articles': [{'id': '75', 'title': 'Meeting de Monaco (Ligue de diamant): Soufiane El-Bakkali remporte le 3.000m steeple', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/meeting-de-monaco-ligue-de-diamant-soufiane-el-bakkali-remporte-le-3-000m-steeple/', 'summary': 'Meeting de Monaco (Ligue de diamant): Soufiane El-Bakkali remporte le 3.000m steeple. Le double champion du monde et olympique marocain Soufiane El-Bakkali a signé, vendredi soir, une nouvelle démonstration de force en remportant en solitaire le 3.000m steeple du meeting d’athlétisme de Monaco, comptant pour le circuit de la Diamond League. Le médaillé d’or olympique à Tokyo-2020 et à Paris-2024 et double champion du monde en titre .', 'size': 2}, {'id': '89', 'title': 'Meeting de Monaco – Diamond League : Soufiane El-Bakkali s’impose avec autorité sur le 3.000m steeple', 'source': 'lnt.ma', 'link': 'https://lnt.ma/meeting-de-monaco-diamond-league-soufiane-el-bakkali-simpose-avec-autorite-sur-le-3-000m-steeple/', 'summary': 'Meeting de Monaco – Diamond League : Soufiane El-Bakkali s’impose avec autorité sur le 3.000m steeple. Le champion marocain Soufiane El-Bakkali a remporté, vendredi soir, l’épreuve du 3.000 mètres steeple du meeting international d’athlétisme de Monaco, inscrit au calendrier de la Ligue de diamant. Avec un temps de 8 minutes 03 secondes et 18 centièmes, l’athlète a confirmé sa domination sur cette distance, dans une course maîtrisée de bout en bout. . ', 'size': 2}], 'main_title': 'Meeting de Monaco (Ligue de diamant): Soufiane El-Bakkali remporte le 3.000m steeple'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
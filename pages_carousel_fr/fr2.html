<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 15/10/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': 'U20 : Gessime Yassine convoité par six clubs de la Bundesliga', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445467-u20-gessime-yassine-convoite-par-six-clubs-de-la-bundesliga.html', 'summary': 'U20 : Gessime Yassine convoité par six clubs de la Bundesliga. Six clubs allemands de la Bundesliga s’intéressent à l’international marocain Gessime Yassine, qui a “brillé avec la sélection marocaine” à la Coupe du monde U20 de football au Chili, rapporte mardi le quotidien Bild. Il s’agit des clubs de Mayence, Hoffenheim, Stuttgart, Wolfsburg, Brême et Leipzig, qui suivent de près le “jeune prodige” de 19 . ', 'size': 2}, {'id': '217', 'title': 'Mondial U20 : Gessime Yassine convoité par 6 clubs de la Bundesliga', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/mondial-u20-gessime-yassine-convoite-par-6-clubs-de-la-bundesliga/307623', 'summary': 'Mondial U20 : Gessime Yassine convoité par 6 clubs de la Bundesliga. Il s’agit des clubs de Mayence, Hoffenheim, Stuttgart, Wolfsburg, Brême et Leipzig, qui suivent de près le “jeune prodige” de 19 ans, également convoité par Chelsea en Premier Leag.', 'size': 2}], 'main_title': 'U20 : Gessime Yassine convoité par six clubs de la Bundesliga'}, {'community_id': '1', 'articles': [{'id': '9', 'title': '«\xa0Sir B3id »\xa0: la nouvelle signature de inwi au service d’un Maroc digital et inclusif', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445432-sir-b3id-la-nouvelle-signature-de-inwi-au-service-dun-maroc-digital-et-inclusif.html', 'summary': '« Sir B3id » : la nouvelle signature de inwi au service d’un Maroc digital et inclusif. Plus qu’une promesse, « Sir B3id » incarne l’ambition de l’opérateur global de faire du digital un vecteur d’épanouissement et un levier pour la croissance économique du pays, en donnant à tous les Marocains les outils pour réussir dans leurs parcours personnels et professionnels. La nouvelle signature « Sir B3id » illustre également son engagement . ', 'size': 2}, {'id': '132', 'title': '« Sir B3id »: La nouvelle signature de inwi au service d’un Maroc digital et inclusif', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/sir-b3id-la-nouvelle-signature-de-inwi-au-service-dun-maroc-digital-et-inclusif/', 'summary': '« Sir B3id »: La nouvelle signature de inwi au service d’un Maroc digital et inclusif. En ouvrant ce nouveau chapitre, inwi souhaite accompagner, au quotidien, tous les Marocains dans leurs ambitions, leurs projets et leurs passions.', 'size': 2}], 'main_title': '«\xa0Sir B3id »\xa0: la nouvelle signature de inwi au service d’un Maroc digital et inclusif'}, {'community_id': '2', 'articles': [{'id': '25', 'title': 'Akhannouch reçoit une délégation de la province d’Anhui pour renforcer le partenariat économique Maroc–Chine', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/marocchine-akhannouch-recoit-une-delegation-de-la-province-danhui/307559', 'summary': 'Akhannouch reçoit une délégation de la province d’Anhui pour renforcer le partenariat économique Maroc–Chine. Cette rencontre a été l’occasion d’examiner les moyens de renforcer le partenariat économique privilégié entre le Royaume du Maroc et la République populaire de Chine, en droite li.', 'size': 2}, {'id': '133', 'title': 'Maroc-Chine: Akhannouch reçoit de hauts responsables et opérateurs économiques de la province d’Anhui', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/maroc-chine-akhannouch-recoit-de-hauts-responsables-et-operateurs-economiques-de-la-province-danhui/', 'summary': 'Maroc-Chine: Akhannouch reçoit de hauts responsables et opérateurs économiques de la province d’Anhui. Cette rencontre a permis de prospecter les moyens de renforcer le partenariat bilatéral dans le domaine de la transition énergétique. Objectif: accélérer le développement des énergies renouvelables dans le Royaume et ériger l’énergie verte en levier économique.', 'size': 2}], 'main_title': 'Akhannouch reçoit une délégation de la province d’Anhui pour renforcer le partenariat économique Maroc–Chine'}, {'community_id': '3', 'articles': [{'id': '46', 'title': "Ouverture d'une enquête suite à des allégations de corruption contre l’ex-gouverneur de Safi", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Ouverture-d-une-enquete-suite-a-des-allegations-de-corruption-contre-l-ex-gouverneur-de-Safi_a72836.html', 'summary': "Ouverture d'une enquête suite à des allégations de corruption contre l’ex-gouverneur de Safi. Le ministère de l’Intérieur a indiqué, mardi, avoir adressé une requête, étayée d’un rapport de l’Inspection générale de l’administration territoriale (IGAT), à la présidence du Ministère public en vue de l’ouverture d’une enquête suite aux déclarations faites par un membre du conseil communal de “Lamsabih”, relevant de la province de Safi.", 'size': 4}, {'id': '58', 'title': "Ouverture d'une enquête après des allégations de corruption contre l’ex-gouverneur de Safi", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/ouverture-dune-enquete-apres-des-allegations-de-corruption-contre-lex-gouverneur-de-safi_1955817/', 'summary': "Ouverture d'une enquête après des allégations de corruption contre l’ex-gouverneur de Safi. Le ministère de l’Intérieur a indiqué, mardi, avoir adressé une requête, étayée d’un rapport de l’Inspection générale de l’administration territoriale (IGAT), à la présidence du Ministère public en vue de l’ouverture d’une enquête suite aux déclarations faites par un membre du conseil communal de Lamsabih, relevant de la province de Safi. Dans ces déclarations, diffusées.", 'size': 4}, {'id': '103', 'title': 'Safi : Ouverture d’une enquête judiciaire pour corruption visant un ex-gouverneur', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178794/safi-ouverture-d-une-enquete-judiciaire.html', 'summary': 'Safi : Ouverture d’une enquête judiciaire pour corruption visant un ex-gouverneur. Le ministère de lIntérieur a annoncé, mardi 14 octobre, avoir saisi la présidence du Ministère public en déposant une requête, étayée par un rapport de lInspection générale de ladministration territoriale (IGAT), pour louverture dune enquête judiciaire. Cette décision fait suite aux déclarations dun membre du conseil communal de Lamsabih, relevant de la province de Safi.', 'size': 4}, {'id': '277', 'title': 'Corruption présumée à Safi : demande d’enquête sur l’ex-gouverneur adressée au Ministère public', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/corruption-presumee-a-safi-demande-denquete-sur-lex-gouverneur/', 'summary': 'Corruption présumée à Safi : demande d’enquête sur l’ex-gouverneur adressée au Ministère public. Le ministère de l’Intérieur a indiqué, mardi, avoir adressé une requête, étayée d’un rapport de l’Inspection générale de l’administration territoriale (IGAT), à la présidence du Ministère public en vue de l’ouverture d’une enquête suite aux déclarations faites par un membre du conseil communal de “Lamsabih”, relevant de la province de Safi. Dans ces déclarations, diffusées .', 'size': 4}], 'main_title': "Ouverture d'une enquête suite à des allégations de corruption contre l’ex-gouverneur de Safi"}, {'community_id': '4', 'articles': [{'id': '48', 'title': 'Le Chef du gouvernement appelle à plus de coordination entre les services publics et l’Institution du Médiateur', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-Chef-du-gouvernement-appelle-a-plus-de-coordination-entre-les-services-publics-et-l-Institution-du-Mediateur_a72806.html', 'summary': 'Le Chef du gouvernement appelle à plus de coordination entre les services publics et l’Institution du Médiateur. \u200bLe Chef du gouvernement, Aziz Akhannouch, a appelé lundi à renforcer la coordination, la coopération et la communication entre l’ensemble des services publics et l’Institution du Médiateur du Royaume.', 'size': 2}, {'id': '85', 'title': 'Akhannouch appelle à plus de coordination entre les services publics et l’Institution du Médiateur', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/akhannouch-appelle-a-plus-de-coordination-entre-les-services-publics-et-linstitution-du-mediateur_1955643/', 'summary': 'Akhannouch appelle à plus de coordination entre les services publics et l’Institution du Médiateur. Le Chef du gouvernement, Aziz Akhannouch, a appelé lundi à renforcer la coordination, la coopération et la communication entre l’ensemble des services publics et l’Institution du Médiateur du Royaume. Dans une note adressée aux ministres, ministres délégués, secrétaires d’Etat, hauts commissaires, et au délégué général, Akhannouch a souligné la nécessité d’appuyer les mécanismes susceptibles de.', 'size': 2}], 'main_title': 'Le Chef du gouvernement appelle à plus de coordination entre les services publics et l’Institution du Médiateur'}, {'community_id': '5', 'articles': [{'id': '59', 'title': "Instagram va filtrer davantage de contenus sur les comptes ados et encadrer l'IA", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/instagram-va-filtrer-davantage-de-contenus-sur-les-comptes-ados-et-encadrer-lia_1955809/', 'summary': "Instagram va filtrer davantage de contenus sur les comptes ados et encadrer l'IA. Meta a présenté mardi un nouveau dispositif destiné aux comptes Instagram d’adolescents, qui va filtrer encore davantage de contenus, notamment ceux liés à des tendances virales considérées comme potentiellement nocives. Le groupe prévoit aussi d’encadrer, à partir de l’année prochaine, les conversations que les jeunes utilisateurs peuvent avoir avec ses assistants d’intelligence artificielle (IA). Cette.", 'size': 2}, {'id': '95', 'title': 'Instagram va filtrer davantage les contenus sur les comptes ados', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/instagram-va-filtrer-davantage-les-contenus-sur-les-comptes-ados-311680/', 'summary': 'Instagram va filtrer davantage les contenus sur les comptes ados. Meta a présenté, mardi 14 octobre, un nouveau dispositif destiné aux comptes Instagram d’adolescents, qui va filtrer encore davantage de contenus, notamment ceux liés à des tendances virales', 'size': 2}], 'main_title': "Instagram va filtrer davantage de contenus sur les comptes ados et encadrer l'IA"}, {'community_id': '6', 'articles': [{'id': '62', 'title': "Automobile, énergie : le Maroc et la province chinoise d'Anhui renforcent leur coopération économique", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/le-maroc-et-la-province-chinoise-danhui-renforcent-leur-cooperation-economique_1955787/', 'summary': "Automobile, énergie : le Maroc et la province chinoise d'Anhui renforcent leur coopération économique. Le Chef du gouvernement, Aziz Akhannouch, a reçu lundi 13 octobre à Rabat une délégation de hauts responsables et d’opérateurs économiques de la province chinoise d’Anhui, conduite par le Secrétaire du Parti Communiste Chinois pour cette province, Liang Yanshun. Cette rencontre a permis d’examiner les moyens de renforcer le partenariat économique privilégié entre le Maroc.", 'size': 2}, {'id': '110', 'title': 'Le Chef du gouvernement reçoit une délégation de hauts responsables et d’opérateurs économiques de la province chinoise d’Anhui', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-chef-du-gouvernement-recoit-une-delegation-de-hauts-responsables-et-doperateurs-economiques-de-la-province-chinoise-danhui', 'summary': 'Le Chef du gouvernement reçoit une délégation de hauts responsables et d’opérateurs économiques de la province chinoise d’Anhui. Le Chef du gouvernement, M. Aziz Akhannouch a reçu, lundi 13 octobre 2025 à Rabat, une délégation de hauts responsables et d’opérateurs économiques de la Province chinoise d’Anhui, conduite par le Secrétaire du Parti Communiste Chinois pour la Province d’Anhui, M. Liang Yanshun. Cette rencontre a été l’occasion d’examiner les moyens de renforcer le partenariat .', 'size': 2}], 'main_title': "Automobile, énergie : le Maroc et la province chinoise d'Anhui renforcent leur coopération économique"}, {'community_id': '7', 'articles': [{'id': '65', 'title': 'Bourse : légère baisse de la confiance des investisseurs en octobre', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/bourse-legere-baisse-de-la-confiance-des-investisseurs-en-octobre_1955754/', 'summary': 'Bourse : légère baisse de la confiance des investisseurs en octobre. L’Indice de confiance des investisseurs en Bourse, élaboré par Attijari Global Research (AGR), s’est établi à 61,6 points (pts) en octobre 2025, affichant un repli de 1,5 points par rapport à l’édition précédente. Cette baisse s’explique principalement par le changement de perception des investisseurs étrangers, indique la filiale d’Attijariwafa Bank dans son “Research Report –.', 'size': 4}, {'id': '254', 'title': 'Bourse : Légère baisse de la confiance des investisseurs en octobre', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/bourse-legere-baisse-de-la-confiance-des-investisseurs-en-octobre', 'summary': 'Bourse : Légère baisse de la confiance des investisseurs en octobre. AGR : L’Indice de confiance des investisseurs en Bourse, élaboré par Attijari Global Research (AGR), s’est établi à 61,6 points (pts) en octobre 2025, affichant un repli de 1,5 point par rapport à l’édition précédente. Cette baisse s’explique principalement par le changement de perception des investisseurs étrangers, indique la filiale d’Attijariwafa bank dans son «Research .', 'size': 4}, {'id': '288', 'title': 'Marché boursier : l’indice de confiance en léger repli, selon AGR', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/marche-boursier-lindice-de-confiance-en-leger-repli-selon-agr.html', 'summary': 'Marché boursier : l’indice de confiance en léger repli, selon AGR. L’indice de confiance des investisseurs en bourse, publié par Attijari Global Research, a reculé à 61,6 points en octobre, soit une baisse de 1,5 point par rapport à l’édition précédente. ', 'size': 4}, {'id': '295', 'title': 'AGR : Léger repli du moral des investisseurs en Bourse', 'source': 'lnt.ma', 'link': 'https://lnt.ma/agr-leger-repli-du-moral-des-investisseurs-en-bourse-au-maroc-en-octobre-tire-par-les-etrangers/', 'summary': 'AGR : Léger repli du moral des investisseurs en Bourse. Le niveau de confiance des investisseurs sur le marché boursier marocain a connu un léger fléchissement au quatrième trimestre 2025, selon le dernier Indice de Confiance des Investisseurs en Bourse (ICIB) publié par Attijari Global Research (AGR). L’indice s’établit à 61,6 points, en baisse de 1,5 point par rapport à l’édition précédente, marquant un ajustement . ', 'size': 4}], 'main_title': 'Bourse : légère baisse de la confiance des investisseurs en octobre'}, {'community_id': '8', 'articles': [{'id': '81', 'title': "Le taux d'interaction du gouvernement avec les questions écrites du Parlement atteint 70%", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/le-taux-dinteraction-du-gouvernement-avec-les-questions-ecrites-du-parlement-atteint-70_1955650/', 'summary': "Le taux d'interaction du gouvernement avec les questions écrites du Parlement atteint 70%. Le taux d’interaction du gouvernement avec les questions écrites des deux chambres du Parlement a atteint 70% depuis le début de la législature jusqu’au 9 octobre, a affirmé, lundi à la Chambre des représentants, le ministre délégué chargé des relations avec le Parlement, porte-parole du gouvernement, Mustapha Baitas. En réponse à une question orale sur.", 'size': 2}, {'id': '144', 'title': 'Baitas : «\xa0Le taux d’interaction du gouvernement avec les questions écrites du Parlement atteint 70%\xa0»', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/baitas-le-taux-dinteraction-du-gouvernement-avec-les-questions-ecrites-du-parlement-atteint-70/', 'summary': 'Baitas : « Le taux d’interaction du gouvernement avec les questions écrites du Parlement atteint 70% ». Le gouvernement a répondu à environ 23.000 questions écrites sur un total de 33.000 posées par les députés et les conseillers parlementaires.', 'size': 2}, {'id': '287', 'title': 'Parlement : le gouvernement affirme avoir répondu à 70% des questions écrites', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/parlement-le-gouvernement-affirme-avoir-repondu-a-70-des-questions-ecrites.html', 'summary': 'Parlement : le gouvernement affirme avoir répondu à 70% des questions écrites. Le gouvernement a répondu à près de 70% des questions écrites adressées par les parlementaires depuis le début de la législature, soit environ 23.000 sur un total de 33.000, a indiqué Mustapha Baitas, ministre délégué chargé des relations avec le Parlement. ', 'size': 3}], 'main_title': 'Parlement : le gouvernement affirme avoir répondu à 70% des questions écrites'}, {'community_id': '9', 'articles': [{'id': '89', 'title': 'Economie nationale : une croissance de 5,5% au 2e trimestre 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/14/economie-nationale-une-croissance-de-55-au-2e-trimestre-2025_1955635/', 'summary': 'Economie nationale : une croissance de 5,5% au 2e trimestre 2025. L’économie nationale a enregistré une croissance de 5,5% au deuxième trimestre 2025, atteignant son rythme le plus élevé depuis la phase de rattrapage post-Covid en 2021, selon le Haut-Commissariat au Plan (HCP). Cette performance s’est accompagnée d’une amélioration plus tempérée de la situation du marché du travail, avec une progression de l’emploi rémunéré de 1,4%,.', 'size': 2}, {'id': '143', 'title': 'Économie nationale : Une croissance de 5,5% au deuxième trimestre 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/economie-nationale-une-croissance-de-55-au-deuxieme-trimestre-2025/', 'summary': 'Économie nationale : Une croissance de 5,5% au deuxième trimestre 2025. L’économie nationale a enregistré une croissance de 5,5% au deuxième trimestre 2025, atteignant son rythme le plus élevé depuis la phase de rattrapage post-Covid en 2021, selon le Haut-Commissariat au plan (HCP).', 'size': 2}], 'main_title': 'Economie nationale : une croissance de 5,5% au 2e trimestre 2025'}, {'community_id': '10', 'articles': [{'id': '127', 'title': 'Barrages : Le taux de remplissage recule à 32%', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/barrages-le-taux-de-remplissage-recule-a-32/', 'summary': 'Barrages : Le taux de remplissage recule à 32%. En réponse à une question sur la "politique de l’eau destinée aux zones rurales", Nizar Baraka a précisé que la baisse du niveau des barrages est principalement due au volume des ressources en eau allouées à l’agriculture et à l’eau potable, ainsi qu’à l’évaporation d’un total de 650 millions de mètres cubes à cause des vagues de chaleur extrême.', 'size': 3}, {'id': '146', 'title': 'Le taux de remplissage des barrages est actuellement de 32%', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-taux-de-remplissage-des-barrages-est-actuellement-de-32/', 'summary': 'Le taux de remplissage des barrages est actuellement de 32%. Le taux de remplissage des barrages est actuellement de 32%, contre 40% en mai dernier, a affirmé, mardi, le ministre de l’Équipement et de l’Eau, Nizar Baraka, lors de la séance des questions orales à la Chambre des conseillers. En réponse à une question sur la « politique de l’eau destinée aux zones rurales », le ministre .', 'size': 3}, {'id': '216', 'title': "Pénurie d'eau : Nizar Baraka dresse un bilan alarmant de la situation des barrages", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/penurie-deau-nizar-baraka-dresse-un-bilan-alarmant/307624', 'summary': "Pénurie d'eau : Nizar Baraka dresse un bilan alarmant de la situation des barrages. En réponse à une question sur la politique de l’eau destinée aux zones rurales, le ministre de l'Équipement et de l’Eau, Nizar Baraka a dressé un bilan alarmant de.", 'size': 4}, {'id': '233', 'title': 'Baisse du taux de remplissage des barrages, actuellement de 32%', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/15/baisse-du-taux-de-remplissage-des-barrages-actuellement-de-32_1955831/', 'summary': 'Baisse du taux de remplissage des barrages, actuellement de 32%. Le taux de remplissage des barrages est actuellement de 32%, contre 40% en mai dernier, a affirmé, mardi, le ministre de l’Équipement et de l’Eau, Nizar Baraka, lors de la séance des questions orales à la Chambre des conseillers. En réponse à une question sur la « politique de l’eau destinée aux zones rurales », le ministre.', 'size': 4}], 'main_title': "Pénurie d'eau : Nizar Baraka dresse un bilan alarmant de la situation des barrages"}, {'community_id': '11', 'articles': [{'id': '131', 'title': 'Assemblées annuelles FMI-BM: Nadia Fettah met en avant les réformes à long terme engagées par le Maroc', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/assemblees-annuelles-fmi-bm-nadia-fettah-met-en-avant-les-reformes-a-long-terme-engagees-par-le-maroc/', 'summary': "Assemblées annuelles FMI-BM: Nadia Fettah met en avant les réformes à long terme engagées par le Maroc. La ministre de l'Economie et des Finances a souligné, à Washington l’intérêt des politiques publiques axées sur la création d'emplois, notamment à travers des réformes du système de l’éducation et de l’enseignement, ainsi que la formation de professionnels qualifiés pour répondre aux besoins des secteurs industriels.", 'size': 2}, {'id': '276', 'title': 'À Washington, Nadia Fettah souligne les réformes structurelles menées sous le leadership de S.M. le Roi', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/a-washington-nadia-fettah-souligne-les-reformes-structurelles-menees/', 'summary': 'À Washington, Nadia Fettah souligne les réformes structurelles menées sous le leadership de S.M. le Roi. La ministre de l’Economie et des Finances, Nadia Fettah, a mis en avant, mardi à Washington, les réformes de développement à long terme engagées par le Maroc sous le leadership de Sa Majesté le Roi Mohammed VI, tout en soulignant l’importance des politiques publiques centrées sur la création d’emplois, notamment en faveur des jeunes. Intervenant .', 'size': 2}], 'main_title': 'Assemblées annuelles FMI-BM: Nadia Fettah met en avant les réformes à long terme engagées par le Maroc'}, {'community_id': '12', 'articles': [{'id': '150', 'title': 'Le CESE appelle à renforcer les compétences du CNP pour promouvoir la liberté et la déontologie de la presse', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-cese-appelle-a-renforcer-les-competences-du-cnp-pour-promouvoir/', 'summary': 'Le CESE appelle à renforcer les compétences du CNP pour promouvoir la liberté et la déontologie de la presse. Le Conseil économique, social et environnemental (CESE) a appelé à apporter l’équilibre nécessaire à l’architecture législative du projet de loi relatif à la réorganisation du Conseil national de la presse (CNP), en renforçant les compétences du Conseil et de ses structures de manière à promouvoir la liberté et la déontologie de la profession et à .', 'size': 2}, {'id': '289', 'title': 'Presse : le CESE plaide pour une gouvernance plus équilibrée et inclusive du CNP', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/presse-le-cese-plaide-pour-une-gouvernance-plus-equilibree-et-inclusive-du-cnp.html', 'summary': 'Presse : le CESE plaide pour une gouvernance plus équilibrée et inclusive du CNP. Le CESE a pris part, lundi, à la journée d’étude dédiée au projet de loi 026.25 sur la réorganisation du Conseil national de la presse (CNP). ', 'size': 2}], 'main_title': 'Le CESE appelle à renforcer les compétences du CNP pour promouvoir la liberté et la déontologie de la presse'}, {'community_id': '13', 'articles': [{'id': '177', 'title': 'Journée nationale de l’alphabétisation : l’ANLCA lance une campagne nationale avec l’appui de l’Union européenne', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/journee-nationale-de-lalphabetisation-lanlca-lance-une-campagne-nationale-avec-lappui-de-lunion-europeenne.html', 'summary': 'Journée nationale de l’alphabétisation : l’ANLCA lance une campagne nationale avec l’appui de l’Union européenne. À l’occasion de la Journée nationale de l’alphabétisation, l’Agence nationale de lutte contre l’analphabétisme (ANLCA) a lancé une campagne nationale de sensibilisation sous le slogan «Faites le premier pas», avec le soutien de l’Union européenne. ', 'size': 2}, {'id': '190', 'title': 'Journée nationale de l’alphabétisation : une nouvelle dynamique portée par l’ANLCA et l’Union européenne', 'source': 'lnt.ma', 'link': 'https://lnt.ma/journee-nationale-de-lalphabetisation-une-nouvelle-dynamique-portee-par-lanlca-et-lunion-europeenne/', 'summary': 'Journée nationale de l’alphabétisation : une nouvelle dynamique portée par l’ANLCA et l’Union européenne. À l’occasion de la Journée nationale de l’alphabétisation, célébrée chaque année le 13 octobre, l’Agence nationale de lutte contre l’analphabétisme (ANLCA) a donné, ce lundi à Rabat, le coup d’envoi officiel d’une Campagne nationale de lutte contre l’analphabétisme, organisée avec le soutien de l’Union européenne au Maroc. Cet événement marque un moment fort de sensibilisation . ', 'size': 2}], 'main_title': 'Journée nationale de l’alphabétisation : l’ANLCA lance une campagne nationale avec l’appui de l’Union européenne'}, {'community_id': '14', 'articles': [{'id': '187', 'title': 'Qualifs Mondial 2026 | Le Maroc s’impose face au Congo (1-0) et bat un record mondial', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/qualifs-mondial-2026-le-maroc-simpose-face-au-congo-1-0-et-bat-un-record-mondial/', 'summary': 'Qualifs Mondial 2026 | Le Maroc s’impose face au Congo (1-0) et bat un record mondial. La sélection nationale de football, déjà qualifiée au Mondial 2026, a réalisé le carton plein aux éliminatoires africaines, en s’imposant face à son homologue congolaise (1-0), mardi soir au stade Prince Moulay Abdellah de Rabat, lors de la 10e et dernière journée du Groupe E, battant par la même occasion le record mondial des victoires ', 'size': 3}, {'id': '189', 'title': 'Qualifications Mondial 2026: record mondial de victoires pour le Maroc après son succès contre le Congo', 'source': 'lnt.ma', 'link': 'https://lnt.ma/qualifications-mondial-2026-record-mondial-de-victoires-pour-le-maroc-apres-son-succes-contre-le-congo/', 'summary': 'Qualifications Mondial 2026: record mondial de victoires pour le Maroc après son succès contre le Congo. Déjà qualifiée pour la Coupe du monde 2026, la sélection marocaine de football a conclu sa campagne des éliminatoires africaines par une victoire 1–0 face à la République du Congo, mardi soir au stade Prince Moulay Abdellah de Rabat, lors de la 10e et dernière journée du groupe E. Ce résultat porte à seize le . ', 'size': 3}, {'id': '237', 'title': "Eliminatoires Mondial-2026 : le Maroc s'impose face au Congo, bat le record mondial en signant sa 16e victoire d'affilée", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/15/eliminatoires-mondial-2026-le-maroc-simpose-face-au-congo-bat-le-record-mondial-en-signant-sa-16e-victoire-daffilee_1955825/', 'summary': "Eliminatoires Mondial-2026 : le Maroc s'impose face au Congo, bat le record mondial en signant sa 16e victoire d'affilée. La sélection nationale de football, déjà qualifiée au Mondial 2026, a réalisé un carton plein aux éliminatoires africaines, en s’imposant face à son homologue congolaise (1-0), mardi soir au stade Prince Moulay Abdellah de Rabat, lors de la 10e et dernière journée du Groupe E, battant par la même occasion le record mondial des victoires.", 'size': 4}, {'id': '248', 'title': 'Football : Record de 16 victoires consécutives pour le Maroc qui détrône l’Espagne et l’Allemagne', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178812/football-record-victoires-consecutives-pour.html', 'summary': 'Football : Record de 16 victoires consécutives pour le Maroc qui détrône l’Espagne et l’Allemagne. La sélection du Maroc a réalisé un exploit historique en signant un record mondial de 16 victoires d’affilée, après s’être imposée face au Congo (1-0) lors du match disputé mardi soir, au stade Prince Moulay Abdellah à Rabat. Grâce à cette performance, le Onze national détrône l’Espagne et l’Allemagne, qui occupaient la première place avec 15 victoires consécutives, respectivement en (2008-2009) et (2010-2011).', 'size': 3}, {'id': '273', 'title': 'Football : la sélection nationale signe un record de 16 victoires consécutives, devant l’Espagne et l’Allemagne', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/football-la-selection-nationale-signe-un-record-de-16-victoires-consecutives/', 'summary': 'Football : la sélection nationale signe un record de 16 victoires consécutives, devant l’Espagne et l’Allemagne. La sélection nationale de football a réalisé un exploit historique en signant un record mondial de 16 victoires d’affilée en s’imposant face au Congo (1-0) lors du match disputé mardi soir au stade Prince Moulay Abdellah à Rabat. Grâce à cette performance, le Maroc a ainsi réussi à détrôner l’Espagne et l’Allemagne qui occupaient la .', 'size': 2}], 'main_title': "Eliminatoires Mondial-2026 : le Maroc s'impose face au Congo, bat le record mondial en signant sa 16e victoire d'affilée"}, {'community_id': '15', 'articles': [{'id': '200', 'title': 'La startup marocaine Chari réussit une levée de fonds de 12 millions de dollars', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445527-la-startup-marocaine-chari-reussit-une-levee-de-fonds-de-12-millions-de-dollars.html', 'summary': 'La startup marocaine Chari réussit une levée de fonds de 12 millions de dollars. La startup marocaine Chari a annoncé une levée de fonds de 12 millions de dollars en Série A, la plus importante de ce type au Maroc. Soutenue par Y Combinator et fondée en 2020 par le couple Ismael Belkhayat et Sophia Alj, la startup a réussi cette levée de fonds co-dirigée par SPE Capital et . ', 'size': 3}, {'id': '264', 'title': 'Établissement de paiement : Chari lève 12 millions de dollars et décroche l’agrément de Bank Al-Maghrib', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/etablissement-de-paiement-chari-leve-12-millions-de-dollars-et-decroche-lagrement-de-bank-al-maghrib/', 'summary': 'Établissement de paiement : Chari lève 12 millions de dollars et décroche l’agrément de Bank Al-Maghrib. Chari, la start-up marocaine soutenue par Y Combinator et fondée en 2020 par le couple Ismael Belkhayat et Sophia Alj, annonce une levée de fonds de 12 millions de dollars en Série A, la plus importante de ce type au Maroc.', 'size': 3}, {'id': '292', 'title': 'Chari annonce une levée de 12 millions de dollars et obtient une licence d’établissement de paiement', 'source': 'lnt.ma', 'link': 'https://lnt.ma/chari-annonce-une-levee-de-12-millions-de-dollars-et-obtient-une-licence-detablissement-de-paiement/', 'summary': 'Chari annonce une levée de 12 millions de dollars et obtient une licence d’établissement de paiement. Chari, startup marocaine fondée en 2020 par Ismael Belkhayat et Sophia Alj et passée par Y Combinator, a annoncé une levée de fonds en Série A de 12 millions de dollars. Selon l’entreprise, il s’agit de la plus importante levée de ce type réalisée au Maroc. Le total des capitaux levés par Chari atteint désormais . ', 'size': 3}], 'main_title': 'La startup marocaine Chari réussit une levée de fonds de 12 millions de dollars'}, {'community_id': '16', 'articles': [{'id': '213', 'title': 'Tourisme : 15 millions d’arrivées au Maroc à fin septembre 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tourisme-15-millions-darrivees-au-maroc-a-fin-septembre-2025/307629', 'summary': 'Tourisme : 15 millions d’arrivées au Maroc à fin septembre 2025. Le mois de septembre a enregistré 1,4 million d’arrivées touristiques, en hausse de 9% en un an, précise le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solida.', 'size': 3}, {'id': '238', 'title': 'Maroc: 15 millions d’arrivées touristiques en neuf mois (+14%)', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/maroc-15-millions-darrivees-touristiques-en-neuf-mois-14-311741/', 'summary': 'Maroc: 15 millions d’arrivées touristiques en neuf mois (+14%). Le Maroc a accueilli 15 millions de touristes à fin septembre 2025, soit une progression de 14% par rapport à la même période de l’année précédente, d’après le', 'size': 2}, {'id': '272', 'title': 'Tourisme : 15 millions d’arrivées à fin septembre 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/tourisme-15-millions-darrivees-a-fin-septembre/', 'summary': 'Tourisme : 15 millions d’arrivées à fin septembre 2025. Le Maroc a accueilli 15 millions de touristes à fin septembre 2025, soit une progression de 14% par rapport à la même période de l’année précédente, d’après le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Le mois de septembre a enregistré 1,4 million d’arrivées, en hausse de 9% en un an, .', 'size': 3}, {'id': '290', 'title': 'Le Maroc a accueilli 15 millions de touristes fin septembre', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-maroc-a-accueilli-15-millions-de-touristes-fin-septembre.html', 'summary': 'Le Maroc a accueilli 15 millions de touristes fin septembre. Le Maroc a accueilli 15 millions de touristes à fin septembre 2025, soit une progression de 14% par rapport à la même période de l’année précédente, d’après le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Le mois de septembre a enregistré 1,4 million d’arrivées, en hausse de 9% en un an, . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'Le Maroc a accueilli 15 millions de touristes fin septembre'}, {'community_id': '17', 'articles': [{'id': '218', 'title': "Cristiano Ronaldo devient le meilleur buteur de l'histoire des éliminatoires du Mondial", 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/ronaldo-meilleur-buteur-de-lhistoire-des-eliminatoires-du-mondial/307625', 'summary': "Cristiano Ronaldo devient le meilleur buteur de l'histoire des éliminatoires du Mondial. Le quintuple Ballon d’Or, Cristiano Ronaldo, qui partageait jusqu’alors ce record avec le Guatémaltèque Carlos Ruiz, auteur de 39 buts en éliminatoires, a ouvert le score à la 22e.", 'size': 2}, {'id': '274', 'title': 'Football: Cristiano Ronaldo devient le meilleur buteur de l’histoire des éliminatoires', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/football-cristiano-ronaldo-devient-le-meilleur-buteur-de-lhistoire-des-eliminatoires/', 'summary': 'Football: Cristiano Ronaldo devient le meilleur buteur de l’histoire des éliminatoires. L’attaquant portugais Cristiano Ronaldo est entré un peu plus dans la légende du football mondial en devenant, mardi, à 40 ans, le meilleur buteur de l’histoire des qualifications de la Coupe du monde, grâce à un doublé inscrit face à la Hongrie, portant son total à 41 réalisations. Le quintuple Ballon d’Or, qui partageait jusqu’alors .', 'size': 2}], 'main_title': "Cristiano Ronaldo devient le meilleur buteur de l'histoire des éliminatoires du Mondial"}, {'community_id': '18', 'articles': [{'id': '223', 'title': 'L’INDH et l’UM6P scellent un partenariat pour promouvoir l’innovation au service du développement humain', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/L-INDH-et-l-UM6P-scellent-un-partenariat-pour-promouvoir-l-innovation-au-service-du-developpement-humain_a72849.html', 'summary': 'L’INDH et l’UM6P scellent un partenariat pour promouvoir l’innovation au service du développement humain. La Coordination Nationale de l’Initiative Nationale pour le Développement Humain (CN-INDH) et l’Université Mohammed VI Polytechnique (UM6P) ont signé, lundi, une Convention-Cadre de Partenariat visant à créer des synergies durables entre la recherche universitaire et les politiques publiques de développement humain.', 'size': 2}, {'id': '229', 'title': 'L’INDH et l’UM6P concluent un partenariat pour mettre la science au service du développement humain', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/15/lindh-et-lum6p-concluent-un-partenariat-pour-mettre-la-science-au-service-du-developpement-humain_1955896/', 'summary': 'L’INDH et l’UM6P concluent un partenariat pour mettre la science au service du développement humain. La coordination nationale de l’Initiative nationale pour le développement humain (CN-INDH) et l’Université Mohammed VI Polytechnique (UM6P) ont signé, lundi, une convention-cadre de partenariat visant à créer des synergies durables entre la recherche universitaire et les politiques publiques de développement humain. Ce partenariat permettra de structurer ladite collaboration dans les domaines de l’ingénierie sociale, de.', 'size': 2}], 'main_title': 'L’INDH et l’UM6P scellent un partenariat pour promouvoir l’innovation au service du développement humain'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
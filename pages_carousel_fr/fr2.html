<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 28/08/2025 - 12h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '11', 'articles': [{'id': '9', 'title': "Exportations d'oignons : une saison record et de nouveaux marchés conquis", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438869-exportations-doignons-une-saison-record-et-de-nouveaux-marches-conquis.html', 'summary': "Exportations d'oignons : une saison record et de nouveaux marchés conquis. Après une année marquée par des restrictions, les exportations d’oignons frais du Maroc ont explosé, atteignant des niveaux historiques et ouvrant de nouvelles perspectives commerciales, notamment au Moyen-Orient. Selon les données du Global Trade Tracker relayées par la plateforme spécialisée EastFruit, le Royaume a expédié pas moins de 64.900 tonnes d’oignons frais entre juin 2024 . ", 'size': 2}, {'id': '86', 'title': "Maroc : Les exportations d'oignons atteignent un niveau record jusqu'en mai 2025", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175060/maroc-exportations-d-oignons-atteignent-niveau.html', 'summary': "Maroc : Les exportations d'oignons atteignent un niveau record jusqu'en mai 2025. Les exportations doignons frais du Maroc ont atteint des niveaux records suite à la levée des restrictions en 2024. Selon EastFruit, entre juin 2024 et mai 2025, le pays a expédié 64 900 tonnes doignons pour une valeur de 238 millions de dollars, soit une augmentation de 4,8 fois par rapport à la saison précédente et 3% de plus que le record de 2022/23.", 'size': 2}], 'main_title': "Exportations d'oignons : une saison record et de nouveaux marchés conquis"}, {'community_id': '1', 'articles': [{'id': '27', 'title': 'Régulation des marchés : 174 décisions et avis rendus en 2024, le Conseil de la concurrence dresse son bilan', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/2024-une-annee-charniere-pour-le-conseil-de-la-concurrence/298327', 'summary': 'Régulation des marchés : 174 décisions et avis rendus en 2024, le Conseil de la concurrence dresse son bilan. La majeure partie de l’activité décisionnelle du Conseil a porté sur le contrôle préventif des concentrations économiques, qui représente plus de 93% des décisions rendues. Au tota.', 'size': 2}, {'id': '68', 'title': 'Régulation des marchés : le Conseil de la concurrence rend 174 décisions et avis en 2024', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/27/regulation-des-marches-le-conseil-de-la-concurrence-rend-174-decisions-et-avis-en-2024_1947711/', 'summary': 'Régulation des marchés : le Conseil de la concurrence rend 174 décisions et avis en 2024. Le Conseil de la concurrence a rendu 174 décisions et avis en 2024 dans le cadre de la régulation des marchés, ressort-il du rapport annuel dudit conseil au titre de l’année 2024. Ce bilan couvre les différents champs de compétence du Conseil, tels que prévus par l’article 166 de la Constitution, la loi n°104-12 relative.', 'size': 2}], 'main_title': 'Régulation des marchés : 174 décisions et avis rendus en 2024, le Conseil de la concurrence dresse son bilan'}, {'community_id': '13', 'articles': [{'id': '34', 'title': 'La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté (Bourita)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/la-vision-royale-consacre-la-mer-comme-pilier-de-prosperite-bourita/298283', 'summary': 'La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté (Bourita). Dans une allocution lue en son nom à l’ouverture d’un séminaire sous le thème Pratiques internationales dans la délimitation des espaces maritimes, organisé en partenar.', 'size': 2}, {'id': '182', 'title': 'Espace maritime : Un levier stratégique au cœur  de la vision Royale', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/espace-maritime-un-levier-strategique-au-coeur-de-la-vision-royale', 'summary': 'Espace maritime : Un levier stratégique au cœur de la vision Royale. Souveraineté maritime En ouverture d’un séminaire international sur «Les pratiques internationales dans la délimitation des espaces maritime», Nasser Bourita a rappelé la Vision Royale érigeant la mer comme pilier stratégique de prospérité. Une approche qui intègre à la fois le développement portuaire, la reconstitution d’une flotte marchande et une initiative prometteuse plaçant le Maroc au .', 'size': 2}], 'main_title': 'La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté (Bourita)'}, {'community_id': '3', 'articles': [{'id': '36', 'title': 'CHAN : le billet de la finale a été amplement mérité face à une solide équipe du Sénégal (Sektioui)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/chan-le-billet-de-la-finale-a-ete-amplement-merite-sektioui/298280', 'summary': 'CHAN : le billet de la finale a été amplement mérité face à une solide équipe du Sénégal (Sektioui). « On ne peut qu’être fiers de cette qualification qui a été très difficile face au Sénégal, une sélection qui dispose de joueurs disciplinés tactiquement, des défenseurs solides et.', 'size': 2}, {'id': '71', 'title': "CHAN-2024 : les Lions de l’Atlas battent le Sénégal et se rapprochent d'un troisième sacre", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/27/chan-2024-les-lions-de-latlas-battent-le-senegal-et-se-rapprochent-dun-troisieme-sacre_1947703/', 'summary': "CHAN-2024 : les Lions de l’Atlas battent le Sénégal et se rapprochent d'un troisième sacre. L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour la finale du Championnat d’Afrique des nations (CHAN) après sa victoire face à son homologue sénégalaise par 5 tirs au but à 3 (temps réglementaire et prolongations 1-1), en demi-finale disputée, mardi soir, au stade Mandela à Kampala. Les Lions de l’Atlas se sont qualifiés.", 'size': 2}, {'id': '124', 'title': 'CHAN-2024 (demi-finale) : «\xa0le billet de la finale a été amplement méritée face à une solide équipe du Sénégal\xa0» (Tarik Sektioui)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/chan-2024-demi-finale-le-billet-de-la-finale-a-ete-amplement-meritee-face-a-une-solide-equipe-du-senegal-tarik-sektioui.html', 'summary': 'CHAN-2024 (demi-finale) : « le billet de la finale a été amplement méritée face à une solide équipe du Sénégal » (Tarik Sektioui). L’entraineur de la sélection marocaine des joueurs locaux, Tarik Sektioui a affirmé, mardi à Kampala, que la qualification de l’équipe du Maroc en finale du Championnat d’Afrique des nations (CHAN) de football a été amplement méritée face au Sénégal. « On ne peut qu’être fiers de cette qualification qui a été très difficile face au . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'CHAN-2024 (demi-finale) : «\xa0le billet de la finale a été amplement méritée face à une solide équipe du Sénégal\xa0» (Tarik Sektioui)'}, {'community_id': '9', 'articles': [{'id': '39', 'title': 'Marsa Maroc : forte dynamique au premier semestre 2025 avec un chiffre d’affaires en hausse de 14,5%', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/marsa-maroc-forte-dynamique-au-premier-semestre-2025/298279', 'summary': 'Marsa Maroc : forte dynamique au premier semestre 2025 avec un chiffre d’affaires en hausse de 14,5%. Le volume global du trafic manutentionné par le groupe s’est établi à 33,6 millions de tonnes à fin juin 2025, en hausse de 8% sur un an. La croissance a été observée sur l’ensembl.', 'size': 2}, {'id': '172', 'title': "Marsa Maroc : le chiffre d'affaires bondit de 14,5 % au 1er semestre 2025", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175127/marsa-maroc-chiffre-d-affaires-bondit.html', 'summary': "Marsa Maroc : le chiffre d'affaires bondit de 14,5 % au 1er semestre 2025. Marsa Maroc a enregistré une hausse de 8 % du trafic de marchandises, atteignant 33,6 millions de tonnes au 30 juin 2025, grâce à une croissance dans tous les segments. Le chiffre daffaires consolidé a progressé de 14,5 %, atteignant 2,84 milliards de dirhams, soutenu par une activité accrue et des services logistiques supplémentaires, selon le rapport financier trimestriel de lentreprise.", 'size': 2}], 'main_title': 'Marsa Maroc : forte dynamique au premier semestre 2025 avec un chiffre d’affaires en hausse de 14,5%'}, {'community_id': '5', 'articles': [{'id': '58', 'title': 'Contrebande : 284 MDH de marchandises saisies par la Douane en 2024', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Contrebande-284-MDH-de-marchandises-saisies-par-la-Douane-en-2024_a71130.html', 'summary': "Contrebande : 284 MDH de marchandises saisies par la Douane en 2024. La valeur des marchandises de contrebande saisies par les services douaniers s’est établie à 284 millions de dirhams (MDH) en 2024, enregistrant une hausse modérée de 7,74% comparativement à une année auparavant, ressort-il du rapport d'activité 2024 de l'Administration des Douanes et Impôts indirects (ADII).", 'size': 2}, {'id': '70', 'title': 'Contrôle des voyageurs : saisie de 167 MDH de devises en 2024', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/27/controle-des-voyageurs-saisie-de-167-mdh-de-devises-en-2024_1947704/', 'summary': 'Contrôle des voyageurs : saisie de 167 MDH de devises en 2024. Le montant global des devises saisies lors du contrôle des voyageurs s’est élevé à 167 millions de dirhams (MDH) en 2024, en hausse de 59% par rapport à une année auparavant, selon l’Administration des Douanes et Impôts indirects (ADII). Durant 2024, l’ADII a intensifié ses efforts en matière de contrôle des mouvements de devises et.', 'size': 3}, {'id': '132', 'title': 'Recettes douanières : un record historique de 144,8 MMDH en 2024', 'source': 'lnt.ma', 'link': 'https://lnt.ma/recettes-douanieres-un-record-historique-de-1448-mmdh-en-2024/', 'summary': 'Recettes douanières : un record historique de 144,8 MMDH en 2024. Les recettes douanières encaissées ont atteint un record historique de 144,8 milliards de dirhams (MMDH) au titre de l’année 2024 contre 132,5 MMDH en 2023, affichant un taux de croissance de 9,2%, selon l’Administration des Douanes et Impôts Indirects (ADII). Cette performance s’explique principalement par la hausse des recettes de la taxe sur la valeur . ', 'size': 2}], 'main_title': 'Contrôle des voyageurs : saisie de 167 MDH de devises en 2024'}, {'community_id': '10', 'articles': [{'id': '65', 'title': 'Maroc-Niger : tous les tickets vendus en 24h', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/27/maroc-niger-tous-les-tickets-vendus-en-24h_1947735/', 'summary': 'Maroc-Niger : tous les tickets vendus en 24h. Le Comité d’organisation du match officiel Maroc–Niger, prévu le 5 septembre 2025 au Complexe sportif Prince Moulay Abdellah de Rabat, a annoncé que tous les billets ont été écoulés. La rencontre, qui marquera la réouverture du stade dans sa nouvelle version, se jouera donc à guichets fermés, sans mise en vente supplémentaire. Le premier test.', 'size': 3}, {'id': '83', 'title': 'Éliminatoires Mondial 2026 : Le match Maroc-Niger se jouera à guichet fermé', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175073/eliminatoires-mondial-2026-match-maroc-niger.html', 'summary': 'Éliminatoires Mondial 2026 : Le match Maroc-Niger se jouera à guichet fermé. Le comité dorganisation du match entre le Maroc et le Niger, prévu vendredi 5 septembre 2025 au Complexe Sportif Prince Moulay Abdellah à Rabat, à partir de 20h00, a annoncé que tous les billets disponibles avaient été vendus. De ce fait, la rencontre se déroulera à guichet fermé.', 'size': 3}, {'id': '108', 'title': 'Inauguration du stade Moulay Abdellah : Le match Maroc-Niger se jouera à guichets fermés', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/inauguration-du-stade-moulay-abdellah-le-match-maroc-niger-se-jouera-a-guichets-fermes/', 'summary': 'Inauguration du stade Moulay Abdellah : Le match Maroc-Niger se jouera à guichets fermés. Le Comité d’organisation du match officiel Maroc-Niger annonce la vente de la totalité des billets de cette rencontre. Par conséquent, le match se jouera à guichets fermés et aucun billet supplémentaire ne sera mis en vente.', 'size': 3}], 'main_title': 'Maroc-Niger : tous les tickets vendus en 24h'}, {'community_id': '12', 'articles': [{'id': '101', 'title': 'Nasser Bourita : La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté', 'source': 'www.libe.ma', 'link': 'https://www.libe.ma/Nasser-Bourita-La-Vision-Royale-consacre-la-mer-comme-vecteur-essentiel-de-prosperite-nationale-de-lien-continental-et_a155463.html', 'summary': 'Nasser Bourita : La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté.', 'size': 2}, {'id': '134', 'title': 'Bourita : La Vision Royale fait de la mer un pilier de souveraineté et de prospérité', 'source': 'lnt.ma', 'link': 'https://lnt.ma/bourita-la-vision-royale-fait-de-la-mer-un-pilier-de-souverainete-et-de-prosperite/', 'summary': 'Bourita : La Vision Royale fait de la mer un pilier de souveraineté et de prospérité. La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté, a souligné, mardi à Rabat, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita. Dans une allocution lue en son nom à l’ouverture d’un séminaire sous . ', 'size': 2}], 'main_title': 'Nasser Bourita : La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté'}, {'community_id': '4', 'articles': [{'id': '105', 'title': 'L’ANME dénonce le caractère «\xa0mensonger et tendancieux\xa0» d’une série d’articles du journal «\xa0Le Monde\xa0»', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/lanme-denonce-le-caractere-mensonger-et-tendancieux-dune-serie-darticles-du-journal-le-monde/', 'summary': 'L’ANME dénonce le caractère « mensonger et tendancieux » d’une série d’articles du journal « Le Monde ». L’Association nationale des médias et des éditeurs (ANME) dénonce avec la plus grande vigueur la série d’articles à charge contre le Roi du Maroc Mohammed VI et l’institution monarchique, publiés à partir du 24 août dans le quotidien français Le Monde.', 'size': 4}, {'id': '112', 'title': 'L’ANME dénonce une dérive journalistique du journal Le Monde', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/lanme-denonce-une-derive-journalistique-du-journal-le-monde/', 'summary': 'L’ANME dénonce une dérive journalistique du journal Le Monde. L’Association Nationale des Médias et des Éditeurs (ANME) dénonce avec la plus grande vigueur la série d’articles à charge contre le Roi du Maroc Mohammed VI et l’institution monarchique, publiés à partir du 24 août dans le quotidien français « Le Monde ». Ces articles ne relèvent pas de l’exercice journalistique et laisseront une tache .', 'size': 4}, {'id': '125', 'title': 'L’ANME condamne le «\xa0caractère mensonger et tendancieux\xa0» des articles du journal Le Monde', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/lanme-condamne-le-caractere-mensonger-et-tendancieux-des-articles-du-journal-le-monde/', 'summary': 'L’ANME condamne le « caractère mensonger et tendancieux » des articles du journal Le Monde. L’Association Nationale des Médias et des Editeurs (ANME), a fermement condamné, ce mercredi 27 août 2025 la série d’articles publiés par le quotidien français « Le Monde », dont elle dénonce le caractère mensonger et diffamatoire à l’égard du Roi Mohammed VI et de l’Institution monarchique. La plus grande Association des patrons de presse marocaine dénonce avec ', 'size': 4}, {'id': '161', 'title': "L'ANME dénonce vigoureusement les articles du Monde contre le Roi Mohammed VI", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/28/lanme-denonce-vigoureusement-les-articles-du-monde-contre-le-roi-mohammed-vi_1947826/', 'summary': "L'ANME dénonce vigoureusement les articles du Monde contre le Roi Mohammed VI. L’Association nationale des médias et des éditeurs (ANME) a publié mardi un communiqué dénonçant « avec la plus grande vigueur la série d’articles à charge contre le roi du Maroc Mohammed VI et l’institution monarchique, publiés à partir du 24 août dans le quotidien français « Le Monde » ». Selon l’association, « ces articles.", 'size': 4}], 'main_title': 'L’ANME dénonce le caractère «\xa0mensonger et tendancieux\xa0» d’une série d’articles du journal «\xa0Le Monde\xa0»'}, {'community_id': '0', 'articles': [{'id': '123', 'title': 'Harhouha : une avalanche de stars marocaines à l’ouverture du 6e Festival Ciné-Plage', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/harhouha-une-avalanche-de-stars-marocaines-a-louverture-du-6e-festival-cine-plage.html', 'summary': 'Harhouha : une avalanche de stars marocaines à l’ouverture du 6e Festival Ciné-Plage. C’est dans une ambiance festive, entre éclat du grand écran et charme de l’Atlantique, qu’a été donnée, mardi soir sur la plage Sidi Abed à Harhoura, l’ouverture de la 6e édition du Festival Ciné-Plage, marquée par la présence de nombreuses stars du cinéma marocain, acteurs, réalisateurs et créateurs de divers horizons. La cérémonie d’ouverture de . L’article est apparu en premier sur .', 'size': 2}, {'id': '184', 'title': 'Festival Ciné-Plage à Harhoura: C’est parti pour la 6ème édition !', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/festival-cine-plage-a-harhoura-cest-parti-pour-la-6eme-edition', 'summary': 'Festival Ciné-Plage à Harhoura: C’est parti pour la 6ème édition !. La 6ème édition du Festival Ciné-Plage s’est ouverte mardi soir sur la plage Sidi Abed à Harhoura. La cérémonie d’ouverture a été marquée par un hommage rendu à deux figures majeures de l’art marocain, à savoir le réalisateur et acteur Hamid Zoghi et l’actrice Saadia Laadib. De nombreuses stars du cinéma marocain, acteurs, réalisateurs et .', 'size': 2}], 'main_title': 'Harhouha : une avalanche de stars marocaines à l’ouverture du 6e Festival Ciné-Plage'}, {'community_id': '7', 'articles': [{'id': '136', 'title': 'Qualifs Mondial 2026 : Walid Regragui dévoile sa liste avec la présence de Neil El Aynaoui', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438956-qualifs-mondial-2026-walid-regragui-devoile-sa-liste-avec-la-presence-de-neil-el-aynaoui-2.html', 'summary': 'Qualifs Mondial 2026 : Walid Regragui dévoile sa liste avec la présence de Neil El Aynaoui. ', 'size': 2}, {'id': '147', 'title': 'Qualifications Mondial 2026 : Regragui dévoile sa liste pour les matchs face au Niger et à la Zambie', 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/regragui-devoile-sa-liste-pour-les-matchs-face-au-niger-et-a-la-zambie/298490', 'summary': 'Qualifications Mondial 2026 : Regragui dévoile sa liste pour les matchs face au Niger et à la Zambie. Walid Regragui dévoile ce jeudi sa liste de joueurs convoqués pour les prochains matchs de septembre face au Niger et à la Zambie, dans le cadre des éliminatoires du Mondial 2026.', 'size': 3}, {'id': '165', 'title': 'Éliminatoires Mondial 2026 : Walid Regragui dévoile la liste des convoqués face au Niger et à la Zambie', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175152/eliminatoires-mondial-2026-walid-regragui.html', 'summary': 'Éliminatoires Mondial 2026 : Walid Regragui dévoile la liste des convoqués face au Niger et à la Zambie. Le sélectionneur national, Walid Regragui a annoncé, ce jeudi, la liste des joueurs convoqués en préparation des éliminatoires africaines pour le Mondial 2026.', 'size': 2}], 'main_title': 'Qualifications Mondial 2026 : Regragui dévoile sa liste pour les matchs face au Niger et à la Zambie'}, {'community_id': '8', 'articles': [{'id': '152', 'title': "Berkane : arrestation d'un individu soupçonné de vol avec effraction dans une agence de transfert d’argent", 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/berkane-arrestation-dun-individu-soupconne-de-vol-avec-effraction/298480', 'summary': "Berkane : arrestation d'un individu soupçonné de vol avec effraction dans une agence de transfert d’argent. Agé de 32 ans, le suspect, accompagné d'une autre personne, avait commis un vol en s'introduisant par effraction dans une agence de transfert d'argent dans la ville de.", 'size': 3}, {'id': '159', 'title': "\u200bBerkane: Un homme de 32 ans arrêté après le braquage d'une agence de transfert d’argent", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bBerkane-Un-homme-de-32-ans-arrete-apres-le-braquage-d-une-agence-de-transfert-d-argent_a71152.html', 'summary': "\u200bBerkane: Un homme de 32 ans arrêté après le braquage d'une agence de transfert d’argent. Les éléments de police du district provincial de sûreté de Berkane ont interpellé, mercredi après-midi, un individu aux antécédents judiciaires pour son implication présumée dans une affaire de vol avec effraction à l’intérieur d’une agence de transfert d’argent, apprend-on de source sécuritaire.", 'size': 3}, {'id': '166', 'title': 'Berkane : Arrestation pour vol avec effraction dans une agence de transfert d’argent', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175153/berkane-arrestation-pour-avec-effraction.html', 'summary': 'Berkane : Arrestation pour vol avec effraction dans une agence de transfert d’argent. Les éléments de police du district provincial de sûreté de Berkane ont interpellé, mercredi après-midi, un individu aux antécédents judiciaires pour son implication présumée dans une affaire de vol avec effraction à l’intérieur d’une agence de transfert d’argent, apprend-on de source sécuritaire.', 'size': 3}], 'main_title': "Berkane : arrestation d'un individu soupçonné de vol avec effraction dans une agence de transfert d’argent"}, {'community_id': '2', 'articles': [{'id': '155', 'title': 'USA : Vol test réussi pour la mégafusée Starship de SpaceX', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/usa-vol-test-reussi-pour-la-megafusee-starship-de-spacex/298483', 'summary': 'USA : Vol test réussi pour la mégafusée Starship de SpaceX. Le vaisseau, haut de plus de 120 mètres, a décollé mardi soir du Texas peu après 18H30 locales (23H30 GMT) après des reports dimanche et lundi causés par des problèmes techniques.*.', 'size': 2}, {'id': '203', 'title': 'USA : vol test réussi pour la mégafusée Starship de SpaceX', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/usa-vol-test-reussi-pour-la-megafusee-starship-de-spacex.html', 'summary': 'USA : vol test réussi pour la mégafusée Starship de SpaceX. La mégafusée Starship, développée par la société astronautique SpaceX pour aller sur la Lune et Mars, a réussi son 10e vol test après plusieurs échecs et une série d’essais entachés d’explosions. Le vaisseau, haut de plus de 120 mètres, a décollé mardi soir du Texas peu après 18H30 locales (23H30 GMT) après des reports dimanche . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'USA : Vol test réussi pour la mégafusée Starship de SpaceX'}, {'community_id': '6', 'articles': [{'id': '164', 'title': "Au Conclave d'affaires Inde-Afrique : le Maroc dévoile son plan énergétique à 12 milliards de dollars", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/28/au-conclave-daffaires-inde-afrique-le-maroc-devoile-son-plan-energetique-a-12-milliards-de-dollars_1947805/', 'summary': "Au Conclave d'affaires Inde-Afrique : le Maroc dévoile son plan énergétique à 12 milliards de dollars. Lors de la 20ème édition du Conclave d’affaires Inde-Afrique à New Delhi, le Maroc a présenté sa stratégie énergétique nationale qui prévoit un investissement de 12 milliards de dollars d’ici 2030. L’objectif : porter la part des énergies renouvelables à plus de 52% du mix électrique et développer une filière hydrogène vert compétitive. L’expérience pionnière.", 'size': 2}, {'id': '193', 'title': 'Transition énergétique : L’expérience du Maroc mise en avant à New Delhi', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/secteurs/transition-energetique-lexperience-du-maroc-mise-en-avant-a-new-delhi/', 'summary': 'Transition énergétique : L’expérience du Maroc mise en avant à New Delhi. À l’occasion du 20ᵉ Conclave d’affaires Inde-Afrique tenu à New Delhi, le Maroc a mis en avant son modèle pionnier en matière de transition énergétique qui s’articule autour des énergies renouvelables, de l’efficacité énergétique et de l’intégration régionale.', 'size': 2}], 'main_title': "Au Conclave d'affaires Inde-Afrique : le Maroc dévoile son plan énergétique à 12 milliards de dollars"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 08/08/2025 - 12h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce vendredi 8 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436188-le-temps-quil-fera-ce-vendredi-8-aout-2025.html', 'summary': "Le temps qu'il fera ce vendredi 8 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 8 août 2025 – Temps chaud sur les plaines intérieures Centre, le Sud-Est et sur l’intérieur des provinces du Sud. – Foyers orageux avec ondées ou averses par endroits sur l’Atlas, ses versants Est et sur l’Oriental. – Nuages bas . ", 'size': 2}, {'id': '199', 'title': 'Les prévisions météorologiques du vendredi 08 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-meteorologiques-du-vendredi-08-aout-2025-308251/', 'summary': 'Les prévisions météorologiques du vendredi 08 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 08 août 2025: – Temps chaud sur les plaines intérieures Centre, le Sud-Est et sur l’intérieur des provinces du Sud. – Foyers orageux avec ondées ou averses par endroits sur l’Atlas, ses versants Est et', 'size': 2}], 'main_title': "Le temps qu'il fera ce vendredi 8 août 2025"}, {'community_id': '1', 'articles': [{'id': '12', 'title': 'Tourisme : 2,7 millions de visiteurs en juillet, en hausse de 6 %', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tourisme-au-maroc-en-juillet-2025-27-millions-de-visiteurs-6/295501', 'summary': 'Tourisme : 2,7 millions de visiteurs en juillet, en hausse de 6 %. Le Maroc poursuit sa progression touristique en juillet 2025 avec 2,7 millions de visiteurs, marquant une hausse de 6 % par rapport à la même période en 2024. Cette croissance prof.', 'size': 3}, {'id': '112', 'title': 'Tourisme : 11,6 millions d’arrivées à fin juillet', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/tourisme-116-millions-darrivees-a-fin-juillet/', 'summary': "Tourisme : 11,6 millions d’arrivées à fin juillet. Sur le seul mois de juillet, le Maroc a accueilli 2,7 millions de touristes, affichant une progression de 6% par rapport au même mois de l'année dernière.", 'size': 3}, {'id': '236', 'title': 'Tourisme : 11,6 millions de visiteurs à fin juillet', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/tourisme-116-millions-de-visiteurs-a-fin-juillet.html', 'summary': 'Tourisme : 11,6 millions de visiteurs à fin juillet. Le secteur touristique poursuit sa dynamique positive. En juillet 2025, et selon la ministre du Tourisme, Fatim-Zahra Ammor, le Maroc a accueilli 2,7 millions de visiteurs, en hausse de 6% par rapport à l’année précédente. ', 'size': 4}], 'main_title': 'Tourisme : 11,6 millions de visiteurs à fin juillet'}, {'community_id': '13', 'articles': [{'id': '15', 'title': "Participation d’un détachement des FAR aux festivités du 65e anniversaire de l'indépendance de la Côte d’Ivoire", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/participation-des-far-aux-festivites-de-lindependance-de-la-cote-divoire/295494', 'summary': "Participation d’un détachement des FAR aux festivités du 65e anniversaire de l'indépendance de la Côte d’Ivoire. Le détachement relevant de la première Brigade d’Infanterie parachutiste a participé, jeudi à Bouaké, au défilé militaire commémorant la fête nationale d’indépendance, aux côtés de.", 'size': 2}, {'id': '113', 'title': 'Indépendance de la Côte d’Ivoire : Les FAR participent aux festivités du 65e anniversaire', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/independance-de-la-cote-divoire-les-far-participent-aux-festivites-du-65e-anniversaire/', 'summary': 'Indépendance de la Côte d’Ivoire : Les FAR participent aux festivités du 65e anniversaire. Un détachement des FAR a participé au défilé militaire commémorant le 65e anniversaire de l’indépendance de la Côte d’Ivoire, sur Hautes Instructions Royales.', 'size': 4}, {'id': '126', 'title': 'Les FAR participent aux célébrations du 65e anniversaire de l’indépendance de la Côte d’Ivoire', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/les-far-participent-aux-celebrations-du-65e-anniversaire-de-lindependance/', 'summary': 'Les FAR participent aux célébrations du 65e anniversaire de l’indépendance de la Côte d’Ivoire. Sur Hautes Instructions de Sa Majesté le Roi, Chef Suprême et Chef d’État-Major Général des Forces Armées Royales, un détachement des FAR a pris part à la commémoration du 65e anniversaire de l’indépendance de la Côte d’Ivoire et ce, suite à une invitation adressée au Royaume du Maroc. Le détachement relevant de la 1ère Brigade .', 'size': 3}, {'id': '202', 'title': 'Les FAR participent au 65e anniversaire de l’indépendance de la Côte d’Ivoire', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173818/participent-anniversaire-l-independance-cote-d-ivoire.html', 'summary': 'Les FAR participent au 65e anniversaire de l’indépendance de la Côte d’Ivoire. Sur instructions du roi Mohammed VI, chef suprême et chef d’état-major général des Forces armées royales, un détachement des FAR a pris part à la commémoration du 65e anniversaire de l’indépendance de la Côte d’Ivoire et ce, suite à une invitation adressée au Maroc.', 'size': 3}], 'main_title': 'Indépendance de la Côte d’Ivoire : Les FAR participent aux festivités du 65e anniversaire'}, {'community_id': '18', 'articles': [{'id': '19', 'title': "Ballon d'Or 2025 : Achraf Hakimi en lice, Yassine Bounou nommé au Trophée Yachine", 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/ballon-dor-2025-hakimi-en-lice-bounou-nomme-au-trophee-yachine/295482', 'summary': "Ballon d'Or 2025 : Achraf Hakimi en lice, Yassine Bounou nommé au Trophée Yachine. France Football a officiellement dévoilé, jeudi, les listes des nommés pour le Ballon d'Or 2025. Comme attendu, l'international marocain Achraf Hakimi figure parmi les 30 f.", 'size': 4}, {'id': '63', 'title': "Foot : Achraf Hakimi nommé au Ballon d'Or 2025", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/foot-achraf-hakimi-nomme-au-ballon-dor-2025_1945731/', 'summary': "Foot : Achraf Hakimi nommé au Ballon d'Or 2025. C’est désormais officiel, le latéral droit marocain Achraf Hakimi franchit une nouvelle étape dans sa carrière en décrochant sa première nomination au Ballon d’Or. Une annonce qui intervient alors que le footballeur est sous le coup d’une instruction judiciaire, suite à des accusations de viol proférées en 2023 par une jeune femme. Sans surprise, l’international.", 'size': 3}, {'id': '115', 'title': 'Ballon d’Or 2025 : Achraf Hakimi parmi les 30 nommés', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/ballon-dor-2025-achraf-hakimi-parmi-les-30-nommes/', 'summary': "Ballon d’Or 2025 : Achraf Hakimi parmi les 30 nommés. L’international marocain Achraf Hakimi est nommé au Ballon d'Or 2025, une distinction qui récompense le meilleur footballeur du monde.", 'size': 4}, {'id': '158', 'title': 'L’international marocain Achraf Hakimi nommé au Ballon d’or 2025', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/linternational-marocain-achraf-hakimi-nomme-au-ballon-dord-2025.html', 'summary': "L’international marocain Achraf Hakimi nommé au Ballon d’or 2025. L’international marocain Achraf Hakimi est nommé au Ballon d'Or 2025, une distinction qui récompense le meilleur footballeur du monde. L’article est apparu en premier sur .", 'size': 3}], 'main_title': "Ballon d'Or 2025 : Achraf Hakimi en lice, Yassine Bounou nommé au Trophée Yachine"}, {'community_id': '5', 'articles': [{'id': '32', 'title': 'CHAN2025 : Les Lions de l’Atlas déterminés à signer un bon résultat contre le Kenya (Anas El Mahraoui)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/chan-2024-les-joueurs-determines-a-signer-un-bon-resultat-contre-le-kenya/295369', 'summary': 'CHAN2025 : Les Lions de l’Atlas déterminés à signer un bon résultat contre le Kenya (Anas El Mahraoui). Dans une déclaration à la MAP en marge d’une séance d’entraînement de l’équipe nationale au stade Sacco, El Mahraoui a indiqué que l’effectif est motivé pour poursuivre sur sa note.', 'size': 2}, {'id': '208', 'title': 'Anas El Mahraoui : Les joueurs marocains déterminés à signer  un bon résultat contre le Kenya', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/sports/anas-el-mahraoui-les-joueurs-marocains-determines-a-signer-un-bon-resultat-contre-le-kenya', 'summary': 'Anas El Mahraoui : Les joueurs marocains déterminés à signer un bon résultat contre le Kenya. Les éléments nationaux sont déterminés à signer un bon résultat lors de leur prochain match contre le Kenya, prévu dimanche, pour le compte de la 2è journée du groupe A du Championnat d’Afrique des Nations de football (CHAN-2024), a affirmé, mercredi à Nairobi, le joueur de l’équipe marocaine des locaux, Anas El Mahraoui. Dans une .', 'size': 2}], 'main_title': 'CHAN2025 : Les Lions de l’Atlas déterminés à signer un bon résultat contre le Kenya (Anas El Mahraoui)'}, {'community_id': '6', 'articles': [{'id': '64', 'title': "La France suspend l'exemption de visas pour les diplomates algériens, Alger tempête", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/la-france-suspend-lexemption-de-visas-pour-les-diplomates-algeriens-alger-tempete_1945737/', 'summary': "La France suspend l'exemption de visas pour les diplomates algériens, Alger tempête. L’Algérie a accusé jeudi la France de s’exonérer « de ses responsabilités » dans la crise bilatérale et annoncé, dans un communiqué officiel, la dénonciation de l’accord sur l’exemption des visas au profit des titulaires de passeports diplomatiques et de service dont Paris a annoncé la suspension la veille. La lettre, où le président français Emmanuel Macron.", 'size': 3}, {'id': '90', 'title': 'Emmanuel Macron hausse le ton face à l’Algérie', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/emmanuel-macron-hausse-le-ton-face-a-lalgerie-308184/', 'summary': 'Emmanuel Macron hausse le ton face à l’Algérie. Le président français Emmanuel Macron a prôné « plus de fermeté » à l’égard de l’Algérie, en prenant acte de l’inflexibilité d’Alger sur la question migratoire et la détention de deux ressortissants français que la France juge arbitraire. Paris et Alger sont empêtrés depuis plus d’un an dans une crise diplomatique sans', 'size': 2}, {'id': '94', 'title': 'L’Algérie répond à la décision du président Macron de mettre fin à l’exemption de visas pour les officiels algériens', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173799/l-algerie-repond-decision-president-macron.html', 'summary': 'L’Algérie répond à la décision du président Macron de mettre fin à l’exemption de visas pour les officiels algériens. L’Algérie a décrété, ce jeudi, la fin de la gratuité des biens octroyés, depuis 1962, à l’ambassade française. Alger répond, ainsi, à la décision du président français de mettre un terme à l’exemption de visa pour les officiels algériens.', 'size': 2}], 'main_title': "La France suspend l'exemption de visas pour les diplomates algériens, Alger tempête"}, {'community_id': '7', 'articles': [{'id': '65', 'title': "Ballon d'Or 2025 : Yassine Bounou parmi les 10 nommés pour le Trophée Yachine", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/ballon-dor-2025-yassine-bounou-parmi-les-10-nommes-pour-le-trophee-yachine_1945713/', 'summary': "Ballon d'Or 2025 : Yassine Bounou parmi les 10 nommés pour le Trophée Yachine. Le gardien de but de la sélection marocaine de football, Yassine Bounou, figure parmi les dix nommés pour le Trophée Yachine, une distinction qui récompense le meilleur goalkeeper de l’année. Le Lion de l’Atlas, qui évolue pour le club saoudien Al-Hilal, en est à sa troisième nomination pour ce prix, avec comme meilleur classement une.", 'size': 2}, {'id': '85', 'title': 'Ballon d’Or 2025: Yassine Bounou parmi les 10 nominés au Trophée Yachine', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/ballon-dor-2025-yassine-bounou-parmi-les-10-nomines-au-trophee-yachine-308218/', 'summary': 'Ballon d’Or 2025: Yassine Bounou parmi les 10 nominés au Trophée Yachine. Le gardien de but de la sélection marocaine de football, Yassine Bounou figure parmi les dix nominés au Trophée Lev Yachine, une distinction qui récompense le meilleur goalkeeper de l’année. Le Lion de l’Atlas, qui évolue pour le club saoudien Al-Hilal, en est à sa troisième nomination pour ce prix,', 'size': 2}], 'main_title': "Ballon d'Or 2025 : Yassine Bounou parmi les 10 nommés pour le Trophée Yachine"}, {'community_id': '8', 'articles': [{'id': '77', 'title': 'CIH Bank clôture son augmentation de capital réservée aux actionnaires et aux détenteurs de DPS', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/cih-bank-cloture-son-augmentation-de-capital-reservee-aux-actionnaires-et-aux-detenteurs-de-dps_1945558/', 'summary': 'CIH Bank clôture son augmentation de capital réservée aux actionnaires et aux détenteurs de DPS. CIH Bank annonce avoir clôturé son augmentation de capital réservée aux actionnaires et aux détenteurs de droits préférentiels de souscription (DPS). En effet, elle a porté sur l’émission de 4.108.341 actions nouvelles, correspondant à une augmentation de capital de 1.470.786.078 dirhams, indique un communiqué de la banque. Le Conseil d’administration, réuni le 31 juillet 2025,.', 'size': 2}, {'id': '121', 'title': 'CIH Bank clôture son augmentation de capital de prés de 1,5 MMDH', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/cih-bank-cloture-son-augmentation-de-capital-de-pres-de-15-mmdh/', 'summary': 'CIH Bank clôture son augmentation de capital de prés de 1,5 MMDH. CIH Bank annonce avoir clôturé son augmentation de capital réservée aux actionnaires et aux détenteurs de droits préférentiels de souscription (DPS). Elle a porté sur l’émission de 4.108.341 actions nouvelles, correspondant à une augmentation de capital de 1.470.786.078 dirhams.', 'size': 2}], 'main_title': 'CIH Bank clôture son augmentation de capital réservée aux actionnaires et aux détenteurs de DPS'}, {'community_id': '16', 'articles': [{'id': '78', 'title': "Rabat : le quartier Océan se dote d'un nouveau parking souterrain", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/rabat-le-quartier-ocean-se-dote-dun-nouveau-parking-souterrain_1945562/', 'summary': "Rabat : le quartier Océan se dote d'un nouveau parking souterrain. Rabat Région Mobilité (RRM) a annoncé la mise en service d’un nouveau parking souterrain au cœur du quartier Océan à Rabat, un nouvel équipement destiné à répondre à la forte demande en stationnement dans cette zone à circulation dense. Doté d’une capacité de 87 places et implanté dans la rue Bruxelles dans un secteur central.", 'size': 2}, {'id': '88', 'title': 'Rabat inaugure un nouveau parking souterrain', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/rabat-inaugure-un-nouveau-parking-souterrain-308192/', 'summary': 'Rabat inaugure un nouveau parking souterrain. Rabat Région Mobilité (RRM) a annoncé la mise en service d’un parking souterrain flambant neuf au cœur du quartier Océan, à Rabat. Ce nouvel aménagement vise à répondre à la pression croissante en matière de stationnement dans une zone particulièrement fréquentée et à forte densité de circulation. Doté d’une capacité', 'size': 2}], 'main_title': "Rabat : le quartier Océan se dote d'un nouveau parking souterrain"}, {'community_id': '9', 'articles': [{'id': '79', 'title': "La disponibilité des réserves de sang est “rassurante”, selon l'Agence marocaine du sang", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/la-disponibilite-des-reserves-de-sang-est-rassurante-selon-lagence-marocaine-du-sang_1945560/', 'summary': "La disponibilité des réserves de sang est “rassurante”, selon l'Agence marocaine du sang. L’Agence marocaine du sang et de ses dérivés a affirmé que la réserve actuelle des stocks de sang est rassurante et que les opérations de don de sang se poursuivent d’une manière régulière dans toutes les régions du Royaume. Dans un communiqué faisant suite aux informations relayées par certains médias sur une prétendue “pénurie de.", 'size': 2}, {'id': '162', 'title': 'Réserves de sang : la situation est stable et sous contrôle, selon l’Agence marocaine du sang', 'source': 'lnt.ma', 'link': 'https://lnt.ma/reserves-de-sang-la-situation-est-stable-et-sous-controle-selon-lagence-marocaine-du-sang/', 'summary': 'Réserves de sang : la situation est stable et sous contrôle, selon l’Agence marocaine du sang. L’Agence Marocaine du Sang et de ses Dérivés a assuré, mercredi, que les stocks de sang disponibles à l’échelle nationale sont actuellement à un niveau rassurant, écartant ainsi tout risque imminent de pénurie durant la période estivale. Cette mise au point intervient en réaction à certaines informations relayées dans les médias évoquant une prétendue situation . ', 'size': 2}, {'id': '210', 'title': 'Disponibilité des stocks durant l’été : L’Agence marocaine du sang  et de ses dérivés rassure', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/disponibilite-des-stocks-durant-lete-lagence-marocaine-du-sang-et-de-ses-derives-rassure', 'summary': 'Disponibilité des stocks durant l’été : L’Agence marocaine du sang et de ses dérivés rassure. L’agence précise que les opérations de don de sang se poursuivent d’une manière régulière dans toutes les régions du Royaume. Démenti : de l’Agence marocaine du sang et de ses dérivés dément les rumeurs stipulant une pénurie de sang en cette période estivale. Aucun risque de rupture n’est à signaler. La conscience croissante des citoyens .', 'size': 3}], 'main_title': 'Disponibilité des stocks durant l’été : L’Agence marocaine du sang  et de ses dérivés rassure'}, {'community_id': '4', 'articles': [{'id': '80', 'title': 'Rabat : la 6e édition du Festival ciné plage Harhoura du 26 au 30 août', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/rabat-la-6e-edition-du-festival-cine-plage-harhoura-du-26-au-30-aout_1945556/', 'summary': 'Rabat : la 6e édition du Festival ciné plage Harhoura du 26 au 30 août. La 6ᵉ édition du Festival ciné plage Harhoura se tiendra, du 26 au 30 août, sous le thème « une célébration du cinéma sous les étoiles », à l’initiative de l’Association marocaine des arts sans frontières (AMAF), en partenariat avec la Commune de Harhoura et le Centre cinématographique marocain (CCM). Trois grandes figures du cinéma marocain seront.', 'size': 2}, {'id': '204', 'title': 'Le jury est présidé par le réalisateur et producteur Mohamed Abderrahmane Tazi: Le Festival Ciné Plage Harhoura du 26 au 30 août', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/le-jury-est-preside-par-le-realisateur-et-producteur-mohamed-abderrahmane-tazi-le-festival-cine-plage-harhoura-du-26-au-30-aout', 'summary': 'Le jury est présidé par le réalisateur et producteur Mohamed Abderrahmane Tazi: Le Festival Ciné Plage Harhoura du 26 au 30 août. 6ème édition La 6ème édition du Festival Ciné Plage Harhoura se tiendra, du 26 au 30 août, sous le thème «Une célébration du cinéma sous les étoiles», à l’initiative de l’Association marocaine des arts sans frontières (AMAF), en partenariat avec la commune de Harhoura et le Centre Cinématographique marocain (CCM). Trois grandes figures du cinéma .', 'size': 2}], 'main_title': 'Rabat : la 6e édition du Festival ciné plage Harhoura du 26 au 30 août'}, {'community_id': '14', 'articles': [{'id': '81', 'title': 'Dans la liste des 30, Achraf Hakimi est un sérieux prétendant au Ballon d’Or 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/dans-la-liste-des-30-achraf-hakimi-est-un-serieux-pretendant-au-ballon-dor-2025-308239/', 'summary': 'Dans la liste des 30, Achraf Hakimi est un sérieux prétendant au Ballon d’Or 2025. L’international marocain Achraf Hakimi est un sérieux prétendant au Ballon d’Or 2025 du meilleur footballeur du monde, dont la liste des 30 nominés vient d’être dévoilée. La prestigieuse récompense sera décernée le 22 septembre. Figurant pour la première fois parmi les finalistes, le latéral droit des Lions de l’Atlas a', 'size': 2}, {'id': '156', 'title': 'Les Marocains Hakimi et Bounou nommés au Ballon d’Or 2025', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/les-marocains-hakimi-et-bounou-nommes-au-ballon-dor-2025.html', 'summary': 'Les Marocains Hakimi et Bounou nommés au Ballon d’Or 2025. Les internationaux marocains Achraf Hakimi, défenseur du Paris Saint-Germain, et Yassine Bounou, portier d’Al Hilal saoudien, se sont assurés une place parmi les prétendants aux prix du Ballon d’Or 2025, dévoilés jeudi par le magazine France Football. Le latéral droit des Lions de l’Atlas figure dans la liste des 30 nommés au Ballon d’Or, grâce . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Dans la liste des 30, Achraf Hakimi est un sérieux prétendant au Ballon d’Or 2025'}, {'community_id': '17', 'articles': [{'id': '83', 'title': 'Le Maroc accueille 11,6 millions de touristes à fin juillet, une augmentation de 16%', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-maroc-accueille-116-millions-de-touristes-a-fin-juillet-une-augmentation-de-16-308228/', 'summary': 'Le Maroc accueille 11,6 millions de touristes à fin juillet, une augmentation de 16%. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un', 'size': 6}, {'id': '97', 'title': 'Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-maroc-a-accueilli-116-millions-de-touristes-a-fin-juillet-2025', 'summary': 'Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des .', 'size': 5}, {'id': '123', 'title': 'Tourisme : Le Maroc accueille 11,6 millions de touristes à fin juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/tourisme-le-maroc-accueille-116-millions-de-touristes-a-fin-juillet-2025/', 'summary': 'Tourisme : Le Maroc accueille 11,6 millions de touristes à fin juillet 2025. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des .', 'size': 5}, {'id': '157', 'title': 'Tourisme : le Maroc accueille 11,6 millions de touristes à fin juillet 2025', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/tourisme-le-maroc-accueille-116-millions-de-touristes-a-fin-juillet-2025.html', 'summary': 'Tourisme : le Maroc accueille 11,6 millions de touristes à fin juillet 2025. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des . L’article est apparu en premier sur .', 'size': 5}, {'id': '196', 'title': '11,6 millions de touristes au Maroc depuis janvier, en hausse de 16%', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/08/116-millions-de-touristes-au-maroc-depuis-janvier-en-hausse-de-16_1945791/', 'summary': '11,6 millions de touristes au Maroc depuis janvier, en hausse de 16%. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des.', 'size': 5}], 'main_title': 'Le Maroc accueille 11,6 millions de touristes à fin juillet, une augmentation de 16%'}, {'community_id': '15', 'articles': [{'id': '87', 'title': 'Droits de douane: Toyota revoit à la baisse ses prévisions de bénéfice annuel', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/droits-de-douane-toyota-revoit-a-la-baisse-ses-previsions-de-benefice-annuel-308206/', 'summary': 'Droits de douane: Toyota revoit à la baisse ses prévisions de bénéfice annuel. Le géant automobile japonais Toyota, numéro un mondial, a abaissé jeudi ses prévisions de bénéfice net en 2025-2026, dans un « environnement difficile » notamment plombé par les surtaxes douanières américaines qui devraient lui coûter jusqu’à quelque 8 milliards d’euros sur l’exercice. Le constructeur s’attend à un bénéfice net de 2.660 milliards', 'size': 2}, {'id': '130', 'title': 'Droits de douane: Toyota anticipe une forte baisse de son bénéfice annuel', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/droits-de-douane-toyota-anticipe-une-forte-baisse-de-son-benefice-annuel/', 'summary': 'Droits de douane: Toyota anticipe une forte baisse de son bénéfice annuel. Le géant automobile japonais Toyota, leader mondial du secteur, a revu à la baisse, jeudi, ses prévisions de bénéfice annuel, dans un contexte jugé « difficile », marqué par des surtaxes douanières américaines qui pourraient lui coûter jusqu’à 9,5 milliards de dollars sur l’exercice. « En raison de l’impact des droits de douane américains et d’autres facteurs, les .', 'size': 2}], 'main_title': 'Droits de douane: Toyota revoit à la baisse ses prévisions de bénéfice annuel'}, {'community_id': '19', 'articles': [{'id': '96', 'title': 'Les 12 CRI accueillent la Semaine de l’investissement pour les Marocains du monde', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173795/accueillent-semaine-l-investissement-pour-marocains.html', 'summary': 'Les 12 CRI accueillent la Semaine de l’investissement pour les Marocains du monde. A l’occasion de la Journée nationale des Marocains résidant à l’étranger célébrée le 10 août de chaque année, le ministère de l’Investissement, de la convergence et de l’évaluation des politiques publiques tient une semaine dédiée aux Marocains du monde (MDM), dans les douze Centres régionaux dInvestissement (CRI). L’initiative se déroule du 11 au 15 courant, dans le cadre de la mise en œuvre des orientations royales portant une importance particulière à la mobilisation des MRE, «à travers la valorisation de leurs compétences, l’accompagnement de leurs investissements, le renforcement de leur lien avec leur pays d’origine et à leur pleine contribution au développement économique» du pays, indique un communiqué.', 'size': 2}, {'id': '249', 'title': 'Investissement : le CRI Marrakech-Safi se mobilise pour les MRE', 'source': 'lnt.ma', 'link': 'https://lnt.ma/investissement-le-cri-marrakech-safi-se-mobilise-pour-les-mre/', 'summary': 'Investissement : le CRI Marrakech-Safi se mobilise pour les MRE. À l’occasion de la Journée Nationale des Marocains Résidant à l’Étranger, la région Marrakech-Safi se mobilise pour célébrer les compétences et les ambitions des Marocains du Monde. Du 11 au 15 août 2025, le Centre Régional d’Investissement (CRI) organise, en coordination avec le Ministère de l’Investissement, une semaine dédiée à l’accompagnement des MRE porteurs de . ', 'size': 2}], 'main_title': 'Les 12 CRI accueillent la Semaine de l’investissement pour les Marocains du monde'}, {'community_id': '11', 'articles': [{'id': '163', 'title': 'Africa CEO Forum et l’UM6P lancent LEAD pour transformer la gouvernance africaine', 'source': 'lnt.ma', 'link': 'https://lnt.ma/africa-ceo-forum-et-lum6p-lancent-lead-pour-transformer-la-gouvernance-africaine/', 'summary': 'Africa CEO Forum et l’UM6P lancent LEAD pour transformer la gouvernance africaine. Africa CEO Forum, en partenariat avec l’Université Mohammed VI Polytechnique, s’associe à trois partenaires – la Fondation Aig-Imoukhuede, la Banque Arabe pour le Développement Économique en Afrique (BADEA) et Afreximbank – pour lancer LEAD, une nouvelle initiative panafricaine visant à combler le déficit de gouvernance qui freine encore le potentiel économique de l’Afrique. Accueillie sur . ', 'size': 2}, {'id': '238', 'title': 'Initiative LEAD : l’UM6P et Africa CEO Forum transforment la gouvernance publique en Afrique', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/initiative-lead-lum6p-et-africa-ceo-forum-transforment-la-gouvernance-publique-en-afrique.html', 'summary': 'Initiative LEAD : l’UM6P et Africa CEO Forum transforment la gouvernance publique en Afrique. L’initiative panafricaine LEAD a été lancée par l’Africa CEO Forum, en partenariat avec l’Université Mohammed VI Polytechnique (UM6P), pour renforcer la gouvernance publique sur le continent. ', 'size': 2}], 'main_title': 'Africa CEO Forum et l’UM6P lancent LEAD pour transformer la gouvernance africaine'}, {'community_id': '2', 'articles': [{'id': '173', 'title': "Israël se dote d'un plan controversé pour prendre le contrôle de Gaza", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436978-israel-se-dote-dun-plan-controverse-pour-prendre-le-controle-de-gaza.html', 'summary': "Israël se dote d'un plan controversé pour prendre le contrôle de Gaza. Le cabinet de sécurité israélien a approuvé dans la nuit de jeudi à vendredi un plan présenté par Benjamin Netanyahu pour « vaincre » le Hamas et « prendre le contrôle » de la ville de Gaza, dévastée par la guerre et en proie à une grave crise humanitaire. Les réactions internationales ont immédiatement condamné cette décision prise malgré . ", 'size': 3}, {'id': '192', 'title': 'Israël se dote d’un plan pour “prendre le contrôle” de la ville de Gaza', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/08/israel-se-dote-dun-plan-pour-prendre-le-controle-de-la-ville-de-gaza_1945801/', 'summary': 'Israël se dote d’un plan pour “prendre le contrôle” de la ville de Gaza. Le cabinet de sécurité israélien a approuvé dans la nuit de jeudi à vendredi un plan présenté par Benjamin Netanyahu pour “vaincre” le Hamas et “prendre le contrôle” de la ville de Gaza, dévastée par les bombardements israéliens et en proie à une grave crise humanitaire. Le plan “visant à une prise de contrôle militaire.', 'size': 3}, {'id': '223', 'title': 'Israël adopte un plan pour prendre le contrôle de la ville de Gaza', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/israel-adopte-un-plan-pour-prendre-le-controle-de-la-ville-de-gaza/', 'summary': 'Israël adopte un plan pour prendre le contrôle de la ville de Gaza. Le cabinet de sécurité israélien a validé, dans la nuit du 7 au 8 août, un plan présenté par le Premier ministre Benjamin Netanyahou visant à « vaincre » le Hamas et à « prendre le contrôle » de la ville de Gaza, actuellement en proie à de graves destructions et à une crise humanitaire .', 'size': 3}], 'main_title': "Israël se dote d'un plan controversé pour prendre le contrôle de Gaza"}, {'community_id': '3', 'articles': [{'id': '183', 'title': 'Espagne : incendie maîtrisé près de la ville de Tarifa', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/espagne-incendie-maitrise-pres-de-la-ville-de-tarifa/295544', 'summary': "Espagne : incendie maîtrisé près de la ville de Tarifa. L'incendie s'est déclaré mardi dans une zone boisée près d'une plage à l'extérieur de cette ville côtière d'environ 19.000 habitants connue pour ses vents puiss.", 'size': 2}, {'id': '195', 'title': 'Espagne : incendie maîtrisé près de la ville touristique de Tarifa', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/08/espagne-incendie-maitrise-pres-de-la-ville-touristique-de-tarifa_1945796/', 'summary': 'Espagne : incendie maîtrisé près de la ville touristique de Tarifa. Les pompiers ont maîtrisé un incendie de forêt attisé par le vent près de la ville touristique de Tarifa, dans le sud de l’Espagne, qui a contraint plus de 1.500 personnes à évacuer, ont annoncé vendredi les autorités. L’incendie s’est déclaré mardi dans une zone boisée près d’une plage à l’extérieur de cette ville côtière.', 'size': 2}], 'main_title': 'Espagne : incendie maîtrisé près de la ville de Tarifa'}, {'community_id': '10', 'articles': [{'id': '184', 'title': 'Le Barça retire le brassard de capitaine à son gardien Ter Stegen', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/le-barca-retire-le-brassard-de-capitaine-a-son-gardien-ter-stegen/295543', 'summary': 'Le Barça retire le brassard de capitaine à son gardien Ter Stegen. Suite à l’ouverture d’une procédure disciplinaire à l’encontre du joueur Marc-André ter Stegen, et dans l’attente d’une résolution définitive, le Club, en accord avec la dire.', 'size': 2}, {'id': '227', 'title': 'Liga: le Barça retire le brassard de capitaine à son gardien Ter Stegen', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/liga-le-barca-retire-le-brassard-de-capitaine-a-son-gardien-ter-stegen/', 'summary': 'Liga: le Barça retire le brassard de capitaine à son gardien Ter Stegen. Le FC Barcelone a annoncé jeudi avoir retiré temporairement le brassard de capitaine à son gardien allemand Marc-André ter Stegen, visé par une procédure disciplinaire. « Suite à l’ouverture d’une procédure disciplinaire à l’encontre du joueur Marc-André ter Stegen, et dans l’attente d’une résolution définitive, le Club, en accord avec la direction sportive et le staff .', 'size': 2}], 'main_title': 'Le Barça retire le brassard de capitaine à son gardien Ter Stegen'}, {'community_id': '12', 'articles': [{'id': '226', 'title': 'France : le Conseil constitutionnel annule une loi réautorisant un pesticide interdit', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/france-le-conseil-constitutionnel-annule-une-loi-reautorisant-un-pesticide-interdit/', 'summary': 'France : le Conseil constitutionnel annule une loi réautorisant un pesticide interdit. Le Conseil constitutionnel français a décidé, jeudi, d’abroger une loi adoptée, début juillet dernier, qui visait à réintroduire un pesticide interdit. La loi controversée, qui a fait l’objet d’une pétition ayant recueilli plus de 2 millions de signatures, a été jugée par les sages comme étant contraire à la Charte de l’environnement. Lire aussi : Air .', 'size': 2}, {'id': '242', 'title': 'Le Conseil constitutionnel français abroge une loi ayant réintroduit un pesticide interdit', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-conseil-constitutionnel-francais-abroge-une-loi-ayant-reintroduit-un-pesticide-interdit.html', 'summary': 'Le Conseil constitutionnel français abroge une loi ayant réintroduit un pesticide interdit. Le Conseil constitutionnel français a décidé jeudi d’abroger une loi adoptée début juillet dernier qui visait à réintroduire un pesticide interdit. La loi controversée qui a fait l’objet d’une pétition ayant recueilli plus de 2 millions de signatures a été jugée par les sages comme étant contraire à la Charte de l’environnement. La « loi Duplomb » . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'France : le Conseil constitutionnel annule une loi réautorisant un pesticide interdit'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
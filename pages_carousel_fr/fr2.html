<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 17/08/2025 - 06h23</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '7', 'articles': [{'id': '2', 'title': 'CHAN 2024: Tarik Sektioui considère le match contre la RD Congo comme une "finale"', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437829-chan-2024-tarik-sektioui-considere-le-match-contre-la-rd-congo-comme-une-finale.html', 'summary': 'CHAN 2024: Tarik Sektioui considère le match contre la RD Congo comme une "finale". Le sélectionneur national, Tarik Sektioui a indiqué, samedi à Nairobi, que le match contre la RD Congo, prévu dimanche pour le compte de la 5e et dernière journée du groupe A du Championnat d’Afrique des nations de football (CHAN), sera très disputé, vu que son issue est décisive pour la suite du parcours dans cette . ', 'size': 5}, {'id': '13', 'title': 'CHAN 2024 : “Contre la RD Congo, on s’attend à une finale” (Tarik Sektioui)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/marocrd-congo-match-decisif-pour-la-qualification-au-chan-2024/296798', 'summary': 'CHAN 2024 : “Contre la RD Congo, on s’attend à une finale” (Tarik Sektioui). À Nairobi, le sélectionneur national Tarik Sektioui n’a pas tourné autour du pot. Pour lui, l’affiche Maroc – RD Congo, prévue dimanche au stade Nyayo, est tout simplement “une fin.', 'size': 2}, {'id': '44', 'title': 'CHAN : Maroc-RD Congo, “une petite finale” aux enjeux cruciaux', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/15/chan-maroc-rd-congo-une-petite-finale-aux-enjeux-cruciaux_1946697/', 'summary': 'CHAN : Maroc-RD Congo, “une petite finale” aux enjeux cruciaux. Les Lions de l’Atlas s’apprêtent à affronter la RD Congo, en match de la 5e et dernière journée du groupe A du Championnat d’Afrique des nations de football (CHAN), dimanche au stade Nyayo à Nairobi, dans un duel intense qui s’apparente à “une petite finale”, dont le dénouement sera décisif pour la suite de la.', 'size': 4}, {'id': '93', 'title': 'CHAN 2024 : Le Maroc s’attend à «un match très disputé» face à la RDC (Tarik Sektioui)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174381/chan-2024-maroc-s-attend-match.html', 'summary': 'CHAN 2024 : Le Maroc s’attend à «un match très disputé» face à la RDC (Tarik Sektioui). Le sélectionneur national Tarik Sektioui a indiqué, ce samedi à Nairobi, que le match contre la RD Congo, prévu dimanche pour le compte de la cinquième et dernière journée du groupe A du Championnat d’Afrique des nations de football (CHAN), sera très disputé. En effet, son issue est décisive pour la suite du parcours dans cette compétition.', 'size': 4}, {'id': '97', 'title': 'CHAN-2024 : Le match contre la RD Congo, un duel à gagner (Youness El Kaabi)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/chan-2024-le-match-contre-la-rd-congo-un-duel-a-gagner-youness-el-kaabi.html', 'summary': 'CHAN-2024 : Le match contre la RD Congo, un duel à gagner (Youness El Kaabi). Le joueur de l’équipe nationale du Maroc des joueurs locaux, Youness El Kaabi a affirmé, samedi à Nairobi, que le match contre la RD Congo, prévu dimanche au stade Nyayo pour le compte de la 5e et dernière journée du groupe A du Championnat d’Afrique des nations de football (CHAN), est un duel à gagner. . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'CHAN 2024: Tarik Sektioui considère le match contre la RD Congo comme une "finale"'}, {'community_id': '5', 'articles': [{'id': '5', 'title': "L'ANEF publie un bulletin de risques d'incendies dans plusieurs régions", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437816-lanef-publie-un-bulletin-de-risques-dincendies-dans-plusieurs-regions.html', 'summary': "L'ANEF publie un bulletin de risques d'incendies dans plusieurs régions. L’Agence nationale des Eaux et Forêts (ANEF) vient d’annoncer la publication de son Bulletin de risque des incendies de forêts (BRIF) couvrant la période allant du 17 au 20 août, sur la base de modèles scientifiques de prédiction et d’analyse des données liées à la nature des forêts, leur combustibilité et inflammabilité, ainsi qu’aux paramètres . ", 'size': 3}, {'id': '28', 'title': "Feux de forêts : le Nord du Royaume sous la menace d'un risque extrême", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Feux-de-forets-le-Nord-du-Royaume-sous-la-menace-d-un-risque-extreme_a70866.html', 'summary': "Feux de forêts : le Nord du Royaume sous la menace d'un risque extrême. L'Agence nationale des Eaux et Forêts (ANEF) vient d'annoncer la publication de son Bulletin de risque des incendies de forêts (BRIF) couvrant la période allant du 17 au 20 août, sur la base de modèles scientifiques de prédiction et d’analyse des données liées à la nature des forêts, leur combustibilité et inflammabilité, ainsi qu’aux paramètres topoclimatiques.", 'size': 3}, {'id': '47', 'title': 'Incendies de forêts : l’ANEF identifie des niveaux de risque extrême dans plusieurs provinces', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/incendies-de-forets-lanef-identifie-des-niveaux-de-risque-extreme-dans-plusieurs-provinces-308654/', 'summary': 'Incendies de forêts : l’ANEF identifie des niveaux de risque extrême dans plusieurs provinces. L’Agence nationale des Eaux et Forêts (ANEF) vient fraîchement de dévoiler son Bulletin de Risque des Incendies de Forêts (BRIF), couvrant la période du 17 au 20 août courant. Une publication qui repose sur des modèles scientifiques de prévision et sur l’analyse de données relatives à la nature des massifs', 'size': 3}], 'main_title': "L'ANEF publie un bulletin de risques d'incendies dans plusieurs régions"}, {'community_id': '6', 'articles': [{'id': '9', 'title': 'Sommet Russie-USA: Trump réclame un accord de paix', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437805-sommet-russie-usa-trump-reclame-un-accord-de-paix.html', 'summary': 'Sommet Russie-USA: Trump réclame un accord de paix. Le président américain Donald Trump a exclu un cessez-le-feu immédiat entre la Russie et l’Ukraine et réclame désormais directement un « accord de paix », dans une déclaration sur son réseau Truth Social tôt samedi, au retour de son sommet avec son homologue russe Vladimir Poutine en Alaska. « Il a été jugé par tous que la meilleure . ', 'size': 4}, {'id': '17', 'title': 'Sommet de l’Alaska : Trump fait état de "grands progrès", sans annoncer de cessez-le-feu en Ukraine', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/sommet-de-lalaska-trump-fait-etat-de-grands-progres-en-ukraine/296783', 'summary': 'Sommet de l’Alaska : Trump fait état de "grands progrès", sans annoncer de cessez-le-feu en Ukraine. Nous avons fait de grands progrès aujourd’hui, a déclaré M. Trump lors d’une conférence de presse conjointe avec le président russe, au terme d\'une rencontre bilaté.', 'size': 2}, {'id': '29', 'title': "Guerre en Ukraine : Ce qu'il faut retenir de la rencontre Trump-Poutine", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Guerre-en-Ukraine-Ce-qu-il-faut-retenir-de-la-rencontre-Trump-Poutine_a70865.html', 'summary': 'Guerre en Ukraine : Ce qu\'il faut retenir de la rencontre Trump-Poutine. Le président américain Donald Trump a exclu samedi un cessez-le-feu immédiat entre la Russie et l\'Ukraine et réclame désormais directement un "accord de paix", au lendemain de son sommet en Alaska avec son homologue russe Vladimir Poutine.', 'size': 4}, {'id': '49', 'title': 'Sommet Trump-Poutine : des progrès diplomatiques, mais l’Ukraine reste sans trêve', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/sommet-trump-poutine-des-progres-diplomatiques-mais-lukraine-reste-sans-treve-308638/', 'summary': 'Sommet Trump-Poutine : des progrès diplomatiques, mais l’Ukraine reste sans trêve. Le président américain Donald Trump a fait état, ce vendredi 15 août, de «grands progrès» à l’issue du sommet tenu en Alaska avec son homologue russe Vladimir Poutine, mais sans pour autant annoncer un accord sur le cessez-le-feu en Ukraine. «Nous avons fait de grands progrès aujourd’hui», a déclaré M.', 'size': 4}, {'id': '98', 'title': 'Les dirigeants européens veulent collaborer en vue d’un accord de paix global en Ukraine', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/les-dirigeants-europeens-veulent-collaborer-en-vue-dun-accord-de-paix-global-en-ukraine.html', 'summary': 'Les dirigeants européens veulent collaborer en vue d’un accord de paix global en Ukraine. Les dirigeants européens se sont dit prêts à collaborer avec les Etats Unis en vue de parvenir à un accord de paix global entre l’Ukraine et la Russie, selon une déclaration commune rendue publique, samedi, par l’Elysée à l’issue de la rencontre en Alaska entre le président américain Donald Trump et son homologue russe Vladimir . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Sommet Russie-USA: Trump réclame un accord de paix'}, {'community_id': '2', 'articles': [{'id': '50', 'title': 'Les prévisions du samedi 16 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-16-aout-2025-308631/', 'summary': 'Les prévisions du samedi 16 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 16 août 2025. -Temps chaud à localement très chaud sur les plaines intérieures Nord et Centre, le Sud-Est et l’intérieur du Souss et des provinces sahariennes et assez chaud sur l’Oriental. -Nuages bas matinaux et', 'size': 2}, {'id': '62', 'title': 'Prévisions météorologiques pour le dimanche 17 août 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-le-dimanche-17-aout-2025/', 'summary': 'Prévisions météorologiques pour le dimanche 17 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le dimanche 17 août 2025: – Temps chaud à localement très chaud sur les plaines intérieures Nord et Centres, la vallée de Moulouya, le Sud-Est et l’intérieur des provinces sahariennes et chaud sur l’Oriental. – Nuages bas matinaux et nocturnes avec formations .', 'size': 2}], 'main_title': 'Les prévisions du samedi 16 août 2025'}, {'community_id': '3', 'articles': [{'id': '51', 'title': 'Hébergements touristiques classés\xa0: les nuitées en hausse au premier semestre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/hebergements-touristiques-classes-les-nuitees-en-hausse-au-premier-semestre-2025-308623/', 'summary': 'Hébergements touristiques classés : les nuitées en hausse au premier semestre 2025. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) au Maroc a affiché une hausse de 13% au titre du premier semestre de 2025 par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme.Ces nuitées se répartissent sur le tourisme national (+5%) et le', 'size': 3}, {'id': '58', 'title': 'Tourisme : hausse de 13% des nuitées dans les hôtels classés au S1-2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/tourisme-hausse-de-13-des-nuitees-dans-les-hotels-classes-au-s1-2025', 'summary': 'Tourisme : hausse de 13% des nuitées dans les hôtels classés au S1-2025. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a affiché une hausse de 13% au titre du premier semestre de 2025 par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme. Ces nuitées se répartissent sur le tourisme national (+5%) et le tourisme international (+16%), précise l’Observatoire dans .', 'size': 3}, {'id': '66', 'title': 'Maroc : hausse de 13% des nuitées dans les EHTC au S1-2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/maroc-hausse-de-13-des-nuitees-dans-les-ehtc-au-s1-2025/', 'summary': 'Maroc : hausse de 13% des nuitées dans les EHTC au S1-2025. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a affiché une hausse de 13% au titre du premier semestre de 2025 par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme. Ces nuitées se répartissent sur le tourisme national (+5%) et le tourisme international (+16%), précise l’Observatoire dans .', 'size': 3}], 'main_title': 'Hébergements touristiques classés\xa0: les nuitées en hausse au premier semestre 2025'}, {'community_id': '0', 'articles': [{'id': '53', 'title': 'Les produits de la mer commercialisés en repli de 3% à fin juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-produits-de-la-mer-commercialises-en-repli-de-3-a-fin-juillet-308613/', 'summary': 'Les produits de la mer commercialisés en repli de 3% à fin juillet. Les produits commercialisés de la pêche côtière et artisanale ont atteint, en valeur, 6,14 milliards de dirhams (MMDH) à fin juillet 2025, en repli de 3% par rapport à la même période de 2024, selon l’Office national des pêches (ONP). En termes de poids, ces produits se sont établis à', 'size': 2}, {'id': '82', 'title': 'ONP: repli des recettes de pêche côtière et artisanale', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437861-onp-repli-des-recettes-de-peche-cotiere-et-artisanale.html', 'summary': 'ONP: repli des recettes de pêche côtière et artisanale. Les produits commercialisés de la pêche côtière et artisanale ont atteint, en valeur, 6,14 milliards de dirhams (MMDH) à fin juillet 2025, en repli de 3% par rapport à la même période de 2024, selon l’Office national des pêches (ONP). En termes de poids, ces produits se sont établis à 523.765 tonnes (T), en baisse . ', 'size': 2}], 'main_title': 'Les produits de la mer commercialisés en repli de 3% à fin juillet'}, {'community_id': '1', 'articles': [{'id': '59', 'title': 'USA : L’athlète marocain Hassan Baraka réussit l’exploit du tour de Manhattan à la nage', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/usa-lathlete-marocain-hassan-baraka-reussit-lexploit-du-tour-de-manhattan-a-la-nage/', 'summary': "USA : L’athlète marocain Hassan Baraka réussit l’exploit du tour de Manhattan à la nage. Baraka a entamé ce challenge vendredi en fin de matinée (heure locale) au sud de l'île de Manhattan, avant de faire le tour complet de l'île dans le sens inverse des aiguilles d’une montre, bouclant le parcours en 9 heures 53 minutes.", 'size': 2}, {'id': '94', 'title': 'États-Unis : Hassan Baraka, premier athlète marocain à réussir le tour de Manhattan à la nage', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174378/etats-unis-hassan-baraka-premier-athlete.html', 'summary': 'États-Unis : Hassan Baraka, premier athlète marocain à réussir le tour de Manhattan à la nage. L’athlète Hassan Baraka a accompli vendredi l’exploit du tour à la nage de l’île de Manhattan, à New York, sur une distance de 48,5 km, devenant le premier Marocain à réussir cette performance.', 'size': 2}], 'main_title': 'USA : L’athlète marocain Hassan Baraka réussit l’exploit du tour de Manhattan à la nage'}, {'community_id': '8', 'articles': [{'id': '64', 'title': 'Chine: Premier essai réussi pour une fusée destinée aux missions lunaires', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/chine-premier-essai-reussi-pour-une-fusee-destinee-aux-missions-lunaires/', 'summary': 'Chine: Premier essai réussi pour une fusée destinée aux missions lunaires. La Chine a effectué vendredi un essai statique du premier étage de sa fusée Long March-10, destinée aux missions lunaires habitées, selon l’Agence chinoise des vols spatiaux habités (CMSA). Le test a eu lieu vers 15h00 heure locale sur le site de lancement de Wenchang, situé sur l’île de Hainan, dans le sud du pays. .', 'size': 2}, {'id': '99', 'title': 'Chine: premier essai réussi pour une fusée destinée aux missions lunaires', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/chine-premier-essai-reussi-pour-une-fusee-destinee-aux-missions-lunaires.html', 'summary': 'Chine: premier essai réussi pour une fusée destinée aux missions lunaires. La Chine a effectué vendredi un essai statique du premier étage de sa fusée Long March-10, destinée aux missions lunaires habitées, selon l’Agence chinoise des vols spatiaux habités (CMSA). Le test a eu lieu vers 15h00 heure locale sur le site de lancement de Wenchang, situé sur l’île de Hainan dans le sud du pays. . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Chine: Premier essai réussi pour une fusée destinée aux missions lunaires'}, {'community_id': '4', 'articles': [{'id': '68', 'title': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain entre juin et juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-dirham-sapprecie-de-13-vis-a-vis-du-dollar-americain-entre-juin-et-juillet-2025/', 'summary': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain entre juin et juillet 2025. Le dirham s’est apprécié de 1,3% vis-à-vis du dollar américain et s’est déprécié de 0,2% face à l’euro entre les mois de juin et de juillet 2025, ressort-il de la récente revue mensuelle de la conjoncture économique, monétaire et financière de Bank Al-Maghrib (BAM). Ces évolutions interviennent dans un contexte où l’euro s’est apprécié de .', 'size': 2}, {'id': '76', 'title': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-dirham-sapprecie-de-13-vis-a-vis-du-dollar-americain.html', 'summary': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain. Le dirham s’est apprécié de 1,3% vis-à-vis du dollar américain et s’est déprécié de 0,2% face à l’euro entre les mois de juin et de juillet 2025, ressort-il de la récente revue mensuelle de la conjoncture économique, monétaire et financière de Bank Al-Maghrib (BAM). Ces évolutions interviennent dans un contexte où l’euro s’est apprécié de . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain entre juin et juillet 2025'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
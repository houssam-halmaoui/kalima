<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 06/09/2025 - 06h17</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '10', 'title': 'FAO : les prix mondiaux des denrées alimentaires stables en août', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/fao-les-prix-mondiaux-des-denrees-alimentaires-stables-en-aout/299956', 'summary': 'FAO : les prix mondiaux des denrées alimentaires stables en août. L’Organisation des Nations unies pour l’alimentation et l’agriculture (FAO) a indiqué, vendredi à Rome, que son indice des prix alimentaires a légèrement progressé à 130,1 points e.', 'size': 2}, {'id': '95', 'title': 'FAO: L’indice des prix des produits alimentaires reste inchangé en août', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/fao-lindice-des-prix-des-produits-alimentaires-reste-inchange-en-aout/', 'summary': 'FAO: L’indice des prix des produits alimentaires reste inchangé en août. L’indice des prix des produits alimentaires de l’Organisation des Nations unies pour l’alimentation et l’agriculture (FAO) a affiché une valeur moyenne de 130,1 points en août, soit à peine plus que son niveau révisé de juillet (130,0 points) et 6,9% de plus qu’une année auparavant. L’indice, qui suit les changements mensuels des prix internationaux d’un .', 'size': 2}], 'main_title': 'FAO : les prix mondiaux des denrées alimentaires stables en août'}, {'community_id': '4', 'articles': [{'id': '15', 'title': 'S.M. le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive sur la Zakat', 'source': 'lematin.ma', 'link': 'https://lematin.ma/activites-royales/sm-le-roi-ordonne-aux-oulemas-demettre-une-fatwa-exhaustive-sur-la-zakat/299931', 'summary': 'S.M. le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive sur la Zakat. Voici la traduction du communiqué du Conseil Supérieur des Oulémas :Le Conseil Supérieur des Oulémas annonce que Sa Majesté le Roi Mohammed VI, Amir Al Mouminine, que Dieu L.', 'size': 5}, {'id': '28', 'title': 'SM le Roi ordonne aux Oulémas d’émettre une fatwa exhaustive sur la Zakat', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/SM-le-Roi-ordonne-aux-Oulemas-d-emettre-une-fatwa-exhaustive-sur-la-Zakat_a71441.html', 'summary': "SM le Roi ordonne aux Oulémas d’émettre une fatwa exhaustive sur la Zakat. Sa Majesté le Roi Mohammed VI, Amir Al Mouminine, que Dieu L'assiste, a bien voulu ordonner au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive clarifiant les règles de la Charia au sujet de la Zakat, indique un communiqué du Conseil.", 'size': 5}, {'id': '71', 'title': 'SM le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive clarifiant les règles de la Charia au sujet de la Zakat', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/sm-le-roi-ordonne-au-conseil-superieur-des-oulemas-demettre-une-fatwa-exhaustive-clarifiant-les-regles-de-la-charia-au-sujet-de-la-zakat', 'summary': 'SM le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive clarifiant les règles de la Charia au sujet de la Zakat. Sa Majesté le Roi Mohammed VI, Amir Al Mouminine, que Dieu L’assiste, a bien voulu ordonner au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive clarifiant les règles de la Charia au sujet de la Zakat, indique un communiqué du Conseil. Voici la traduction du communiqué du Conseil Supérieur des Oulémas : « Le Conseil Supérieur .', 'size': 5}, {'id': '84', 'title': 'Charia relative à la Zakat : SM le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/charia-relative-a-la-zakat-sm-le-roi-ordonne-au-conseil-superieur-des-oulemas-demettre-une-fatwa/', 'summary': 'Charia relative à la Zakat : SM le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa. SM le Roi Mohammed VI a bien voulu ordonner au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive clarifiant les règles de la Charia au sujet de la Zakat, indique un communiqué du Conseil.', 'size': 5}, {'id': '98', 'title': 'S.M. le Roi ordonne une fatwa sur la Zakat au Conseil des Oulémas', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/s-m-le-roi-ordonne-une-fatwa-sur-la-zakat-au-conseil-des-oulemas/', 'summary': 'S.M. le Roi ordonne une fatwa sur la Zakat au Conseil des Oulémas. Sa Majesté le Roi Mohammed VI, Amir Al Mouminine, que Dieu L’assiste, a bien voulu ordonner au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive clarifiant les règles de la Charia au sujet de la Zakat, indique un communiqué du Conseil. Voici la traduction du communiqué du Conseil Supérieur des Oulémas : « Le Conseil Supérieur .', 'size': 5}], 'main_title': 'S.M. le Roi ordonne au Conseil Supérieur des Oulémas d’émettre une fatwa exhaustive sur la Zakat'}, {'community_id': '3', 'articles': [{'id': '18', 'title': 'S.M. le Roi, Amir Al-Mouminine, préside une veillée religieuse en commémoration de l’Aïd Al-Mawlid', 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/aid-al-mawlid-sm-le-roi-amir-al-mouminine-preside-une-veillee-religieuse/299908', 'summary': "S.M. le Roi, Amir Al-Mouminine, préside une veillée religieuse en commémoration de l’Aïd Al-Mawlid. Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, que Dieu L'assiste, accompagné de S.A.R. le Prince Héritier Moulay El Hassan, de S.A.R. le Prince Moulay Rachid et de S.A. le.", 'size': 6}, {'id': '43', 'title': 'Aïd Al Mawlid : SM le Roi préside une veillée religieuse à Rabat', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Aid-Al-Mawlid-SM-le-Roi-preside-une-veillee-religieuse-a-Rabat_a71426.html', 'summary': "Aïd Al Mawlid : SM le Roi préside une veillée religieuse à Rabat. Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, que Dieu L'assiste, accompagné de SAR le Prince Héritier Moulay El Hassan, de SAR le Prince Moulay Rachid et de SA le Prince Moulay Ahmed, a présidé, jeudi 11 Rabie-I 1447, correspondant au 04 septembre 2025, à la mosquée Hassan à Rabat, une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif.", 'size': 5}, {'id': '72', 'title': 'SM le Roi, Amir Al-Mouminine, préside à la mosquée Hassan à Rabat une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/sm-le-roi-amir-al-mouminine-preside-a-la-mosquee-hassan-a-rabat-une-veillee-religieuse-en-commemoration-de-laid-al-mawlid-annabaoui-acharif', 'summary': 'SM le Roi, Amir Al-Mouminine, préside à la mosquée Hassan à Rabat une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif. Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, que Dieu L’assiste, accompagné de SAR le Prince Héritier Moulay El Hassan, de SAR le Prince Moulay Rachid et de SA le Prince Moulay Ahmed, a présidé, jeudi 11 Rabie-I 1447, correspondant au 04 septembre 2025, à la mosquée Hassan à Rabat, une veillée religieuse en commémoration .', 'size': 7}, {'id': '88', 'title': 'SM le Roi préside une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/sm-le-roi-preside-une-veillee-religieuse-en-commemoration-de-laid-al-mawlid-annabaoui/', 'summary': 'SM le Roi préside une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui. Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, accompagné de SAR le Prince Héritier Moulay El Hassan, de SAR le Prince Moulay Rachid et de SA le Prince Moulay Ahmed, a présidé, jeudi 11 Rabie-I 1447, correspondant au 04 septembre 2025, à la mosquée Hassan à Rabat, une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif.', 'size': 6}, {'id': '110', 'title': 'Le Roi Mohammed VI préside à la mosquée Hassan à Rabat une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-roi-mohammed-vi-preside-a-la-mosquee-hassan-a-rabat-une-veillee-religieuse-en-commemoration-de-laid-al-mawlid-annabaoui-acharif.html', 'summary': 'Le Roi Mohammed VI préside à la mosquée Hassan à Rabat une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif. Le Roi Mohammed VI, Amir Al-Mouminine, accompagné du Prince Héritier Moulay El Hassan, du Prince Moulay Rachid et du Prince Moulay Ahmed, a présidé, jeudi 11 Rabie-I 1447, correspondant au 04 septembre 2025, à la mosquée Hassan à Rabat, une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif. Cette veillée religieuse a été marquée . L’article est apparu en premier sur .', 'size': 5}], 'main_title': 'SM le Roi, Amir Al-Mouminine, préside à la mosquée Hassan à Rabat une veillée religieuse en commémoration de l’Aïd Al-Mawlid Annabaoui Acharif'}, {'community_id': '9', 'articles': [{'id': '19', 'title': 'S.A.R. le Prince Héritier Moulay El Hassan inaugure à Rabat le stade "Prince Moulay Abdellah"', 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/sar-le-prince-heritier-moulay-el-hassan-inaugure-le-stade-de-rabat/299906', 'summary': 'S.A.R. le Prince Héritier Moulay El Hassan inaugure à Rabat le stade "Prince Moulay Abdellah". Sur Ordre de Sa Majesté le Roi Mohammed VI, que Dieu L\'assiste, Son Altesse Royale le Prince Héritier Moulay El Hassan a procédé, jeudi à Rabat, à l’inauguration du stade quot.', 'size': 7}, {'id': '59', 'title': 'Le prince Moulay El Hassan inaugure à Rabat le stade Prince Moulay Abdellah après sa reconstruction', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/04/le-prince-moulay-el-hassan-inaugure-a-rabat-le-stade-prince-moulay-abdellah-apres-sa-reconstruction_1949001/', 'summary': 'Le prince Moulay El Hassan inaugure à Rabat le stade Prince Moulay Abdellah après sa reconstruction. Sur ordre du roi Mohammed VI, le prince héritier Moulay El Hassan a procédé, jeudi à Rabat, à l’inauguration du stade « Prince Moulay Abdellah », après des travaux de reconstruction ayant permis de mettre cette infrastructure sportive en conformité avec les normes FIFA 2030. Le nouveau stade, dont la reconstruction intervient en exécution des directives royales.', 'size': 4}, {'id': '66', 'title': 'SAR le Prince Héritier Moulay El Hassan inaugure  le stade «\xa0Prince Moulay Abdellah\xa0» après sa reconstruction', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/sar-le-prince-heritier-moulay-el-hassan-inaugure-le-stade-prince-moulay-abdellah-apres-sa-reconstruction-309522/', 'summary': 'SAR le Prince Héritier Moulay El Hassan inaugure le stade « Prince Moulay Abdellah » après sa reconstruction. Sur Ordre de Sa Majesté le Roi Mohammed VI, Son Altesse Royale le Prince Héritier Moulay El Hassan a procédé, jeudi à Rabat, à l’inauguration du stade « Prince Moulay Abdellah », après des travaux de reconstruction ayant permis de mettre cette prestigieuse infrastructure sportive en conformité avec les normes FIFA 2030.', 'size': 5}, {'id': '92', 'title': 'Le Prince Moulay El Hassan inaugure le stade Moulay Abdellah de Rabat', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/le-prince-moulay-el-hassan-inaugure-le-stade-moulay-abdellah-de-rabat/', 'summary': 'Le Prince Moulay El Hassan inaugure le stade Moulay Abdellah de Rabat. Sur Ordre de SM le Roi Mohammed VI, le Prince Héritier Moulay El Hassan a procédé, jeudi à Rabat, à l’inauguration du stade "Prince Moulay Abdellah", après des travaux de reconstruction ayant permis de mettre cette prestigieuse infrastructure sportive en conformité avec les normes FIFA 2030.', 'size': 4}], 'main_title': 'S.A.R. le Prince Héritier Moulay El Hassan inaugure à Rabat le stade "Prince Moulay Abdellah"'}, {'community_id': '8', 'articles': [{'id': '21', 'title': 'Aïd Al Mawlid Annabawi : Grâce Royale au profit de 681 personnes', 'source': 'lematin.ma', 'link': 'https://lematin.ma/activites-royales/aid-al-mawlid-annabawi-grace-royale-au-profit-de-681-personnes/299887', 'summary': 'Aïd Al Mawlid Annabawi : Grâce Royale au profit de 681 personnes. En voici le texte : A l’occasion de l’Aïd Al Mawlid Annabawi de cette année 1447H - 2025G, Sa Majesté le Roi Mohammed VI, que Dieu perpétue Sa gloire, a bien voulu accorder S.', 'size': 2}, {'id': '109', 'title': 'Le Roi Mohammed VI accorde sa grâce à 681 personnes', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-roi-mohammed-vi-accorde-sa-grace-a-681-personnes.html', 'summary': 'Le Roi Mohammed VI accorde sa grâce à 681 personnes. A l’occasion de l’Aïd Al Mawlid Annabawi, le Roi Mohammed VI a accordé sa grâce à 681 personnes dont certaines sont en détention et d’autres en liberté, condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué. * Les bénéficiaires de la Grâce Royale qui sont en détention sont au . L’article est apparu en premier sur .', 'size': 2}, {'id': '115', 'title': 'Aïd Al Mawlid Annabawi | Grâce Royale accordée à 681 détenus et condamnés', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/aid-al-mawlid-annabawi-grace-royale-accordee-a-681-detenus-et-condamnes/', 'summary': 'Aïd Al Mawlid Annabawi | Grâce Royale accordée à 681 détenus et condamnés. A l’occasion de l’Aïd Al Mawlid Annabawi, Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a bien voulu accorder Sa grâce à 681 personnes dont certaines sont en détention et d’autres en liberté, condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué. En voici le texte : “A ', 'size': 3}], 'main_title': 'Aïd Al Mawlid Annabawi | Grâce Royale accordée à 681 détenus et condamnés'}, {'community_id': '6', 'articles': [{'id': '39', 'title': 'Gad Elmaleh revient à Casablanca avec son spectacle « Lui-même »', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Gad-Elmaleh-revient-a-Casablanca-avec-son-spectacle-Lui-meme_a71430.html', 'summary': 'Gad Elmaleh revient à Casablanca avec son spectacle « Lui-même ». Fidèle à ses racines et à sa ville natale, l’humoriste Gad Elmaleh signe son grand retour sur la scène marocaine avec son dernier spectacle "Lui-même", qu’il présentera à Casablanca les 25, 26 et 27 septembre.', 'size': 2}, {'id': '108', 'title': 'Casablanca, un retour «\xa0en famille\xa0» pour Gad Elmaleh', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/casablanca-un-retour-en-famille-pour-gad-elmaleh.html', 'summary': 'Casablanca, un retour « en famille » pour Gad Elmaleh. Fidèle à ses racines et à sa ville natale, l’humoriste Gad Elmaleh signe son grand retour sur la scène marocaine avec son dernier spectacle « Lui-même », qu’il présentera à Casablanca les 25, 26 et 27 septembre. Pour Gad Elmaleh, retrouver son public à Casablanca, c’est « comme jouer devant sa famille ». L’humoriste a exprimé, lors d’une conférence . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Gad Elmaleh revient à Casablanca avec son spectacle « Lui-même »'}, {'community_id': '11', 'articles': [{'id': '55', 'title': 'Immobilier : stagnation des prix au niveau national, légère hausse à Rabat et Marrakech', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/04/immobilier-stagnation-des-prix-au-niveau-national-legere-hausse-a-rabat-et-marrakech_1949012/', 'summary': 'Immobilier : stagnation des prix au niveau national, légère hausse à Rabat et Marrakech. L’indice des prix des actifs immobiliers (IPAI) a enregistré, en glissement annuel, une stagnation au cours du deuxième trimestre 2025, indiquent Bank Al-Maghrib (BAM) et l’Agence nationale de la conservation foncière du cadastre et de la cartographie (ANCFCC). Cette stagnation recouvre une hausse de 0,1% des prix des biens résidentiels et une baisse de 0,3%.', 'size': 2}, {'id': '65', 'title': 'Les prix des biens immobiliers inchangés deuxième trimestre', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-prix-des-biens-immobiliers-inchanges-deuxieme-trimestre-309527/', 'summary': 'Les prix des biens immobiliers inchangés deuxième trimestre. L’indice des prix des actifs immobiliers (IPAI) a enregistré, en glissement annuel, une stagnation au cours du deuxième trimestre 2025, indiquent Bank Al-Maghrib (BAM) et l’Agence nationale de la conservation foncière du cadastre et de la cartographie (ANCFCC). Cette stagnation recouvre une hausse de 0,1% des prix des biens résidentiels', 'size': 2}], 'main_title': 'Immobilier : stagnation des prix au niveau national, légère hausse à Rabat et Marrakech'}, {'community_id': '10', 'articles': [{'id': '64', 'title': 'Les prévisions du vendredi 5 septembre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-vendredi-2025-309540/', 'summary': 'Les prévisions du vendredi 5 septembre 2025. Voici les prévisions établies par la Direction générale de la météorologie pour le vendredi 5 septembre 2025: – Temps chaud sur l’extrême sud du pays, et assez chaud sur le Sud-Est, l’intérieur de Gharb et de Souss, le Saiss, les plaines à l’Ouest de l’Atlas et le reste des provinces', 'size': 2}, {'id': '119', 'title': "Le temps qu'il fera ce samedi 6 septembre 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440115-le-temps-quil-fera-ce-samedi-6-septembre-2025.html', 'summary': "Le temps qu'il fera ce samedi 6 septembre 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 6 septembre 2025 – Temps assez chaud à localement chaud sur le Sud-Est, les provinces sahariennes, l’Oriental et les plaines à l’Ouest de l’Atlas. – Nuages bas assez denses avec brume ou brouillard sur les côtes Centre, la Méditerranée et . ", 'size': 2}], 'main_title': 'Les prévisions du vendredi 5 septembre 2025'}, {'community_id': '7', 'articles': [{'id': '69', 'title': 'Accidents de route: près de 8 milliards DH versés en indemnisations en 2024', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/accidents-de-route-pres-de-8-milliards-dh-verses-en-indemnisations-en-2024', 'summary': 'Accidents de route: près de 8 milliards DH versés en indemnisations en 2024. Près de 7,9 milliards de dirhams (MMDH) ont été versés en indemnisations par les institutions et les compagnies d’assurance au titre des accidents de circulation en 2024, a indiqué le ministre délégué chargé des Relations avec le Parlement, porte-parole du gouvernement, Mustapha Baitas. En réponse à une question lors du point de presse à l’issue .', 'size': 3}, {'id': '89', 'title': 'Accidents de route : Près de 7,9 MMDH versés en indemnisations en 2024', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/accidents-de-route-pres-de-79-mmdh-verses-en-indemnisations-en-2024/', 'summary': "Accidents de route : Près de 7,9 MMDH versés en indemnisations en 2024. En réponse à une question lors du point de presse à l'issue du Conseil de gouvernement, Mustapha Baitas a précisé que le nombre d'accidents de la route enregistrés au cours de la même année a atteint environ 655.000 accidents, dont plus de 143.000 accidents corporels ayant causé environ 4.000 décès.", 'size': 3}, {'id': '101', 'title': 'Accidents de route: près de 7,9 MMDH versés en indemnisations en 2024', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/accidents-de-route-pres-de-79-mmdh-verses-en-indemnisations-en-2024/', 'summary': 'Accidents de route: près de 7,9 MMDH versés en indemnisations en 2024. Près de 7,9 milliards de dirhams (MMDH) ont été versés en indemnisations par les institutions et les compagnies d’assurance au titre des accidents de circulation en 2024, a indiqué le ministre délégué chargé des Relations avec le Parlement, porte-parole du gouvernement, Mustapha Baitas. En réponse à une question lors du point de presse à l’issue .', 'size': 3}], 'main_title': 'Accidents de route: près de 8 milliards DH versés en indemnisations en 2024'}, {'community_id': '5', 'articles': [{'id': '99', 'title': 'Le dirham se déprécie de 0,3% face au dollar du 28 août au 3 septembre', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-dirham-se-deprecie-de-03-face-au-dollar-du-28-aout-au-3-septembre/', 'summary': 'Le dirham se déprécie de 0,3% face au dollar du 28 août au 3 septembre. Le dirham s’est déprécié de 0,3% face au dollar américain et de 0,7% vis-à-vis de l’euro durant la semaine du 28 août au 3 septembre 2025, selon Bank Al-Maghrib (BAM). Au cours de cette période, aucune opération d’adjudication n’a été réalisée sur le marché des changes, indique BAM dans son récent bulletin des indicateurs hebdomadaires. .', 'size': 2}, {'id': '138', 'title': 'Le dirham se déprécie légèrement face au dollar et à l’euro', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-dirham-se-deprecie-legerement-face-au-dollar-et-a-leuro-309532/', 'summary': 'Le dirham se déprécie légèrement face au dollar et à l’euro. Le dirham s’est déprécié de 0,3% face au dollar américain et de 0,7% vis-à-vis de l’euro durant la semaine du 28 août au 3 septembre 2025, selon Bank Al-Maghrib (BAM). Au cours de cette période, aucune opération d’adjudication n’a été réalisée sur le marché des changes, indique BAM dans son', 'size': 2}], 'main_title': 'Le dirham se déprécie de 0,3% face au dollar du 28 août au 3 septembre'}, {'community_id': '2', 'articles': [{'id': '100', 'title': 'Qualifications du Mondial-2026 (match Maroc/Niger) : ouverture des portes du complexe sportif Prince Moulay Abdellah à 16h00', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/qualifications-du-mondial-2026-match-maroc-niger-ouverture-des-portes-du-complexe-sportif-prince-moulay-abdellah-a-16h00/', 'summary': 'Qualifications du Mondial-2026 (match Maroc/Niger) : ouverture des portes du complexe sportif Prince Moulay Abdellah à 16h00. Le complexe sportif Prince Moulay Abdellah de Rabat, qui accueillera vendredi soir (20h00) le match entre les sélections nationales du Maroc et du Niger pour le compte des qualifications africaines pour le Mondial 2026, ouvrira ses portes à partir de 16h00, indique la Fédération royale marocaine de football (FRMF). « Le Comité d’organisation porte à la .', 'size': 5}, {'id': '139', 'title': 'Eliminatoires Mondial 2026 : Le Maroc bat le Niger et se qualifie pour la phase finale', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175796/eliminatoires-mondial-2026-maroc-niger.html', 'summary': 'Eliminatoires Mondial 2026 : Le Maroc bat le Niger et se qualifie pour la phase finale. La sélection marocaine a assuré sa qualification pour la phase finale de la Coupe du monde 2026 après sa victoire, vendredi soir au stade prince Moulay Abdellah à Rabat contre le Niger par 5 buts à 0 (mi-temps 2-0) dans un match comptant pour la 7è journée (Groupe E) des qualifications africaines. Les buts de la rencontre ont été inscrits par Ismael Saibari, auteur d’un doublé (29e et 38e), Ayoub El Kaabi (50e), Hamza Igamane (68e) et Azeddine Ounahi (84e).', 'size': 4}, {'id': '142', 'title': 'Qualifications africaines au Mondial 2026 : Le Maroc se qualifie pour la phase finale après sa victoire contre le Niger 5-0', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/une/qualifications-africaines-au-mondial-2026-le-maroc-se-qualifie-pour-la-phase-finale-apres-sa-victoire-contre-le-niger-5-0', 'summary': 'Qualifications africaines au Mondial 2026 : Le Maroc se qualifie pour la phase finale après sa victoire contre le Niger 5-0. La sélection marocaine a assuré sa qualification pour la phase finale de la Coupe du Monde 2026 après sa victoire, vendredi soir au Stade Prince Moulay Abdellah à Rabat contre le Niger par 5 buts à 0 (mi-temps 2-0) dans un match comptant pour la 7è journée (Groupe E) des qualifications africaines. Les buts de .', 'size': 4}, {'id': '147', 'title': 'Qualif. Afrique CM 2026 | Le Maroc se qualifie pour la phase finale après sa victoire contre le Niger (5-0)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/qualif-afrique-cm-2026-le-maroc-se-qualifie-pour-la-phase-finale-apres-sa-victoire-contre-le-niger-5-0/', 'summary': 'Qualif. Afrique CM 2026 | Le Maroc se qualifie pour la phase finale après sa victoire contre le Niger (5-0). Les Lions de l’Atlas ont validé, haut la main, leur ticket pour la Coupe du monde de football 2026, en dominant le Niger sur le score sans appel de 5 buts à 0, en match comptant pour la 7e journée du groupe E des qualifications africaines, vendredi au Stade Prince Moulay Abdellah à Rabat. Pour ce ', 'size': 5}, {'id': '148', 'title': 'Les Lions de l’Atlas font le show pour leur première au Stade Prince Moulay Abdellah', 'source': 'lnt.ma', 'link': 'https://lnt.ma/les-lions-de-latlas-font-le-show-pour-leur-premiere-au-stade-prince-moulay-abdellah/', 'summary': 'Les Lions de l’Atlas font le show pour leur première au Stade Prince Moulay Abdellah. Les Lions de l’Atlas se sont qualifiés pour la Coupe du monde 2026 en s’imposant largement face au Niger (5–0) au stade Prince Moulay Abdellah, lors de la 7e journée des éliminatoires africaines. Avec ce sixième succès en autant de rencontres, le Maroc porte son total à 18 points et assure sa présence au Mondial . ', 'size': 3}], 'main_title': 'Qualifications du Mondial-2026 (match Maroc/Niger) : ouverture des portes du complexe sportif Prince Moulay Abdellah à 16h00'}, {'community_id': '12', 'articles': [{'id': '127', 'title': 'Qualification du Maroc pour le Mondial 2026: Infantino salue une “performance exceptionnelle”', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/440120-qualification-du-maroc-pour-le-mondial-2026-infantino-salue-une-performance-exceptionnelle.html', 'summary': 'Qualification du Maroc pour le Mondial 2026: Infantino salue une “performance exceptionnelle”. Le président de la Fédération internationale de football (FIFA), Gianni Infantino, a qualifié, vendredi soir, de “performance exceptionnelle”, la qualification de la sélection marocaine pour la Coupe du monde 2026. “Quelle performance exceptionnelle! Dima Maghreb, félicitations au Maroc qui s’apprête à disputer la Coupe du Monde de la FIFA pour la septième fois de son . ', 'size': 2}, {'id': '146', 'title': 'Qualif. Maroc CM 2026 | Gianni Infantino salue une “performance exceptionnelle” (FIFA)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/qualif-maroc-cm-2026-gianni-infantino-salue-une-performance-exceptionnelle-fifa/', 'summary': 'Qualif. Maroc CM 2026 | Gianni Infantino salue une “performance exceptionnelle” (FIFA). Le président de la Fédération internationale de football (FIFA), Gianni Infantino, a qualifié, vendredi soir, de “performance exceptionnelle”, la qualification de la sélection marocaine pour la Coupe du monde 2026. “Quelle performance exceptionnelle! Dima Maghreb, félicitations au Maroc qui s’apprête à disputer la Coupe du Monde de la FIFA pour la septième fois de son ', 'size': 2}], 'main_title': 'Qualification du Maroc pour le Mondial 2026: Infantino salue une “performance exceptionnelle”'}, {'community_id': '1', 'articles': [{'id': '140', 'title': 'Sahara : Le conseiller de Trump réaffirme à De Mistura la position US', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175792/sahara-conseiller-trump-reaffirme-mistura.html', 'summary': 'Sahara : Le conseiller de Trump réaffirme à De Mistura la position US. Lenvoyé personnel du secrétaire général des Nations unies pour le Sahara occidental a entamé les préparatifs en vue de léchéance doctobre au Conseil de sécurité. Ce vendredi 5 septembre, Staffan de Mistura a rencontré à Washington Massab Boulos, conseiller spécial du président Donald Trump pour lAfrique.', 'size': 2}, {'id': '144', 'title': 'Washington réaffirme que l’autonomie sous souveraineté marocaine est l’unique issue pour le Sahara', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/washington-reaffirme-que-lautonomie-sous-souverainete-marocaine/', 'summary': 'Washington réaffirme que l’autonomie sous souveraineté marocaine est l’unique issue pour le Sahara. Le message a été délivré sans détour. En recevant à Washington, vendredi 5 septembre, Staffan de Mistura, envoyé personnel du secrétaire général des Nations unies pour le Sahara, Massad Boulos, conseiller du président américain Donald Trump pour les affaires arabes, du Moyen-Orient et d’Afrique, a rappelé « la position claire » des États-Unis : « .', 'size': 2}], 'main_title': 'Sahara : Le conseiller de Trump réaffirme à De Mistura la position US'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
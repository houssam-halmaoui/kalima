<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 13/07/2025 - 06h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '7', 'title': "Deux nouveaux sites africains inscrits au patrimoine mondial de l'UNESCO", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/432924-deux-nouveaux-sites-africains-inscrits-au-patrimoine-mondial-de-lunesco.html', 'summary': "Deux nouveaux sites africains inscrits au patrimoine mondial de l'UNESCO. Deux paysages culturels au Cameroun et au Malawi ont été inscrits vendredi sur la liste du patrimoine mondial de l’Unesco, a annoncé l’organisation qui présente l’Afrique comme une de ses priorités. Le paysage Diy-Gid-Biy des Monts Mandara, dans l’extrême-nord du Cameroun, est composé de sites archéologiques qui ont vraisemblablement été aménagés entre les XIIe et . ", 'size': 2}, {'id': '119', 'title': 'UNESCO : deux nouveaux sites africains inscrits au patrimoine mondial', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/unesco-deux-nouveaux-sites-africains-inscrits-au-patrimoine-mondial.html', 'summary': 'UNESCO : deux nouveaux sites africains inscrits au patrimoine mondial. L’Organisation des Nations unies pour l’éducation, la science et la culture (UNESCO) a annoncé, vendredi, l’inscription de deux nouveaux paysages culturels, au Cameroun et au Malawi, sur sa liste du patrimoine mondial. Il s’agit des sites Diy-Gid-Biy dans les Monts Mandara au Cameroun et la chaîne du Mont Mulanje au Malawi. Le paysage Diy-Gid-Biy des . L’article est apparu en premier sur .', 'size': 2}], 'main_title': "Deux nouveaux sites africains inscrits au patrimoine mondial de l'UNESCO"}, {'community_id': '3', 'articles': [{'id': '9', 'title': "Béni Mellal : L'Intérieur annonce la fin d'un sit-in périlleux et l'ouverture d'une enquête", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433139-beni-mellal-linterieur-annonce-la-fin-dun-sit-in-perilleux-et-louverture-dune-enquete.html', 'summary': "Béni Mellal : L'Intérieur annonce la fin d'un sit-in périlleux et l'ouverture d'une enquête. Les autorités locales de la province de Béni Mellal ont fait savoir que l’action protestataire menée par un homme d’environ 45 ans a pris fin dans la soirée du vendredi 11 juillet 2025. Ce dernier, retranché depuis plusieurs jours au sommet d’un château d’eau dans la commune territoriale d’Ouled Youssef, s’est jeté dans le vide . ", 'size': 2}, {'id': '12', 'title': 'Béni Mellal : fin dramatique d’un sit-in au sommet d’un château d’eau', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/beni-mellal-fin-du-sit-in-dun-individu-perche-sur-un-chateau-deau/290765', 'summary': 'Béni Mellal : fin dramatique d’un sit-in au sommet d’un château d’eau. Les autorités locales de la province de Béni Mellal ont indiqué que l’action de protestation entamée par un individu, consistant en un sit-in au sommet d’un château d’eau situé dan.', 'size': 2}, {'id': '144', 'title': "Beni Mellal: Un sit-in d'un individu perché sur un château d’eau tourne au drame, un pompier grièvement blessé", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Beni-Mellal-Un-sit-in-d-un-individu-perche-sur-un-chateau-d-eau-tourne-au-drame-un-pompier-grievement-blesse_a69784.html', 'summary': "Beni Mellal: Un sit-in d'un individu perché sur un château d’eau tourne au drame, un pompier grièvement blessé. Les autorités locales de la province de Béni Mellal ont indiqué que l’action de protestation entamée par un individu, consistant en un sit-in au sommet d’un château d’eau situé dans la commune territoriale d’Oulad Youssef, a pris fin dans la soirée du vendredi 11 juillet, après qu’il se soit jeté du haut de l’installation en ayant attaché une corde autour de son cou.", 'size': 3}], 'main_title': "Beni Mellal: Un sit-in d'un individu perché sur un château d’eau tourne au drame, un pompier grièvement blessé"}, {'community_id': '1', 'articles': [{'id': '10', 'title': "Trump annonce 30% de droits de douane pour le Mexique et l'UE à partir du 1er août", 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/trump-annonce-30-de-droits-de-douane-pour-le-mexique-et-lue/290778', 'summary': "Trump annonce 30% de droits de douane pour le Mexique et l'UE à partir du 1er août. Les nouveaux tarifs douaniers entreront en vigueur le 1er août, a précisé le locataire de la Maison Blanche dans des lettres envoyées à la présidente de la Commission européenne (C.", 'size': 2}, {'id': '155', 'title': 'Trump menace d’imposer des tarifs douaniers de 30% à l’UE et au Mexique', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/trump-menace-dimposer-des-tarifs-douaniers-de-30-a-lue-et-au-mexique.html', 'summary': 'Trump menace d’imposer des tarifs douaniers de 30% à l’UE et au Mexique. Le président américain, Donald Trump, a menacé, samedi, d’imposer des droits de douane de 30% à l’Union européenne (UE) et au Mexique. Les nouveaux tarifs entreront en vigueur le 1er août, a précisé le locataire de la Maison Blanche dans des lettres envoyées à la présidente de la Commission européenne (CE), Ursula von der Leyen, . L’article est apparu en premier sur .', 'size': 2}], 'main_title': "Trump annonce 30% de droits de douane pour le Mexique et l'UE à partir du 1er août"}, {'community_id': '5', 'articles': [{'id': '15', 'title': 'Baraka lance un Pôle Technologique pour rapprocher recherche, formation et ingénierie', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/pole-technologique-pour-rapprocher-recherche-formation-et-ingenierie/290751', 'summary': 'Baraka lance un Pôle Technologique pour rapprocher recherche, formation et ingénierie. C’est à l’École Hassania des Travaux Publics (EHTP), à Casablanca, qu’a été officiellement lancé, vendredi 11 juillet, le Pôle Technologique du ministère de l’Équipement et de l’Ea.', 'size': 2}, {'id': '120', 'title': 'Casablanca : lancement officiel du Pôle Technologique à l’École Hassania des Travaux Publics', 'source': 'lnt.ma', 'link': 'https://lnt.ma/casablanca-lancement-officiel-du-pole-technologique-a-lecole-hassania-des-travaux-publics/', 'summary': 'Casablanca : lancement officiel du Pôle Technologique à l’École Hassania des Travaux Publics. Une cérémonie officielle a marqué vendredi le lancement du Pôle Technologique à l’École Hassania des Travaux Publics (EHTP) de Casablanca. Ce projet vise à structurer un écosystème national dédié à l’innovation technologique, à la recherche appliquée et à l’ingénierie, dans le cadre d’une stratégie publique intégrée au service de la souveraineté technologique du Maroc. Lors . ', 'size': 2}], 'main_title': 'Baraka lance un Pôle Technologique pour rapprocher recherche, formation et ingénierie'}, {'community_id': '7', 'articles': [{'id': '17', 'title': 'Jazzablanca : les scènes du festival brillent sous les notes de Dominique Fils-Aimé, Oum et Ibrahim Maalouf', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/jazzablanca-les-scenes-du-festival-brillent-avec-oum-et-ibrahim-maalouf/290748', 'summary': 'Jazzablanca : les scènes du festival brillent sous les notes de Dominique Fils-Aimé, Oum et Ibrahim Maalouf. Pour ouvrir la soirée, Dominique Fils-Aimé a livré une performance maîtrisée sur la Scène 21, installant dès les premières minutes une ambiance attentive et concentrée, portée par.', 'size': 2}, {'id': '121', 'title': 'Jazzablanca 2025 : une avant-dernière soirée marquée par la diversité musicale', 'source': 'lnt.ma', 'link': 'https://lnt.ma/jazzablanca-2025-une-avant-derniere-soiree-marquee-par-la-diversite-musicale/', 'summary': 'Jazzablanca 2025 : une avant-dernière soirée marquée par la diversité musicale. La nouvelle édition du festival Jazzablanca s’est poursuivie, vendredi soir, avec une programmation mettant en relief la richesse des expressions musicales contemporaines. Trois artistes aux univers distincts – Dominique Fils-Aimé, Oum et Ibrahim Maalouf – ont marqué cette soirée par des prestations singulières, saluées par un public nombreux et attentif. Sur la Scène 21, Dominique . ', 'size': 2}], 'main_title': 'Jazzablanca : les scènes du festival brillent sous les notes de Dominique Fils-Aimé, Oum et Ibrahim Maalouf'}, {'community_id': '6', 'articles': [{'id': '28', 'title': 'CAN 2025 /Mondial 2030 : l’avancement des préparatifs examiné à Rabat', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/can-2025mondial-2030-lavancement-des-preparatifs-examine-a-rabat/290679', 'summary': "CAN 2025 /Mondial 2030 : l’avancement des préparatifs examiné à Rabat. Concernant l’organisation du Mondial 2030, il a été procédé à l'examen des différents axes relatifs aux stades, aux infrastructures et à la mise à niveau urbaine, permettant de.", 'size': 2}, {'id': '93', 'title': 'CAN 2025/Mondial 2030 : Réunion sur l’état d’avancement des projets programmés', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/can-2025-mondial-2030-reunion-sur-letat-davancement-des-projets-programmes/', 'summary': "CAN 2025/Mondial 2030 : Réunion sur l’état d’avancement des projets programmés. Concernant l’organisation du Mondial 2030, il a été procédé à l'examen des différents axes relatifs aux stades, aux infrastructures et à la mise à niveau urbaine, permettant de satisfaire les standards requis dans chacun de ces volets. Pour la CAN 2025, toutes les dispositions seront prises pour assurer la réussite de cette grande compétition.", 'size': 2}], 'main_title': 'CAN 2025 /Mondial 2030 : l’avancement des préparatifs examiné à Rabat'}, {'community_id': '10', 'articles': [{'id': '47', 'title': "5G : l'ANRT lance un appel à concurrence pour l’octroi des licences", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/5G-l-ANRT-lance-un-appel-a-concurrence-pour-l-octroi-des-licences_a69765.html', 'summary': "5G : l'ANRT lance un appel à concurrence pour l’octroi des licences. En application de la réglementation en vigueur et dans le cadre de la mise en œuvre de la stratégie Maroc Digital 2030 et des orientations générales du secteur, un appel à concurrence a été lancé pour l’octroi de licences pour l’établissement et l’exploitation de réseaux de télécommunications utilisant les technologies mobiles de 5ème génération.", 'size': 3}, {'id': '60', 'title': 'ANRT : Appel à concurrence pour l’octroi de licences pour l’établissement et l’exploitation de réseaux de télécommunications utilisant les technologies mobiles de 5è génération', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/anrt-appel-a-concurrence-pour-loctroi-de-licences-pour-letablissement-et-lexploitation-de-reseaux-de-telecommunications-utilisant-les-technologies-mobiles-de-5e-generation-306554/', 'summary': 'ANRT : Appel à concurrence pour l’octroi de licences pour l’établissement et l’exploitation de réseaux de télécommunications utilisant les technologies mobiles de 5è génération. En application de la réglementation en vigueur et dans le cadre de la mise en œuvre de la stratégie Maroc Digital 2030 et des orientations générales du secteur, un appel à concurrence a été lancé pour l’octroi de licences pour l’établissement et l’exploitation de réseaux de télécommunications utilisant les technologies', 'size': 3}, {'id': '67', 'title': "5G au Maroc : L'ANRT lance l’appel à concurrence pour les futurs opérateurs", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171522/maroc-l-anrt-lance-l-appel-concurrence.html', 'summary': "5G au Maroc : L'ANRT lance l’appel à concurrence pour les futurs opérateurs. La 5G bientôt sur les téléphones des Marocains. Dans le cadre de la mise en œuvre de la stratégie Maroc Digital 2030 et des orientations générales du secteur, un appel à concurrence a été lancé pour l’octroi de licences pour l’établissement et l’exploitation de réseaux de télécommunications utilisant les technologies mobiles de 5ème génération.", 'size': 3}], 'main_title': "5G : l'ANRT lance un appel à concurrence pour l’octroi des licences"}, {'community_id': '11', 'articles': [{'id': '52', 'title': "CAN 2025 et Mondial 2030 : L'Exécutif fait le point sur les préparatifs", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/11/can-2025-et-mondial-2030-lexecutif-fait-le-point-sur-les-preparatifs_1942216/', 'summary': "CAN 2025 et Mondial 2030 : L'Exécutif fait le point sur les préparatifs. Une réunion s’est tenue, vendredi 11 juillet 2025, au siège du ministère de l’Intérieur à Rabat, consacrée à l’examen de l’état d’avancement des projets programmés pour l’organisation de la Coupe d’Afrique des Nations (CAN 2025) et de la Coupe du Monde 2030. Ce qu’il s’est passé Cette rencontre s’inscrit dans le cadre du suivi régulier.", 'size': 3}, {'id': '61', 'title': 'CAN 2025/Mondial 2030 : Réunion à Rabat sur l’état d’avancement des projets programmés', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/can-2025-mondial-2030-reunion-a-rabat-sur-letat-davancement-des-projets-programmes-306550/', 'summary': 'CAN 2025/Mondial 2030 : Réunion à Rabat sur l’état d’avancement des projets programmés. Une réunion s’est tenue, vendredi, au siège du ministère de l’Intérieur pour l’examen de l’état d’avancement des différents projets et actions programmés en vue de l’organisation des grandes manifestations relatives à la Coupe d’Afrique des Nations (CAN-2025) et à la Coupe du Monde 2030, dans le cadre du suivi des', 'size': 3}, {'id': '101', 'title': 'Casablanca : Réunion consacrée à l’examen des projets et chantiers programmés en vue de la CAN 2025 et de la Coupe du Monde 2030', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/casablanca-reunion-consacree-a-lexamen-des-projets-et-chantiers-programmes-en-vue-de-la-can-2025-et-de-la-coupe-du-monde-2030/', 'summary': 'Casablanca : Réunion consacrée à l’examen des projets et chantiers programmés en vue de la CAN 2025 et de la Coupe du Monde 2030. Une réunion s’est tenue, vendredi, au siège de la wilaya de la région Casablanca-Settat, pour examiner l’état d’avancement des différents projets et chantiers programmés dans la perspective de l’organisation de la Coupe d’Afrique des Nations 2025 et de la Coupe du Monde 2030. Cette rencontre, à laquelle ont pris part le Wali de la région .', 'size': 3}], 'main_title': "CAN 2025 et Mondial 2030 : L'Exécutif fait le point sur les préparatifs"}, {'community_id': '9', 'articles': [{'id': '57', 'title': 'Les prévisions du samedi 12 juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-12-juillet-306571/', 'summary': 'Les prévisions du samedi 12 juillet. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 12 juillet 2025. -Temps assez chaud sur l’intérieur des provinces Sud et le Sud-Est. -Gouttes de pluie possibles sur la région de Tanger, le Loukkos et le Nord du Gharb. -Nuages bas assez fréquents la', 'size': 2}, {'id': '124', 'title': "Le temps qu'il fera ce dimanche 13 juillet 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433094-le-temps-quil-fera-ce-dimanche-13-juillet-2025.html', 'summary': "Le temps qu'il fera ce dimanche 13 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le dimanche 13 juillet 2025 – Temps assez chaud sur l’Est des provinces Sud, le Sud-Est et l’Oriental. – Ciel peu à passagèrement nuageux sur l’Oriental. – Nuages bas nombreux la matinée et la nuit sur les côtes atlantiques avec brume locale. . ", 'size': 2}], 'main_title': 'Les prévisions du samedi 12 juillet'}, {'community_id': '12', 'articles': [{'id': '66', 'title': 'Pastilla à l’honneur : Le Maroc décroche la 3e place au concours gastronomique de Washington', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171523/pastilla-l-honneur-maroc-decroche-place.html', 'summary': 'Pastilla à l’honneur : Le Maroc décroche la 3e place au concours gastronomique de Washington. Gastronomie et diplomatie font souvent bon ménage. La cuisine marocaine a été primée au concours gastronomique annuel “DC Embassy Chef Challenge” qui met en lice les meilleurs chefs cuisiniers des représentations diplomatiques dans la capitale fédérale américaine.', 'size': 2}, {'id': '114', 'title': 'Washington : la gastronomie marocaine s’illustre au concours annuel «Embassy Chef Challenge»', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/washington-la-gastronomie-marocaine-sillustre-au-concours-annuel-embassy-chef-challenge.html', 'summary': 'Washington : la gastronomie marocaine s’illustre au concours annuel «Embassy Chef Challenge». La cuisine marocaine a été primée au concours gastronomique annuel « DC Embassy Chef Challenge » qui met en lice les meilleurs chefs cuisiniers des représentations diplomatiques dans la capitale fédérale américaine. Lors de cette compétition, qui a vu la participation de 34 pays, le Maroc a été représenté par cheffe Ilham Achemakou de l’ambassade du Royaume . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Pastilla à l’honneur : Le Maroc décroche la 3e place au concours gastronomique de Washington'}, {'community_id': '14', 'articles': [{'id': '78', 'title': 'Tanger: Des travaux à la forêt Al Borj pour la mise en place d’une ligne électrique à haute tension', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/tanger-des-travaux-a-la-foret-al-borj-pour-la-mise-en-place-dune-ligne-electrique-a-haute-tension/', 'summary': 'Tanger: Des travaux à la forêt Al Borj pour la mise en place d’une ligne électrique à haute tension. D\'après l\'Agence nationale des eaux et forêts (ANEF), il s\'agit de travaux forestiers techniques et préventifs menés par l’Office national de l’électricité et de l\'eau potable (ONEE), visant à créer et à transporter l’énergie produite par le parc éolien "Tanger II", à travers une ligne électrique à haute tension.', 'size': 3}, {'id': '123', 'title': 'Travaux autorisés dans la forêt Al Borj : précisions de l’ANEF sur la ligne électrique à haute tension', 'source': 'lnt.ma', 'link': 'https://lnt.ma/travaux-autorises-dans-la-foret-al-borj-precisions-de-lanef-sur-la-ligne-electrique-a-haute-tension/', 'summary': 'Travaux autorisés dans la forêt Al Borj : précisions de l’ANEF sur la ligne électrique à haute tension. L’Agence nationale des eaux et forêts (ANEF) a apporté des précisions sur les travaux actuellement en cours dans la forêt domaniale d’Al Borj, en périphérie de Tanger. Ces opérations, qui suscitent depuis quelques jours des réactions dans certains médias évoquant une prétendue destruction massive et illégale, s’inscrivent en réalité dans le cadre d’un projet autorisé . ', 'size': 3}, {'id': '127', 'title': 'Tanger : travaux forestiers techniques à la forêt Al Borj pour la ligne HT', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433119-tanger-travaux-forestiers-techniques-a-la-foret-al-borj-pour-la-ligne-ht.html', 'summary': 'Tanger : travaux forestiers techniques à la forêt Al Borj pour la ligne HT. L’Agence nationale des eaux et forêts (ANEF), a fait savoir que des travaux forestiers techniques et préventifs autorisés sont menés à la forêt Al Borj en périphérie de Tanger, dans le cadre d’un projet de mise en place et de transport d’une ligne électrique de haute tension. Pour éclairer l’opinion publique et corriger les informations . ', 'size': 4}, {'id': '143', 'title': "Tanger: Des travaux forestiers techniques autorisés menés à la forêt Al Borj pour la mise en place d'une ligne électrique à haute tension", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Tanger-Des-travaux-forestiers-techniques-autorises-menes-a-la-foret-Al-Borj-pour-la-mise-en-place-d-une-ligne-electrique_a69785.html', 'summary': "Tanger: Des travaux forestiers techniques autorisés menés à la forêt Al Borj pour la mise en place d'une ligne électrique à haute tension. Des travaux forestiers techniques et préventifs autorisés sont menés à la forêt Al Borj en périphérie de Tanger, dans le cadre d'un projet de mise en place et de transport d'une ligne électrique de haute tension, a indiqué l'Agence nationale des eaux et forêts (ANEF).", 'size': 4}], 'main_title': 'Tanger : travaux forestiers techniques à la forêt Al Borj pour la ligne HT'}, {'community_id': '2', 'articles': [{'id': '99', 'title': '50ᵉ session de l’APF: Rachid Talbi Alami et les présidents des parlements participants reçus à l’Élysée', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/50%e1%b5%89-session-de-lapf-rachid-talbi-alami-et-les-presidents-des-parlements-participants-recus-a-lelysee/', 'summary': '50ᵉ session de l’APF: Rachid Talbi Alami et les présidents des parlements participants reçus à l’Élysée. Le président français, Emmanuel Macron a reçu, vendredi soir au palais de l’Élysée, le président de la Chambre des Représentants, Rachid Talbi Alami, et les présidents de Parlements participant aux travaux de la 50ème session de l’Assemblée parlementaire de la Francophonie (APF), qui se tient du 09 au 13 juillet. M. Talbi Alami conduit la .', 'size': 2}, {'id': '152', 'title': '50ème Assemblée parlementaire de la Francophonie: Talbi Alami reçu à l’Élysée', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/50eme-assemblee-parlementaire-de-la-francophonie-talbi-alami-recu-a-lelysee', 'summary': '50ème Assemblée parlementaire de la Francophonie: Talbi Alami reçu à l’Élysée. Le président français, Emmanuel Macron a reçu, vendredi soir au palais de l’Élysée, le président de la Chambre des Représentants, Rachid Talbi Alami, et les présidents de Parlements participant aux travaux de la 50ème session de l’Assemblée parlementaire de la Francophonie (APF), qui se poursuit jusqu’au 13 juillet. M. Talbi Alami conduit la délégation parlementaire .', 'size': 2}], 'main_title': '50ᵉ session de l’APF: Rachid Talbi Alami et les présidents des parlements participants reçus à l’Élysée'}, {'community_id': '4', 'articles': [{'id': '100', 'title': 'Le dirham s’apprécie de 0,3% face à l’euro du 03 au 09 juillet', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-dirham-sapprecie-de-03-face-a-leuro-du-03-au-09-juillet/', 'summary': 'Le dirham s’apprécie de 0,3% face à l’euro du 03 au 09 juillet. Le dirham s’est apprécié de 0,3% vis-à-vis de l’euro et s’est déprécié de 0,2% face au dollar américain durant la période du 03 et 09 juillet 2025, selon Bank Al-Maghrib (BAM). Aucune opération d’adjudication n’a été réalisée sur le marché des changes, fait savoir BAM dans son récent bulletin des indicateurs hebdomadaires, précisant que les .', 'size': 2}, {'id': '116', 'title': 'Le dirham s’apprécie de 0,3% face à l’euro', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-dirham-sapprecie-de-03-face-a-leuro.html', 'summary': 'Le dirham s’apprécie de 0,3% face à l’euro. Le dirham s’est apprécié de 0,3% vis-à-vis de l’euro et s’est déprécié de 0,2% face au dollar américain durant la période du 03 et 09 juillet 2025, selon Bank Al-Maghrib (BAM). Aucune opération d’adjudication n’a été réalisée sur le marché des changes, fait savoir BAM dans son récent bulletin des indicateurs hebdomadaires, précisant que les . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Le dirham s’apprécie de 0,3% face à l’euro du 03 au 09 juillet'}, {'community_id': '8', 'articles': [{'id': '132', 'title': 'CAN Féminine : le Maroc domine le Sénégal et termine en tête du groupe A', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433195-can-feminine-le-maroc-domine-le-senegal-et-termine-en-tete-du-groupe-a.html', 'summary': 'CAN Féminine : le Maroc domine le Sénégal et termine en tête du groupe A. Les lionnes de l’Atlas ont composté leur ticket pour les quarts de finale de la Coupe d’Afrique des Nations (CAN) féminine, en battant la sélection sénégalaise (1-0), ce samedi 12 juillet à Rabat, au titre de la 3è journée du groupe A. L’unique but de la rencontre a été inscrit par Yasmine Mrabet ( 45’+2 . ', 'size': 2}, {'id': '154', 'title': 'CAN féminine Maroc-2024 : le Maroc en quart de finale en battant le Sénégal (1-0)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/can-feminine-maroc-2024-le-maroc-en-quart-de-finale-en-battant-le-senegal-1-0.html', 'summary': 'CAN féminine Maroc-2024 : le Maroc en quart de finale en battant le Sénégal (1-0). La sélection marocaine s’est qualifiée pour les quarts de finale de la Coupe d’Afrique des Nations féminine de football (Maroc-2024), après sa victoire sur l’équipe du Sénégal par 1 but à 0, samedi au Stade olympique de Rabat, pour le compte de la troisième et dernière journée du groupe A. Grâce au but inscrit par . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'CAN Féminine : le Maroc domine le Sénégal et termine en tête du groupe A'}, {'community_id': '13', 'articles': [{'id': '141', 'title': 'Plus de 311.600 candidats  décrochent leur baccalauréat en 2025', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Plus-de-311-600-candidats-decrochent-leur-baccalaureat-en-2025_a69787.html', 'summary': 'Plus de 311.600 candidats décrochent leur baccalauréat en 2025. Le ministère de l’Éducation nationale, du Préscolaire et des Sports a annoncé, samedi, que 311.625 candidats scolarisés de l’enseignement public et privé ont passé avec succès les épreuves des sessions ordinaire et de rattrapage au titre de l’année 2025.', 'size': 2}, {'id': '149', 'title': 'Maroc : Plus de 311.000 élèves décrochent leur bac en 2025', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171538/maroc-plus-eleves-decrochent-leur.html', 'summary': 'Maroc : Plus de 311.000 élèves décrochent leur bac en 2025. Le ministère de l’Éducation nationale a annoncé que 311.625 candidats scolarisés (public et privé) ont obtenu leur baccalauréat en 2025, après les sessions ordinaire et de rattrapage. Le taux de réussite global s’élève à 83,3%, en légère baisse par rapport à 2024 (84,1%).', 'size': 2}], 'main_title': 'Plus de 311.600 candidats  décrochent leur baccalauréat en 2025'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 14/07/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce lundi 14 juillet 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/432782-le-temps-quil-fera-ce-lundi-14-juillet-2025.html', 'summary': "Le temps qu'il fera ce lundi 14 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 14 juillet 2025 – Hausse des températures avec un temps assez chaud à chaud sur les plaines Nord et Centre, le Saiss, le Sud-Est et l’intérieur des provinces sahariennes. – Nuages bas assez fréquents la matinée et la nuit sur . ", 'size': 3}, {'id': '67', 'title': 'Prévisions météorologiques pour le lundi 14 juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-le-lundi-14-juillet-2025/', 'summary': 'Prévisions météorologiques pour le lundi 14 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 14 juillet 2025 : – Hausse des températures avec un temps assez chaud à chaud sur les plaines Nord et Centre, le Saiss, le Sud-Est et l’intérieur des provinces sahariennes. Lire aussi : Le Nigeria et l’UE s’allient pour la promotion .', 'size': 3}, {'id': '118', 'title': 'Les prévision du lundi 14 juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-prevision-du-lundi-14-juillet-306604/', 'summary': 'Les prévision du lundi 14 juillet. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 14 juillet 2025 : – Hausse des températures avec un temps assez chaud à chaud sur les plaines Nord et Centre, le Saiss, le Sud-Est et l’intérieur des provinces sahariennes. – Nuages bas assez fréquents', 'size': 3}], 'main_title': "Le temps qu'il fera ce lundi 14 juillet 2025"}, {'community_id': '1', 'articles': [{'id': '4', 'title': 'OIM : le Maroc 18ᵉ pays d’origine des migrants au niveau mondial', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433282-oim-le-maroc-18%e1%b5%89-pays-dorigine-des-migrants-au-niveau-mondial.html', 'summary': 'OIM : le Maroc 18ᵉ pays d’origine des migrants au niveau mondial. Un rapport récent de l’Organisation internationale pour les migrations (OIM) met en lumière le rôle central du Maroc dans les dynamiques migratoires entre l’Afrique et l’Europe, grâce à sa position géographique stratégique. Le Royaume se classe au 18e rang mondial et au 2e rang africain parmi les pays d’origine des migrants, et ce, en dépit . ', 'size': 2}, {'id': '129', 'title': '2.196 migrants concernés par le retour volontaire à leurs pays en 2024', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/2-196-migrants-concernes-par-le-retour-volontaire-a-leurs-pays-en-2024', 'summary': '2.196 migrants concernés par le retour volontaire à leurs pays en 2024. Rapport de l’Organisation internationale pour les migrations (OIM) Maroc Migration : En 2024, 2.196 migrants ont quitté le Maroc pour retourner dans leur pays d’origine, via le programme de retour volontaire de l’Organisation internationale pour les migrations (OIM). L’Organisation internationale pour les migrations (OIM) Maroc a publié son dernier rapport intitulé «La diversité au cœur .', 'size': 2}], 'main_title': 'OIM : le Maroc 18ᵉ pays d’origine des migrants au niveau mondial'}, {'community_id': '5', 'articles': [{'id': '6', 'title': 'CAN féminine : le Nigéria et l’Algérie en quart de finale', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433312-can-feminine-le-nigeria-et-lalgerie-en-quart-de-finale.html', 'summary': 'CAN féminine : le Nigéria et l’Algérie en quart de finale. Les sélections nigériane et algérienne se sont qualifiées pour les quarts de finale de la Coupe d’Afrique des nations féminine de football (Maroc-2024), après leur match nul (0-0), dimanche au Stade Larbi Zaouli à Casablanca, pour le compte de la troisième et dernière journée du groupe B. Le Nigéria termine en tête du groupe avec . ', 'size': 3}, {'id': '34', 'title': 'CAN féminine 2024 : Coup de griffe décisif des Lionnes de l’Atlas', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CAN-feminine-2024-Coup-de-griffe-decisif-des-Lionnes-de-l-Atlas_a69810.html', 'summary': 'CAN féminine 2024 : Coup de griffe décisif des Lionnes de l’Atlas. \u200bPortée par une combativité exemplaire et une maîtrise tactique affirmée, la sélection nationale marocaine féminine s’est imposée avec brio face au Sénégal (1-0), samedi soir au stade Olympique de Rabat, validant ainsi son billet pour les quarts de finale de la Coupe d’Afrique des Nations féminine (Maroc-2024). Avec cette deuxième victoire en trois matchs, les Lionnes de l’Atlas terminent en tête du groupe « A », à égalité de points avec la Zambie (7 pts), mais avec une meilleure différence de buts.', 'size': 3}, {'id': '81', 'title': 'CAN féminine : Le Maroc s’impose face au Sénégal et valide son ticket pour les quarts', 'source': 'lnt.ma', 'link': 'https://lnt.ma/can-feminine-le-maroc-simpose-face-au-senegal-et-valide-son-ticket-pour-les-quarts/', 'summary': 'CAN féminine : Le Maroc s’impose face au Sénégal et valide son ticket pour les quarts. La sélection nationale féminine de football s’est qualifiée pour les quarts de finale de la Coupe d’Afrique des nations féminine (Maroc-2024), en battant le Sénégal (1-0) lors du dernier match de la phase de groupes, samedi soir au stade Olympique de Rabat. Avec cette victoire, les Lionnes de l’Atlas terminent en tête du groupe A . ', 'size': 4}, {'id': '126', 'title': 'Une victoire qui permet à la sélection nationale de terminer première de son groupe: Le Maroc aux quarts de finale  en battant le Sénégal', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/sports/une-victoire-qui-permet-a-la-selection-nationale-de-terminer-premiere-de-son-groupe-le-maroc-aux-quarts-de-finale-en-battant-le-senegal', 'summary': 'Une victoire qui permet à la sélection nationale de terminer première de son groupe: Le Maroc aux quarts de finale en battant le Sénégal. La sélection marocaine s’est qualifiée pour les quarts de finale de la CAN Maroc 2024, après sa victoire sur l’équipe du Sénégal par 1 but à 0, samedi au stade Olympique de Rabat, pour le compte de la troisième et dernière journée. Elle prend ainsi la tête de de son groupe A avec 7 points. .', 'size': 2}], 'main_title': 'CAN féminine : Le Maroc s’impose face au Sénégal et valide son ticket pour les quarts'}, {'community_id': '8', 'articles': [{'id': '22', 'title': 'Rachid Taoussi nommé directeur technique du KACM pour deux saisons', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/rachid-taoussi-nomme-directeur-technique-du-kacm-pour-deux-saisons/290889', 'summary': "Rachid Taoussi nommé directeur technique du KACM pour deux saisons. Dans un communiqué de presse, le Kawkab Athlétique Club de Marrakech indique avoir mis fin, d'un commun accord, à sa collaboration avec l’ex-entraîneur Reda Hakam, exprimant se.", 'size': 2}, {'id': '124', 'title': 'Le Kawkab Marrakech confie la direction technique à Rachid Taoussi pour deux saisons', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171603/kawkab-marrakech-confie-direction-technique.html', 'summary': 'Le Kawkab Marrakech confie la direction technique à Rachid Taoussi pour deux saisons. Le comité directeur du Kawkab Athlétique Club de Marrakech (KACM) a annoncé la nomination de lentraîneur national Rachid Taoussi, à la tête de l’équipe première pour une durée de deux saisons sportives.', 'size': 2}], 'main_title': 'Rachid Taoussi nommé directeur technique du KACM pour deux saisons'}, {'community_id': '4', 'articles': [{'id': '24', 'title': 'Colonies de vacances 2025 : 2.000 enfants bénéficieront du programme Act4Community Khouribga', 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/colonies-de-vacances-2000-enfants-profiteront-du-programme-act4community/290848', 'summary': 'Colonies de vacances 2025 : 2.000 enfants bénéficieront du programme Act4Community Khouribga. Environ 2.000 enfants âgés de 7 à 15 ans profiteront de séjours gratuits dans des colonies de vacances situées dans des villes côtières. L’organisation est assurée par 30 associati.', 'size': 2}, {'id': '128', 'title': 'Près de 2.000 enfants bénéficiaires : Act4Community Khouribga lance son programme de colonies de vacances 2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/pres-de-2-000-enfants-beneficiaires-act4community-khouribga-lance-son-programme-de-colonies-de-vacances-2025', 'summary': 'Près de 2.000 enfants bénéficiaires : Act4Community Khouribga lance son programme de colonies de vacances 2025. Près de 2.000 enfants âgés de 7 à 15 ans profiteront de séjours gratuits dans des colonies situées dans des villes côtières. \x03 Initiative : Agés de 7 à 15 ans, environ 2.000 enfants profiteront de séjours gratuits dans des colonies situées dans des villes côtières. Offrir aux enfants un cadre propice à l’épanouissement social, .', 'size': 2}], 'main_title': 'Colonies de vacances 2025 : 2.000 enfants bénéficieront du programme Act4Community Khouribga'}, {'community_id': '11', 'articles': [{'id': '44', 'title': '\u200bVague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume (bulletin d’alerte)', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bVague-de-chaleur-de-mardi-a-vendredi-dans-plusieurs-provinces-du-Royaume-bulletin-d-alerte_a69799.html', 'summary': '\u200bVague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume (bulletin d’alerte). Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM).', 'size': 5}, {'id': '55', 'title': 'Vague de chaleur : Le mercure atteindra 47°C dans plusieurs provinces', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/vague-de-chaleur-le-mercure-atteindra-47c-dans-plusieurs-provinces', 'summary': 'Vague de chaleur : Le mercure atteindra 47°C dans plusieurs provinces. Une vague de chaleur est prévue de mardi à vendredi dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, des températures variant entre 44 et 47°C seront ainsi enregistrées de mardi à vendredi, dans les provinces d’Errachidia, Zagora, Taroudant, Tata, Assa-Zag, .', 'size': 5}, {'id': '65', 'title': 'Vague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/vague-de-chaleur-de-mardi-a-vendredi-dans-plusieurs-provinces-du-royaume-4/', 'summary': 'Vague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume. Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, des températures variant entre 44 et 47°C seront ainsi enregistrées de mardi à vendredi, dans les provinces d’Errachidia, Zagora, Taroudant, Tata, .', 'size': 5}, {'id': '75', 'title': 'Maroc : vague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-vague-de-chaleur-de-mardi-a-vendredi-dans-plusieurs-provinces-du-royaume.html', 'summary': 'Maroc : vague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume. Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, des températures variant entre 44 et 47°C seront ainsi enregistrées de mardi à vendredi, dans les provinces d’Errachidia, Zagora, Taroudant, Tata, . L’article est apparu en premier sur .', 'size': 5}, {'id': '83', 'title': 'Météo : Une nouvelle vague de chaleur annoncée', 'source': 'lnt.ma', 'link': 'https://lnt.ma/meteo-une-nouvelle-vague-de-chaleur-annoncee-4/', 'summary': 'Météo : Une nouvelle vague de chaleur annoncée. Une vague de chaleur est prévue de mardi à vendredi prochain dans plusieurs provinces du Royaume, avec des températures oscillant entre 40 et 47°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, des températures variant entre 44 et 47°C seront ainsi enregistrées de mardi à vendredi, dans les provinces d’Errachidia, Zagora, Taroudant, Tata, . ', 'size': 5}], 'main_title': '\u200bVague de chaleur de mardi à vendredi dans plusieurs provinces du Royaume (bulletin d’alerte)'}, {'community_id': '10', 'articles': [{'id': '71', 'title': 'Singapour maintient sa position de premier centre maritime mondial', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/singapour-maintient-sa-position-de-premier-centre-maritime-mondial/', 'summary': 'Singapour maintient sa position de premier centre maritime mondial. Singapour a maintenu sa position en tant que premier centre maritime mondial pour la 12e année consécutive, selon le rapport 2025 de l’Indice de développement des centres maritimes internationaux Xinhua-Baltic (ISCDI). Le pays insulaire de l’Asie du Sud-Est s’est largement démarqué avec un score de 99,50 sur 100, précise le rapport qui évalue les principaux .', 'size': 2}, {'id': '77', 'title': 'Singapour maintient sa position de premier centre maritime mondial (Indice)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/singapour-maintient-sa-position-de-premier-centre-maritime-mondial-indice.html', 'summary': "Singapour maintient sa position de premier centre maritime mondial (Indice). Singapour a maintenu sa position en tant que premier centre maritime mondial pour la 12e année consécutive, selon le rapport 2025 de l'Indice de développement des centres maritimes internationaux Xinhua-Baltic (ISCDI). L’article est apparu en premier sur .", 'size': 2}], 'main_title': 'Singapour maintient sa position de premier centre maritime mondial'}, {'community_id': '3', 'articles': [{'id': '86', 'title': 'Nigeria : décès de l’ancien président Muhammadu Buhari à 82 ans', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433342-nigeria-deces-de-lancien-president-muhammadu-buhari-a-82-ans.html', 'summary': 'Nigeria : décès de l’ancien président Muhammadu Buhari à 82 ans. L’ancien président nigérian Muhammadu Buhari est décédé dimanche à l’âge de 82 ans, a annoncé son porte-parole Garba Shehu. « La famille de l’ancien président a annoncé son décès cet après-midi dans une clinique à Londres », a indiqué Shehu sur les réseaux sociaux. Il avait été son porte-parole durant la présidence de Buhari, de . ', 'size': 3}, {'id': '101', 'title': "Décès de l'ancien président nigérian Muhammadu Buhari à l’âge de 82 ans", 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/deces-de-lancien-president-nigerian-muhammadu-buhari-a-lage-de-82-ans/290960', 'summary': "Décès de l'ancien président nigérian Muhammadu Buhari à l’âge de 82 ans. La famille de l'ancien président a annoncé le décès de Muhammadu Buhari cet après-midi dans une clinique à Londres, a annoncé sur les réseaux sociaux Garba Shehu, q.", 'size': 3}, {'id': '110', 'title': 'Muhammadu Buhari, ancien président du Nigeria, tire sa révérence', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/14/muhammadu-buhari-ancien-president-du-nigeria-tire-sa-reverence_1942255/', 'summary': 'Muhammadu Buhari, ancien président du Nigeria, tire sa révérence. L’ancien président nigérian Muhammadu Buhari s’est éteint à 82 ans à Londres. L’ancien président du Nigeria, Muhammadu Buhari, est décédé dimanche à l’âge de 82 ans dans une clinique londonienne, a annoncé son ancien porte-parole Garba Shehu. Ce dernier a précisé que la famille de l’ex-chef de l’État avait confirmé la nouvelle dimanche dans l’après-midi. Buhari.', 'size': 3}], 'main_title': 'Nigeria : décès de l’ancien président Muhammadu Buhari à 82 ans'}, {'community_id': '6', 'articles': [{'id': '90', 'title': 'Le Roi Mohammed VI adresse ses vœux à Emmanuel Macron pour la fête nationale française', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/433338-le-roi-mohammed-vi-adresse-ses-voeux-a-emmanuel-macron-pour-la-fete-nationale-francaise.html', 'summary': 'Le Roi Mohammed VI adresse ses vœux à Emmanuel Macron pour la fête nationale française. À l’occasion du 14 juillet, le Roi Mohammed VI a transmis un message de félicitations au président français Emmanuel Macron. Le Souverain y exprime ses vœux les plus sincères de bonheur et de prospérité au peuple français. Dans cette correspondance, le Roi souligne la volonté commune des deux pays de construire un avenir solidaire. Il . ', 'size': 3}, {'id': '103', 'title': 'Sa Majesté le Roi félicite Emmanuel Macron à l’occasion de la fête nationale de son pays', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Sa-Majeste-le-Roi-felicite-Emmanuel-Macron-a-l-occasion-de-la-fete-nationale-de-son-pays_a69821.html', 'summary': 'Sa Majesté le Roi félicite Emmanuel Macron à l’occasion de la fête nationale de son pays. \u200bSa Majesté le Roi Mohammed VI a adressé un message de félicitations au Président de la République française, M. Emmanuel Macron, à l’occasion de la fête nationale de son pays.', 'size': 3}, {'id': '115', 'title': 'Sa Majesté le Roi félicite le Président français à l’occasion de la fête nationale de son pays', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/sa-majeste-le-roi-felicite-le-president-francais-a-loccasion-de-la-fete-nationale-de-son-pays-306641/', 'summary': 'Sa Majesté le Roi félicite le Président français à l’occasion de la fête nationale de son pays. Sa Majesté le Roi Mohammed VI a adressé un message de félicitations au Président de la République française, M. Emmanuel Macron, à l’occasion de la fête nationale de son pays. Dans ce message, le Souverain exprime Ses félicitations les plus chaleureuses à M. Macron et Ses vœux les meilleurs pour', 'size': 3}], 'main_title': 'Le Roi Mohammed VI adresse ses vœux à Emmanuel Macron pour la fête nationale française'}, {'community_id': '2', 'articles': [{'id': '94', 'title': 'Maroc Telecom lance la 21e édition du Festival des Plages du 15 juillet au 21 août', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/la-21e-edition-du-festival-des-plages-du-15-juillet-au-21-aout/290987', 'summary': 'Maroc Telecom lance la 21e édition du Festival des Plages du 15 juillet au 21 août. Chaque été, le Festival des Plages rassemble des millions de spectateurs dans les plus belles stations balnéaires du Maroc autour de concerts gratuits, dans une ambiance festive et.', 'size': 2}, {'id': '165', 'title': 'Le Festival des Plages Maroc Telecom revient du 15 juillet au 21 août dans 6 villes', 'source': 'lnt.ma', 'link': 'https://lnt.ma/le-festival-des-plages-maroc-telecom-revient-du-15-juillet-au-21-aout-dans-6-villes/', 'summary': 'Le Festival des Plages Maroc Telecom revient du 15 juillet au 21 août dans 6 villes. Maroc Telecom a annoncé le lancement de la 21ᵉ édition du Festival des Plages, prévue du 15 juillet au 21 août 2025, dans plusieurs stations balnéaires du Royaume. Depuis sa création en 2002, cet événement musical gratuit s’est imposé comme un rendez-vous culturel majeur, réunissant chaque été des millions de spectateurs dans une ambiance festive . ', 'size': 2}], 'main_title': 'Maroc Telecom lance la 21e édition du Festival des Plages du 15 juillet au 21 août'}, {'community_id': '9', 'articles': [{'id': '100', 'title': '[Contenu de marque] Toyota, partenaire des Marocains dans la transition hybride', 'source': 'lematin.ma', 'link': 'https://lematin.ma/automobile/toyota-partenaire-des-marocains-dans-la-transition-hybride/290997', 'summary': '[Contenu de marque] Toyota, partenaire des Marocains dans la transition hybride. Déployée depuis le 1er avril, cette campagne s’appuie sur des visuels percutants, un message clair — HYBRID = TOYOTA — ainsi que sur des arguments factuels (RTB). Elle comprend éga.', 'size': 2}, {'id': '164', 'title': 'Toyota du Maroc lance une vaste campagne de communication sur l’expérience hybride', 'source': 'lnt.ma', 'link': 'https://lnt.ma/toyota-du-maroc-lance-une-vaste-campagne-de-communication-sur-lexperience-hybride/', 'summary': 'Toyota du Maroc lance une vaste campagne de communication sur l’expérience hybride. Toyota du Maroc, leader incontesté de l’hybride à l’échelle nationale et internationale, lance une campagne de communication ambitieuse, invitant les Marocains à découvrir l’expérience hybride. Déployée depuis le 1er avril, cette campagne s’appuie sur des visuels percutants, un message clair — HYBRID = TOYOTA — ainsi que sur des arguments factuels (RTB). Elle comprend également . ', 'size': 2}], 'main_title': '[Contenu de marque] Toyota, partenaire des Marocains dans la transition hybride'}, {'community_id': '7', 'articles': [{'id': '104', 'title': "France: Décès de l'animateur vedette Thierry Ardisson à 76 ans", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/France-Deces-de-l-animateur-vedette-Thierry-Ardisson-a-76-ans_a69819.html', 'summary': 'France: Décès de l\'animateur vedette Thierry Ardisson à 76 ans. "Amis de l\'homme en noir, bonsoir!": adepte des interviews et des formules choc, l\'animateur et producteur Thierry Ardisson, figure impertinente et prolifique de la télévision française, est décédé lundi à 76 ans.', 'size': 2}, {'id': '116', 'title': 'Décès de l’animateur vedette de la télévision française Thierry Ardisson', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/deces-de-lanimateur-vedette-de-la-television-francaise-thierry-ardisson-306612/', 'summary': 'Décès de l’animateur vedette de la télévision française Thierry Ardisson. L’animateur vedette de la télévision française, Thierry Ardisson est décédé, lundi, à l’âge de 76 ans des suites d’une longue maladie, rapportent les médias citant sa famille. « Thierry est parti comme il a vécu. En homme courageux et libre. Avec ses enfants et les miens, nous étions unis autour de', 'size': 2}], 'main_title': "France: Décès de l'animateur vedette Thierry Ardisson à 76 ans"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
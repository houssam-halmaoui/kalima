<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 21/08/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce jeudi 21 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438221-le-temps-quil-fera-ce-jeudi-21-aout-2025.html', 'summary': "Le temps qu'il fera ce jeudi 21 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le jeudi 21 août 2025 – Temps assez chaud sur les plaines intérieures Centre, l’Oriental, l’intérieur des provinces Sud et le Sud-Est. – Ondées et orages épars sur le Sud des provinces Sahariennes. – Nuages cumuliformes sur le Haut Atlas, le Sud-Est . ", 'size': 2}, {'id': '127', 'title': 'Les prévisions du jeudi 21 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-jeudi-21-aout-2025-308836/', 'summary': 'Les prévisions du jeudi 21 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le jeudi 21 août 2025 : – Temps assez chaud sur les plaines intérieures Centre, l’Oriental, l’intérieur des provinces Sud et le Sud-Est. – Ondées et orages épars sur le Sud des provinces Sahariennes. – Nuages cumuliformes', 'size': 2}], 'main_title': "Le temps qu'il fera ce jeudi 21 août 2025"}, {'community_id': '13', 'articles': [{'id': '14', 'title': 'Kénitra : un mineur interpellé après une tentative de vol avec un faux colis explosif', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/kenitraun-mineur-interpelle-pour-tentative-de-vol-avec-faux-colis-explosif/297337', 'summary': 'Kénitra : un mineur interpellé après une tentative de vol avec un faux colis explosif. Selon une source sécuritaire, le suspect aurait pénétré dans le magasin en proférant des menaces et en prétendant être en possession d’un engin explosif. Après avoir échoué dans sa.', 'size': 5}, {'id': '29', 'title': "Kénitra : la police arrête le mineur qui a tenté de voler un commerce sous la menace d'un faux colis explosif", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Kenitra-la-police-arrete-le-mineur-qui-a-tente-de-voler-un-commerce-sous-la-menace-d-un-faux-colis-explosif_a70959.html', 'summary': "Kénitra : la police arrête le mineur qui a tenté de voler un commerce sous la menace d'un faux colis explosif. Les éléments de l'unité mobile de la police de secours à la Préfecture de police de Kénitra ont interpellé, mercredi vers midi, un mineur soupçonné d'avoir tenté de dérober un commerce sous la menace d'un faux colis explosif.", 'size': 5}, {'id': '45', 'title': "Kénitra : interpellation d’un mineur soupçonné de tentative de vol sous la menace d'un faux colis explosif", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/kenitra-interpellation-dun-mineur-soupconne-de-tentative-de-vol-sous-la-menace-dun-faux-colis-explosif_1947064/', 'summary': "Kénitra : interpellation d’un mineur soupçonné de tentative de vol sous la menace d'un faux colis explosif. Les éléments de l’unité mobile de la police de secours à la Préfecture de police de Kénitra ont interpellé, mercredi vers midi, un mineur soupçonné d’avoir tenté de dérober un commerce sous la menace d’un faux colis explosif. Selon les premiers éléments de l’enquête, le suspect âgé de 17 ans aurait tenté de commettre un.", 'size': 5}, {'id': '69', 'title': 'Kénitra : Arrestation d’un mineur pour tentative de vol avec un faux colis explosif', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174615/kenitra-arrestation-d-un-mineur-pour.html', 'summary': 'Kénitra : Arrestation d’un mineur pour tentative de vol avec un faux colis explosif. Les éléments de l’unité mobile de la police de secours relevant de la Préfecture de police de Kénitra ont procédé, mercredi aux alentours de midi, à l’interpellation d’un mineur soupçonné d’avoir tenté de braquer un commerce en brandissant un faux colis explosif.', 'size': 5}, {'id': '101', 'title': 'Kénitra: un mineur arrêté après une tentative de vol avec un faux colis explosif', 'source': 'lnt.ma', 'link': 'https://lnt.ma/kenitra-un-mineur-arrete-apres-une-tentative-de-vol-avec-un-faux-colis-explosif/', 'summary': 'Kénitra: un mineur arrêté après une tentative de vol avec un faux colis explosif. Les éléments de l’unité mobile de la police de secours à la Préfecture de police de Kénitra ont interpellé, mercredi vers midi, un mineur soupçonné d’avoir tenté de dérober un commerce sous la menace d’un faux colis explosif. Selon les premiers éléments de l’enquête, le suspect âgé de 17 ans aurait tenté de commettre un . ', 'size': 5}], 'main_title': 'Kénitra : un mineur interpellé après une tentative de vol avec un faux colis explosif'}, {'community_id': '7', 'articles': [{'id': '16', 'title': "Le Japon réaffirme pour la troisième fois, au Sommet de la TICAD-9, sa non-reconnaissance de l'entité séparatiste", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/le-japon-reaffirme-sa-non-reconnaissance-de-lentite-separatiste/297319', 'summary': "Le Japon réaffirme pour la troisième fois, au Sommet de la TICAD-9, sa non-reconnaissance de l'entité séparatiste. Dès l’ouverture du sommet et en prélude au début des travaux, le ministre japonais des Affaires étrangères, Takeshi Iwaya, a fait une déclaration solennelle au nom de son gouvernem.", 'size': 2}, {'id': '83', 'title': 'Sommet de la TICAD-9: Le Japon réaffirme pour la troisième fois sa non-reconnaissance de l’entité séparatiste', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/sommet-de-la-ticad-9-le-japon-reaffirme-pour-la-troisieme-fois-sa-non-reconnaissance-de-lentite-separatiste/', 'summary': 'Sommet de la TICAD-9: Le Japon réaffirme pour la troisième fois sa non-reconnaissance de l’entité séparatiste. La diplomatie japonaise a marqué sa réserve sur la présence du Polisario, en indiquant que le Japon a refusé de lui adresser une invitation et s’est contenté d’inviter les pays avec lesquels il entretient des relations diplomatiques.', 'size': 2}], 'main_title': "Le Japon réaffirme pour la troisième fois, au Sommet de la TICAD-9, sa non-reconnaissance de l'entité séparatiste"}, {'community_id': '1', 'articles': [{'id': '18', 'title': 'Anniversaire de la Révolution du Roi et du Peuple : Grâce Royale au profit de 881 personnes', 'source': 'lematin.ma', 'link': 'https://lematin.ma/activites-royales/grace-royale-au-profit-de-881-personnes/297316', 'summary': "Anniversaire de la Révolution du Roi et du Peuple : Grâce Royale au profit de 881 personnes. En voici le texte :A l'occasion de la commémoration de la Révolution du Roi et du Peuple, de cette année 1447 H-2025 G, Sa Majesté le Roi Mohammed VI, que Dieu perpétue S.", 'size': 3}, {'id': '52', 'title': "881 personnes graciées par le roi à l'occasion de l'anniversaire de la Révolution du roi et du peuple", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/881-personnes-graciees-par-le-roi-a-loccasion-de-lanniversaire-de-la-revolution-du-roi-et-du-peuple_1947035/', 'summary': "881 personnes graciées par le roi à l'occasion de l'anniversaire de la Révolution du roi et du peuple. A l’occasion de l’anniversaire de la Révolution du roi et du peuple, le roi Mohammed VI a gracié 881 personnes, dont 676 en détention et 205 en liberté, condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué. Les bénéficiaires de la grâce royale qui sont en détention sont au.", 'size': 3}, {'id': '104', 'title': 'Grâce royale pour 881 personnes à l’occasion de la Révolution du Roi et du Peuple', 'source': 'lnt.ma', 'link': 'https://lnt.ma/grace-royale-pour-881-personnes-a-loccasion-de-la-revolution-du-roi-et-du-peuple/', 'summary': 'Grâce royale pour 881 personnes à l’occasion de la Révolution du Roi et du Peuple. A l’occasion de l’anniversaire de la Révolution du Roi et du Peuple, SM le Roi Mohammed VI a bien voulu accorder Sa grâce à 881 personnes, dont 676 en détention et 205 en liberté, condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué. En voici le texte : « A . ', 'size': 3}], 'main_title': 'Anniversaire de la Révolution du Roi et du Peuple : Grâce Royale au profit de 881 personnes'}, {'community_id': '12', 'articles': [{'id': '26', 'title': 'Tanger : Interpellation d’un Danois poursuivi pour homicide volontaire', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Tanger-Interpellation-d-un-Danois-poursuivi-pour-homicide-volontaire_a70962.html', 'summary': 'Tanger : Interpellation d’un Danois poursuivi pour homicide volontaire. Les éléments de la préfecture de police de Tanger ont interpellé, mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme. Détails.', 'size': 4}, {'id': '54', 'title': 'Tanger : interpellation d’un ressortissant danois recherché par Interpol', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/tanger-interpellation-dun-ressortissant-danois-recherche-par-interpol_1947029/', 'summary': 'Tanger : interpellation d’un ressortissant danois recherché par Interpol. Les éléments de la préfecture de police de Tanger ont interpellé, mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme, apprend-on de source sécuritaire. Le mis en cause (26 ans) a été arrêté à Tanger après que.', 'size': 4}, {'id': '60', 'title': 'Un Danois recherché par Interpol interpellé à Tanger', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/un-danois-recherche-par-interpol-interpelle-a-tanger-308793/', 'summary': 'Un Danois recherché par Interpol interpellé à Tanger. Les éléments de la préfecture de police de Tanger ont interpellé, mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme, apprend-on de source sécuritaire. Le mis en cause (26 ans) a été', 'size': 4}, {'id': '95', 'title': 'Tanger : interpellation d’un ressortissant danois faisant l’objet d’un mandat d’arrêt international', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/tanger-interpellation-dun-ressortissant-danois-faisant-lobjet-dun-mandat-darret-international.html', 'summary': 'Tanger : interpellation d’un ressortissant danois faisant l’objet d’un mandat d’arrêt international. Les éléments de la préfecture de police de Tanger ont interpellé mardi soir, un ressortissant danois d’origine palestinienne, faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires danoises pour une affaire d’homicide volontaire commis avec arme, apprend-on de source sécuritaire. Le mis en cause (26 ans) a été arrêté à Tanger après que . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'Tanger : Interpellation d’un Danois poursuivi pour homicide volontaire'}, {'community_id': '8', 'articles': [{'id': '27', 'title': 'Agadir : Lancement du projet de sécurisation de l’eau potable à partir de la station de Tamri', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Agadir-Lancement-du-projet-de-securisation-de-l-eau-potable-a-partir-de-la-station-de-Tamri_a70960.html', 'summary': 'Agadir : Lancement du projet de sécurisation de l’eau potable à partir de la station de Tamri. Dans le cadre de son engagement pour la sécurisation de l’alimentation en eau potable de la région de Souss-Massa, l’Office National de l’Électricité et de l’Eau Potable (ONEE) a donné mercredi, le coup d’envoi des travaux de dédoublement d’un tronçon important de l’adduction régionale émanant du Barrage Moulay Abdellah, situé au nord d’Agadir.', 'size': 5}, {'id': '55', 'title': 'Agadir: la sécurisation de l’alimentation en eau potable sur de bons rails', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/agadir-la-securisation-de-lalimentation-en-eau-potable-sur-de-bons-rails-308825/', 'summary': 'Agadir: la sécurisation de l’alimentation en eau potable sur de bons rails. L’Office national de l’électricité et de l’eau potable (ONEE) a lancé, mercredi 20 août, les travaux de dédoublement d’un important tronçon d’adduction régionale à partir du barrage Moulay Abdellah, situé au nord d’Agadir, dans le cadre du programme de gestion du stress hydrique. Le projet porte sur le transfert des', 'size': 5}, {'id': '70', 'title': 'L’ONEE lance les travaux de réalisation du projet de sécurisation de l’eau potable du Grand Agadir à partir de la station de Tamri', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/lonee-lance-les-travaux-de-realisation-du-projet-de-securisation-de-leau-potable-du-grand-agadir-a-partir-de-la-station-de-tamri', 'summary': 'L’ONEE lance les travaux de réalisation du projet de sécurisation de l’eau potable du Grand Agadir à partir de la station de Tamri. Dans le cadre de son engagement pour la sécurisation de l’alimentation en eau potable de la région de Souss-Massa, l’Office National de l’Électricité et de l’Eau Potable (ONEE) a donné mercredi, le coup d’envoi des travaux de dédoublement d’un tronçon important de l’adduction régionale émanant du Barrage Moulay Abdellah, situé au nord d’Agadir. Lancé par .', 'size': 5}, {'id': '87', 'title': 'L’ONEE lance les travaux pour sécuriser l’eau potable du Grand Agadir via Tamri', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/lonee-lance-les-travaux-pour-securiser-leau-potable-du-grand-agadir-via-tamri/', 'summary': 'L’ONEE lance les travaux pour sécuriser l’eau potable du Grand Agadir via Tamri. Dans le cadre de son engagement pour la sécurisation de l’alimentation en eau potable de la région de Souss-Massa, l’Office National de l’Électricité et de l’Eau Potable (ONEE) a donné mercredi, le coup d’envoi des travaux de dédoublement d’un tronçon important de l’adduction régionale émanant du Barrage Moulay Abdellah, situé au nord d’Agadir. Lancé par .', 'size': 5}, {'id': '102', 'title': 'ONEE lance un projet stratégique pour sécuriser l’alimentation en eau potable du Grand Agadir', 'source': 'lnt.ma', 'link': 'https://lnt.ma/onee-lance-un-projet-strategique-pour-securiser-lalimentation-en-eau-potable-du-grand-agadir/', 'summary': 'ONEE lance un projet stratégique pour sécuriser l’alimentation en eau potable du Grand Agadir. Dans le cadre de son engagement pour la sécurisation de l’alimentation en eau potable de la région de Souss-Massa, l’Office National de l’Électricité et de l’Eau Potable (ONEE) a donné mercredi, le coup d’envoi des travaux de dédoublement d’un tronçon important de l’adduction régionale émanant du Barrage Moulay Abdellah, situé au nord d’Agadir. Lancé par . ', 'size': 5}], 'main_title': 'Agadir : Lancement du projet de sécurisation de l’eau potable à partir de la station de Tamri'}, {'community_id': '4', 'articles': [{'id': '32', 'title': "Gaza : les troupes israéliennes subissent une attaque d'ampleur inédite", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Gaza-les-troupes-israeliennes-subissent-une-attaque-d-ampleur-inedite_a70956.html', 'summary': "Gaza : les troupes israéliennes subissent une attaque d'ampleur inédite. L'armé israélienne a affirmé mercredi avoir tué une dizaine de combattants du Hamas dans la bande de Gaza en repoussant une attaque de la branche armée du mouvement islamiste palestinien, qui assure elle avoir tué un nombre indéterminé de soldats israéliens.", 'size': 2}, {'id': '121', 'title': "L'armée israélienne resserre son étau sur la ville de Gaza", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/21/larmee-israelienne-resserre-son-etau-sur-la-ville-de-gaza_1947120/', 'summary': "L'armée israélienne resserre son étau sur la ville de Gaza. L’armée israélienne resserre son étau sur la ville de Gaza, où ses troupes ont lancé de premières opérations et poursuivi leurs bombardements jeudi avec l’objectif de prendre ce dernier grand bastion du Hamas dans le territoire palestinien. Cinq divisions de l’armée, composées de dizaines de milliers de soldats, doivent participer à cette offensive, selon l’armée,.", 'size': 2}], 'main_title': "Gaza : les troupes israéliennes subissent une attaque d'ampleur inédite"}, {'community_id': '5', 'articles': [{'id': '42', 'title': 'Étudiants marocains en France, voici les villes universitaires les plus chères en 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/etudiants-marocains-voici-les-ville-universitaires-francaises-les-plus-cheres-en-2025_1947073/', 'summary': 'Étudiants marocains en France, voici les villes universitaires les plus chères en 2025. Paris reste en tête du classement des villes universitaires françaises où les coûts de la vie sont les plus élevés, avec un budget mensuel estimé à plus de 1.600 euros en 2025, selon l’étude annuelle de l’Union nationale des étudiants de France (Unef) publiée mercredi. D’après l’Unef, il faudrait désormais débourser 1.627 euros par mois.', 'size': 2}, {'id': '134', 'title': 'Paris reste la ville universitaire la plus chère de France', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/paris-reste-la-ville-universitaire-la-plus-chere-de-france/', 'summary': 'Paris reste la ville universitaire la plus chère de France. Paris reste en tête du classement des villes universitaires françaises où les coûts de la vie sont les plus élevés, avec un budget mensuel estimé à plus de 1.600 euros en 2025, selon l’étude annuelle de l’Union nationale des étudiants de France (Unef) publiée mercredi. D’après l’Unef, il faudrait désormais débourser 1.627 euros par mois .', 'size': 2}], 'main_title': 'Étudiants marocains en France, voici les villes universitaires les plus chères en 2025'}, {'community_id': '6', 'articles': [{'id': '49', 'title': 'L’ONU salue la “générosité” du roi pour l’aide humanitaire “importante” envoyée à Gaza', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/20/lonu-salue-la-generosite-du-roi-pour-laide-humanitaire-importante-envoyee-a-gaza_1947046/', 'summary': 'L’ONU salue la “générosité” du roi pour l’aide humanitaire “importante” envoyée à Gaza. L’Organisation des Nations Unies a salué la “générosité” du roi Mohammed VI, président du Comité Al-Qods, suite à l’envoi d’une aide humanitaire supplémentaire “importante” au profit des habitants de Gaza. Nous saluons la générosité et la décision prise par Sa Majesté le roi Mohammed VI d’envoyer une aide humanitaire importante pour la population de Gaza« , a.', 'size': 5}, {'id': '68', 'title': 'L’ONU salue la générosité du Roi Mohammed VI pour l’aide humanitaire envoyée à Gaza', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174617/l-onu-salue-generosite-mohammed-pour.html', 'summary': 'L’ONU salue la générosité du Roi Mohammed VI pour l’aide humanitaire envoyée à Gaza. L’ONU a rendu hommage à la «générosité» de du Roi Mohammed VI, Président du Comité Al-Qods, après l’envoi, sur Très Hautes Instructions Royales, d’une aide humanitaire supplémentaire jugée «importante» au profit de la population de Gaza.', 'size': 5}, {'id': '76', 'title': "SM le Roi Mohammed VI, Président  du Comité Al-Qods, donne Ses Très Hautes Instructions pour l'envoi d'une aide humanitaire supplémentaire au profit des habitants de Gaza", 'source': 'www.libe.ma', 'link': 'https://www.libe.ma/SM-le-Roi-Mohammed-VI-President-du-Comite-Al-Qods-donne-Ses-Tres-Hautes-Instructions-pour-l-envoi-d-une-aide_a155331.html', 'summary': "SM le Roi Mohammed VI, Président du Comité Al-Qods, donne Ses Très Hautes Instructions pour l'envoi d'une aide humanitaire supplémentaire au profit des habitants de Gaza.", 'size': 5}, {'id': '79', 'title': 'L’ONU salue la «\xa0générosité\xa0» de SM le Roi pour l’aide humanitaire «\xa0importante\xa0» envoyée à Gaza', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/lonu-salue-la-generosite-de-sm-le-roi-pour-laide-humanitaire-importante-envoyee-a-gaza/', 'summary': 'L’ONU salue la « générosité » de SM le Roi pour l’aide humanitaire « importante » envoyée à Gaza. L’Organisation des Nations Unies a salué la "générosité" de Sa Majesté le Roi Mohammed VI, Président du Comité Al-Qods, suite à l’envoi, sur Très Hautes Instructions du Souverain, d\'une aide humanitaire supplémentaire "importante" au profit des habitants de Gaza.', 'size': 5}, {'id': '91', 'title': 'L’ONU salue la «\xa0générosité\xa0» de S.M. le Roi pour l’aide humanitaire «\xa0importante\xa0» envoyée à Gaza', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/lonu-salue-la-generosite-de-s-m-le-roi-pour-laide-humanitaire-importante/', 'summary': 'L’ONU salue la « générosité » de S.M. le Roi pour l’aide humanitaire « importante » envoyée à Gaza. L’Organisation des Nations Unies a salué la « générosité » de Sa Majesté le Roi Mohammed VI, Président du Comité Al-Qods, suite à l’envoi, sur Très Hautes Instructions du Souverain, d’une aide humanitaire supplémentaire « importante » au profit des habitants de Gaza. « Nous saluons la générosité et la décision prise par Sa Majesté le Roi Mohammed VI d’envoyer .', 'size': 5}], 'main_title': 'L’ONU salue la “générosité” du roi pour l’aide humanitaire “importante” envoyée à Gaza'}, {'community_id': '10', 'articles': [{'id': '59', 'title': 'Port de Dakhla : les débarquements de pêche chutent à fin juillet 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/port-de-dakhla-les-debarquements-de-peche-chutent-a-fin-juillet-2025-308806/', 'summary': 'Port de Dakhla : les débarquements de pêche chutent à fin juillet 2025. Les débarquements de la pêche côtière et artisanale au niveau du port de Dakhla se sont établis à 57 320 tonnes (T) au cours des sept premiers mois de 2025, en baisse de 21% par rapport à la même période de l’année précédente, selon l’Office national des pêches (ONP). La', 'size': 2}, {'id': '96', 'title': 'Port de Dakhla: Baisse de 21% des débarquements de pêche à fin juillet (ONP)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/port-de-dakhla-baisse-de-21-des-debarquements-de-peche-a-fin-juillet-onp.html', 'summary': 'Port de Dakhla: Baisse de 21% des débarquements de pêche à fin juillet (ONP). Les débarquements de la pêche côtière et artisanale au niveau du port de Dakhla se sont établis à 57.320 tonnes (T) au cours des sept premiers mois de 2025, en baisse de 21% par rapport à la même période de l’année précédente, selon l’Office national des pêches (ONP). La valeur marchande de ces captures a . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Port de Dakhla : les débarquements de pêche chutent à fin juillet 2025'}, {'community_id': '3', 'articles': [{'id': '71', 'title': 'Fête de la Jeunesse : Célébration de l’engagement Royal constant envers les jeunes, acteurs clés d’un Maroc émergent', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/fete-de-la-jeunesse-celebration-de-lengagement-royal-constant-envers-les-jeunes-acteurs-cles-dun-maroc-emergent', 'summary': 'Fête de la Jeunesse : Célébration de l’engagement Royal constant envers les jeunes, acteurs clés d’un Maroc émergent. La Fête de la Jeunesse, célébrée jeudi par le peuple marocain, offre l’occasion de mettre en avant l’engagement constant de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, en faveur du renforcement de la place des jeunes dans la dynamique sociétale et de leur participation politique et économique agissante au service d’un Maroc émergent, .', 'size': 2}, {'id': '117', 'title': "Fête de la Jeunesse : Célébration de l'engagement Royal constant envers les jeunes", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/sm-le-roi-et-la-jeunesse-un-pacte-pour-batir-le-maroc-de-demain/297281', 'summary': "Fête de la Jeunesse : Célébration de l'engagement Royal constant envers les jeunes. Jamais l’humanité n’a compté autant de jeunes : près de 1,8 milliard de personnes âgées de 10 à 24 ans. Le Maroc partage cette réalité démographique : près d’un tiers de sa populat.", 'size': 2}], 'main_title': 'Fête de la Jeunesse : Célébration de l’engagement Royal constant envers les jeunes, acteurs clés d’un Maroc émergent'}, {'community_id': '9', 'articles': [{'id': '93', 'title': 'Températures prévues pour le jeudi 21 août 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-jeudi-21-aout-2025/', 'summary': 'Températures prévues pour le jeudi 21 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le jeudi 21 août 2025: Min Max – Oujda 21 37 – Bouarfa 21 37 – Al Hoceima 22 29 – Tétouan 23 33 – Sebta 21 24 – Mellilia 23 28 – Tanger 21 26 – Kénitra 19 26 .', 'size': 2}, {'id': '114', 'title': 'Les températures attendues ce jeudi 21 août 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438222-les-temperatures-attendues-ce-jeudi-21-aout-2025.html', 'summary': 'Les températures attendues ce jeudi 21 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le jeudi 21 août 2025 Min Max – Oujda 21 37 – Bouarfa 21 37 – Al Hoceima 22 29 – Tétouan 23 33 – Sebta 21 24 – Mellilia 23 28 – Tanger 21 26 – Kénitra 19 26 . ', 'size': 2}], 'main_title': 'Températures prévues pour le jeudi 21 août 2025'}, {'community_id': '11', 'articles': [{'id': '94', 'title': 'Sommet de la TICAD-9 : le Japon réaffirme sa non-reconnaissance du Polisario', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/ticad-9-le-japon-reaffirme-pour-la-troisieme-fois-sa-non-reconnaissance-du-polisario.html', 'summary': 'Sommet de la TICAD-9 : le Japon réaffirme sa non-reconnaissance du Polisario. Dans un message fort et clair à l’Afrique et à l’ONU, le Japon a réitéré pour la troisième fois en l’espace de deux jours, sa position constante de non-reconnaissance de l’entité séparatiste, et ce à l’ouverture du sommet de la 9e Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), mercredi à Yokohama. Dès . L’article est apparu en premier sur .', 'size': 2}, {'id': '99', 'title': 'TICAD 9 | Le Japon réaffirme pour la 3ème fois sa non-reconnaissance de l’entité séparatiste', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/ticad-9-le-japon-reaffirme-pour-la-3eme-fois-sa-non-reconnaissance-de-lentite-separatiste/', 'summary': 'TICAD 9 | Le Japon réaffirme pour la 3ème fois sa non-reconnaissance de l’entité séparatiste. Dans un message fort et clair à l’Afrique et à l’ONU, le Japon a réitéré, pour la troisième fois en l’espace de deux jours, sa position constante de non-reconnaissance de l’entité séparatiste, et ce à l’ouverture du sommet de la 9e Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), mercredi à Yokohama. Dès ', 'size': 2}], 'main_title': 'Sommet de la TICAD-9 : le Japon réaffirme sa non-reconnaissance du Polisario'}, {'community_id': '2', 'articles': [{'id': '108', 'title': 'Au Sommet de la TICAD 9, le Maroc met en avant la vision du Roi Mohammed VI', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438230-au-sommet-de-la-ticad-9-le-maroc-met-en-avant-la-vision-du-roi-mohammed-vi.html', 'summary': 'Au Sommet de la TICAD 9, le Maroc met en avant la vision du Roi Mohammed VI. La vision et les initiatives stratégiques du Roi Mohammed VI pour le développement et l’intégration du continent africain ont été mises en exergue lors du 9e Sommet de la Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), qui se tient jusqu’à vendredi à Yokohama, au Japon. Intervenant lors d’une conférence organisée, jeudi, dans . ', 'size': 2}, {'id': '138', 'title': 'La vision royale pour l’Afrique mise en avant à la TICAD-9 à Yokohama', 'source': 'lnt.ma', 'link': 'https://lnt.ma/la-vision-royale-pour-lafrique-mise-en-avant-a-la-ticad-9-a-yokohama/', 'summary': 'La vision royale pour l’Afrique mise en avant à la TICAD-9 à Yokohama. La vision et les initiatives stratégiques de SM le Roi Mohammed VI pour le développement et l’intégration du continent africain ont été mises en exergue lors du 9e Sommet de la Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), qui se tient jusqu’à vendredi à Yokohama, au Japon. Intervenant lors d’une conférence organisée, . ', 'size': 2}], 'main_title': 'Au Sommet de la TICAD 9, le Maroc met en avant la vision du Roi Mohammed VI'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
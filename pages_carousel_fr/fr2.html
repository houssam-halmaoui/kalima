<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 27/08/2025 - 12h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '5', 'articles': [{'id': '2', 'title': 'Service militaire : début lundi de l’opération de sélection du 40ᵉ contingent', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438756-service-militaire-debut-lundi-de-loperation-de-selection-du-40%e1%b5%89-contingent.html', 'summary': 'Service militaire : début lundi de l’opération de sélection du 40ᵉ contingent. À partir du 1er septembre 2025, les Forces Armées Royales (FAR) lanceront officiellement l’opération de sélection et d’incorporation des jeunes appelés pour constituer le 40ᵉ contingent du service militaire. Cette initiative s’inscrit dans le cadre des Hautes Instructions Royales du Roi Mohammed VI, Chef Suprême et Chef d’État-Major Général des FAR. Afin de garantir le . ', 'size': 2}, {'id': '22', 'title': 'Service militaire : lancement, le 1er septembre, de la sélection et l’incorporation des appelés au sein du 40e contingent', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/service-militaire-selection-et-incorporation-du-40e-contingent-lundi/298179', 'summary': "Service militaire : lancement, le 1er septembre, de la sélection et l’incorporation des appelés au sein du 40e contingent. À cet effet, l'Etat-Major Général des FAR a pris, en coordination avec le ministère de l’Intérieur, toutes les mesures nécessaires pour assurer le succès à de cette opération,.", 'size': 3}, {'id': '54', 'title': "\u200bService militaire: lancement lundi prochain de l'opération de sélection et d’incorporation des appelés au sein du 40e contingent", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bService-militaire-lancement-lundi-prochain-de-l-operation-de-selection-et-d-incorporation-des-appeles-au-sein-du-40e_a71103.html', 'summary': "\u200bService militaire: lancement lundi prochain de l'opération de sélection et d’incorporation des appelés au sein du 40e contingent. En application des Hautes Instructions de Sa Majesté le Roi, Chef Suprême et Chef d'Etat-Major Général des Forces Armées Royales (FAR), que Dieu L'assiste, l’opération de sélection et d’incorporation des appelés au service militaire au sein du 40e contingent débutera à partir du lundi 1er septembre 2025, indique un communiqué de l'Etat-Major Général des FAR.", 'size': 3}, {'id': '68', 'title': "Service militaire : lancement lundi prochain de l'opération de sélection et d’incorporation des appelés", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/26/service-militaire-lancement-lundi-prochain-de-loperation-de-selection-et-dincorporation-des-appeles_1947584/', 'summary': "Service militaire : lancement lundi prochain de l'opération de sélection et d’incorporation des appelés. En application des instructions du roi, l’opération de sélection et d’incorporation des appelés au service militaire au sein du 40e contingent débutera à partir du lundi 1er septembre 2025, indique un communiqué de l’Etat-Major général des FAR. Ce qu’il s’est passé L’opération de sélection et d’incorporation des appelés au service militaire au sein du 40ᵉ.", 'size': 4}, {'id': '108', 'title': 'Service militaire : L’opération de sélection et d’incorporation des appelés débute lundi 1er septembre', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/service-militaire-loperation-de-selection-et-dincorporation-des-appeles-debute-lundi-1er-septembre/', 'summary': "Service militaire : L’opération de sélection et d’incorporation des appelés débute lundi 1er septembre. Les candidats ayant reçu leurs ordres d'appel doivent consulter au préalable les informations importantes y afférentes et respecter la date et le lieu désigné pour l’opération de sélection, indique l'Etat-Major Général des FAR dans un communiqué.", 'size': 3}], 'main_title': "Service militaire : lancement lundi prochain de l'opération de sélection et d’incorporation des appelés"}, {'community_id': '1', 'articles': [{'id': '9', 'title': 'CHAN 2024 : Le Maroc assure sa place en finale après avoir battu le Sénégal', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438784-chan-2024-le-maroc-assure-sa-place-en-finale-apres-avoir-battu-le-senegal.html', 'summary': 'CHAN 2024 : Le Maroc assure sa place en finale après avoir battu le Sénégal. Après un match haletant, à haute intensité, le Maroc s’est qualifié pour la finale du CHAN 2024 lors de l’épreuve fatidique des tirs au but (4-3), face au Sénégal. Le duel entre le Maroc et le Sénégal en demi-finale du Championnat d’Afrique des Nations a débuté ce mardi soir au stade Mandela National, sous une . ', 'size': 4}, {'id': '83', 'title': 'CHAN 2024 : Le Maroc file en finale après sa victoire face au Sénégal aux tirs au but', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175030/chan-2024-maroc-file-finale.html', 'summary': 'CHAN 2024 : Le Maroc file en finale après sa victoire face au Sénégal aux tirs au but. L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour la finale du Championnat d’Afrique des nations (CHAN) après sa victoire face à son homologue sénégalaise, jusque-là tenante du titre, par 5 tirs au but à 3 (temps réglementaire et prolongations 1-1), en demi-finale disputée, mardi soir, au stade Mandela à Kampala.', 'size': 5}, {'id': '84', 'title': 'CHAN-2024: Le Maroc se qualifie pour la finale après sa victoire face au Sénégal', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/une/chan-2024-le-maroc-se-qualifie-pour-la-finale-apres-sa-victoire-face-au-senegal', 'summary': 'CHAN-2024: Le Maroc se qualifie pour la finale après sa victoire face au Sénégal. L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour la finale du Championnat d’Afrique des nations (CHAN) après sa victoire face à son homologue sénégalaise par 5 tirs au but à 3 (temps réglementaire et prolongations 1-1), en demi-finale disputée, mardi soir, au stade Mandela à Kampala. Le but du Sénégal a été inscrit .', 'size': 5}, {'id': '115', 'title': 'CHAN-2024 (demi-finale): Le Maroc se qualifie pour la finale après sa victoire face au Sénégal', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/chan-2024-demi-finale-le-maroc-se-qualifie-pour-la-finale/', 'summary': 'CHAN-2024 (demi-finale): Le Maroc se qualifie pour la finale après sa victoire face au Sénégal. L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour la finale du Championnat d’Afrique des nations (CHAN) après sa victoire face à son homologue sénégalaise par 5 tirs au but à 3 (temps réglementaire et prolongations 1-1), en demi-finale disputée, mardi soir, au stade Mandela à Kampala. Le but du Sénégal a été inscrit .', 'size': 5}, {'id': '199', 'title': 'CHAN-2024 (demi-finale) : «\xa0le billet de la finale a été amplement méritée face à une solide équipe du Sénégal\xa0» (Tarik Sektioui)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/chan-2024-demi-finale-le-billet-de-la-finale-a-ete-amplement-meritee-face-a-une-solide-equipe-du-senegal-tarik-sektioui.html', 'summary': 'CHAN-2024 (demi-finale) : « le billet de la finale a été amplement méritée face à une solide équipe du Sénégal » (Tarik Sektioui). L’entraineur de la sélection marocaine des joueurs locaux, Tarik Sektioui a affirmé, mardi à Kampala, que la qualification de l’équipe du Maroc en finale du Championnat d’Afrique des nations (CHAN) de football a été amplement méritée face au Sénégal. « On ne peut qu’être fiers de cette qualification qui a été très difficile face au . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'CHAN 2024 : Le Maroc file en finale après sa victoire face au Sénégal aux tirs au but'}, {'community_id': '2', 'articles': [{'id': '13', 'title': 'Match Maroc-Niger : Plus de 47.500 tickets vendus en quelques heures', 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/match-maroc-niger-plus-de-47500-tickets-vendus-en-quelques-heures/298238', 'summary': 'Match Maroc-Niger : Plus de 47.500 tickets vendus en quelques heures. Le Maroc affrontera le Niger le vendredi 5 septembre 2025 au Complexe sportif Prince Moulay Abdellah de Rabat. Le coup d’envoi de cette rencontre comptant pour les éliminatoires de.', 'size': 3}, {'id': '63', 'title': "Maroc-Niger : les places pour le match s'envolent et se revendent à prix d'or sur le marché noir", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/26/maroc-niger-les-places-pour-le-match-senvolent-et-se-revendent-a-prix-dor-sur-le-marche-noir_1947612/', 'summary': "Maroc-Niger : les places pour le match s'envolent et se revendent à prix d'or sur le marché noir. Le comité d’organisation du match devant mettre aux prises les sélections marocaine et nigérienne, le 5 septembre prochain au Complexe sportif Prince Moulay Abdellah de Rabat (20h00), s’est félicité mardi du fort engouement des supporters marocains pour l’achat des billets de ce match comptant pour les qualifications africaines du Mondial 2026 de football. L’opération de.", 'size': 3}, {'id': '120', 'title': 'Qualifications Mondial 2026 : engouement des supporters pour les billets de Maroc-Niger', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/qualifications-mondial-2026-engouement-des-supporters-pour-les-billets/', 'summary': 'Qualifications Mondial 2026 : engouement des supporters pour les billets de Maroc-Niger. Le comité d’organisation du match devant mettre aux prises les sélections marocaine et nigérienne, le 5 septembre prochain au Complexe sportif Prince Moulay Abdellah de Rabat (20h00), s’est félicité mardi du fort engouement des supporters marocains pour l’achat des billets de ce match comptant pour les qualifications africaines du Mondial 2026 de football. L’opération de .', 'size': 3}], 'main_title': 'Match Maroc-Niger : Plus de 47.500 tickets vendus en quelques heures'}, {'community_id': '3', 'articles': [{'id': '17', 'title': 'S.M. le Roi adresse un message de condoléances et de compassion à la famille du journaliste feu Mohamed Hassan El Wali', 'source': 'lematin.ma', 'link': 'https://lematin.ma/activites-royales/message-de-condoleances-de-sm-le-roi-a-la-famille-de-mohamed-hassan-el-wali/298212', 'summary': 'S.M. le Roi adresse un message de condoléances et de compassion à la famille du journaliste feu Mohamed Hassan El Wali. Dans ce message, le Souverain dit avoir appris avec une grande émotion le décès de l’éminent journaliste feu Mohamed Hassan El Wali, que Dieu l’ait en Sa sainte miséricorde, implor.', 'size': 3}, {'id': '39', 'title': 'Condoléances royales à la famille du journaliste feu Mohamed Hassan El Wali', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Condoleances-royales-a-la-famille-du-journaliste-feu-Mohamed-Hassan-El-Wali_a71120.html', 'summary': 'Condoléances royales à la famille du journaliste feu Mohamed Hassan El Wali. Sa Majesté le Roi Mohammed VI a adressé un message de condoléances et de compassion aux membres de la famille de feu Mohamed Hassan El Wali.', 'size': 3}, {'id': '59', 'title': 'Le roi présente ses condoléances à la famille de Ali Hassan', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/26/le-roi-presente-ses-condoleances-a-la-famille-de-ali-hassan_1947656/', 'summary': 'Le roi présente ses condoléances à la famille de Ali Hassan. Le roi Mohammed VI a adressé un message de condoléances et de compassion aux membres de la famille de Mohamed Hassan El Wali, dit Ali Hassan, figure emblématique de la télévision et du cinéma marocains, décédé lundi 25 août à l’âge de 80 ans. Dans ce message, le souverain dit avoir appris avec « une grande.', 'size': 3}], 'main_title': 'S.M. le Roi adresse un message de condoléances et de compassion à la famille du journaliste feu Mohamed Hassan El Wali'}, {'community_id': '4', 'articles': [{'id': '20', 'title': 'UNO.ma lance iShot, le premier concours de photographie sur iPhone au Maroc', 'source': 'lematin.ma', 'link': 'https://lematin.ma/hi-tech/unoma-lance-ishot-premier-concours-photo-sur-iphone-au-maroc/298188', 'summary': 'UNO.ma lance iShot, le premier concours de photographie sur iPhone au Maroc. UNO.ma, principal revendeur agréé Apple au Maroc, lance iShot, le premier concours national de photographie mobile réservé aux utilisateurs d’iPhone. L’événement, entièrement gratu.', 'size': 3}, {'id': '41', 'title': 'UNO lance un concours de photographie pour rendre hommage à la richesse lumineuse du Maroc', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/UNO-lance-un-concours-de-photographie-pour-rendre-hommage-a-la-richesse-lumineuse-du-Maroc_a71118.html', 'summary': 'UNO lance un concours de photographie pour rendre hommage à la richesse lumineuse du Maroc. UNO.ma, principal revendeur agréé Apple au Maroc, lance iShot, le premier concours national de photographie mobile réservé aux utilisateurs d’iPhone. Ce concours se veut une invitation à immortaliser la beauté de la lumière sous le ciel du Maroc et à récompenser la créativité dans l’art de la photographie mobile.', 'size': 4}, {'id': '136', 'title': 'Lancement du concours iShot destiné aux utilisateurs d’iPhone', 'source': 'lnt.ma', 'link': 'https://lnt.ma/lancement-du-concours-ishot-destine-aux-utilisateurs-diphone/', 'summary': 'Lancement du concours iShot destiné aux utilisateurs d’iPhone. UNO.ma, revendeur agréé Apple au Maroc, organise un concours de photographie mobile intitulé iShot, destiné aux utilisateurs d’iPhone. L’initiative vise à mettre en avant des pratiques artistiques locales à travers le prisme de la photographie numérique. Le concours, accessible à l’ensemble des citoyens marocains, s’articule autour du thème «Lumières du Maroc». Gratuit et ouvert en . ', 'size': 3}, {'id': '175', 'title': 'Concours de photographie :  UNO.ma lance iShot', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/concours-de-photographie-uno-ma-lance-ishot', 'summary': 'Concours de photographie : UNO.ma lance iShot. UNO.ma, le plus grand revendeur agréé Apple au Maroc, 1er concours national de photographie sur iPhone, lance officiellement iShot, un concours inédit de photographie mobile entièrement dédié aux utilisateurs d’iPhone. Ouvert à tous Marocains, ce concours célèbre l’alliance entre innovation technologique et regard artistique, autour d’un thème fédérateur, « Lumières du Maroc ». Gratuit et .', 'size': 4}], 'main_title': 'UNO lance un concours de photographie pour rendre hommage à la richesse lumineuse du Maroc'}, {'community_id': '6', 'articles': [{'id': '31', 'title': "Célébration de l'anniversaire de S.A.R. la Princesse Lalla Meryem", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/celebration-de-lanniversaire-de-sar-la-princesse-lalla-meryem/298089', 'summary': "Célébration de l'anniversaire de S.A.R. la Princesse Lalla Meryem. Cet heureux événement, célébré le 26 août de chaque année, offre ainsi l’opportunité aux Marocains d’exalter les actions inlassables menées par Son Altesse Royale pour la préservat.", 'size': 2}, {'id': '134', 'title': 'La Famille Royale et le peuple marocain célèbrent l’anniversaire de SAR la Princesse Lalla Meryem', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/la-famille-royale-et-le-peuple-marocain-celebrent-lanniversaire-de-sar-la-princesse-lalla-meryem/', 'summary': 'La Famille Royale et le peuple marocain célèbrent l’anniversaire de SAR la Princesse Lalla Meryem. La Famille Royale, et avec elle l’ensemble du peuple marocain, célèbre, ce mardi, l’anniversaire de Son Altesse Royale la Princesse Lalla Meryem, connue pour son engagement constant et son action agissante en faveur de l’émancipation de la femme marocaine et de la protection des droits des enfants. Cet heureux événement, célébré le 26 août de ', 'size': 2}], 'main_title': "Célébration de l'anniversaire de S.A.R. la Princesse Lalla Meryem"}, {'community_id': '7', 'articles': [{'id': '44', 'title': 'Mondial-2026 : Le Brésil sans Neymar ni Vinicius, Paqueta de retour', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Mondial-2026-Le-Bresil-sans-Neymar-ni-Vinicius-Paqueta-de-retour_a71116.html', 'summary': 'Mondial-2026 : Le Brésil sans Neymar ni Vinicius, Paqueta de retour. Le sélectionneur du Brésil, Carlo Ancelotti, n’a pas rappelé Neymar lundi et a ménagé Vinicius pour les matches de septembre contre le Chili et la Bolivie, tandis que Lucas Paqueta fait son retour en équipe nationale.', 'size': 2}, {'id': '179', 'title': 'Le Brésil sans Neymar ni Vinicius, Paqueta de retour', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/sports/le-bresil-sans-neymar-ni-vinicius-paqueta-de-retour', 'summary': 'Le Brésil sans Neymar ni Vinicius, Paqueta de retour. Mondial-2026 Le sélectionneur du Brésil, Carlo Ancelotti, n’a pas rappelé Neymar lundi et a ménagé Vinicius pour les matchs de septembre contre le Chili et la Bolivie, tandis que Lucas Paqueta fait son retour en équipe nationale. De retour depuis janvier à Santos, son club formateur, Neymar, 33 ans, n’a pas porté le maillot de .', 'size': 2}], 'main_title': 'Mondial-2026 : Le Brésil sans Neymar ni Vinicius, Paqueta de retour'}, {'community_id': '8', 'articles': [{'id': '55', 'title': 'Hausse fulgurante des recettes douanières avec record de 144,8 MMDH en 2024', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Hausse-fulgurante-des-recettes-douanieres-avec-record-de-1448-MMDH-en-2024_a71102.html', 'summary': "Hausse fulgurante des recettes douanières avec record de 144,8 MMDH en 2024. Les recettes douanières encaissées ont atteint un record historique de 144,8 milliards de dirhams (MMDH) au titre de l'année 2024 contre 132,5 MMDH en 2023, affichant un taux de croissance de 9,2%, selon l'Administration des Douanes et Impôts Indirects (ADII).", 'size': 3}, {'id': '170', 'title': 'Contrôle des voyageurs : saisie de 167 MDH de devises en 2024', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/27/controle-des-voyageurs-saisie-de-167-mdh-de-devises-en-2024_1947704/', 'summary': 'Contrôle des voyageurs : saisie de 167 MDH de devises en 2024. Le montant global des devises saisies lors du contrôle des voyageurs s’est élevé à 167 millions de dirhams (MDH) en 2024, en hausse de 59% par rapport à une année auparavant, selon l’Administration des Douanes et Impôts indirects (ADII). Durant 2024, l’ADII a intensifié ses efforts en matière de contrôle des mouvements de devises et.', 'size': 3}, {'id': '202', 'title': 'Recettes douanières : un record historique de 144,8 MMDH en 2024', 'source': 'lnt.ma', 'link': 'https://lnt.ma/recettes-douanieres-un-record-historique-de-1448-mmdh-en-2024/', 'summary': 'Recettes douanières : un record historique de 144,8 MMDH en 2024. Les recettes douanières encaissées ont atteint un record historique de 144,8 milliards de dirhams (MMDH) au titre de l’année 2024 contre 132,5 MMDH en 2023, affichant un taux de croissance de 9,2%, selon l’Administration des Douanes et Impôts Indirects (ADII). Cette performance s’explique principalement par la hausse des recettes de la taxe sur la valeur . ', 'size': 3}], 'main_title': 'Hausse fulgurante des recettes douanières avec record de 144,8 MMDH en 2024'}, {'community_id': '9', 'articles': [{'id': '58', 'title': 'Les saisies de cigarettes de contrebande en baisse de près de 58%', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/26/les-saisies-de-cigarettes-de-contrebande-en-baisse-de-pres-de-58_1947658/', 'summary': 'Les saisies de cigarettes de contrebande en baisse de près de 58%. Les saisies de cigarettes de contrebande ont enregistré, en glissement annuel, une baisse significative de près de 58% à 254.388 unités en 2024, selon l’Administration des douanes et impôts indirects (ADII). Cette baisse témoigne de l’efficacité des mesures dissuasives mises en œuvre par l’ADII, en collaboration étroite avec les différents acteurs concernés, pour lutter contre.', 'size': 2}, {'id': '121', 'title': 'ADII : les saisies de cigarettes de contrebande diminuent de près de 58% en 2024', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/adii-les-saisies-de-cigarettes-de-contrebande-diminuent-de-pres-de-58-en-2024/', 'summary': 'ADII : les saisies de cigarettes de contrebande diminuent de près de 58% en 2024. Les saisies de cigarettes de contrebande ont enregistré, en glissement annuel, une baisse significative de près de 58% à 254.388 unités en 2024, selon l’Administration des Douanes et Impôts indirects (ADII). Cette baisse témoigne de l’efficacité des mesures dissuasives mises en œuvre par l’ADII, en collaboration étroite avec les différents acteurs concernés, pour lutter contre .', 'size': 2}], 'main_title': 'Les saisies de cigarettes de contrebande en baisse de près de 58%'}, {'community_id': '10', 'articles': [{'id': '79', 'title': 'Cheptel national: plus de 32,8 millions de têtes recensées (ministère)', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/cheptel-national-plus-de-328-millions-de-tetes-recensees-ministere-309028/', 'summary': 'Cheptel national: plus de 32,8 millions de têtes recensées (ministère). L’effectif total du cheptel national, recensé durant la période du 26 juin au 11 août 2025, s’élève à 32.832.573 têtes, selon le ministère de l’Agriculture, de la Pêche maritime, du Développement rural et des Eaux et Forêts. Ce cheptel est réparti sur les ovins (23.158.248 têtes, dont 16.348.449 femelles), les', 'size': 2}, {'id': '112', 'title': 'Le cheptel en cours de reconstitution', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/agriculture/le-cheptel-en-cours-de-reconstitution/', 'summary': "Le cheptel en cours de reconstitution. L’effectif total du cheptel national, recensé durant la période du 26 juin au 11 août 2025, s'élève à 32.832.573 têtes, selon le ministère de l’Agriculture, de la pêche maritime, du développement rural et des eaux et forêts.", 'size': 2}], 'main_title': 'Cheptel national: plus de 32,8 millions de têtes recensées (ministère)'}, {'community_id': '11', 'articles': [{'id': '102', 'title': 'Conseil de la concurrence : Le contrôle préventif des concentrations économiques domine l’activité', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/conseil-de-la-concurrence-le-controle-preventif-des-concentrations-economiques-domine-lactivite/', 'summary': "Conseil de la concurrence : Le contrôle préventif des concentrations économiques domine l’activité. Le Conseil de la concurrence a rendu 174 décisions et avis en 2024 dans le cadre de la régulation des marchés, ressort-il du rapport annuel dudit conseil au titre de l'année 2024.", 'size': 3}, {'id': '117', 'title': 'Régulation des marchés : le Conseil de la concurrence rend 174 décisions et avis en 2024', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/regulation-des-marches-le-conseil-de-la-concurrence-rend-174-decisions/', 'summary': 'Régulation des marchés : le Conseil de la concurrence rend 174 décisions et avis en 2024. Le Conseil de la concurrence a rendu 174 décisions et avis en 2024 dans le cadre de la régulation des marchés, ressort-il du rapport annuel dudit conseil au titre de l’année 2024. Ce bilan couvre les différents champs de compétence du Conseil, tels que prévus par l’article 166 de la Constitution, la loi n°104-12 relative .', 'size': 3}, {'id': '168', 'title': 'Régulation des marchés : 174 décisions prises par Conseil de la concurrence en 2024', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Regulation-des-marches-174-decisions-prises-par-Conseil-de-la-concurrence-en-2024_a71119.html', 'summary': "Régulation des marchés : 174 décisions prises par Conseil de la concurrence en 2024. Le Conseil de la concurrence a rendu 174 décisions et avis en 2024 dans le cadre de la régulation des marchés, ressort-il du rapport annuel dudit conseil au titre de l'année 2024.", 'size': 3}], 'main_title': 'Conseil de la concurrence : Le contrôle préventif des concentrations économiques domine l’activité'}, {'community_id': '12', 'articles': [{'id': '157', 'title': "Un quart de la population mondiale n'a pas accès à l'eau potable (ONU)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/un-quart-de-la-population-mondiale-na-pas-acces-a-leau-potable-onu/298282', 'summary': "Un quart de la population mondiale n'a pas accès à l'eau potable (ONU). Dans un rapport conjoint du Fonds de l’ONU pour l’enfance (UNICEF) et de l’Organisation mondiale de la santé (OMS) sur les Progrès en matière d’eau potable et d’assainissement des.", 'size': 2}, {'id': '195', 'title': 'Un quart de la population mondiale n’a pas accès à l’eau potable', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/un-quart-de-la-population-mondiale-na-pas-acces-a-leau-potable/', 'summary': 'Un quart de la population mondiale n’a pas accès à l’eau potable. Une personne sur quatre dans le monde, soit 2,1 milliards d’être humains, n’a pas accès à l’eau potable, à l’assainissement, ni à l’hygiène, a déploré mardi l’Organisation des Nations Unies. Dans un rapport conjoint du Fonds de l’ONU pour l’enfance (UNICEF) et de l’Organisation mondiale de la santé (OMS) sur les Progrès en matière d’eau .', 'size': 2}], 'main_title': "Un quart de la population mondiale n'a pas accès à l'eau potable (ONU)"}, {'community_id': '0', 'articles': [{'id': '197', 'title': 'La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/la-vision-royale-consacre-la-mer-comme-vecteur-essentiel/', 'summary': 'La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté. La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté, a souligné, mardi à Rabat, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita. Dans une allocution lue en son nom à l’ouverture d’un séminaire sous .', 'size': 3}, {'id': '200', 'title': 'Nasser Bourita : La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/nasser-bourita-la-vision-royale-consacre-la-mer-comme-vecteur-essentiel-de-prosperite-nationale-de-lien-continental-et-de-defense-de-la-souverainete.html', 'summary': 'Nasser Bourita : La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale. La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté, a souligné mardi à Rabat, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita. Dans une allocution lue en son nom à l’ouverture d’un séminaire sous . L’article est apparu en premier sur .', 'size': 3}, {'id': '204', 'title': 'Bourita : La Vision Royale fait de la mer un pilier de souveraineté et de prospérité', 'source': 'lnt.ma', 'link': 'https://lnt.ma/bourita-la-vision-royale-fait-de-la-mer-un-pilier-de-souverainete-et-de-prosperite/', 'summary': 'Bourita : La Vision Royale fait de la mer un pilier de souveraineté et de prospérité. La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté, a souligné, mardi à Rabat, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita. Dans une allocution lue en son nom à l’ouverture d’un séminaire sous . ', 'size': 3}], 'main_title': 'La Vision Royale consacre la mer comme vecteur essentiel de prospérité nationale, de lien continental et de défense de la souveraineté'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 22/08/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce vendredi 22 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438322-le-temps-quil-fera-ce-vendredi-22-aout-2025.html', 'summary': "Le temps qu'il fera ce vendredi 22 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 22 août 2025 – Temps assez chaud sur les plaines intérieures Nord et Centres, la vallée de Moulouya, le Sud-Est et l’Est des provinces Sahariennes. – Ondées et orages possibles sur l’extrême Sud du pays. – Ciel peu à passagèrement . ", 'size': 2}, {'id': '120', 'title': 'Les prévisions du vendredi 22 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-vendredi-22-aout-2025-308872/', 'summary': 'Les prévisions du vendredi 22 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour ce vendredi 22 août 2025. -Temps assez chaud sur les plaines intérieures Nord et Centres, la vallée de Moulouya, le Sud-Est et l’Est des provinces Sahariennes. -Ondées et orages possibles sur l’extrême Sud du pays. -Ciel peu', 'size': 2}], 'main_title': "Le temps qu'il fera ce vendredi 22 août 2025"}, {'community_id': '12', 'articles': [{'id': '6', 'title': 'CHAN 2024 : les Lions locaux bouclent leur préparation avant d’affronter la Tanzanie', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438300-chan-2024-les-lions-locaux-bouclent-leur-preparation-avant-daffronter-la-tanzanie.html', 'summary': 'CHAN 2024 : les Lions locaux bouclent leur préparation avant d’affronter la Tanzanie. Le onze national des joueurs locaux a terminé, ce jeudi à Dar es Salaam, sa préparation en vue du quart de finale du Championnat d’Afrique des nations (CHAN) face à la Tanzanie. La dernière séance d’entraînement a été marquée par l’absence d’Abdelhaq Assal, blessé, tandis qu’Ayoub Mouloua s’est contenté d’un travail individuel suite à un . ', 'size': 4}, {'id': '13', 'title': 'CHAN-2024 : A quelle heure et sur quelles chaines suivre le match Maroc-Tanzanie ?', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/chan-a-quelle-heure-et-sur-quelles-chaines-suivre-maroc-tanzanie/297271', 'summary': 'CHAN-2024 : A quelle heure et sur quelles chaines suivre le match Maroc-Tanzanie ?. L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour les quarts de finale du Championnat d’Afrique des nations de football (CHAN), en dominant la RD Congo sur le sco.', 'size': 4}, {'id': '21', 'title': 'CHAN 2024 – Tarik Sektioui : « La motivation et la détermination, les clés pour s’imposer face à la Tanzanie »', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CHAN-2024-Tarik-Sektioui-La-motivation-et-la-determination-les-cles-pour-s-imposer-face-a-la-Tanzanie_a70984.html', 'summary': 'CHAN 2024 – Tarik Sektioui : « La motivation et la détermination, les clés pour s’imposer face à la Tanzanie ». \u200bLe sélectionneur national, Tarik Sektioui a affirmé, jeudi à Dar Es Salaam, que la motivation et la détermination des joueurs sur le terrain sont les clés pour remporter le match face à la Tanzanie, prévu vendredi au stade Benjamin Mkapa, pour le compte des quarts de finale du Championnat d’Afrique des nations de football (CHAN).', 'size': 5}, {'id': '41', 'title': "CHAN : “La motivation et la détermination seront les clés pour s'imposer face à la Tanzanie”, selon Sektioui", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/21/chan-la-motivation-et-la-determination-seront-les-cles-pour-simposer-face-a-la-tanzanie-selon-sektioui_1947163/', 'summary': "CHAN : “La motivation et la détermination seront les clés pour s'imposer face à la Tanzanie”, selon Sektioui. Le sélectionneur national Tarik Sektioui a affirmé, jeudi à Dar Es Salaam, que la motivation et la détermination des joueurs sur le terrain sont les clés pour remporter le match face à la Tanzanie, prévu vendredi au stade Benjamin Mkapa, pour le compte des quarts de finale du Championnat d’Afrique des nations de football (CHAN)..", 'size': 5}, {'id': '147', 'title': 'CHAN 2025: Sektioui promet des Lions de l’Atlas déterminés face à la Tanzanie', 'source': 'lnt.ma', 'link': 'https://lnt.ma/chan-2025-sektioui-promet-des-lions-de-latlas-determines-face-a-la-tanzanie/', 'summary': 'CHAN 2025: Sektioui promet des Lions de l’Atlas déterminés face à la Tanzanie. Le sélectionneur national, Tarik Sektioui a affirmé, jeudi à Dar Es Salaam, que la motivation et la détermination des joueurs sur le terrain sont les clés pour remporter le match face à la Tanzanie, prévu vendredi au stade Benjamin Mkapa, pour le compte des quarts de finale du Championnat d’Afrique des nations de football (CHAN). . ', 'size': 5}], 'main_title': 'CHAN 2024 – Tarik Sektioui : « La motivation et la détermination, les clés pour s’imposer face à la Tanzanie »'}, {'community_id': '2', 'articles': [{'id': '11', 'title': 'L’initiative royale en faveur de Gaza suscite une vague de reconnaissance internationale', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/linitiative-royale-pour-gaza-suscite-une-onde-mondiale-de-reconnaissance/297406', 'summary': 'L’initiative royale en faveur de Gaza suscite une vague de reconnaissance internationale. Des personnalités maqdessies ont hautement salué l’Initiative de Sa Majesté le Roi Mohammed VI, Président du Comité Al-Qods, d’envoyer une aide humanitaire supplémentaire à la popu.', 'size': 2}, {'id': '19', 'title': 'Des personnalités maqdessies saluent hautement l’Initiative de SM le Roi d’envoyer une aide humanitaire supplémentaire aux habitants de Gaza', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Des-personnalites-maqdessies-saluent-hautement-l-Initiative-de-SM-le-Roi-d-envoyer-une-aide-humanitaire-supplementaire_a70987.html', 'summary': 'Des personnalités maqdessies saluent hautement l’Initiative de SM le Roi d’envoyer une aide humanitaire supplémentaire aux habitants de Gaza. \u200bDes personnalités maqdessies ont hautement salué l’Initiative de Sa Majesté le Roi Mohammed VI, Président du Comité Al-Qods, d’envoyer une aide humanitaire supplémentaire à la population de Gaza, louant un Geste Royal noble visant à soutenir la résilience des habitants de la Bande face aux conditions difficiles auxquelles ils sont confrontés.', 'size': 2}], 'main_title': 'L’initiative royale en faveur de Gaza suscite une vague de reconnaissance internationale'}, {'community_id': '8', 'articles': [{'id': '14', 'title': 'Bank Al-Maghrib émet une pièce commémorative du 62ème Anniversaire de S.M. le Roi', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/bam-emet-une-piece-commemorative-du-62eme-anniversaire-de-sm-le-roi/297384', 'summary': 'Bank Al-Maghrib émet une pièce commémorative du 62ème Anniversaire de S.M. le Roi. Cette pièce commémorative présente à l’avers l’effigie de Sa Majesté le Roi Mohammed VI entourée des inscriptions « محمد السادس » , « المملكة المغربية - ⵜⴰⴳⵍⴷⵉⵜ ⵏ ⵍⵎⵖⵔⵉⴱ » en arabe.', 'size': 3}, {'id': '51', 'title': 'Bank Al-Maghrib\xa0: une pièce commémorative pour le 62e anniversaire de S.M. le Roi Mohammed VI', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/bank-al-maghrib-une-piece-commemorative-pour-le-62e-anniversaire-de-s-m-le-roi-mohammed-vi-308863/', 'summary': 'Bank Al-Maghrib : une pièce commémorative pour le 62e anniversaire de S.M. le Roi Mohammed VI. A l’occasion du 62ème Anniversaire de Sa Majesté le Roi Mohammed VI, Bank Al-Maghrib (BAM) émet une pièce commémorative en argent, d’une valeur faciale de 250 DH. Cette pièce commémorative présente à l’avers l’effigie de Sa Majesté le Roi Mohammed VI entourée des inscriptions «محمد السادس» , « المملكة المغربية', 'size': 3}, {'id': '69', 'title': 'Bank Al-Maghrib célèbre le 62ème anniversaire du Roi Mohammed VI avec une nouvelle pièce commémorative', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/bank-al-maghrib-celebre-le-62eme-anniversaire-du-roi-mohammed-vi-avec-une-nouvelle-piece-commemorative/', 'summary': 'Bank Al-Maghrib célèbre le 62ème anniversaire du Roi Mohammed VI avec une nouvelle pièce commémorative. La pièce est en argent d’une valeur faciale de 250 dirhams et met en avant l’effigie du Souverain, les armoiries du Royaume et des motifs inspirés du patrimoine marocain.', 'size': 2}, {'id': '85', 'title': 'Bank Al-Maghrib émet une pièce commémorative du 62ᵉ anniversaire de SM le Roi', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/bank-al-maghrib-emet-une-piece-commemorative-du-62%e1%b5%89-anniversaire-de-sm-le-roi/', 'summary': 'Bank Al-Maghrib émet une pièce commémorative du 62ᵉ anniversaire de SM le Roi. Bank Al-Maghrib (BAM) émet, à l’occasion du 62ème Anniversaire de Sa Majesté le Roi Mohammed VI, une pièce commémorative en argent, d’une valeur faciale de 250 dirhams. Cette pièce commémorative présente à l’avers l’effigie de Sa Majesté le Roi Mohammed VI entourée des inscriptions « محمد السادس » , « المملكة المغربية – ⵜⴰⴳⵍⴷⵉⵜ ⵏ ', 'size': 4}], 'main_title': 'Bank Al-Maghrib émet une pièce commémorative du 62ᵉ anniversaire de SM le Roi'}, {'community_id': '5', 'articles': [{'id': '18', 'title': 'Cyclomoteurs : le ministère du Transport suspend la campagne de contrôle', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Cyclomoteurs-le-ministere-du-Transport-suspend-la-campagne-de-controle_a70988.html', 'summary': 'Cyclomoteurs : le ministère du Transport suspend la campagne de contrôle. \u200bLe ministère du Transport et de la Logistique a annoncé la décision de reporter l’application de la procédure unifiée pour encadrer les opérations de contrôle de la conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse (speedomètre).', 'size': 5}, {'id': '61', 'title': 'Report de la mise en œuvre de la procédure encadrant les opérations de contrôle de conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/report-de-la-mise-en-oeuvre-de-la-procedure-encadrant-les-operations-de-controle-de-conformite-des-cyclomoteurs-a-laide-dun-appareil-de-mesure-de-vitesse', 'summary': 'Report de la mise en œuvre de la procédure encadrant les opérations de contrôle de conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse. Le ministère du Transport et de la Logistique a annoncé la décision de reporter l’application de la procédure unifiée pour encadrer les opérations de contrôle de la conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse (speedomètre). Dans un communiqué rendu public jeudi, le ministère informe le grand public qu’il avait décidé de .', 'size': 5}, {'id': '73', 'title': 'Report de la procédure de contrôle de vitesse des cyclomoteurs', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/report-de-la-procedure-de-controle-de-vitesse-des-cyclomoteurs/', 'summary': 'Report de la procédure de contrôle de vitesse des cyclomoteurs. Le ministère du Transport et de la Logistique a annoncé la décision de reporter l’application de la procédure unifiée pour encadrer les opérations de contrôle de la conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse (speedomètre). Dans un communiqué rendu public jeudi, le ministère informe le grand public qu’il avait décidé de .', 'size': 5}, {'id': '119', 'title': 'Contrôle des cyclomoteurs : le ministère reporte la procédure de vérification', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/controle-des-cyclomoteurs-le-ministere-reporte-la-procedure-de-verification-308878/', 'summary': 'Contrôle des cyclomoteurs : le ministère reporte la procédure de vérification. Le ministère du Transport et de la Logistique a annoncé la décision de reporter l’application de la procédure unifiée pour encadrer les opérations de contrôle de la conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse (speedomètre). Ce même ministère informe le grand public qu’il avait décidé de', 'size': 5}, {'id': '150', 'title': 'Cyclomoteurs trafiqués: le ministère accorde un sursis avant la répression', 'source': 'lnt.ma', 'link': 'https://lnt.ma/cyclomoteurs-trafiques-le-ministere-accorde-un-sursis-avant-la-repression/', 'summary': 'Cyclomoteurs trafiqués: le ministère accorde un sursis avant la répression. Le ministère du Transport et de la Logistique a annoncé la décision de reporter l’application de la procédure unifiée pour encadrer les opérations de contrôle de la conformité des cyclomoteurs à l’aide d’un appareil de mesure de vitesse (speedomètre). Dans un communiqué rendu public jeudi, le ministère informe le grand public qu’il avait décidé de . ', 'size': 5}], 'main_title': 'Cyclomoteurs : le ministère du Transport suspend la campagne de contrôle'}, {'community_id': '10', 'articles': [{'id': '27', 'title': "Etats-Unis : l'astrophysicienne marocaine Maryame El Moutamid contribue à la découverte d’un nouvel astre", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Etats-Unis-l-astrophysicienne-marocaine-Maryame-El-Moutamid-contribue-a-la-decouverte-d-un-nouvel-astre_a70980.html', 'summary': 'Etats-Unis : l\'astrophysicienne marocaine Maryame El Moutamid contribue à la découverte d’un nouvel astre. Une équipe d’astrophysiciens du centre de recherche américain "Southwest Research Institute" (SwRI), dirigée par la scientifique marocaine Maryame El Moutamid, a découvert récemment un petit astre céleste, inconnu jusqu’ici, gravitant autour d’Uranus, septième planète du système solaire.', 'size': 4}, {'id': '45', 'title': "Une astrophysicienne marocaine découvre une nouvelle lune d'Uranus", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/21/une-astrophysicienne-marocaine-decouvre-une-nouvelle-lune-duranus_1947127/', 'summary': "Une astrophysicienne marocaine découvre une nouvelle lune d'Uranus. Originaire d’Essaouira, Maryame El Moutamid, une astrophysicienne âgée de 41 ans, dirigeant une équipe américaine, vient de découvrir un nouveau satellite d’Uranus, portant à 29 le nombre de lunes connues de cette planète mystérieuse. Une équipe d’astrophysiciens du centre de recherche américain « Southwest Research Institute » (SwRI), dirigée par la scientifique marocaine Maryame El Moutamid, a.", 'size': 4}, {'id': '66', 'title': 'États-Unis: Une équipe dirigée par une astrophysicienne marocaine découvre un nouveau satellite d’Uranus', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/secteurs/etats-unis-une-equipe-dirigee-par-une-astrophysicienne-marocaine-decouvre-un-nouveau-satellite-duranus/', 'summary': 'États-Unis: Une équipe dirigée par une astrophysicienne marocaine découvre un nouveau satellite d’Uranus. Cette découverte fascinante, annoncée officiellement cette semaine par le centre de recherche américain "Southwest Research Institute" (SwRI), a été faite à travers l\'analyse d\'une série d\'images prises le 2 février 2025 à l’aide du télescope de la NASA. Elle porte à 29 le nombre total de satellites connus d’Uranus.', 'size': 3}, {'id': '82', 'title': 'USA : une équipe dirigée par une astrophysicienne marocaine découvre un nouvel astre céleste', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/usa-une-equipe-dirigee-par-une-astrophysicienne-marocaine-decouvre-un-nouvel-astre-celeste.html', 'summary': 'USA : une équipe dirigée par une astrophysicienne marocaine découvre un nouvel astre céleste. Une équipe d’astrophysiciens du centre de recherche américain « Southwest Research Institute » (SwRI), dirigée par la scientifique marocaine Maryame El Moutamid, a découvert récemment un petit astre céleste, inconnu jusqu’ici, gravitant autour d’Uranus, septième planète du système solaire. El Moutamid et son équipe composée de sept scientifiques pluridisciplinaires ont décelé ce petit satellite, qui gravite autour . L’article est apparu en premier sur .', 'size': 3}], 'main_title': "Etats-Unis : l'astrophysicienne marocaine Maryame El Moutamid contribue à la découverte d’un nouvel astre"}, {'community_id': '4', 'articles': [{'id': '30', 'title': 'La FM6SS réussit la reprogrammation de cellules sanguines en cellules souches pluripotentes induites', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/La-FM6SS-reussit-la-reprogrammation-de-cellules-sanguines-en-cellules-souches-pluripotentes-induites_a70975.html', 'summary': 'La FM6SS réussit la reprogrammation de cellules sanguines en cellules souches pluripotentes induites. La Fondation Mohammed VI des Sciences et de la Santé (FM6SS) a annoncé avoir réussi, pour la première fois au Maroc, la reprogrammation de cellules sanguines périphériques humaines (PBMCs) en cellules souches pluripotentes induites (iPS), marquant ainsi une avancée scientifique majeure et historique.', 'size': 3}, {'id': '70', 'title': 'Thérapies régénératives: La FM6SS réussit la reprogrammation de cellules sanguines en cellules souches', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/therapies-regeneratives-la-fm6ss-reussit-la-reprogrammation-de-cellules-sanguines-en-cellules-souches/', 'summary': 'Thérapies régénératives: La FM6SS réussit la reprogrammation de cellules sanguines en cellules souches. Pour la première fois au Maroc, la Fondation Mohammed VI des Sciences et de la Santé (FM6SS) a pu reprogrammer des cellules sanguines en cellules souches pluripotentes induites (iPS). Cette avancée stratégique ouvre la voie à la création d’une plateforme nationale de reprogrammation et de différenciation cellulaire.', 'size': 3}, {'id': '148', 'title': 'Avancée majeure: FM6SS transforme des cellules sanguines en cellules souches iPS', 'source': 'lnt.ma', 'link': 'https://lnt.ma/avancee-majeure-fm6ss-transforme-des-cellules-sanguines-en-cellules-souches-ips/', 'summary': 'Avancée majeure: FM6SS transforme des cellules sanguines en cellules souches iPS. La Fondation Mohammed VI des Sciences et de la Santé (FM6SS) a annoncé avoir réussi, pour la première fois au Maroc, la reprogrammation de cellules sanguines périphériques humaines (PBMCs) en cellules souches pluripotentes induites (iPS), marquant ainsi une avancée scientifique majeure et historique. Cette avancée stratégique ouvre la voie à la création d’une plateforme nationale . ', 'size': 3}], 'main_title': 'La FM6SS réussit la reprogrammation de cellules sanguines en cellules souches pluripotentes induites'}, {'community_id': '7', 'articles': [{'id': '32', 'title': 'Fête de la Jeunesse : Grâce Royale au profit de 591 personnes', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Fete-de-la-Jeunesse-Grace-Royale-au-profit-de-591-personnes_a70973.html', 'summary': "Fête de la Jeunesse : Grâce Royale au profit de 591 personnes. A l'occasion de la Fête de la Jeunesse, Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a bien voulu accorder Sa grâce à 591 personnes condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice", 'size': 2}, {'id': '49', 'title': "591 personnes graciées par le roi à l'occasion de la fête de la Jeunesse", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/21/591-personnes-graciees-par-le-roi-a-loccasion-de-la-fete-de-la-jeunesse_1947087/', 'summary': "591 personnes graciées par le roi à l'occasion de la fête de la Jeunesse. À l’occasion de la Fête de la Jeunesse, le roi Mohammed VI a gracié 591 personnes condamnées par différents tribunaux du Royaume, annonce le ministère de la Justice dans un communiqué. Les bénéficiaires de la grâce royale qui sont en détention sont au nombre de 445 détenus se répartissant comme suit: Grâce sur le reliquat.", 'size': 2}], 'main_title': 'Fête de la Jeunesse : Grâce Royale au profit de 591 personnes'}, {'community_id': '11', 'articles': [{'id': '37', 'title': 'Premier League : Amine Adli signe à Bournemouth', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/21/premier-league-amine-adli-signe-a-bournemouth_1947205/', 'summary': 'Premier League : Amine Adli signe à Bournemouth. Le club de football anglais AFC Bournemouth a annoncé, jeudi, la signature de l’international marocain Amine Adli, en provenance du Bayer Leverkusen (Bundesliga). Adli s’est engagé pour cinq saisons avec le club, indique Bournemouth dans un communiqué publié sur son site officiel, précisant que l’ailier de 25 ans, rejoindra l’équipe dirigée par Andoni Iraola avant.', 'size': 2}, {'id': '54', 'title': 'L’international marocain Amine Adli rejoint Bournemouth en Premier League', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/linternational-marocain-amine-adli-rejoint-bournemouth-en-premier-league-308842/', 'summary': 'L’international marocain Amine Adli rejoint Bournemouth en Premier League. L’attaquant international marocain Amine Adli, en provenance du Bayer Leverkusen (Allemagne), a signé pour cinq ans à Bournemouth, qui évolue en Premier League. Le club anglais a déboursé 29 millions d’euros, selon des informations de presse, pour racheter les trois dernières années de contrat du Lion de l’Atlas. Le jeune', 'size': 2}], 'main_title': 'Premier League : Amine Adli signe à Bournemouth'}, {'community_id': '9', 'articles': [{'id': '60', 'title': "Le CNDH appelle à la fermeté dans l’affaire de l'enfant victime d’abus sexuel", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174710/cndh-appelle-fermete-dans-l-affaire.html', 'summary': "Le CNDH appelle à la fermeté dans l’affaire de l'enfant victime d’abus sexuel. Le Conseil national des droits de l’Homme (CNDH) suit de près l’affaire de lenfant victime de graves abus sexuels confirmé par un examen médico-légal, en marge du Moussem Moulay Avdellah Amghar. Cinq suspects ont été arrêtés et présentés au procureur général du roi à El Jadida, avant leur déferrement devant le juge d’instruction.", 'size': 2}, {'id': '98', 'title': 'Viol présumé d’un enfant à El Jadida : le CNDH exige justice et tolérance zéro', 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/viol-presume-dun-enfant-a-el-jadida-le-cndh-exige-justice/297443', 'summary': 'Viol présumé d’un enfant à El Jadida : le CNDH exige justice et tolérance zéro. Le Conseil national des droits de l’Homme (CNDH) a annoncé qu’il continue de suivre de près l’affaire d’un enfant victime présumée d’un viol d’une extrême gravité, révélée par un e.', 'size': 2}, {'id': '114', 'title': "Viol collectif d'un mineur : le CNDH réclame un durcissement des peines pour les agressions sexuelles", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/22/viol-collectif-dun-mineur-le-cndh-reclame-un-durcissement-des-peines-pour-les-agressions-sexuelles_1947235/', 'summary': "Viol collectif d'un mineur : le CNDH réclame un durcissement des peines pour les agressions sexuelles. Le Conseil national des droits de l’homme (CNDH) a annoncé poursuivre son suivi rapproché de l’affaire concernant l’affaire du viol collectif d’un mineur de 13 ans au Moussem de Moulay Abdellah. Cinq personnes ont déjà été placées en garde à vue et présentées devant le procureur général près le tribunal de première instance d’El Jadida,.", 'size': 3}], 'main_title': "Viol collectif d'un mineur : le CNDH réclame un durcissement des peines pour les agressions sexuelles"}, {'community_id': '3', 'articles': [{'id': '86', 'title': 'La vision royale pour l’Afrique mise en avant à la TICAD-9 à Yokohama', 'source': 'lnt.ma', 'link': 'https://lnt.ma/la-vision-royale-pour-lafrique-mise-en-avant-a-la-ticad-9-a-yokohama/', 'summary': 'La vision royale pour l’Afrique mise en avant à la TICAD-9 à Yokohama. La vision et les initiatives stratégiques de SM le Roi Mohammed VI pour le développement et l’intégration du continent africain ont été mises en exergue lors du 9e Sommet de la Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), qui se tient jusqu’à vendredi à Yokohama, au Japon. Intervenant lors d’une conférence organisée, . ', 'size': 4}, {'id': '92', 'title': 'TICAD 9: la Déclaration finale salue les initiatives lancées par le Roi Mohammed VI,', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438327-ticad-9-la-declaration-finale-salue-les-initiatives-lancees-par-le-roi-mohammed-vi.html', 'summary': 'TICAD 9: la Déclaration finale salue les initiatives lancées par le Roi Mohammed VI,. Les Chefs d’État et de gouvernement de l’Afrique et du Japon ont salué, vendredi à Yokohama, plusieurs initiatives lancées par le Roi Mohammed VI, soulignant le rôle pionnier du Souverain dans la promotion d’initiatives continentales majeures liées au climat, à la migration et au développement durable de l’Afrique. Dans la Déclaration finale sanctionnant les travaux . ', 'size': 4}, {'id': '132', 'title': 'Développement durable : Les Chefs d’État africains et du Japon saluent les initiatives africaines lancées par Sa Majesté le Roi', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/evenement/developpement-durable-les-chefs-detat-africains-et-du-japon-saluent-les-initiatives-africaines-lancees-par-sa-majeste-le-roi/', 'summary': "Développement durable : Les Chefs d’État africains et du Japon saluent les initiatives africaines lancées par Sa Majesté le Roi. Dans la Déclaration finale sanctionnant les travaux de la 9e Conférence internationale de Tokyo sur le développement de l’Afrique (TICAD-9), les Chefs d’État et de gouvernement ont particulièrement apprécié le rôle pionnier du Souverain dans la promotion d'initiatives continentales majeures liées au climat et à la migration.", 'size': 4}, {'id': '141', 'title': 'TICAD-9 : Soutien aux initiatives africaines de S.M. le Roi sur le climat et la migration', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/ticad-9-soutien-aux-initiatives-africaines-de-s-m-le-roi-sur-le-climat-et-la-migration/', 'summary': 'TICAD-9 : Soutien aux initiatives africaines de S.M. le Roi sur le climat et la migration. Les Chefs d’État et de gouvernement de l’Afrique et du Japon ont salué, vendredi à Yokohama, plusieurs initiatives lancées par Sa Majesté le Roi Mohammed VI, soulignant le rôle pionnier du Souverain dans la promotion d’initiatives continentales majeures liées au climat, à la migration et au développement durable de l’Afrique. Dans la Déclaration finale sanctionnant .', 'size': 4}], 'main_title': 'La vision royale pour l’Afrique mise en avant à la TICAD-9 à Yokohama'}, {'community_id': '1', 'articles': [{'id': '95', 'title': 'Les températures attendues ce vendredi 22 août 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/438323-les-temperatures-attendues-ce-vendredi-22-aout-2025.html', 'summary': 'Les températures attendues ce vendredi 22 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le vendredi 22 août 2025 Min Max – Oujda 21 37 – Bouarfa 19 37 – Al Hoceima 20 29 – Tétouan 22 30 – Sebta 21 26 – Mellilia 21 27 – Tanger 19 27 – Kénitra 18 30 . ', 'size': 2}, {'id': '136', 'title': 'Températures prévues pour le samedi 23 août 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-samedi-23-aout-2025/', 'summary': 'Températures prévues pour le samedi 23 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le samedi 23 août 2025: Min Max – Oujda 19 37 – Bouarfa 22 34 – Al Hoceima 19 27 – Tétouan 19 29 – Sebta 19 24 – Mellilia 21 27 – Tanger 19 28 – Kénitra 18 27 .', 'size': 2}], 'main_title': 'Les températures attendues ce vendredi 22 août 2025'}, {'community_id': '13', 'articles': [{'id': '113', 'title': 'Sidi Ifni : près de deux tonnes de résine de cannabis saisies', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/22/sidi-ifni-pres-de-deux-tonnes-de-resine-de-cannabis-saisies_1947253/', 'summary': 'Sidi Ifni : près de deux tonnes de résine de cannabis saisies. Les éléments de la sûreté nationale de la ville de Sidi Ifni ont avorté, aux premières heures de vendredi, une tentative de trafic international de drogues et d’immigration illégale à travers les voies maritimes et saisi une tonne et 922 kg de chira, a-t-on appris de source sécuritaire. Les interventions policières ont permis la saisie.', 'size': 2}, {'id': '131', 'title': 'Sidi Ifni : Saisie de deux tonnes de chira lors d’une opération d’immigration illégale', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/sidi-ifni-saisie-de-deux-tonnes-de-chira-lors-dune-operation-dimmigration-illegale/', 'summary': "Sidi Ifni : Saisie de deux tonnes de chira lors d’une opération d’immigration illégale. Les interventions policières ont permis la saisie d'un canot pneumatique équipé de deux moteurs, sur une plage située à environ cinq kilomètres de Sidi Ifni en direction de la ville de Tiznit, avec à bord sept personnes et des jerricanes d'essence, en plus de 50 ballots de drogue d'un poids total d'une tonne et 922 kg.", 'size': 2}], 'main_title': 'Sidi Ifni : près de deux tonnes de résine de cannabis saisies'}, {'community_id': '6', 'articles': [{'id': '117', 'title': "Imouzzer : un policier tué à l'arme blanche par un homme souffrant de troubles mentaux", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/22/imouzzer-un-policier-tue-a-larme-blanche-par-un-homme-souffrant-de-troubles-mentaux_1947217/', 'summary': "Imouzzer : un policier tué à l'arme blanche par un homme souffrant de troubles mentaux. Un policier chargé de la circulation a été tué jeudi soir à Imouzzer par un homme de 63 ans présentant des troubles mentaux. Le suspect, sans domicile fixe et aux antécédents psychiatriques, a été arrêté sur place après avoir agressé la victime à l’arme blanche sans motif apparent. Les éléments de la sûreté nationale du.", 'size': 2}, {'id': '127', 'title': "Imouzzer : Arrestation d'un individu après l'agression mortelle d'un policier", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174734/imouzzer-arrestation-d-un-individu-apres.html', 'summary': "Imouzzer : Arrestation d'un individu après l'agression mortelle d'un policier. Les éléments de la sûreté nationale du commissariat de police de la ville dImouzzer ont procédé, jeudi dans la soirée, à larrestation dun individu, âgé de 63 ans et présentant des signes de troubles mentaux et dagressivité. Lhomme sest rendu coupable dune agression physique à larme blanche contre un fonctionnaire de police, entraînant le décès de ce dernier, a-t-on appris de source sécuritaire.", 'size': 2}, {'id': '152', 'title': 'Imouzzer: un policier tué lors d’une agression à l’arme blanche, le suspect arrêté', 'source': 'lnt.ma', 'link': 'https://lnt.ma/imouzzer-un-policier-tue-lors-dune-agression-a-larme-blanche-le-suspect-arrete/', 'summary': 'Imouzzer: un policier tué lors d’une agression à l’arme blanche, le suspect arrêté. Les éléments de la sûreté nationale du commissariat de police de la ville d’Imouzzer ont procédé, jeudi dans la soirée, à l’arrestation d’un individu, âgé de 63 ans et présentant des signes de troubles mentaux et d’agressivité, après qu’il se soit rendu coupable d’une agression physique à l’arme blanche contre un fonctionnaire de police, entraînant . ', 'size': 3}], 'main_title': 'Imouzzer: un policier tué lors d’une agression à l’arme blanche, le suspect arrêté'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
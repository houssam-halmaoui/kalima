<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 21/06/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce samedi 21 juin 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/429782-le-temps-quil-fera-ce-samedi-21-juin-2025.html', 'summary': "Le temps qu'il fera ce samedi 21 juin 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 21 juin 2025 – Temps chaud sur le sud du Rif, le Saiss, la vallée de Moulouya, les plateaux de Phosphates et d’Oulmès, les plaines de Tadla, Rehamna, le Sud-Est et l’intérieur des provinces sahariennes. – Foyers orageux avec ondées . ", 'size': 3}, {'id': '237', 'title': 'Les prévisions du samedi 21 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-21-juin-305205/', 'summary': 'Les prévisions du samedi 21 juin. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 21 juin 2025. -Temps chaud sur le sud du Rif, le Saiss, la vallée de Moulouya, les plateaux de Phosphates et d’Oulmès, les plaines de Tadla, Rehamna, le Sud-Est et l’intérieur des provinces sahariennes. -Foyers', 'size': 3}, {'id': '249', 'title': 'Prévisions météorologiques pour le samedi 21 juin 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-le-samedi-21-juin-2025/', 'summary': 'Prévisions météorologiques pour le samedi 21 juin 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 21 juin 2025: – Temps chaud sur le sud du Rif, le Saiss, la vallée de Moulouya, les plateaux de Phosphates et d’Oulmès, les plaines de Tadla, Rehamna, le Sud-Est et l’intérieur des provinces sahariennes. – Foyers orageux avec ondées .', 'size': 3}], 'main_title': "Le temps qu'il fera ce samedi 21 juin 2025"}, {'community_id': '14', 'articles': [{'id': '1', 'title': 'Bruxelles : Une résolution pour reconnaître la souveraineté marocaine sur le Sahara déposée au Parlement régional', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/429796-bruxelles-une-resolution-pour-reconnaitre-la-souverainete-marocaine-sur-le-sahara-deposee-au-parlement-regional.html', 'summary': 'Bruxelles : Une résolution pour reconnaître la souveraineté marocaine sur le Sahara déposée au Parlement régional. Le Parlement de la Région de Bruxelles-Capitale vient d’être saisi d’une proposition de résolution aux implications diplomatiques majeures. Amin El Boujdaini, député du Mouvement Réformateur, a officiellement déposé un texte appelant à la reconnaissance de la souveraineté du Royaume du Maroc sur le Sahara, via un soutien au plan d’autonomie proposé par Rabat. Cette initiative . ', 'size': 2}, {'id': '75', 'title': 'Un parti belge appelle à reconnaître le Sahara marocain', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/un-parti-belge-appelle-a-reconnaitre-le-sahara-marocain_1938906/', 'summary': 'Un parti belge appelle à reconnaître le Sahara marocain. À l’initiative du groupe Mouvement Réformateur (MR), une proposition de résolution a été déposée au Parlement bruxellois pour soutenir la souveraineté marocaine sur le Sahara. Une démarche à visée économique et géostratégique, visant à renforcer les liens avec un partenaire clé du continent africain. Le groupe MR au Parlement bruxellois a déposé une proposition de.', 'size': 2}], 'main_title': 'Bruxelles : Une résolution pour reconnaître la souveraineté marocaine sur le Sahara déposée au Parlement régional'}, {'community_id': '8', 'articles': [{'id': '7', 'title': 'Mondial des clubs: Benfica bat Auckland entre les orages', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/429820-mondial-des-clubs-benfica-bat-auckland-entre-les-orages.html', 'summary': 'Mondial des clubs: Benfica bat Auckland entre les orages. Benfica s’est largement imposé 6-0 face au club amateur néo-zélandais d’Auckland City FC lors de son deuxième match au Mondial des clubs, vendredi à Orlando, où des orages ont interrompu la rencontre pendant près de deux heures et demie. Le coup d’envoi de la deuxième période, prévu peu après 19h00, n’a été donné qu’à 21h20. . ', 'size': 2}, {'id': '52', 'title': 'CDM Clubs (Groupe F) : Benfica déroule face à Auckland', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CDM-Clubs-Groupe-F-Benfica-deroule-face-a-Auckland_a68917.html', 'summary': 'CDM Clubs (Groupe F) : Benfica déroule face à Auckland. Le match entre Benfica et Auckland City a duré près de quatre heures en raison d’une longue interruption (2 heures) provoquée par un violent orage à Orlando.', 'size': 2}], 'main_title': 'Mondial des clubs: Benfica bat Auckland entre les orages'}, {'community_id': '1', 'articles': [{'id': '25', 'title': 'Tareq Muhmood nommé président régional de Visa pour la zone CEMEA', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tareq-muhmood-nomme-president-regional-de-visa-pour-la-cemea/286709', 'summary': 'Tareq Muhmood nommé président régional de Visa pour la zone CEMEA. Dans ses nouvelles fonctions, Tareq Muhmood aura pour mission de superviser les opérations de Visa en Europe centrale et orientale, au Moyen-Orient et en Afrique. Cette vaste régio.', 'size': 2}, {'id': '153', 'title': 'Visa annonce la nomination de Tareq Muhmood à la tête de Visa dans la région CEMEA', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/visa-annonce-la-nomination-de-tareq-muhmood-a-la-tete-de-visa-dans-la-region-cemea/', 'summary': 'Visa annonce la nomination de Tareq Muhmood à la tête de Visa dans la région CEMEA. Visa (NYSE : V) annonce aujourd’hui la nomination de Tareq Muhmood en tant que Président Régional pour la zone Europe centrale et orientale, Moyen-Orient et Afrique (CEMEA). À ce poste, cet expert reconnu au sein de Visa pilotera les activités de l’entreprise dans plus de 86 marchés innovants et en plein essor. Les opérations de .', 'size': 2}], 'main_title': 'Tareq Muhmood nommé président régional de Visa pour la zone CEMEA'}, {'community_id': '16', 'articles': [{'id': '28', 'title': 'Service militaire 2025 : le 23 juin, dernier délai pour remplir le formulaire de recensement', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/service-militaire-le-23-juin-dernier-delai-pour-remplir-le-formulaire/286700', 'summary': "Service militaire 2025 : le 23 juin, dernier délai pour remplir le formulaire de recensement. Les jeunes ayant reçu l'avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours, et qui ne l’ont pas encore effectué, sont appelés.", 'size': 4}, {'id': '81', 'title': 'Service militaire : le 23 juin, dernier délai pour remplir le formulaire de recensement', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/service-militaire-le-23-juin-dernier-delai-pour-remplir-le-formulaire-de-recensement_1938855/', 'summary': 'Service militaire : le 23 juin, dernier délai pour remplir le formulaire de recensement. Dans le cadre de l’opération de recensement relative au service militaire au titre de l’année 2025, le ministre de l’Intérieur rappelle que les formulaires de recensement sont à remplir au plus tard le 23 juin courant. Les jeunes ayant reçu l’avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours,.', 'size': 4}, {'id': '145', 'title': 'Service militaire 2025: Le 23 juin, dernier délai pour remplir le formulaire de recensement', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/scans/service-militaire-2025-le-23-juin-dernier-delai-pour-remplir-le-formulaire-de-recensement/', 'summary': "Service militaire 2025: Le 23 juin, dernier délai pour remplir le formulaire de recensement. Les jeunes ayant reçu l'avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours, et qui ne l’ont pas encore effectué, sont appelés à le remplir au plus tard le 23 juin 2025, indique le ministre de l’Intérieur.", 'size': 4}, {'id': '191', 'title': 'Service militaire 2025 | Le 23 juin, dernier délai pour le formulaire de recensement', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/service-militaire-2025-le-23-juin-dernier-delai-pour-le-formulaire-de-recensement/', 'summary': 'Service militaire 2025 | Le 23 juin, dernier délai pour le formulaire de recensement. Dans le cadre de l’opération de recensement relative au service militaire au titre de l’année 2025, le ministre de l’Intérieur rappelle que les formulaires de recensement sont à remplir au plus tard le 23 juin courant. “Les jeunes ayant reçu l’avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours, ', 'size': 4}], 'main_title': 'Service militaire 2025 : le 23 juin, dernier délai pour remplir le formulaire de recensement'}, {'community_id': '7', 'articles': [{'id': '47', 'title': 'Ithmar Capital reconduit à la tête de l’ASIF et lance une plateforme d’investissement panafricaine', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/ithmar-capital-reconduit-a-lasif-et-lance-une-plateforme-dinvestissement/286588', 'summary': 'Ithmar Capital reconduit à la tête de l’ASIF et lance une plateforme d’investissement panafricaine. Du 15 au 17 juin 2025, la capitale nigériane Abuja a accueilli la 4ᵉ réunion annuelle de l’ASIF, un forum réunissant les principaux fonds souverains africains et des investisseurs.', 'size': 2}, {'id': '196', 'title': 'Africa Sovereign Investors Forum : Renforcement de la coopération régionale autour d’une plateforme d’investissement structurée', 'source': 'lnt.ma', 'link': 'https://lnt.ma/africa-sovereign-investors-forum-renforcement-de-la-cooperation-regionale-autour-dune-plateforme-dinvestissement-structuree/', 'summary': 'Africa Sovereign Investors Forum : Renforcement de la coopération régionale autour d’une plateforme d’investissement structurée. La 4ᵉ réunion annuelle de l’Africa Sovereign Investors Forum (ASIF) s’est tenue du 15 au 17 juin 2025 à Abuja, au Nigeria, autour du thème : « Mettre à profit les fonds souverains africains pour mobiliser les capitaux mondiaux en faveur d’un développement transformateur en Afrique ». Cette rencontre a rassemblé des représentants de fonds . ', 'size': 2}], 'main_title': 'Ithmar Capital reconduit à la tête de l’ASIF et lance une plateforme d’investissement panafricaine'}, {'community_id': '6', 'articles': [{'id': '49', 'title': 'Classement QS 2026 : L’Université Mohammed V de Rabat en tête des universités marocaines', 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/classement-qs-lum5r-de-rabat-en-tete-des-universites-marocaines/286593', 'summary': "Classement QS 2026 : L’Université Mohammed V de Rabat en tête des universités marocaines. Grâce à cette consécration, l'UM5R affirme son rôle de pionnière de l’excellence académique dans l’espace universitaire national et international, indique l'université dans.", 'size': 2}, {'id': '91', 'title': "Classement QS : l'UM5 de Rabat toujours en tête des universités marocaines", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/classement-qs-lum5-de-rabat-toujours-en-tete-des-universites-marocaines_1938716/', 'summary': "Classement QS : l'UM5 de Rabat toujours en tête des universités marocaines. L’Université Mohammed V de Rabat (UM5R) a conservé, pour la sixième année consécutive, sa position de première université au Maroc dans le classement international « QS World University Rankings 2026 », publié jeudi par le cabinet britannique Quacquarelli Symonds. Grâce à cette consécration, l’UM5R affirme son rôle de pionnière de l’excellence académique dans l’espace universitaire national et.", 'size': 2}], 'main_title': 'Classement QS 2026 : L’Université Mohammed V de Rabat en tête des universités marocaines'}, {'community_id': '12', 'articles': [{'id': '50', 'title': 'Protection sociale : 250 millions de dollars de la Banque mondiale au Maroc', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/protection-sociale-250-millions-de-dollars-de-la-banque-mondiale-au-maroc/286578', 'summary': 'Protection sociale : 250 millions de dollars de la Banque mondiale au Maroc. La Banque mondiale a annoncé l’approbation d’un financement d’un montant de 250 millions de dollars destiné à accompagner le Maroc dans la mise en œuvre de son programme de réforme.', 'size': 5}, {'id': '94', 'title': 'Protection sociale : 250 millions de dollars de la Banque mondiale en faveur du Maroc', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/protection-sociale-250-millions-de-dollars-de-la-banque-mondiale-en-faveur-du-maroc_1938711/', 'summary': 'Protection sociale : 250 millions de dollars de la Banque mondiale en faveur du Maroc. La Banque mondiale a approuvé un financement de 250 millions de dollars destiné à soutenir la réforme de la protection sociale au Maroc, dans le cadre du Projet d’appui au renforcement des filets de protection sociale pour le développement humain. Cette initiative vise à renforcer l’efficacité du système de protection sociale du Maroc en améliorant.', 'size': 4}, {'id': '106', 'title': 'Protection sociale: La Banque mondiale approuve un financement de 250 millions de dollars en faveur du Maroc', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/protection-sociale-la-banque-mondiale-approuve-un-financement-de-250-millions-de-dollars-en-faveur-du-maroc-305109/', 'summary': 'Protection sociale: La Banque mondiale approuve un financement de 250 millions de dollars en faveur du Maroc. La Banque mondiale a approuvé un financement de 250 millions de dollars destiné à soutenir l’ambitieuse réforme de la protection sociale au Maroc, dans le cadre du Projet d’appui au renforcement des filets de protection sociale pour le développement humain. « Cette initiative vise à renforcer l’efficacité du système de', 'size': 5}, {'id': '181', 'title': 'Protection sociale : la Banque mondiale injecte 250 M$', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/protection-sociale-la-banque-mondiale-injecte-250-m.html', 'summary': 'Protection sociale : la Banque mondiale injecte 250 M$. Le Conseil des administrateurs de la Banque mondiale a approuvé un financement de 250 millions de dollars pour appuyer la réforme de la protection sociale au Maroc. ', 'size': 4}, {'id': '202', 'title': 'Protection sociale: la Banque mondiale accorde 250 M$ pour appuyer la réforme au Maroc', 'source': 'lnt.ma', 'link': 'https://lnt.ma/protection-sociale-la-banque-mondiale-accorde-250-m-pour-appuyer-la-reforme-au-maroc/', 'summary': 'Protection sociale: la Banque mondiale accorde 250 M$ pour appuyer la réforme au Maroc. La Banque mondiale a approuvé un financement de 250 millions de dollars destiné à soutenir l’ambitieuse réforme de la protection sociale au Maroc, dans le cadre du Projet d’appui au renforcement des filets de protection sociale pour le développement humain. « Cette initiative vise à renforcer l’efficacité du système de protection sociale du Maroc en . ', 'size': 5}], 'main_title': 'Protection sociale : 250 millions de dollars de la Banque mondiale au Maroc'}, {'community_id': '15', 'articles': [{'id': '54', 'title': 'Sahara : la Mauritanie assume la fermeture irréversible de la zone de Lebriga', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Sahara-la-Mauritanie-assume-la-fermeture-irreversible-de-la-zone-de-Lebriga_a68915.html', 'summary': 'Sahara : la Mauritanie assume la fermeture irréversible de la zone de Lebriga. Le porte-parole du gouvernement mauritanien, El Houssein Ould Meddou, a réitéré la détermination de son pays à fermer définitivement la zone frontalière de Lebriga face au Polisario. Détails.', 'size': 2}, {'id': '112', 'title': 'Sahara : La Mauritanie défend la fermeture de ses frontières face au Polisario', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/169555/sahara-mauritanie-defend-fermeture-frontieres.html', 'summary': 'Sahara : La Mauritanie défend la fermeture de ses frontières face au Polisario. Le gouvernement mauritanien a défendu sa décision, prise en mai dernier, de fermer la région de Lebriga, à la frontière avec lAlgérie.', 'size': 2}], 'main_title': 'Sahara : la Mauritanie assume la fermeture irréversible de la zone de Lebriga'}, {'community_id': '13', 'articles': [{'id': '66', 'title': 'Rabat : Un nouveau parking de 142 places ouvre ses portes au quartier l’Océan', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Rabat-Un-nouveau-parking-de-142-places-ouvre-ses-portes-au-quartier-l-Ocean_a68907.html', 'summary': 'Rabat : Un nouveau parking de 142 places ouvre ses portes au quartier l’Océan. \u200bRabat Région Mobilité (RRM) a annoncé l’ouverture à l’exploitation du nouveau parking en ouvrage Place de Russie au quartier l’Océan à Rabat, un nouvel équipement destiné à “décongestionner le trafic automobile dans l’un des axes les plus dynamiques et les plus fréquentés de la ville de Rabat”.', 'size': 3}, {'id': '90', 'title': 'Un nouveau parking de 142 places ouvre ses portes à Rabat', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/un-nouveau-parking-de-142-places-ouvre-ses-portes-a-rabat_1938751/', 'summary': 'Un nouveau parking de 142 places ouvre ses portes à Rabat. Rabat Région Mobilité (RRM) a annoncé l’ouverture à l’exploitation du nouveau parking en ouvrage Place de Russie au quartier l’Océan à Rabat, un nouvel équipement destiné à « décongestionner le trafic automobile dans l’un des axes les plus dynamiques et les plus fréquentés de la ville de Rabat ». Doté d’une capacité de 142 places réparties sur.', 'size': 3}, {'id': '103', 'title': 'Un nouveau parking en ouvrage de 142 places ouvre ses portes à Rabat', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/un-nouveau-parking-en-ouvrage-de-142-places-ouvre-ses-portes-a-rabat-305149/', 'summary': 'Un nouveau parking en ouvrage de 142 places ouvre ses portes à Rabat. Rabat Région Mobilité (RRM) a annoncé l’ouverture à l’exploitation du nouveau parking en ouvrage Place de Russie au quartier l’Océan à Rabat, un nouvel équipement destiné à « décongestionner le trafic automobile dans l’un des axes les plus dynamiques et les plus fréquentés de la ville de Rabat ». Doté d’une capacité', 'size': 3}], 'main_title': 'Rabat : Un nouveau parking de 142 places ouvre ses portes au quartier l’Océan'}, {'community_id': '4', 'articles': [{'id': '67', 'title': "Rapport de la DGM : chaleur extrême, sécheresse, stress hydrique, le Maroc à l'épreuve du réchauffement climatique", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Rapport-de-la-DGM-chaleur-extreme-secheresse-stress-hydrique-le-Maroc-a-l-epreuve-du-rechauffement-climatique_a68899.html', 'summary': "Rapport de la DGM : chaleur extrême, sécheresse, stress hydrique, le Maroc à l'épreuve du réchauffement climatique. La Direction Générale de la Météorologie (DGM) a dévoilé, ce Vendredi 20 juin, son rapport annuel « État du climat au Maroc en 2024 », en présence de Nizar Baraka, Ministre de l’Équipement et de l’Eau. Ce rapport indique que 2024 constitue l’année la plus chaude jamais enregistrée au Maroc.", 'size': 2}, {'id': '189', 'title': 'DGM | Présentation du rapport annuel sur l’état du climat au Maroc en 2024', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/dgm-presentation-du-rapport-annuel-sur-letat-du-climat-au-maroc-en-2024/', 'summary': 'DGM | Présentation du rapport annuel sur l’état du climat au Maroc en 2024. La Direction générale de la météorologie (DGM) a présenté, vendredi à Rabat, son rapport annuel sur l’état du climat au Maroc en 2024, lors d’une rencontre tenue en présence du ministre de l’Équipement et de l’Eau, Nizar Baraka. Publié par la DGM pour la cinquième année consécutive, ce rapport annuel fournit une analyse approfondie de l’évolution des ', 'size': 2}], 'main_title': "Rapport de la DGM : chaleur extrême, sécheresse, stress hydrique, le Maroc à l'épreuve du réchauffement climatique"}, {'community_id': '17', 'articles': [{'id': '68', 'title': 'Forêts : 8 incendies maîtrisés dans les dernières 24 heures (ANEF)', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Forets-8-incendies-maitrises-dans-les-dernieres-24-heures-ANEF_a68900.html', 'summary': 'Forêts : 8 incendies maîtrisés dans les dernières 24 heures (ANEF). L’Agence Nationale des Eaux et Forêts (ANEF) a déclaré dans un communiqué qu’un total de huit incendies ont été recensés à l’échelle nationale au cours des dernières 24 heures, dont six en domaine forestier et deux en dehors de celui-ci.', 'size': 3}, {'id': '122', 'title': 'Forets : Tous les incendies enregistrés au cours des dernières 24 h maîtrisés', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/forets-tous-les-incendies-enregistres-au-cours-des-dernieres-24-h-maitrises', 'summary': 'Forets : Tous les incendies enregistrés au cours des dernières 24 h maîtrisés. Tous les incendies enregistrés à l’échelle nationale au cours des dernières 24h ont été maîtrisés grâce à la vigilance et aux interventions rapides et coordonnées des services compétents en la matière, a souligné, vendredi, l’Agence nationale des eaux et forêts (ANEF). Ainsi, un total de huit incendies, dont six en domaine forestier et deux hors .', 'size': 3}, {'id': '155', 'title': 'ANEF: Tous les incendies enregistrés au cours des dernières 24h maîtrisés', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/anef-tous-les-incendies-enregistres-au-cours-des-dernieres-24h-maitrises/', 'summary': 'ANEF: Tous les incendies enregistrés au cours des dernières 24h maîtrisés. Tous les incendies enregistrés à l’échelle nationale au cours des dernières 24h ont été maîtrisés grâce à la vigilance et aux interventions rapides et coordonnées des services compétents en la matière, a souligné, vendredi, l’Agence nationale des eaux et forêts (ANEF). Ainsi, un total de huit incendies, dont six en domaine forestier et deux hors .', 'size': 3}], 'main_title': 'Forêts : 8 incendies maîtrisés dans les dernières 24 heures (ANEF)'}, {'community_id': '18', 'articles': [{'id': '71', 'title': '4G : Maroc Telecom étend sa toile au Tchad et au Mali', 'source': 'telquel.ma', 'link': 'https://telquel.ma/2025/06/20/4g-maroc-telecom-etend-sa-toile-au-tchad-et-au-mali_1938927', 'summary': '4G : Maroc Telecom étend sa toile au Tchad et au Mali. Maroc Telecom renforce sa présence en Afrique subsaharienne grâce à un partenariat avec la Société financière internationale (IFC). Un financement de 370 millions d’euros permettra d’accélérer le déploiement de la 4G au Tchad et au Mali. Un nouveau financement soutiendra l’extension des services 4G au Tchad et au Mali, permettant un accès à internet plus.', 'size': 3}, {'id': '114', 'title': "Maroc Telecom emprunte 370 millions d'euros pour étendre les services 4G au Tchad et au Mali", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/169564/maroc-telecom-emprunte-millions-d-euros.html', 'summary': "Maroc Telecom emprunte 370 millions d'euros pour étendre les services 4G au Tchad et au Mali. Maroc Telecom a sécurisé un prêt de 370 millions deuros (plus de 4 milliards de dirhams) de la Société Financière Internationale (IFC) pour financer le déploiement des services de quatrième génération au Tchad et au Mali, selon un communiqué publié ce vendredi par lentreprise.", 'size': 2}, {'id': '143', 'title': 'Maroc Telecom : 370 millions d’euros de l’IFC pour développer la 4G au Tchad et au Mali', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/maroc-telecom-370-millions-deuros-de-lifc-pour-developper-la-4g-au-tchad-et-au-mali/', 'summary': 'Maroc Telecom : 370 millions d’euros de l’IFC pour développer la 4G au Tchad et au Mali. Ce financement soutiendra le déploiement par les filiales de Maroc Telecom des services 4G dans les deux pays, offrant un accès internet plus rapide et plus fiable à un plus grand nombre de personnes et d’entreprises.', 'size': 2}], 'main_title': '4G : Maroc Telecom étend sa toile au Tchad et au Mali'}, {'community_id': '9', 'articles': [{'id': '77', 'title': 'Les IDE au Maroc font un bond de 55% et atteignent 1,6 milliard de dollars', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/les-ide-au-maroc-font-un-bond-de-55-et-atteignent-16-milliard-de-dollars_1938902/', 'summary': 'Les IDE au Maroc font un bond de 55% et atteignent 1,6 milliard de dollars. Les investissements directs étrangers (IDE) ont progressé de 55 % en 2024 pour atteindre 1,64 milliard de dollars, contre 1,05 milliard une année auparavant, selon ONU Commerce et Développement (CNUCED). Dans son dernier Rapport sur l’investissement dans le monde 2025, publié jeudi, l’agence onusienne fait état aussi d’un stock d’IDE au Maroc s’élevant à 61,5.', 'size': 3}, {'id': '190', 'title': 'Maroc | Les investissements directs étrangers en hausse de 55 % en 2024 (CNUCED)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/maroc-les-investissements-directs-etrangers-en-hausse-de-55-en-2024-cnuced/', 'summary': 'Maroc | Les investissements directs étrangers en hausse de 55 % en 2024 (CNUCED). Les investissements directs étrangers (IDE) ont progressé de 55 % en 2024 pour atteindre 1,64 milliard de dollars, contre 1,05 milliard une année auparavant, selon ONU Commerce et Développement (CNUCED). Dans son dernier Rapport sur l’investissement dans le monde 2025, publié jeudi, l’agence onusienne fait état aussi d’un stock d’IDE au Maroc s’élevant à 61,5 milliards ', 'size': 3}, {'id': '198', 'title': 'IDE : le Maroc enregistre une hausse de 55 % en 2024 selon la CNUCED', 'source': 'lnt.ma', 'link': 'https://lnt.ma/ide-le-maroc-enregistre-une-hausse-de-55-en-2024-selon-la-cnuced/', 'summary': 'IDE : le Maroc enregistre une hausse de 55 % en 2024 selon la CNUCED. Les investissements directs étrangers (IDE) ont progressé de 55 % en 2024 pour atteindre 1,64 milliard de dollars, contre 1,05 milliard une année auparavant, selon ONU Commerce et Développement (CNUCED). Dans son dernier Rapport sur l’investissement dans le monde 2025, publié jeudi, l’agence onusienne fait état aussi d’un stock d’IDE au Maroc s’élevant à 61,5 . ', 'size': 3}], 'main_title': 'Les IDE au Maroc font un bond de 55% et atteignent 1,6 milliard de dollars'}, {'community_id': '19', 'articles': [{'id': '93', 'title': 'Inflation : les prix des restaurants et hôtels en hausse de près de 4%', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/inflation-les-prix-des-restaurants-et-hotels-en-hausse-de-pres-de-4_1938719/', 'summary': 'Inflation : les prix des restaurants et hôtels en hausse de près de 4%. L’indice des prix à la consommation (IPC) a enregistré, en mai dernier, une hausse de 0,4% comparativement au même mois de l’année précédente, selon le Haut-Commissariat au Plan (HCP). Les prix des restaurants et hôtels ont enregistré la plus forte hausse (+3,9%). Cette évolution est la conséquence de l’augmentation de l’indice des produits alimentaires de.', 'size': 3}, {'id': '102', 'title': 'Inflation : hausse de 0,4% de l’IPC en mai', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/inflation-hausse-de-04-de-lipc-en-mai-hcp-305157/', 'summary': 'Inflation : hausse de 0,4% de l’IPC en mai. L’indice des prix à la consommation (IPC) a enregistré, en mai dernier, une hausse de 0,4% comparativement au même mois de l’année précédente, selon le Haut-Commissariat au Plan (HCP). Cette évolution est la conséquence de l’augmentation de l’indice des produits alimentaires de 0,5% et de celui des produits non alimentaires', 'size': 3}, {'id': '150', 'title': 'HCP: L’inflation à 0,4% en mai', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/hcp-linflation-a-04-en-mai/', 'summary': 'HCP: L’inflation à 0,4% en mai. En variation mensuelle, l’indice des prix à la consommation a connu, au cours du mois de mai dernier, une baisse de 0,4% par rapport au mois précédent, selon le Haut-commissariat au Plan.', 'size': 3}], 'main_title': 'Inflation : les prix des restaurants et hôtels en hausse de près de 4%'}, {'community_id': '3', 'articles': [{'id': '131', 'title': 'Maroc-France : Un nouveau consulat général inauguré en région parisienne', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/maroc-france-un-nouveau-consulat-general-inaugure-en-region-parisienne/', 'summary': 'Maroc-France : Un nouveau consulat général inauguré en région parisienne. L’inauguration du Consulat général du Maroc à Mantes-la-Jolie porte le réseau consulaire à 17 consulats dans l’Hexagone. La communauté marocaine de la région parisienne ne peut qu’être heureuse de cette bonne nouvelle.', 'size': 4}, {'id': '186', 'title': 'Yvelines | Inauguration d’un nouveau Consulat général du Maroc à Mantes-la-Jolie', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/yvelines-inauguration-dun-nouveau-consulat-general-du-maroc-a-mantes-la-jolie/', 'summary': 'Yvelines | Inauguration d’un nouveau Consulat général du Maroc à Mantes-la-Jolie. Un nouveau consulat général du Maroc a été officiellement inauguré, vendredi, à Mantes-la-Jolie, en région parisienne, renforçant le réseau consulaire du Royaume en France constitué désormais de 17 consulats, dans le cadre d’une dynamique de proximité, de modernisation et d’efficacité au service des ressortissants marocains. L’ouverture de cette nouvelle représentation consulaire s’inscrit dans la stratégie ', 'size': 4}, {'id': '224', 'title': 'France : inauguration du Consulat général du Maroc à Mantes-la-Jolie', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/france-inauguration-du-consulat-general-du-maroc-a-mantes-la-jolie/286818', 'summary': 'France : inauguration du Consulat général du Maroc à Mantes-la-Jolie. L’ouverture de cette nouvelle représentation consulaire s’inscrit dans la stratégie du ministère des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’.', 'size': 4}, {'id': '256', 'title': 'Inauguration du nouveau consulat du Maroc à Mantes-la-Jolie', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/inauguration-du-nouveau-consulat-du-maroc-a-mantes-la-jolie.html', 'summary': 'Inauguration du nouveau consulat du Maroc à Mantes-la-Jolie. Le nouveau consulat général du Maroc à Mantes-la-Jolie a été officiellement inauguré vendredi, à Mantes-la-Jolie, en région parisienne, afin de renforcer le réseau consulaire du Royaume en France, portant le nombre à 17 consulats. L’ouverture de cette nouvelle représentation consulaire s’inscrit dans la stratégie du ministère des Affaires étrangères, de la Coopération africaine et des . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'Maroc-France : Un nouveau consulat général inauguré en région parisienne'}, {'community_id': '10', 'articles': [{'id': '140', 'title': 'Climat : 2024, année la plus chaude jamais relevée au Maroc', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/climat-2024-annee-la-plus-chaude-jamais-relevee-au-maroc/', 'summary': 'Climat : 2024, année la plus chaude jamais relevée au Maroc. L’année 2024 se distingue comme la plus chaude jamais enregistrée au Maroc, avec une anomalie de température moyenne nationale de +1,49 °C par rapport à la normale climatologique 1991-2020, contre +0,67 °C à l’échelle mondiale, selon le rapport «État du climat au Maroc en 2024», produit par la Direction générale de la météorologie (DGM).', 'size': 2}, {'id': '221', 'title': "2024 est l'année la plus chaude jamais enregistrée au Maroc (DGM)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/lannee-2024-est-la-plus-chaude-jamais-enregistree-au-maroc/286816', 'summary': "2024 est l'année la plus chaude jamais enregistrée au Maroc (DGM). Dans son rapport annuel, la DGM note une anomalie de température moyenne nationale de +1,49°C par rapport à la période de référence 1991-2020.**related_articles[286757].", 'size': 2}], 'main_title': 'Climat : 2024, année la plus chaude jamais relevée au Maroc'}, {'community_id': '2', 'articles': [{'id': '159', 'title': '12e Forum des droits humains à Essaouira : Neila Tazi appelle à réinscrire la culture au cœur du débat migratoire', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/12e-forum-des-droits-humains-a-essaouira-neila-tazi-appelle-a-reinscrire-la-culture-au-coeur-du-debat-migratoire/', 'summary': '12e Forum des droits humains à Essaouira : Neila Tazi appelle à réinscrire la culture au cœur du débat migratoire. La productrice du Festival Gnaoua et Musiques du Monde d’Essaouira, Neila Tazi, a appelé, vendredi à Essaouira, à réinscrire la culture au cœur du débat migratoire eu égard au rôle des mobilités et des migrations humaines dans la création culturelle. S’exprimant à l’ouverture de la 12ème édition du Forum des droits humains, organisée sous le .', 'size': 2}, {'id': '184', 'title': 'Forum des droits humains à Essaouira: la culture comme outil pour contrer la stigmatisation des migrants', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/forum-des-droits-humains-a-essaouira-la-culture-comme-outil-pour-contrer-la-stigmatisation-des-migrants.html', 'summary': 'Forum des droits humains à Essaouira: la culture comme outil pour contrer la stigmatisation des migrants. La 12e édition du Forum des droits humains s’est tenue vendredi à Essaouira sous le thème « Mobilités humaines et dynamiques culturelles » dans le cadre de la la 26ème édition du Festival Gnaoua et Musiques du Monde, en partenariat avec le Conseil de la communauté marocaine à l’étranger (CCME). Ce forum sur les mobilités humaines, qui . L’article est apparu en premier sur .', 'size': 2}], 'main_title': '12e Forum des droits humains à Essaouira : Neila Tazi appelle à réinscrire la culture au cœur du débat migratoire'}, {'community_id': '5', 'articles': [{'id': '192', 'title': 'Laâyoune accueille le Forum parlementaire sur la coopération économique Maroc-CEMAC', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/laayoune-accueille-le-forum-parlementaire-sur-la-cooperation-economique-maroc-cemac/', 'summary': 'Laâyoune accueille le Forum parlementaire sur la coopération économique Maroc-CEMAC. Les travaux du Forum parlementaire sur la coopération économique entre le Maroc et le Parlement de la Communauté économique et monétaire de l’Afrique centrale (CEMAC) se sont ouverts vendredi à Laâyoune, en présence de plusieurs responsables gouvernementaux, de responsables institutionnels, de parlementaires africains et d’acteurs économiques. Placé sous le Haut Patronage de Sa Majesté le ', 'size': 2}, {'id': '213', 'title': 'Revue de presse de ce samedi 21 juin 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/429126-revue-de-presse-de-ce-samedi-21-juin-2025.html', 'summary': 'Revue de presse de ce samedi 21 juin 2025. Voici les principaux titres développés par la presse nationale de ce samedi 21 juin 2025 Le Matin • Le Forum parlementaire sur la coopération économique entre le Maroc et le Parlement de la Communauté économique et monétaire de l’Afrique centrale (CEMAC) incarne la volonté collective et la ferme détermination à renforcer davantage le partenariat avancé . ', 'size': 2}], 'main_title': 'Laâyoune accueille le Forum parlementaire sur la coopération économique Maroc-CEMAC'}, {'community_id': '11', 'articles': [{'id': '235', 'title': 'La ministre française Aurore Bergé en visite officielle au Maroc du 23 au 25 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/la-ministre-francaise-aurore-berge-en-visite-officielle-au-maroc-du-23-au-25-juin-305222/', 'summary': 'La ministre française Aurore Bergé en visite officielle au Maroc du 23 au 25 juin. Aurore Bergé, ministre de l’Égalité entre les femmes et les hommes et de la Lutte contre les discriminations, se rendra au Maroc du 23 au 25 juin 2025 courant. Elle aura l’occasion de s’entretenir avec plusieurs responsables politiques de haut niveau, parmi lesquels Nadia Fettah Alaoui, ministre de l’Economie et', 'size': 2}, {'id': '255', 'title': 'Déplacement de la ministre française Aurore Bergé du 23 au 25 juin', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/deplacement-de-la-ministre-francaise-aurore-berge-du-23-au-25-juin.html', 'summary': 'Déplacement de la ministre française Aurore Bergé du 23 au 25 juin. La ministre française de l’Égalité entre les femmes et les hommes et de la Lutte contre les discriminations, Aurore Bergé, se rendra au Maroc du 23 au 25 juin. L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'La ministre française Aurore Bergé en visite officielle au Maroc du 23 au 25 juin'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
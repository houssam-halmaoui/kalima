<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 16/08/2025 - 18h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '1', 'articles': [{'id': '2', 'title': 'Sommet Russie-USA: Trump réclame un accord de paix', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437805-sommet-russie-usa-trump-reclame-un-accord-de-paix.html', 'summary': 'Sommet Russie-USA: Trump réclame un accord de paix. Le président américain Donald Trump a exclu un cessez-le-feu immédiat entre la Russie et l’Ukraine et réclame désormais directement un « accord de paix », dans une déclaration sur son réseau Truth Social tôt samedi, au retour de son sommet avec son homologue russe Vladimir Poutine en Alaska. « Il a été jugé par tous que la meilleure . ', 'size': 3}, {'id': '10', 'title': 'Sommet de l’Alaska : Trump fait état de "grands progrès", sans annoncer de cessez-le-feu en Ukraine', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/sommet-de-lalaska-trump-fait-etat-de-grands-progres-en-ukraine/296783', 'summary': 'Sommet de l’Alaska : Trump fait état de "grands progrès", sans annoncer de cessez-le-feu en Ukraine. Nous avons fait de grands progrès aujourd’hui, a déclaré M. Trump lors d’une conférence de presse conjointe avec le président russe, au terme d\'une rencontre bilaté.', 'size': 2}, {'id': '65', 'title': 'Sommet Trump-Poutine : des progrès diplomatiques, mais l’Ukraine reste sans trêve', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/sommet-trump-poutine-des-progres-diplomatiques-mais-lukraine-reste-sans-treve-308638/', 'summary': 'Sommet Trump-Poutine : des progrès diplomatiques, mais l’Ukraine reste sans trêve. Le président américain Donald Trump a fait état, ce vendredi 15 août, de «grands progrès» à l’issue du sommet tenu en Alaska avec son homologue russe Vladimir Poutine, mais sans pour autant annoncer un accord sur le cessez-le-feu en Ukraine. «Nous avons fait de grands progrès aujourd’hui», a déclaré M.', 'size': 4}, {'id': '141', 'title': "Guerre en Ukraine : Ce qu'il faut retenir de la rencontre Trump-Poutine", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Guerre-en-Ukraine-Ce-qu-il-faut-retenir-de-la-rencontre-Trump-Poutine_a70865.html', 'summary': 'Guerre en Ukraine : Ce qu\'il faut retenir de la rencontre Trump-Poutine. Le président américain Donald Trump a exclu samedi un cessez-le-feu immédiat entre la Russie et l\'Ukraine et réclame désormais directement un "accord de paix", au lendemain de son sommet en Alaska avec son homologue russe Vladimir Poutine.', 'size': 3}], 'main_title': 'Sommet Trump-Poutine : des progrès diplomatiques, mais l’Ukraine reste sans trêve'}, {'community_id': '5', 'articles': [{'id': '3', 'title': "Le dirham s'apprécie de 1,3% face au dollar", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437796-le-dirham-sapprecie-de-13-face-au-dollar.html', 'summary': "Le dirham s'apprécie de 1,3% face au dollar. Le dirham s’est apprécié de 1,3% vis-à-vis du dollar américain et s’est déprécié de 0,2% face à l’euro entre les mois de juin et de juillet 2025, ressort-il de la récente revue mensuelle de la conjoncture économique, monétaire et financière de Bank Al-Maghrib (BAM). Ces évolutions interviennent dans un contexte où l’euro s’est apprécié de . ", 'size': 3}, {'id': '94', 'title': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain entre juin et juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-dirham-sapprecie-de-13-vis-a-vis-du-dollar-americain-entre-juin-et-juillet-2025/', 'summary': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain entre juin et juillet 2025. Le dirham s’est apprécié de 1,3% vis-à-vis du dollar américain et s’est déprécié de 0,2% face à l’euro entre les mois de juin et de juillet 2025, ressort-il de la récente revue mensuelle de la conjoncture économique, monétaire et financière de Bank Al-Maghrib (BAM). Ces évolutions interviennent dans un contexte où l’euro s’est apprécié de .', 'size': 3}, {'id': '116', 'title': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-dirham-sapprecie-de-13-vis-a-vis-du-dollar-americain.html', 'summary': 'Le dirham s’apprécie de 1,3% vis-à-vis du dollar américain. Le dirham s’est apprécié de 1,3% vis-à-vis du dollar américain et s’est déprécié de 0,2% face à l’euro entre les mois de juin et de juillet 2025, ressort-il de la récente revue mensuelle de la conjoncture économique, monétaire et financière de Bank Al-Maghrib (BAM). Ces évolutions interviennent dans un contexte où l’euro s’est apprécié de . L’article est apparu en premier sur .', 'size': 3}], 'main_title': "Le dirham s'apprécie de 1,3% face au dollar"}, {'community_id': '11', 'articles': [{'id': '6', 'title': "Cannabis légal : l'ANRAC en mission B2B à Amsterdam", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437763-cannabis-legal-lanrac-en-mission-b2b-a-amsterdam.html', 'summary': "Cannabis légal : l'ANRAC en mission B2B à Amsterdam. L’Agence nationale de réglementation des activités relatives au cannabis mènera une délégation de plus de vingt entreprises pour renforcer les liens avec le marché néerlandais. L’industrie marocaine du cannabis sera présente à l’hôtel Park Centraal Amsterdam lors d’une rencontre professionnelle initiée par l’ANRAC. Plus de vingt sociétés marocaines spécialisées dans la production et la commercialisation . ", 'size': 2}, {'id': '59', 'title': "Cannabis : l'ANRAC en mission à Amsterdam en octobre", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/15/cannabis-lanrac-en-mission-a-amsterdam-en-octobre_1946615/', 'summary': "Cannabis : l'ANRAC en mission à Amsterdam en octobre. Une délégation composée de plus de vingt producteurs et acteurs du marché marocain du cannabis se rendra à Amsterdam le 2 octobre prochain dans le cadre d’une mission B2B organisée par l’Agence nationale de réglementation des activités relatives au cannabis (ANRAC). Selon le média néerlandais Cannabis Industrie, la rencontre se tiendra à l’hôtel The Park.", 'size': 2}], 'main_title': "Cannabis légal : l'ANRAC en mission B2B à Amsterdam"}, {'community_id': '3', 'articles': [{'id': '8', 'title': "Le temps qu'il fera ce samedi 16 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437788-le-temps-quil-fera-ce-samedi-16-aout-2025.html', 'summary': "Le temps qu'il fera ce samedi 16 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 16 août 2025: – Temps chaud à localement très chaud sur les plaines intérieures Nord et Centre, le Sud-Est et l’intérieur du Souss et des provinces sahariennes et assez chaud sur l’Oriental. – Nuages bas matinaux et nocturnes avec formations . ", 'size': 3}, {'id': '66', 'title': 'Les prévisions du samedi 16 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-16-aout-2025-308631/', 'summary': 'Les prévisions du samedi 16 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 16 août 2025. -Temps chaud à localement très chaud sur les plaines intérieures Nord et Centre, le Sud-Est et l’intérieur du Souss et des provinces sahariennes et assez chaud sur l’Oriental. -Nuages bas matinaux et', 'size': 3}, {'id': '150', 'title': 'Prévisions météorologiques pour le dimanche 17 août 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-le-dimanche-17-aout-2025/', 'summary': 'Prévisions météorologiques pour le dimanche 17 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le dimanche 17 août 2025: – Temps chaud à localement très chaud sur les plaines intérieures Nord et Centres, la vallée de Moulouya, le Sud-Est et l’intérieur des provinces sahariennes et chaud sur l’Oriental. – Nuages bas matinaux et nocturnes avec formations .', 'size': 3}], 'main_title': "Le temps qu'il fera ce samedi 16 août 2025"}, {'community_id': '10', 'articles': [{'id': '23', 'title': 'Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi dans plusieurs régions (alerte météo)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/averses-et-vague-de-chaleur-de-vendredi-a-lundi-dans-plusieurs-regions/296663', 'summary': 'Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi dans plusieurs régions (alerte météo). Ces averses orageuses, avec chutes de grêle et de rafales de vent sous orages (15 à 30 mm), sont prévues vendredi de 16h à 23h59 dans les provinces de Khénifra, Khouribga, Settat,.', 'size': 3}, {'id': '57', 'title': 'Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi dans plusieurs provinces du Royaume', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/15/averses-orageuses-et-vague-de-chaleur-avec-chergui-de-vendredi-a-lundi-dans-plusieurs-provinces-du-royaume_1946632/', 'summary': 'Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi dans plusieurs provinces du Royaume. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur avec des températures variant entre 39 et 47 °C, avec chergui sont attendues, du vendredi 15 au lundi 18 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses,.', 'size': 4}, {'id': '71', 'title': 'Averses orageuses et vague de chaleur jusqu’à lundi', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/averses-orageuses-et-vague-de-chaleur-jusqua-lundi-308605/', 'summary': 'Averses orageuses et vague de chaleur jusqu’à lundi. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur avec des températures variant entre 39 et 47 °C, avec chergui sont attendues, du vendredi 15 au lundi 18 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la', 'size': 3}, {'id': '80', 'title': 'Alerte météo : Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/alerte-meteo-averses-orageuses-et-vague-de-chaleur-avec-chergui-de-vendredi-a-lundi', 'summary': 'Alerte météo : Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur avec des températures variant entre 39 et 47 °C, avec chergui sont attendues, du vendredi 15 au lundi 18 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses, .', 'size': 4}], 'main_title': 'Averses orageuses et vague de chaleur avec chergui, de vendredi à lundi dans plusieurs provinces du Royaume'}, {'community_id': '6', 'articles': [{'id': '27', 'title': 'Classement de Shanghai 2025 : l’Université Hassan II, seule représentante du Maroc dans le top 1.000 mondial', 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/une-seule-universite-du-maroc-dans-le-top-1000-du-shanghai-ranking-2025/296658', 'summary': 'Classement de Shanghai 2025 : l’Université Hassan II, seule représentante du Maroc dans le top 1.000 mondial. Le Shanghai Ranking Consultancy a dévoilé, ce vendredi 15 août 2025, son Academic Ranking of World Universities (ARWU), l’un des palmarès les plus respectés de l’enseignement supér.', 'size': 2}, {'id': '61', 'title': 'Education : une seule université marocaine dans le classement de Shanghaï 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/15/education-une-seule-universite-marocaine-dans-le-classement-de-shanghai-2025_1946598/', 'summary': 'Education : une seule université marocaine dans le classement de Shanghaï 2025. L’université Hassan II de Casablanca (UH2C) demeure la seule institution marocaine à figurer dans le très sélectif Academic Ranking of World Universities (ARWU) 2025, publié par l’organisation Shanghaï Ranking. Comme en 2024, elle se situe dans la tranche 901-1000 mondiale, mais se distingue dans la discipline des sciences biologiques humaines, où elle atteint la tranche.', 'size': 2}], 'main_title': 'Classement de Shanghai 2025 : l’Université Hassan II, seule représentante du Maroc dans le top 1.000 mondial'}, {'community_id': '7', 'articles': [{'id': '45', 'title': 'Chefchaouen: L’incendie de forêt à Derdara circonscrit', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Chefchaouen-L-incendie-de-foret-a-Derdara-circonscrit_a70850.html', 'summary': "Chefchaouen: L’incendie de forêt à Derdara circonscrit. Les équipes d'intervention ont réussi à circonscrire, jeudi, l'incendie de forêt qui s'est déclaré mardi à la forêt Derdara dans la province de Chefchaouen, a indiqué le directeur provincial de l’Agence nationale des eaux et forêts (ANEF), Youssef Zarroqi.", 'size': 2}, {'id': '73', 'title': 'Chefchaouen : le feu de forêt de Derdara circonscrit', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/chefchaouen-le-feu-de-foret-de-derdara-circonscrit-308592/', 'summary': 'Chefchaouen : le feu de forêt de Derdara circonscrit. Les équipes d’intervention ont réussi à circonscrire, ce jeudi 14 août, l’incendie qui s’est déclaré mardi dernier dans la forêt de Derdara, située dans la province de Chefchaouen, a indiqué le directeur provincial de l’Agence nationale des eaux et forêts (ANEF), Youssef Zarroqi.Concrètement, ce dernier a indiqué que les opérations', 'size': 2}], 'main_title': 'Chefchaouen: L’incendie de forêt à Derdara circonscrit'}, {'community_id': '8', 'articles': [{'id': '52', 'title': 'CHAN : Maroc-RD Congo, “une petite finale” aux enjeux cruciaux', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/15/chan-maroc-rd-congo-une-petite-finale-aux-enjeux-cruciaux_1946697/', 'summary': 'CHAN : Maroc-RD Congo, “une petite finale” aux enjeux cruciaux. Les Lions de l’Atlas s’apprêtent à affronter la RD Congo, en match de la 5e et dernière journée du groupe A du Championnat d’Afrique des nations de football (CHAN), dimanche au stade Nyayo à Nairobi, dans un duel intense qui s’apparente à “une petite finale”, dont le dénouement sera décisif pour la suite de la.', 'size': 2}, {'id': '124', 'title': 'CHAN 2024: Tarik Sektioui considère le match contre la RD Congo comme une "finale"', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437829-chan-2024-tarik-sektioui-considere-le-match-contre-la-rd-congo-comme-une-finale.html', 'summary': 'CHAN 2024: Tarik Sektioui considère le match contre la RD Congo comme une "finale". Le sélectionneur national, Tarik Sektioui a indiqué, samedi à Nairobi, que le match contre la RD Congo, prévu dimanche pour le compte de la 5e et dernière journée du groupe A du Championnat d’Afrique des nations de football (CHAN), sera très disputé, vu que son issue est décisive pour la suite du parcours dans cette . ', 'size': 3}, {'id': '132', 'title': 'CHAN 2024 : “Contre la RD Congo, on s’attend à une finale” (Tarik Sektioui)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/marocrd-congo-match-decisif-pour-la-qualification-au-chan-2024/296798', 'summary': 'CHAN 2024 : “Contre la RD Congo, on s’attend à une finale” (Tarik Sektioui). À Nairobi, le sélectionneur national Tarik Sektioui n’a pas tourné autour du pot. Pour lui, l’affiche Maroc – RD Congo, prévue dimanche au stade Nyayo, est tout simplement “une fin.', 'size': 2}], 'main_title': 'CHAN 2024: Tarik Sektioui considère le match contre la RD Congo comme une "finale"'}, {'community_id': '9', 'articles': [{'id': '55', 'title': 'France : le maire de Montpellier salue le niveau de développement “exemplaire” du Maroc', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/15/le-maire-de-montpellier-salue-le-niveau-de-developpement-exemplaire-du-maroc_1946650/', 'summary': 'France : le maire de Montpellier salue le niveau de développement “exemplaire” du Maroc. Le maire de la ville de Montpellier (sud-est de la France), Michaël Delafosse, a salué le niveau de développement “exemplaire” du Royaume du Maroc dans divers domaines. J’ai eu la chance en avril dernier de me rendre au Maroc, précisément à Fès, Rabat, Tanger, Casablanca et Dakhla. J’y ai reçu un accueil inoubliable et j’ai.', 'size': 2}, {'id': '119', 'title': 'Le maire de Montpellier salue le niveau de développement «\xa0exemplaire\xa0» du Maroc', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-maire-de-montpellier-salue-le-niveau-de-developpement-exemplaire-du-maroc.html', 'summary': 'Le maire de Montpellier salue le niveau de développement « exemplaire » du Maroc. Le maire de Montpellier, Michaël Delafosse, a salué le niveau de développement «exemplaire» du Royaume du Maroc dans divers domaines. «J’ai eu la chance en avril dernier de me rendre au Maroc, précisément à Fès, Rabat, Tanger, Casablanca et Dakhla. J’y ai reçu un accueil inoubliable et j’ai pu y mesurer toute l’excellence et l’innovation . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'France : le maire de Montpellier salue le niveau de développement “exemplaire” du Maroc'}, {'community_id': '4', 'articles': [{'id': '67', 'title': 'Hébergements touristiques classés\xa0: les nuitées en hausse au premier semestre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/hebergements-touristiques-classes-les-nuitees-en-hausse-au-premier-semestre-2025-308623/', 'summary': 'Hébergements touristiques classés : les nuitées en hausse au premier semestre 2025. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) au Maroc a affiché une hausse de 13% au titre du premier semestre de 2025 par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme.Ces nuitées se répartissent sur le tourisme national (+5%) et le', 'size': 3}, {'id': '79', 'title': 'Tourisme : hausse de 13% des nuitées dans les hôtels classés au S1-2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/tourisme-hausse-de-13-des-nuitees-dans-les-hotels-classes-au-s1-2025', 'summary': 'Tourisme : hausse de 13% des nuitées dans les hôtels classés au S1-2025. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a affiché une hausse de 13% au titre du premier semestre de 2025 par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme. Ces nuitées se répartissent sur le tourisme national (+5%) et le tourisme international (+16%), précise l’Observatoire dans .', 'size': 3}, {'id': '92', 'title': 'Maroc : hausse de 13% des nuitées dans les EHTC au S1-2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/maroc-hausse-de-13-des-nuitees-dans-les-ehtc-au-s1-2025/', 'summary': 'Maroc : hausse de 13% des nuitées dans les EHTC au S1-2025. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a affiché une hausse de 13% au titre du premier semestre de 2025 par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme. Ces nuitées se répartissent sur le tourisme national (+5%) et le tourisme international (+16%), précise l’Observatoire dans .', 'size': 3}], 'main_title': 'Hébergements touristiques classés\xa0: les nuitées en hausse au premier semestre 2025'}, {'community_id': '2', 'articles': [{'id': '69', 'title': 'Les produits de la mer commercialisés en repli de 3% à fin juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-produits-de-la-mer-commercialises-en-repli-de-3-a-fin-juillet-308613/', 'summary': 'Les produits de la mer commercialisés en repli de 3% à fin juillet. Les produits commercialisés de la pêche côtière et artisanale ont atteint, en valeur, 6,14 milliards de dirhams (MMDH) à fin juillet 2025, en repli de 3% par rapport à la même période de 2024, selon l’Office national des pêches (ONP). En termes de poids, ces produits se sont établis à', 'size': 2}, {'id': '97', 'title': 'Pêche : 6,14 MMDH de produits commercialisés à fin juillet', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/peche-614-mmdh-de-produits-commercialises-a-fin-juillet/', 'summary': 'Pêche : 6,14 MMDH de produits commercialisés à fin juillet. Les produits commercialisés de la pêche côtière et artisanale ont atteint, en valeur, 6,14 milliards de dirhams (MMDH) à fin juillet 2025, en repli de 3% par rapport à la même période de 2024, selon l’Office national des pêches (ONP). En termes de poids, ces produits se sont établis à 523.765 tonnes (T), en baisse .', 'size': 2}], 'main_title': 'Les produits de la mer commercialisés en repli de 3% à fin juillet'}, {'community_id': '13', 'articles': [{'id': '91', 'title': '« Tariq VTT », des vélos pour aller plus loin dans les montagnes d’Al Haouz', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/tariq-vtt-des-velos-pour-aller-plus-loin-dans-les-montagnes-dal-haouz/', 'summary': '« Tariq VTT », des vélos pour aller plus loin dans les montagnes d’Al Haouz. Mekkil’ prolonge son initiative vélo dans le monde rural pour lutter contre l’abandonscolaire et faciliter l’accès à l’éducation. Avec le soutien du Decathlon International Solidarity Fund, engagé pour l’inclusion par le sport, et de la Fondation Roi Baudouin, active dans la lutte contre les inégalités et le développement social, l’association Mekkil’ déploie un programme sur trois ans .', 'size': 2}, {'id': '121', 'title': '«\xa0Tariq VTT\xa0»: l’association Mekkil’ distribue des vélos pour lutter contre l’abandon scolaire dans les montagnes d’A Haouz', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/tariq-vtt-lassociation-mekkil-distribue-des-velos-pour-lutter-contre-labandon-scolaire-dans-les-montagnes-da-haouz.html', 'summary': "« Tariq VTT »: l’association Mekkil’ distribue des vélos pour lutter contre l’abandon scolaire dans les montagnes d’A Haouz. L'ONG Mekkil’ prolonge son initiative vélo dans le monde rural, notamment la région d'Al Haouz, pour lutter contre l’abandon scolaire et faciliter l’accès à l’éducation. L’article est apparu en premier sur .", 'size': 2}], 'main_title': '« Tariq VTT », des vélos pour aller plus loin dans les montagnes d’Al Haouz'}, {'community_id': '12', 'articles': [{'id': '95', 'title': 'Trump et Poutine atterrissent en Alaska pour un sommet historique', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/trump-et-poutine-atterrissent-en-alaska-pour-un-sommet-historique/', 'summary': 'Trump et Poutine atterrissent en Alaska pour un sommet historique. Le président américain Donald Trump et son homologue russe Vladimir Poutine ont atterri, vendredi en fin de matinée (heure locale) en Alaska, pour un sommet historique destiné à dessiner les contours d’un éventuel accord pour mettre fin à la guerre russo-ukrainienne. Les avions des deux leaders ont atterri sur la base militaire américaine d’Elmendorf-Richardson, à .', 'size': 2}, {'id': '120', 'title': 'Trump s’envole vers l’Alaska à la rencontre de Poutine', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/trump-senvole-vers-lalaska-a-la-rencontre-de-poutine.html', 'summary': 'Trump s’envole vers l’Alaska à la rencontre de Poutine. Le président américain Donald Trump a quitté Washington, vendredi en début de matinée (heure locale) en direction de l’Alaska, pour une rencontre très attendue avec son homologue russe Vladimir Poutine afin d’évoquer les contours d’un éventuel accord pour mettre fin à la guerre russo-ukrainienne. « GROS ENJEUX! », a écrit Donald Trump sur sa plateforme Truth Social . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Trump et Poutine atterrissent en Alaska pour un sommet historique'}, {'community_id': '0', 'articles': [{'id': '127', 'title': "L'ANEF publie un bulletin de risques d'incendies dans plusieurs régions", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437816-lanef-publie-un-bulletin-de-risques-dincendies-dans-plusieurs-regions.html', 'summary': "L'ANEF publie un bulletin de risques d'incendies dans plusieurs régions. L’Agence nationale des Eaux et Forêts (ANEF) vient d’annoncer la publication de son Bulletin de risque des incendies de forêts (BRIF) couvrant la période allant du 17 au 20 août, sur la base de modèles scientifiques de prédiction et d’analyse des données liées à la nature des forêts, leur combustibilité et inflammabilité, ainsi qu’aux paramètres . ", 'size': 3}, {'id': '140', 'title': "Feux de forêts : le Nord du Royaume sous la menace d'un risque extrême", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Feux-de-forets-le-Nord-du-Royaume-sous-la-menace-d-un-risque-extreme_a70866.html', 'summary': "Feux de forêts : le Nord du Royaume sous la menace d'un risque extrême. L'Agence nationale des Eaux et Forêts (ANEF) vient d'annoncer la publication de son Bulletin de risque des incendies de forêts (BRIF) couvrant la période allant du 17 au 20 août, sur la base de modèles scientifiques de prédiction et d’analyse des données liées à la nature des forêts, leur combustibilité et inflammabilité, ainsi qu’aux paramètres topoclimatiques.", 'size': 3}, {'id': '145', 'title': 'Incendies de forêts : l’ANEF identifie des niveaux de risque extrême dans plusieurs provinces', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/incendies-de-forets-lanef-identifie-des-niveaux-de-risque-extreme-dans-plusieurs-provinces-308654/', 'summary': 'Incendies de forêts : l’ANEF identifie des niveaux de risque extrême dans plusieurs provinces. L’Agence nationale des Eaux et Forêts (ANEF) vient fraîchement de dévoiler son Bulletin de Risque des Incendies de Forêts (BRIF), couvrant la période du 17 au 20 août courant. Une publication qui repose sur des modèles scientifiques de prévision et sur l’analyse de données relatives à la nature des massifs', 'size': 3}], 'main_title': "L'ANEF publie un bulletin de risques d'incendies dans plusieurs régions"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 12/10/2025 - 12h24</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '5', 'articles': [{'id': '6', 'title': 'Billetterie CAN 2025 : ouverture lundi 13 octobre, l’application YALLA désormais disponible', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445015-billetterie-can-2025-ouverture-lundi-13-octobre-lapplication-yalla-desormais-disponible.html', 'summary': 'Billetterie CAN 2025 : ouverture lundi 13 octobre, l’application YALLA désormais disponible. La Confédération Africaine de Football (CAF) a annoncé que la vente des billets pour le plus grand événement sportif du continent, la TotalEnergies CAF Coupe d’Afrique des Nations, Maroc 2025, débutera le lundi 13 octobre 2025, avec une période de prévente exclusive de 48 heures réservée aux détenteurs de cartes VISA, à partir de 09h00 . ', 'size': 3}, {'id': '96', 'title': 'CAN 2025 : Ouverture de la billetterie à partir du 13 octobre (CAF)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178589/2025-ouverture-billetterie-partir-octobre.html', 'summary': 'CAN 2025 : Ouverture de la billetterie à partir du 13 octobre (CAF). La vente des billets pour la Coupe d’Afrique des nations (CAN Maroc 2025) débutera lundi 13 octobre 2025 à partir de 9h00 (8h00 GMT), a annoncé samedi la Confédération Africaine de Football (CAF). Selon un communiqué, une fenêtre exclusive de 48 heures est réservée aux détenteurs de cartes VISA, du 13 au 15 courant.', 'size': 3}, {'id': '110', 'title': 'Lancement lundi prochain de l’opération de vente des billets pour la CAN Maroc-2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/lancement-lundi-prochain-de-loperation-de-vente-des-billets-pour-la-can-maroc-2025/', 'summary': 'Lancement lundi prochain de l’opération de vente des billets pour la CAN Maroc-2025. La vente des billets pour la Coupe d’Afrique des Nations (CAN) Maroc-2025, plus grand événement sportif du continent, débutera lundi 13 octobre 2025, a annoncé samedi la Confédération Africaine de Football (CAF). Selon un communiqué de la CAF, l’opération de vente des billets pour CAN Maroc-2025 sera lancée à partir de 09h00 (08h00 GMT), avec .', 'size': 3}], 'main_title': 'Billetterie CAN 2025 : ouverture lundi 13 octobre, l’application YALLA désormais disponible'}, {'community_id': '3', 'articles': [{'id': '8', 'title': "Bilal El Khannouss brille en Bundesliga, Stuttgart décide d'activer la clause d'achat", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444972-bilal-el-khannouss-brille-en-bundesliga-stuttgart-decide-dactiver-la-clause-dachat.html', 'summary': "Bilal El Khannouss brille en Bundesliga, Stuttgart décide d'activer la clause d'achat. Le milieu offensif marocain Bilal El Khannouss, fraichement arrivé au VfB Stuttgart, s’affirme d’ores et déjà comme l’une des révélations majeures de ce début de saison en Bundesliga, écrit le site d’information belge « VoetbalPrimeur ». Le jeune international marocain, formé à Genk, a rapidement trouvé ses marques en Allemagne, enchaînant les performances de haut niveau en . ", 'size': 2}, {'id': '55', 'title': 'Bilal El Khannouss, la sensation marocaine du championnat allemand', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/bilal-el-khannouss-la-sensation-marocaine-du-championnat-allemand/', 'summary': 'Bilal El Khannouss, la sensation marocaine du championnat allemand. Le milieu offensif marocain Bilal El Khannouss, fraichement arrivé au VfB Stuttgart, s’affirme d’ores et déjà comme l’une des révélations majeures de ce début de saison en Bundesliga, écrit le site d’information belge « VoetbalPrimeur ». Le jeune international marocain, formé à Genk, a rapidement trouvé ses marques en Allemagne, enchaînant les performances de haut niveau en .', 'size': 2}], 'main_title': "Bilal El Khannouss brille en Bundesliga, Stuttgart décide d'activer la clause d'achat"}, {'community_id': '2', 'articles': [{'id': '53', 'title': 'Bayt Mal Al-Qods met en avant les talents palestiniens à Dubaï', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/bayt-mal-al-qods-met-en-avant-les-talents-palestiniens-a-dubai/', 'summary': 'Bayt Mal Al-Qods met en avant les talents palestiniens à Dubaï. L’Agence Bayt Mal Al-Qods Acharif prend part au Salon international « Expand North Star 2025 », dont l’ouverture est prévue dimanche à Dubaï, coïncidant avec le lancement de la saison socio-économique 2025-2026 à Al-Qods. La participation de l’Agence à cet événement, qui se poursuivra jusqu’au 15 octobre, s’articule autour d’un pavillon institutionnel et d’un stand dédié à .', 'size': 3}, {'id': '74', 'title': 'Expand North Star 2025 : l’Agence Bayt Mal Al-Qods soutient six startups palestiniennes', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444975-expand-north-star-2025-lagence-bayt-mal-al-qods-soutient-six-startups-palestiniennes.html', 'summary': 'Expand North Star 2025 : l’Agence Bayt Mal Al-Qods soutient six startups palestiniennes. L’Agence Bayt Mal Al-Qods Acharif prend part au Salon international « Expand North Star 2025 », dont l’ouverture est prévue dimanche à Dubaï, coïncidant avec le lancement de la saison socio-économique 2025-2026 à Al-Qods. La participation de l’Agence à cet événement, qui se poursuivra jusqu’au 15 octobre, s’articule autour d’un pavillon institutionnel et d’un stand dédié à . ', 'size': 3}, {'id': '88', 'title': 'L’Agence Bayt Mal Al-Qods Acharif soutient six startups palestiniennes au Salon "Expand North Star 2025" à Dubaï', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/lagence-bayt-mal-al-qods-acharif-soutient-six-startups-palestiniennes/307035', 'summary': 'L’Agence Bayt Mal Al-Qods Acharif soutient six startups palestiniennes au Salon "Expand North Star 2025" à Dubaï. La participation de l’Agence à cet événement, qui se poursuivra jusqu’au 15 octobre, s’articule autour d’un pavillon institutionnel et d’un stand dédié à son incubateur d’innovatio.', 'size': 3}], 'main_title': 'Bayt Mal Al-Qods met en avant les talents palestiniens à Dubaï'}, {'community_id': '4', 'articles': [{'id': '58', 'title': 'Le dirham s’apprécie de 0,7% face à l’euro du 02 au 08 octobre (BAM)', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-dirham-sapprecie-de-07-face-a-leuro-du-02-au-08-octobre-bam/', 'summary': 'Le dirham s’apprécie de 0,7% face à l’euro du 02 au 08 octobre (BAM). Le dirham s’est apprécié de 0,7% face à l’euro et s’est déprécié de 0,3% vis-à-vis du dollar américain, durant la période allant du 02 au 08 octobre 2025, selon Bank Al-Maghrib (BAM). Au cours de cette période, aucune opération d’adjudication n’a été réalisée sur le marché des changes, précise BAM dans son récent bulletin des .', 'size': 2}, {'id': '79', 'title': "Change : le dirham s'apprécie face à l’euro et se déprécie vis-à-vis du dollar", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444908-change-le-dirham-sapprecie-face-a-leuro-et-se-deprecie-vis-a-vis-du-dollar-6.html', 'summary': "Change : le dirham s'apprécie face à l’euro et se déprécie vis-à-vis du dollar. Bank Al-Maghrib (BAM), a fait savoir que durant la période allant du 02 au 08 octobre 2025, le dirham s’est apprécié de 0,7% face à l’euro et s’est déprécié de 0,3% vis-à-vis du dollar américain. Dans son récent bulletin des indicateurs hebdomadaires, BAM précise qu’au cours de cette période, aucune opération d’adjudication n’a été réalisée . ", 'size': 2}], 'main_title': 'Le dirham s’apprécie de 0,7% face à l’euro du 02 au 08 octobre (BAM)'}, {'community_id': '6', 'articles': [{'id': '59', 'title': 'Talbi Alami : Le discours Royal appelle à une responsabilité partagée pour le développement', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/talbi-alami-le-discours-royal-appelle-a-une-responsabilite-partagee-pour-le-developpement/', 'summary': 'Talbi Alami : Le discours Royal appelle à une responsabilité partagée pour le développement. Le discours adressé par Sa Majesté le Roi Mohammed VI à l’ouverture de la première session de la cinquième année législative de la 11e Législature, comporte de Hautes Orientations visant à consolider l’esprit de responsabilité partagée entre les différentes institutions, en vue de conforter l’élan de développement global et durable que connaît le Royaume, a .', 'size': 2}, {'id': '69', 'title': 'Thomas Reilly : Le Discours Royal à l’ouverture du Parlement trace des objectifs stratégiques clairs', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/thomas-reilly-le-discours-royal-a-louverture-du-parlement-trace-des-objectifs-strategiques-clairs.html', 'summary': 'Thomas Reilly : Le Discours Royal à l’ouverture du Parlement trace des objectifs stratégiques clairs. Le Discours prononcé, vendredi, par Sa Majesté le Roi Mohammed VI à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature, a fixé des objectifs stratégiques clairs qui placent la justice sociale et spatiale en tête des priorités, a indiqué Thomas Reilly, ancien ambassadeur britannique au Maroc. «C’est . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Talbi Alami : Le discours Royal appelle à une responsabilité partagée pour le développement'}, {'community_id': '0', 'articles': [{'id': '81', 'title': 'Sommet pour la paix à Gaza lundi en Egypte, présidé par Trump et Sissi', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445025-sommet-pour-la-paix-a-gaza-lundi-en-egypte-preside-par-trump-et-sissi.html', 'summary': 'Sommet pour la paix à Gaza lundi en Egypte, présidé par Trump et Sissi. Les présidents égyptien Abdel Fattah al-Sissi et américain Donald Trump présideront lundi après-midi à Charm el-Cheikh un sommet pour la paix à Gaza, en présence de dirigeants de plus de 20 pays et du secrétaire général de l’ONU Antonio Guterres. « Le sommet vise à mettre fin à la guerre dans la bande de Gaza, à . ', 'size': 3}, {'id': '87', 'title': 'Sommet pour la paix à Gaza lundi en Egypte, présidé par Trump et Al-Sissi', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/sommet-pour-la-paix-a-gaza-lundi-en-egypte-preside-par-trump-et-al-sissi/307033', 'summary': 'Sommet pour la paix à Gaza lundi en Egypte, présidé par Trump et Al-Sissi. Le sommet se tiendra sous la coprésidence du président égyptien Abdel Fattah Al-Sissi et du président américain Donald Trump, avec la participation de dirigeants de plus de vingt p.', 'size': 3}, {'id': '111', 'title': 'Charm el-Cheikh : les présidents égyptien et américain coprésident lundi un sommet international pour mettre fin à la guerre à Gaza', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/charm-el-cheikh-les-presidents-egyptien-et-americain-copresident-lundi-un-sommet-international-pour-mettre/', 'summary': 'Charm el-Cheikh : les présidents égyptien et américain coprésident lundi un sommet international pour mettre fin à la guerre à Gaza. La présidence égyptienne a annoncé, samedi soir, la tenue lundi prochain à Charm el-Cheikh d’un sommet international intitulé « Sommet de Charm el-Cheikh pour la paix », visant à mettre fin à la guerre dans la bande de Gaza. Le sommet se tiendra sous la coprésidence du président égyptien Abdel Fattah Al-Sissi et du président américain Donald .', 'size': 3}], 'main_title': 'Sommet pour la paix à Gaza lundi en Egypte, présidé par Trump et Sissi'}, {'community_id': '1', 'articles': [{'id': '86', 'title': 'L’Égypte annonce de nouvelles facilités d’entrée pour les Marocains', 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/legypte-annonce-de-nouvelles-facilites-dentree-pour-les-marocains/307028', 'summary': 'L’Égypte annonce de nouvelles facilités d’entrée pour les Marocains. Selon un communiqué de l’ambassade d’Égypte à Rabat, les Marocains titulaires de visas ou de titres de séjour valides délivrés par les pays suivants : les États-Unis, le Royaume-Un.', 'size': 2}, {'id': '97', 'title': 'Nouvelles facilités de visa pour les Marocains voyageant en Égypte', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178588/nouvelles-facilites-visa-pour-marocains.html', 'summary': 'Nouvelles facilités de visa pour les Marocains voyageant en Égypte. Lambassade dÉgypte à Rabat a récemment dévoilé de nouvelles mesures pour faciliter laccès des Marocains au territoire égyptien.', 'size': 2}], 'main_title': 'L’Égypte annonce de nouvelles facilités d’entrée pour les Marocains'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
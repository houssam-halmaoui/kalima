<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 29/09/2025 - 18h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '12', 'articles': [{'id': '3', 'title': 'Walid Regragui dévoilera sa liste jeudi avant les matches contre Bahreïn et le Congo', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443201-walid-regragui-devoilera-sa-liste-jeudi-avant-les-matches-contre-bahrein-et-le-congo.html', 'summary': 'Walid Regragui dévoilera sa liste jeudi avant les matches contre Bahreïn et le Congo. Le sélectionneur national Walid Regragui s’apprête à livrer ses choix. L’entraîneur des Lions de l’Atlas tiendra une conférence de presse jeudi prochain au Complexe Mohammed VI de Football à Salé, à partir de 11h00, afin de présenter la liste des joueurs convoqués pour les prochaines échéances internationales. Au programme : un match amical face au . ', 'size': 5}, {'id': '69', 'title': 'Foot : Walid Regragui en conférence de presse jeudi, à Salé', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/29/foot-walid-regragui-en-conference-de-presse-jeudi-a-sale_1952877/', 'summary': 'Foot : Walid Regragui en conférence de presse jeudi, à Salé. L’entraîneur de l’équipe nationale « A » de football, Walid Regragui, tiendra une conférence de presse, jeudi prochain à Salé, pour la présentation de la liste des joueurs retenus pour disputer le prochain match amical face au Bahreïn et face au Congo pour le compte des éliminatoires (groupe E) africaines de la Coupe du Monde-2026. Cette rencontre.', 'size': 5}, {'id': '125', 'title': 'Foot: Conférence de presse du sélectionneur national Walid Regragui, jeudi à Salé', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/foot-conference-de-presse-du-selectionneur-national-walid-regragui-jeudi-a-sale/', 'summary': 'Foot: Conférence de presse du sélectionneur national Walid Regragui, jeudi à Salé. L’entraîneur de l’équipe nationale « A » de football, Walid Regragui, tiendra une conférence de presse, jeudi prochain à Salé, pour la présentation de la liste des joueurs retenus pour disputer le prochain match amical face au Bahreïn et face au Congo pour le compte des éliminatoires (groupe E) africaines de la Coupe du Monde-2026. Cette rencontre .', 'size': 5}, {'id': '181', 'title': 'Lions de l’Atlas : Regragui présentera sa liste pour Bahreïn et le Congo lors d’une conférence de presse ce jeudi', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Lions-de-l-Atlas-Regragui-presentera-sa-liste-pour-Bahrein-et-le-Congo-lors-d-une-conference-de-presse-ce-jeudi_a72302.html', 'summary': 'Lions de l’Atlas : Regragui présentera sa liste pour Bahreïn et le Congo lors d’une conférence de presse ce jeudi. Le sélectionneur de l’équipe nationale A de football, Walid Regragui, va tenir une conférence de presse ce jeudi, afin de présenter la liste des joueurs retenus pour disputer les deux prochaines rencontres des Lions de l’Atlas.', 'size': 5}, {'id': '278', 'title': 'Football : Regragui présente sa liste pour Bahreïn et Congo', 'source': 'lnt.ma', 'link': 'https://lnt.ma/football-regragui-presente-sa-liste-pour-bahrein-et-congo/', 'summary': 'Football : Regragui présente sa liste pour Bahreïn et Congo. L’entraîneur de l’équipe nationale « A » de football, Walid Regragui, tiendra une conférence de presse, jeudi prochain à Salé, pour la présentation de la liste des joueurs retenus pour disputer le prochain match amical face au Bahreïn et face au Congo pour le compte des éliminatoires (groupe E) africaines de la Coupe du Monde-2026. Cette rencontre . ', 'size': 5}], 'main_title': 'Walid Regragui dévoilera sa liste jeudi avant les matches contre Bahreïn et le Congo'}, {'community_id': '5', 'articles': [{'id': '8', 'title': 'Revue de presse de ce lundi 29 septembre 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443177-revue-de-presse-de-ce-lundi-29-septembre-2025.html', 'summary': 'Revue de presse de ce lundi 29 septembre 2025. Voici les principaux titres développés par la presse nationale ce lundi 29 septembre 2025 Le Matin Le peuple marocain célèbre lundi l’anniversaire de SAR la Princesse Lalla Asmaa La Famille Royale et, avec elle, le peuple marocain, célèbrent lundi l’anniversaire de SAR la Princesse Lalla Asmaa, une occasion de mettre en avant les différentes actions . ', 'size': 2}, {'id': '27', 'title': 'Le Maroc célèbre ce lundi l’anniversaire de S.A.R. la Princesse Lalla Asmaa', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/le-maroc-celebre-ce-lundi-lanniversaire-de-sar-la-princesse-lalla-asmaa/304450', 'summary': 'Le Maroc célèbre ce lundi l’anniversaire de S.A.R. la Princesse Lalla Asmaa. Princesse au grand cœur, S.A.R. la Princesse Lalla Asmaa s’est engagée dès son jeune âge dans le militantisme social, en veillant en permanence au bien-être des enfants sourds-muet.', 'size': 2}, {'id': '268', 'title': 'La Famille Royale et le peuple marocain célèbrent l’anniversaire de SAR la Princesse Lalla Asmaa', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/la-famille-royale-et-le-peuple-marocain-celebrent-lanniversaire-de-sar-la-princesse-lalla-asmaa/', 'summary': 'La Famille Royale et le peuple marocain célèbrent l’anniversaire de SAR la Princesse Lalla Asmaa. La Famille Royale et, avec elle, le peuple marocain, célèbrent lundi l’anniversaire de SAR la Princesse Lalla Asmaa, une occasion de mettre en avant les différentes actions de Son Altesse Royale dans le domaine social et son engagement constant en faveur de l’amélioration des conditions des enfants à besoins spécifiques, notamment les enfants sourds-muets. Princesse ', 'size': 3}], 'main_title': 'La Famille Royale et le peuple marocain célèbrent l’anniversaire de SAR la Princesse Lalla Asmaa'}, {'community_id': '15', 'articles': [{'id': '10', 'title': 'Air Arabia ouvre une nouvelle liaison directe entre Tanger et Rotterdam', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/air-arabia-ouvre-une-nouvelle-liaison-directe-entre-tanger-et-rotterdam/304537', 'summary': 'Air Arabia ouvre une nouvelle liaison directe entre Tanger et Rotterdam. Air Arabia poursuit l’expansion de son réseau international avec le lancement d’une nouvelle ligne directe entre Tanger et Rotterdam. Ce service, qui débutera le 28 octobre 2025, s.', 'size': 2}, {'id': '106', 'title': 'Air Arabia lance une nouvelle liaison directe entre Tanger et Rotterdam', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/air-arabia-lance-une-nouvelle-liaison-directe-entre-tanger-et-rotterdam/', 'summary': 'Air Arabia lance une nouvelle liaison directe entre Tanger et Rotterdam. À partir du 28 Octobre, les aéroports Ibn Battouta de Tanger et Rotterdam La Haye seront connectés. Les vols seront opérés à raison de trois fois par semaine, les mardis, vendredis et samedis, à bord d’Airbus A320.', 'size': 2}, {'id': '205', 'title': 'Air Arabia lance une liaison directe entre Tanger et Rotterdam', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/air-arabia-lance-une-liaison-directe-entre-tanger-et-rotterdam-310712/', 'summary': 'Air Arabia lance une liaison directe entre Tanger et Rotterdam. Air Arabia, première compagnie low-cost de la région MENA, étoffe son réseau international avec le lancement d’une nouvelle ligne directe reliant l’aéroport international Ibn Battouta de Tanger à', 'size': 3}], 'main_title': 'Air Arabia lance une liaison directe entre Tanger et Rotterdam'}, {'community_id': '9', 'articles': [{'id': '12', 'title': 'Attijari Payment, Visa et Woliz unissent leurs forces pour digitaliser le commerce au Maroc', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/attijari-payment-visa-et-woliz-sallient-pour-digitaliser-le-commerce/304520', 'summary': 'Attijari Payment, Visa et Woliz unissent leurs forces pour digitaliser le commerce au Maroc. Attijari Payment, filiale du groupe Attijariwafa bank spécialisée dans les services d’acceptation et de traitement des paiements, a officialisé ce 26 septembre 2025 un protocole d’.', 'size': 4}, {'id': '99', 'title': 'Pour accélérer  la digitalisation  des paiements : Attijari Payment, Visa et Woliz s’associent', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/pour-accelerer-la-digitalisation-des-paiements-attijari-payment-visa-et-woliz-sassocient', 'summary': 'Pour accélérer la digitalisation des paiements : Attijari Payment, Visa et Woliz s’associent. Partenariat : Attijari Payment, en partenariat avec Visa et Woliz, annonce dans un communiqué la signature d’un protocole de coopération stratégique destiné à accélérer la digitalisation des paiements dans le secteur de la grande consommation au Maroc. Cet accord a pour objectif d’intégrer les solutions innovantes d’acceptation d’Attijari Payment dans l’offre de Woliz, au service .', 'size': 4}, {'id': '145', 'title': 'Paiements : Attijari Payment, Visa et Woliz scellent un partenariat pour accélérer la digitalisation chez les commerçants', 'source': 'lnt.ma', 'link': 'https://lnt.ma/paiements-attijari-payment-visa-et-woliz-scellent-un-partenariat-pour-accelerer-la-digitalisation-chez-les-commercants/', 'summary': 'Paiements : Attijari Payment, Visa et Woliz scellent un partenariat pour accélérer la digitalisation chez les commerçants. Attijari Payment a annoncé la signature d’un protocole de coopération stratégique avec Visa et la fintech marocaine Woliz, visant à accélérer la digitalisation des paiements dans le secteur de la grande consommation et à élargir l’accès des commerçants aux services financiers. L’accord prévoit l’intégration des solutions d’acceptation d’Attijari Payment au sein de l’offre Woliz, afin . ', 'size': 4}, {'id': '263', 'title': 'Attijari Payment, Visa et Woliz s’allient pour accélérer la digitalisation des paiements', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/attijari-payment-visa-et-woliz-sallient-pour-accelerer-la-digitalisation-des-paiements.html', 'summary': 'Attijari Payment, Visa et Woliz s’allient pour accélérer la digitalisation des paiements. Attijari Payment, en partenariat avec Visa et Woliz, a annoncé la signature d’un protocole de coopération stratégique destiné à accélérer la digitalisation des paiements dans le secteur de la grande consommation au Maroc. ', 'size': 4}], 'main_title': 'Attijari Payment, Visa et Woliz unissent leurs forces pour digitaliser le commerce au Maroc'}, {'community_id': '4', 'articles': [{'id': '21', 'title': 'Mondial U20 : le Maroc entame son parcours par une victoire historique face à l’Espagne 2 à 0', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/mondial-u20-le-maroc-demarre-par-une-victoire-face-a-lespagne/304495', 'summary': 'Mondial U20 : le Maroc entame son parcours par une victoire historique face à l’Espagne 2 à 0. Les Lionceaux de l’Atlas se sont imposés grâce aux buts de Mohamed Yassir Zabiri (54e) et Yassine Gessime (58e).**related_articles[304279]**Le match a démarré sur un rythme élevé,.', 'size': 5}, {'id': '81', 'title': 'Mondial U20 : le Maroc entame son parcours par une victoire face à l’Espagne 2 à 0', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/29/mondial-u20-le-maroc-entame-son-parcours-par-une-victoire-face-a-lespagne-2-a-0_1952807/', 'summary': 'Mondial U20 : le Maroc entame son parcours par une victoire face à l’Espagne 2 à 0. La sélection marocaine a entamé son parcours en Coupe du Monde U20 de football par une victoire historique face à son homologue espagnole, par 2 buts à 0, en match de la première journée du groupe C, dimanche à Santiago. Les Lionceaux de l’Atlas se sont imposés grâce aux buts de Mohamed Yassir Zabiri (54e).', 'size': 5}, {'id': '114', 'title': 'Mondial U20: Le Maroc entame son parcours par une victoire face à l’Espagne', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/mondial-u20-le-maroc-entame-son-parcours-par-une-victoire-face-a-lespagne/', 'summary': 'Mondial U20: Le Maroc entame son parcours par une victoire face à l’Espagne. Les Lionceaux de l’Atlas se sont imposés 2 buts à 0 grâce à des réalisations de Mohamed Yassir Zabiri (54e) et Yassine Gessime (58e). Prochain adversaire : le Brésil, jeudi prochain.', 'size': 5}, {'id': '148', 'title': 'Mondial U20 : entrée en matière idéale pour le Maroc, qui domine l’Espagne 2–0', 'source': 'lnt.ma', 'link': 'https://lnt.ma/mondial-u20-entree-en-matiere-ideale-pour-le-maroc-qui-domine-lespagne-2-0/', 'summary': 'Mondial U20 : entrée en matière idéale pour le Maroc, qui domine l’Espagne 2–0. La sélection marocaine U20 a réussi ses débuts en Coupe du monde en s’imposant avec autorité face à l’Espagne (2–0), lors de la première journée du groupe C au Stade National de Santiago. Les Lionceaux de l’Atlas ont fait la différence en seconde période grâce à Mohamed Yassir Zabiri (54e) et Yassine Gessime (peu après . ', 'size': 5}, {'id': '267', 'title': 'CDM U20 2025 | Le Maroc entame son parcours par une victoire face à l’Espagne (2-0)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/cdm-u20-2025-le-maroc-entame-son-parcours-par-une-victoire-face-a-lespagne-2-0/', 'summary': 'CDM U20 2025 | Le Maroc entame son parcours par une victoire face à l’Espagne (2-0). La sélection marocaine a entamé son parcours en Coupe du Monde U20 de football par une victoire historique face à son homologue espagnole, par 2 buts à 0, en match de la première journée du groupe C, dimanche à Santiago. Les Lionceaux de l’Atlas se sont imposés grâce aux buts de Mohamed Yassir Zabiri (54e) et ', 'size': 5}], 'main_title': 'Mondial U20 : le Maroc entame son parcours par une victoire historique face à l’Espagne 2 à 0'}, {'community_id': '14', 'articles': [{'id': '22', 'title': "Averses orageuses, mercredi et jeudi, dans les provinces d'Aousserd et de Oued Ed-Dahab (DGM)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/averses-orageuses-dans-les-provinces-daousserd-et-oued-ed-dahab-dgm/304496', 'summary': "Averses orageuses, mercredi et jeudi, dans les provinces d'Aousserd et de Oued Ed-Dahab (DGM). Ces fortes averses sont prévues de mercredi à 12h00 jusqu’à jeudi à 18h00 dans les deux provinces, avec des cumuls estimés entre 50 et 80 mm, a précisé la DGM dans un bulletin de p.", 'size': 2}, {'id': '77', 'title': "Averses orageuses, mercredi et jeudi, dans les provinces d'Aousserd et de Oued Ed-Dahab", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/29/averses-orageuses-mercredi-et-jeudi-dans-les-provinces-daousserd-et-de-oued-ed-dahab_1952809/', 'summary': "Averses orageuses, mercredi et jeudi, dans les provinces d'Aousserd et de Oued Ed-Dahab. De fortes averses orageuses sont attendues, mercredi et jeudi, dans les provinces d’Aousserd et de Oued Ed-Dahab, a annoncé dimanche la Direction générale de la météorologie (DGM). Ces fortes averses sont prévues de mercredi à 12h00 jusqu’à jeudi à 18h00 dans les deux provinces, avec des cumuls estimés entre 50 et 80 mm, a précisé.", 'size': 3}, {'id': '214', 'title': 'Averses orageuses avec grêle locale ce lundi dans plusieurs provinces (bulletin d’alerte)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/177540/averses-orageuses-avec-grele-locale.html', 'summary': 'Averses orageuses avec grêle locale ce lundi dans plusieurs provinces (bulletin d’alerte). Des averses orageuses accompagnées de grêle sont attendues ce lundi dans plusieurs régions du Maroc, a annoncé la Direction générale de la météorologie (DGM).', 'size': 2}], 'main_title': "Averses orageuses, mercredi et jeudi, dans les provinces d'Aousserd et de Oued Ed-Dahab"}, {'community_id': '10', 'articles': [{'id': '41', 'title': 'ENSA d’Agadir : le tribunal administratif ordonne la réintégration des étudiants contestataires', 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/ensa-agadir-la-justice-reintegre-les-etudiants-exclus-apres-contestation/304352', 'summary': 'ENSA d’Agadir : le tribunal administratif ordonne la réintégration des étudiants contestataires. Le tribunal administratif d’Agadir a rendu, jeudi 25 septembre, un jugement en première instance favorable aux étudiants de l’École Nationale des Sciences Appliquées (Ensa) qui ava.', 'size': 2}, {'id': '57', 'title': 'ENSA d’Agadir : la justice impose la réintégration des étudiants exclus', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/ENSA-d-Agadir-la-justice-impose-la-reintegration-des-etudiants-exclus_a72280.html', 'summary': 'ENSA d’Agadir : la justice impose la réintégration des étudiants exclus. Confrontée à un taux d’échec record et à des critiques sur ses méthodes d’évaluation, l’École nationale des sciences appliquées d’Agadir traverse une crise institutionnelle. Le tribunal administratif a ordonné la réintégration immédiate des étudiants contestataires, en attendant un jugement sur le fond.', 'size': 2}], 'main_title': 'ENSA d’Agadir : le tribunal administratif ordonne la réintégration des étudiants contestataires'}, {'community_id': '8', 'articles': [{'id': '44', 'title': "L'école de coding 1337 décroche l'or au Moroccan Collegiate Programming Contest 2025", 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/moroccan-collegiate-programming-contest-2025-1337-decroche-lor/304348', 'summary': "L'école de coding 1337 décroche l'or au Moroccan Collegiate Programming Contest 2025. Du frottement des chaises au cliquetis fébrile des claviers, l’atmosphère du MCPC 2025 avait tout d’une arène. Au terme d’un processus de sélection rigoureux, 44 équipes venues de.", 'size': 2}, {'id': '264', 'title': 'Programmation compétitive : 1337 s’offre le trophée du MCPC', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/programmation-competitive-1337-soffre-le-trophee-du-mcpc.html', 'summary': 'Programmation compétitive : 1337 s’offre le trophée du MCPC. Trois jours durant, on n’a entendu que le frottement des chaises, le souffle retenu des équipes et le cliquetis nerveux des claviers. Le Moroccan Collegiate Programming Contest (MCPC) a réuni, du 19 au 21 septembre 2025, la fine fleur des étudiants marocains en algorithmique pour une finale à haute intensité et une moisson de records. ', 'size': 2}], 'main_title': "L'école de coding 1337 décroche l'or au Moroccan Collegiate Programming Contest 2025"}, {'community_id': '1', 'articles': [{'id': '55', 'title': 'Al Barid Bank : un premier semestre marqué par des résultats records', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Al-Barid-Bank-un-premier-semestre-marque-par-des-resultats-records_a72282.html', 'summary': 'Al Barid Bank : un premier semestre marqué par des résultats records. Al Barid Bank, qui fête cette année ses quinze ans d’existence, vient de publier des résultats semestriels en nette progression. Réuni le 26 septembre 2025, le Conseil de Surveillance de la banque a salué des performances solides, confirmant la dynamique de transformation et de développement engagée par l’établissement.', 'size': 2}, {'id': '159', 'title': 'Al Barid Bank : Un premier semestre de l’exercice 2025 marqué par des réalisations solides', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443205-al-barid-bank-un-premier-semestre-de-lexercice-2025-marque-par-des-realisations-solides.html', 'summary': 'Al Barid Bank : Un premier semestre de l’exercice 2025 marqué par des réalisations solides. Le Conseil de Surveillance d’Al Barid Bank s’est réuni le vendredi 26 septembre 2025 pour examiner l’évolution de l’activité de la Banque au 30 juin 2025. Engagée dans une dynamique soutenue de transformation et de développement, Al Barid Bank enregistre des réalisations semestrielles solides avec des performances affichées sur toutes les rubriques stratégiques, notamment les . ', 'size': 3}, {'id': '253', 'title': 'Premier semestre 2025 : Al Barid Bank affiche une forte croissance et confirme son rôle de leader', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/premier-semestre-2025-al-barid-bank-affiche-une-forte-croissance-et-confirme-son-role-de-leader.html', 'summary': 'Premier semestre 2025 : Al Barid Bank affiche une forte croissance et confirme son rôle de leader. Le Conseil de Surveillance d’Al Barid Bank s’est réuni le vendredi 26 septembre 2025 pour examiner l’évolution de l’activité de la Banque au 30 juin 2025. ', 'size': 2}], 'main_title': 'Al Barid Bank : Un premier semestre de l’exercice 2025 marqué par des réalisations solides'}, {'community_id': '11', 'articles': [{'id': '68', 'title': "Tourisme : les établissements d'hébergement classés enregistrent plus de 17,13 millions de nuitées à fin juillet", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/29/tourisme-les-etablissements-dhebergement-classes-enregistrent-plus-de-1713-millions-de-nuitees-a-fin-juillet_1952880/', 'summary': "Tourisme : les établissements d'hébergement classés enregistrent plus de 17,13 millions de nuitées à fin juillet. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a atteint plus de 17,13 millions de nuitées à fin juillet 2025, en hausse de 12% par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme. Ces nuitées se répartissent sur le tourisme national (+6%) et le tourisme international (+14%),.", 'size': 4}, {'id': '107', 'title': 'Tourisme : Plus de 17 millions de nuitées à fin juillet', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/tourisme-plus-de-17-millions-de-nuitees-a-fin-juillet/', 'summary': 'Tourisme : Plus de 17 millions de nuitées à fin juillet. Elles sont en hausse de 12% par rapport à la même période de 2024. Le tourisme national a enregistré une croissance de 6% et le tourisme international de 14%.', 'size': 2}, {'id': '121', 'title': 'Maroc : les EHTC enregistrent plus de 17,13 millions de nuitées à fin juillet', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/maroc-les-ehtc-enregistrent-plus-de-1713-millions-de-nuitees-a-fin-juillet/', 'summary': 'Maroc : les EHTC enregistrent plus de 17,13 millions de nuitées à fin juillet. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a atteint plus de 17,13 millions de nuitées à fin juillet 2025, en hausse de 12% par rapport à la même période un an auparavant, selon l’Observatoire du Tourisme. Ces nuitées se répartissent sur le tourisme national (+6%) et le tourisme international (+14%), .', 'size': 4}, {'id': '206', 'title': 'Maroc: les nuitées touristiques progressent de 12% à fin juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/maroc-les-nuitees-touristiques-progressent-de-12-a-fin-juillet-310710/', 'summary': 'Maroc: les nuitées touristiques progressent de 12% à fin juillet. Le volume des nuitées réalisées dans les établissements d’hébergement touristique classés (EHTC) a atteint plus de 17,13 millions de nuitées à fin juillet 2025, en hausse de 12%', 'size': 5}, {'id': '208', 'title': 'Tourisme : Le Maroc enregistre plus de 17 millions de nuitées à fin juillet', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/177561/tourisme-maroc-enregistre-plus-millions.html', 'summary': 'Tourisme : Le Maroc enregistre plus de 17 millions de nuitées à fin juillet. Le nombre de nuitées enregistrées dans les établissements d’hébergement touristique classés (EHTC) a dépassé les 17,13 millions à fin juillet 2025, marquant une hausse de 12 % par rapport à la même période lannée précédente, selon lObservatoire du Tourisme.', 'size': 4}], 'main_title': 'Maroc: les nuitées touristiques progressent de 12% à fin juillet'}, {'community_id': '13', 'articles': [{'id': '76', 'title': 'Trump veut arracher à Netanyahu un accord sur Gaza', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/29/trump-veut-arracher-a-netanyahu-un-accord-sur-gaza_1952824/', 'summary': 'Trump veut arracher à Netanyahu un accord sur Gaza. Donald Trump reçoit lundi le Premier ministre Benjamin Netanyahu à la Maison Blanche, peu après avoir promis un “accord” à Gaza et mis son veto à une annexion de la Cisjordanie occupée. Nous avons une réelle chance d’atteindre quelque chose de grand au Moyen-Orient. Tout le monde est prêt pour quelque chose de spécial, une.', 'size': 2}, {'id': '83', 'title': 'Gaza: Trump peut-il arracher un cessez-le-feu à Netanyahu\xa0?', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/gaza-trump-peut-il-arracher-un-cessez-le-feu-a-netanyahu-310704/', 'summary': 'Gaza: Trump peut-il arracher un cessez-le-feu à Netanyahu ?. Le président américain Donald Trump reçoit, lundi en fin d’après-midi (heure marocaine), le Premier ministre Benjamin Netanyahu à la Maison Blanche, peu après avoir promis un « accord » à', 'size': 2}], 'main_title': 'Trump veut arracher à Netanyahu un accord sur Gaza'}, {'community_id': '6', 'articles': [{'id': '79', 'title': 'Foot/Amical : la vente des billets du match Maroc-Bahreïn lancée le 29 septembre', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/29/foot-amical-la-vente-des-billets-du-match-maroc-bahrein-lancee-le-29-septembre_1952815/', 'summary': 'Foot/Amical : la vente des billets du match Maroc-Bahreïn lancée le 29 septembre. La vente des billets du match amical qui opposera l’équipe nationale marocaine à son homologue du Bahreïn, le 9 octobre prochain au stade Prince Moulay Abdellah à Rabat (20h00), sera lancée à partir du 29 septembre à 09h00, annonce le comité d’organisation de cette rencontre. Dans un souci d’offrir une expérience fluide et sécurisée aux.', 'size': 5}, {'id': '157', 'title': 'Maroc – Bahreïn : 30.000 billets déjà vendus pour le match amical à Rabat', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443245-maroc-bahrein-30-000-billets-deja-vendus-pour-le-match-amical-a-rabat.html', 'summary': 'Maroc – Bahreïn : 30.000 billets déjà vendus pour le match amical à Rabat. Le match amical qui opposera la sélection marocaine à son homologue bahreïnie, le 9 octobre prochain au stade Prince Moulay Abdellah de Rabat (20h00), suscite déjà un grand engouement. Selon le comité d’organisation, 30.000 billets avaient été écoulés à la mi-journée de ce lundi. Dans un communiqué publié sur le site de la Fédération royale . ', 'size': 5}, {'id': '209', 'title': 'Match amical Maroc-Bahreïn: 30.000 billets écoulés jusqu’à la mi-journée (comité d’organisation)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/177564/match-amical-maroc-bahrein-billets-ecoules.html', 'summary': 'Match amical Maroc-Bahreïn: 30.000 billets écoulés jusqu’à la mi-journée (comité d’organisation). Le Comité d’organisation annonce que 30 000 billets pour le match amical entre le Maroc et Bahreïn, prévu le 9 octobre au stade Prince Moulay Abdellah de Rabat à 20h00, ont été vendus à la mi-journée ce lundi.', 'size': 5}, {'id': '243', 'title': 'Foot/Match amical Maroc-Bahreïn: 30.000 billets écoulés jusqu’à la mi-journée', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/foot-match-amical-maroc-bahrein-30-000-billets-ecoules-jusqua-la-mi-journee/', 'summary': 'Foot/Match amical Maroc-Bahreïn: 30.000 billets écoulés jusqu’à la mi-journée. Le Comité d’organisation du match amical devant opposer la sélection marocaine à son homologue bahreïnie, le 09 octobre prochain au stade Prince Moulay Abdellah de Rabat (20h00), annonce que 30.000 billets de cette rencontre ont été écoulés jusqu’à la mi-journée (12h00) de ce lundi. Selon un communiqué publié sur le site web de la Fédération .', 'size': 5}, {'id': '277', 'title': 'Maroc–Bahreïn : 30.000 billets déjà écoulés', 'source': 'lnt.ma', 'link': 'https://lnt.ma/maroc-bahrein-30-000-billets-deja-ecoules/', 'summary': 'Maroc–Bahreïn : 30.000 billets déjà écoulés. Le Comité d’organisation du match amical devant opposer la sélection marocaine à son homologue bahreïnie, le 09 octobre prochain au stade Prince Moulay Abdellah de Rabat (20h00), annonce que 30.000 billets de cette rencontre ont été écoulés jusqu’à la mi-journée (12h00) de ce lundi. Selon un communiqué publié sur le site web de la Fédération . ', 'size': 5}], 'main_title': 'Foot/Amical : la vente des billets du match Maroc-Bahreïn lancée le 29 septembre'}, {'community_id': '7', 'articles': [{'id': '85', 'title': 'Le MCPC 2025 consacre l’école 1337 et signe un record national', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-mcpc-2025-consacre-lecole-1337-et-signe-un-record-national-310699/', 'summary': 'Le MCPC 2025 consacre l’école 1337 et signe un record national. Le Moroccan Collegiate Programming Contest (MCPC) a tenu, dernièrement, sa finale 2025 sur le campus de Rabat de l’Université Mohammed VI Polytechnique (UM6P). Durant trois jours (19-21 septembre),', 'size': 2}, {'id': '218', 'title': 'Programmation algorithmique : L’école 1337 remporte le Moroccan Collegiate Programming Contest', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/programmation-algorithmique-lecole-1337-remporte-le-moroccan-collegiate-programming-contest', 'summary': 'Programmation algorithmique : L’école 1337 remporte le Moroccan Collegiate Programming Contest. Concours Lors du Moroccan Collegiate Programming Contest ( MCPC), l’école 1337 est arrivée en haut du podium devant l’EMI, l’ENSA d’Oujda, l’ENSA d’Agadir et l’UM6P CC. Le Moroccan Collegiate Programming Contest (MCPC), organisé du 19 au 21 septembre 2025 au UM6P College of Computing à Rabat, a réuni des étudiants marocains en algorithmique pour une .', 'size': 2}], 'main_title': 'Le MCPC 2025 consacre l’école 1337 et signe un record national'}, {'community_id': '0', 'articles': [{'id': '89', 'title': 'Arrestation à Tanger frère du baron de la drogue El Ballouti', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/177526/arrestation-tanger-frere-baron-drogue.html', 'summary': 'Arrestation à Tanger frère du baron de la drogue El Ballouti. Le Marocain-Belge Younes «El Magico» El Ballouti, le plus jeune frère du baron de la drogue récemment extradé Othman El Ballouti, a été incarcéré à Casablanca après que la police marocaine la arrêté dans un salon de chicha à Tanger.', 'size': 2}, {'id': '184', 'title': 'Tanger : Arrestation du frère du baron de la drogue El Ballouti', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Tanger-Arrestation-du-frere-du-baron-de-la-drogue-El-Ballouti_a72298.html', 'summary': 'Tanger : Arrestation du frère du baron de la drogue El Ballouti. Younes « El Magico » El Ballouti, frère cadet d’Othman El Ballouti, baron de la drogue récemment extradé, a été interpellé à Tanger avant d’être transféré à Casablanca, où il a été incarcéré par les autorités marocaines.', 'size': 2}], 'main_title': 'Arrestation à Tanger frère du baron de la drogue El Ballouti'}, {'community_id': '2', 'articles': [{'id': '96', 'title': 'Partenariat : Sidi Ali devient l’eau officielle de la CAN 2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/partenariat-sidi-ali-devient-leau-officielle-de-la-can-2025', 'summary': 'Partenariat : Sidi Ali devient l’eau officielle de la CAN 2025. Les Eaux Minérales d’Oulmès, entreprise marocaine citoyenne et leader du secteur des eaux embouteillées, a annoncé la signature d’un partenariat d’exception avec la Confédération africaine de football (CAF), à travers sa marque emblématique Sidi Ali. À ce titre, Sidi Ali devient Eau Officielle de la Coupe d’Afrique des Nations CAF TotalEnergies, Maroc 2025. «Cette initiative .', 'size': 2}, {'id': '260', 'title': 'Sidi Ali, Eau Officielle de la CAN 2025', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/sidi-ali-eau-officielle-de-la-can-2025.html', 'summary': 'Sidi Ali, Eau Officielle de la CAN 2025. Les Eaux Minérales d’Oulmès, entreprise citoyenne marocaine et leader national du secteur des eaux embouteillées, annoncent la signature d’un partenariat d’exception avec la Confédération Africaine de Football (CAF). ', 'size': 2}], 'main_title': 'Partenariat : Sidi Ali devient l’eau officielle de la CAN 2025'}, {'community_id': '3', 'articles': [{'id': '98', 'title': 'Morocco Mall : Celio ouvre son premier magasin Be Store à Casablanca', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/morocco-mall-celio-ouvre-son-premier-magasin-be-store-a-casablanca', 'summary': 'Morocco Mall : Celio ouvre son premier magasin Be Store à Casablanca. Celio, acteur incontournable du prêt-à-porter masculin, poursuit son expansion internationale avec l’ouverture de son tout premier magasin be store au Maroc, un concept de magasin qui, pour la première fois, propose des options de vêtements pour hommes et femmes, situé dans le centre commercial Morocco Mall, indique la marque dans un communiqué. Cet emplacement stratégique .', 'size': 2}, {'id': '262', 'title': 'Celio ouvre son premier Be Store au Maroc, à Casablanca', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/celio-ouvre-son-premier-be-store-au-maroc-a-casablanca.html', 'summary': 'Celio ouvre son premier Be Store au Maroc, à Casablanca. Celio, acteur incontournable du prêt-à-porter masculin, poursuit son expansion internationale avec l’ouverture de son tout premier Be Store au Maroc. Situé au Morocco Mall, ce nouveau concept propose, pour la première fois, une offre de vêtements pour hommes et femmes réunie sous un même toit. ', 'size': 2}], 'main_title': 'Morocco Mall : Celio ouvre son premier magasin Be Store à Casablanca'}, {'community_id': '16', 'articles': [{'id': '115', 'title': 'Investissement: Le Maroc, un «hub stratégique» selon le Département d’État américain', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/investissement-le-maroc-un-hub-strategique-selon-le-departement-detat-americain/', 'summary': "Investissement: Le Maroc, un «hub stratégique» selon le Département d’État américain. Dans la dernière livraison de son rapport sur le climat d'investissement, le Département d’Etat américain a mis en avant les atouts majeurs du Royaume dans le domaine, le qualifiant de hub stratégique pour les affaires et l’industrie.", 'size': 2}, {'id': '185', 'title': 'Le Département d’État américain décrit le Maroc comme "hub stratégique" pour les affaires et l’industrie', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-Departement-d-Etat-americain-decrit-le-Maroc-comme-hub-strategique-pour-les-affaires-et-l-industrie_a72297.html', 'summary': 'Le Département d’État américain décrit le Maroc comme "hub stratégique" pour les affaires et l’industrie. Dans son rapport 2025 sur le climat d\'investissement au Maroc, publié cette semaine, le Département d’État américain met en avant les atouts majeurs et les opportunités d’investissement qui font du Royaume un "hub régional stratégique pour les affaires et l’industrie".', 'size': 2}], 'main_title': 'Investissement: Le Maroc, un «hub stratégique» selon le Département d’État américain'}, {'community_id': '17', 'articles': [{'id': '123', 'title': 'CMR : Paiement des pensions aux nouveaux retraités de l’Éducation nationale', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/cmr-paiement-des-pensions-aux-nouveaux-retraites-de-leducation-nationale/', 'summary': 'CMR : Paiement des pensions aux nouveaux retraités de l’Éducation nationale. La Caisse marocaine des retraites (CMR) a annoncé, lundi, avoir procédé avec succès au paiement des pensions des nouveaux retraités relevant du département de l’Éducation nationale. Cette opération a concerné plus de 4.000 pensions attribuées aux affiliés mis à la retraite le 31 août 2025, après avoir atteint l’âge de la retraite ou suite à .', 'size': 2}, {'id': '186', 'title': 'Éducation nationale : les pensions des nouveaux retraités versées dès septembre', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Education-nationale-les-pensions-des-nouveaux-retraites-versees-des-septembre_a72299.html', 'summary': 'Éducation nationale : les pensions des nouveaux retraités versées dès septembre. La Caisse marocaine des retraites (CMR) a annoncé, lundi, avoir procédé avec succès au paiement des pensions des nouveaux retraités relevant du ministère de l’Éducation nationale.', 'size': 2}], 'main_title': 'CMR : Paiement des pensions aux nouveaux retraités de l’Éducation nationale'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
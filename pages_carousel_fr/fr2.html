<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 08/08/2025 - 06h34</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '6', 'articles': [{'id': '0', 'title': 'Tensions avec la France : l’Algérie réplique à la suspension des visas diplomatiques', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436889-tensions-avec-la-france-lalgerie-replique-a-la-suspension-des-visas-diplomatiques.html', 'summary': 'Tensions avec la France : l’Algérie réplique à la suspension des visas diplomatiques. L’Algérie a vivement réagi, jeudi 7 août, à la suspension par la France de l’accord bilatéral permettant l’exemption de visa pour les titulaires de passeports diplomatiques et de service. Par la voix de son ministère des Affaires étrangères, Alger a accusé Paris de vouloir se « dédouaner de ses responsabilités » dans une crise bilatérale . ', 'size': 3}, {'id': '67', 'title': "La France suspend l'exemption de visas pour les diplomates algériens, Alger tempête", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/la-france-suspend-lexemption-de-visas-pour-les-diplomates-algeriens-alger-tempete_1945737/', 'summary': "La France suspend l'exemption de visas pour les diplomates algériens, Alger tempête. L’Algérie a accusé jeudi la France de s’exonérer « de ses responsabilités » dans la crise bilatérale et annoncé, dans un communiqué officiel, la dénonciation de l’accord sur l’exemption des visas au profit des titulaires de passeports diplomatiques et de service dont Paris a annoncé la suspension la veille. La lettre, où le président français Emmanuel Macron.", 'size': 4}, {'id': '94', 'title': 'Emmanuel Macron hausse le ton face à l’Algérie', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/emmanuel-macron-hausse-le-ton-face-a-lalgerie-308184/', 'summary': 'Emmanuel Macron hausse le ton face à l’Algérie. Le président français Emmanuel Macron a prôné « plus de fermeté » à l’égard de l’Algérie, en prenant acte de l’inflexibilité d’Alger sur la question migratoire et la détention de deux ressortissants français que la France juge arbitraire. Paris et Alger sont empêtrés depuis plus d’un an dans une crise diplomatique sans', 'size': 2}, {'id': '224', 'title': 'L’Algérie répond à la décision du président Macron de mettre fin à l’exemption de visas pour les officiels algériens', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173799/l-algerie-repond-decision-president-macron.html', 'summary': 'L’Algérie répond à la décision du président Macron de mettre fin à l’exemption de visas pour les officiels algériens. L’Algérie a décrété, ce jeudi, la fin de la gratuité des biens octroyés, depuis 1962, à l’ambassade française. Alger répond, ainsi, à la décision du président français de mettre un terme à l’exemption de visa pour les officiels algériens.', 'size': 2}, {'id': '231', 'title': 'Fin de régime dérogatoire entre Paris et Alger sur les passeports spéciaux', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/fin-de-regime-derogatoire-entre-paris-et-alger-sur-les-passeports-speciaux/', 'summary': 'Fin de régime dérogatoire entre Paris et Alger sur les passeports spéciaux. Le ministère algérien des Affaires étrangères a signifié, ce 7 août 2025, la rupture unilatérale de deux dispositifs bilatéraux jusque-là emblématiques du régime de faveur consenti à la France : l’accord de 2013 sur les exemptions de visa pour les détenteurs de passeports spéciaux, et la mise à disposition gracieuse de biens immobiliers à l’ambassade .', 'size': 2}], 'main_title': "La France suspend l'exemption de visas pour les diplomates algériens, Alger tempête"}, {'community_id': '1', 'articles': [{'id': '9', 'title': "PSG : Achraf Hakimi officiellement parmi les 30 nommés pour le Ballon d'Or 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436879-psg-achraf-hakimi-officiellement-parmi-les-30-nommes-pour-le-ballon-dor-2025.html', 'summary': "PSG : Achraf Hakimi officiellement parmi les 30 nommés pour le Ballon d'Or 2025. C’est désormais officiel : Achraf Hakimi figure, sans surprise, parmi les 30 finalistes en lice pour le prestigieux Ballon d’Or 2025, selon la liste dévoilée ce jeudi par le magazine France Football. Une reconnaissance majeure pour l’international marocain, qui confirme son statut de référence mondiale à son poste. Pilier indiscutable du Paris Saint-Germain, Hakimi a . ", 'size': 4}, {'id': '16', 'title': "Ballon d'Or 2025 : Achraf Hakimi en lice, Yassine Bounou nommé au Trophée Yachine", 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/ballon-dor-2025-hakimi-en-lice-bounou-nomme-au-trophee-yachine/295482', 'summary': "Ballon d'Or 2025 : Achraf Hakimi en lice, Yassine Bounou nommé au Trophée Yachine. France Football a officiellement dévoilé, jeudi, les listes des nommés pour le Ballon d'Or 2025. Comme attendu, l'international marocain Achraf Hakimi figure parmi les 30 f.", 'size': 5}, {'id': '66', 'title': "Foot : Achraf Hakimi nommé au Ballon d'Or 2025", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/foot-achraf-hakimi-nomme-au-ballon-dor-2025_1945731/', 'summary': "Foot : Achraf Hakimi nommé au Ballon d'Or 2025. C’est désormais officiel, le latéral droit marocain Achraf Hakimi franchit une nouvelle étape dans sa carrière en décrochant sa première nomination au Ballon d’Or. Une annonce qui intervient alors que le footballeur est sous le coup d’une instruction judiciaire, suite à des accusations de viol proférées en 2023 par une jeune femme. Sans surprise, l’international.", 'size': 5}, {'id': '98', 'title': "Football : Achraf Hakimi nommé au Ballon d'Or 2025", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173790/football-achraf-hakimi-nomme-ballon.html', 'summary': "Football : Achraf Hakimi nommé au Ballon d'Or 2025. L’international marocain Achraf Hakimi est nommé au Ballon dor 2025, une distinction qui récompense le meilleur footballeur du monde.", 'size': 5}, {'id': '136', 'title': 'Ballon d’Or 2025 : Achraf Hakimi parmi les 30 nommés', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/ballon-dor-2025-achraf-hakimi-parmi-les-30-nommes/', 'summary': "Ballon d’Or 2025 : Achraf Hakimi parmi les 30 nommés. L’international marocain Achraf Hakimi est nommé au Ballon d'Or 2025, une distinction qui récompense le meilleur footballeur du monde.", 'size': 4}], 'main_title': "Ballon d'Or 2025 : Achraf Hakimi en lice, Yassine Bounou nommé au Trophée Yachine"}, {'community_id': '2', 'articles': [{'id': '10', 'title': 'Tourisme : 2,7 millions de visiteurs en juillet, en hausse de 6 %', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tourisme-au-maroc-en-juillet-2025-27-millions-de-visiteurs-6/295501', 'summary': 'Tourisme : 2,7 millions de visiteurs en juillet, en hausse de 6 %. Le Maroc poursuit sa progression touristique en juillet 2025 avec 2,7 millions de visiteurs, marquant une hausse de 6 % par rapport à la même période en 2024. Cette croissance prof.', 'size': 2}, {'id': '100', 'title': 'Le Maroc accueille 2,7 millions de touristes (+6%) en juillet 2025', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173780/maroc-accueille-millions-touristes-juillet.html', 'summary': 'Le Maroc accueille 2,7 millions de touristes (+6%) en juillet 2025. Le secteur du tourisme au Maroc a poursuivi sa dynamique positive en juillet 2025, avec un nombre de touristes atteignant 2,7 millions, marquant une augmentation de 6% par rapport à juillet 2024.', 'size': 2}, {'id': '133', 'title': 'Tourisme : 11,6 millions d’arrivées à fin juillet', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/tourisme-116-millions-darrivees-a-fin-juillet/', 'summary': "Tourisme : 11,6 millions d’arrivées à fin juillet. Sur le seul mois de juillet, le Maroc a accueilli 2,7 millions de touristes, affichant une progression de 6% par rapport au même mois de l'année dernière.", 'size': 3}], 'main_title': 'Tourisme : 11,6 millions d’arrivées à fin juillet'}, {'community_id': '3', 'articles': [{'id': '12', 'title': "Participation d’un détachement des FAR aux festivités du 65e anniversaire de l'indépendance de la Côte d’Ivoire", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/participation-des-far-aux-festivites-de-lindependance-de-la-cote-divoire/295494', 'summary': "Participation d’un détachement des FAR aux festivités du 65e anniversaire de l'indépendance de la Côte d’Ivoire. Le détachement relevant de la première Brigade d’Infanterie parachutiste a participé, jeudi à Bouaké, au défilé militaire commémorant la fête nationale d’indépendance, aux côtés de.", 'size': 2}, {'id': '134', 'title': 'Indépendance de la Côte d’Ivoire : Les FAR participent aux festivités du 65e anniversaire', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/independance-de-la-cote-divoire-les-far-participent-aux-festivites-du-65e-anniversaire/', 'summary': 'Indépendance de la Côte d’Ivoire : Les FAR participent aux festivités du 65e anniversaire. Un détachement des FAR a participé au défilé militaire commémorant le 65e anniversaire de l’indépendance de la Côte d’Ivoire, sur Hautes Instructions Royales.', 'size': 3}, {'id': '151', 'title': 'Les FAR participent aux célébrations du 65e anniversaire de l’indépendance de la Côte d’Ivoire', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/les-far-participent-aux-celebrations-du-65e-anniversaire-de-lindependance/', 'summary': 'Les FAR participent aux célébrations du 65e anniversaire de l’indépendance de la Côte d’Ivoire. Sur Hautes Instructions de Sa Majesté le Roi, Chef Suprême et Chef d’État-Major Général des Forces Armées Royales, un détachement des FAR a pris part à la commémoration du 65e anniversaire de l’indépendance de la Côte d’Ivoire et ce, suite à une invitation adressée au Royaume du Maroc. Le détachement relevant de la 1ère Brigade .', 'size': 2}], 'main_title': 'Indépendance de la Côte d’Ivoire : Les FAR participent aux festivités du 65e anniversaire'}, {'community_id': '4', 'articles': [{'id': '47', 'title': 'Initative Atlantique Royale: le Maroc solidaire avec les pays africains enclavés en développement', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Initative-Atlantique-Royale-le-Maroc-solidaire-avec-les-pays-africains-enclaves-en-developpement_a70641.html', 'summary': 'Initative Atlantique Royale: le Maroc solidaire avec les pays africains enclavés en développement. L’ambassadeur représentant permanent du Maroc auprès de l’ONU, et président de la 22è session du Comité de haut niveau de l’Assemblée générale sur la coopération Sud-Sud aux Nations Unies, Omar Hilale, a indiqué, mercredi à Awaza (Turkménistan), que le Royaume du Maroc continue d’apporter un soutien concret aux pays africains sans littoral, Sous la Sage Conduite de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste.', 'size': 2}, {'id': '116', 'title': 'Turkménistan : Omar Hilale met en avant le rôle de l’Initiative royale atlantique dans le Sahel', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173708/turkmenistan-omar-hilale-avant-role.html', 'summary': 'Turkménistan : Omar Hilale met en avant le rôle de l’Initiative royale atlantique dans le Sahel. L’ambassadeur représentant permanent du Maroc auprès de l’ONU, et président de la 22e session du Comité de haut niveau de l’Assemblée générale sur la coopération Sud-Sud aux Nations unies, Omar Hilale, a indiqué, mercredi à Awaza en Turkménistan, que le Maroc continue d’apporter un soutien concret aux pays africains sans littoral.', 'size': 2}], 'main_title': 'Initative Atlantique Royale: le Maroc solidaire avec les pays africains enclavés en développement'}, {'community_id': '5', 'articles': [{'id': '60', 'title': 'CIH Bank a clôturé son augmentation de capital avec succès', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CIH-Bank-a-cloture-son-augmentation-de-capital-avec-succes_a70636.html', 'summary': 'CIH Bank a clôturé son augmentation de capital avec succès. CIH Bank a clôturé son opération d’augmentation du capital social réservée aux actionnaires et aux détenteurs de droits préférentiels de souscription (DPS) ayant permis une augmentation de capital de près de 1,5 milliard de dirhams (MMDH).', 'size': 3}, {'id': '80', 'title': 'CIH Bank clôture son augmentation de capital réservée aux actionnaires et aux détenteurs de DPS', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/cih-bank-cloture-son-augmentation-de-capital-reservee-aux-actionnaires-et-aux-detenteurs-de-dps_1945558/', 'summary': 'CIH Bank clôture son augmentation de capital réservée aux actionnaires et aux détenteurs de DPS. CIH Bank annonce avoir clôturé son augmentation de capital réservée aux actionnaires et aux détenteurs de droits préférentiels de souscription (DPS). En effet, elle a porté sur l’émission de 4.108.341 actions nouvelles, correspondant à une augmentation de capital de 1.470.786.078 dirhams, indique un communiqué de la banque. Le Conseil d’administration, réuni le 31 juillet 2025,.', 'size': 3}, {'id': '142', 'title': 'CIH Bank clôture son augmentation de capital de prés de 1,5 MMDH', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/cih-bank-cloture-son-augmentation-de-capital-de-pres-de-15-mmdh/', 'summary': 'CIH Bank clôture son augmentation de capital de prés de 1,5 MMDH. CIH Bank annonce avoir clôturé son augmentation de capital réservée aux actionnaires et aux détenteurs de droits préférentiels de souscription (DPS). Elle a porté sur l’émission de 4.108.341 actions nouvelles, correspondant à une augmentation de capital de 1.470.786.078 dirhams.', 'size': 3}], 'main_title': 'CIH Bank a clôturé son augmentation de capital avec succès'}, {'community_id': '7', 'articles': [{'id': '68', 'title': "Ballon d'Or 2025 : Yassine Bounou parmi les 10 nommés pour le Trophée Yachine", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/ballon-dor-2025-yassine-bounou-parmi-les-10-nommes-pour-le-trophee-yachine_1945713/', 'summary': "Ballon d'Or 2025 : Yassine Bounou parmi les 10 nommés pour le Trophée Yachine. Le gardien de but de la sélection marocaine de football, Yassine Bounou, figure parmi les dix nommés pour le Trophée Yachine, une distinction qui récompense le meilleur goalkeeper de l’année. Le Lion de l’Atlas, qui évolue pour le club saoudien Al-Hilal, en est à sa troisième nomination pour ce prix, avec comme meilleur classement une.", 'size': 2}, {'id': '89', 'title': 'Ballon d’Or 2025: Yassine Bounou parmi les 10 nominés au Trophée Yachine', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/ballon-dor-2025-yassine-bounou-parmi-les-10-nomines-au-trophee-yachine-308218/', 'summary': 'Ballon d’Or 2025: Yassine Bounou parmi les 10 nominés au Trophée Yachine. Le gardien de but de la sélection marocaine de football, Yassine Bounou figure parmi les dix nominés au Trophée Lev Yachine, une distinction qui récompense le meilleur goalkeeper de l’année. Le Lion de l’Atlas, qui évolue pour le club saoudien Al-Hilal, en est à sa troisième nomination pour ce prix,', 'size': 2}], 'main_title': "Ballon d'Or 2025 : Yassine Bounou parmi les 10 nommés pour le Trophée Yachine"}, {'community_id': '8', 'articles': [{'id': '81', 'title': "Rabat : le quartier Océan se dote d'un nouveau parking souterrain", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/rabat-le-quartier-ocean-se-dote-dun-nouveau-parking-souterrain_1945562/', 'summary': "Rabat : le quartier Océan se dote d'un nouveau parking souterrain. Rabat Région Mobilité (RRM) a annoncé la mise en service d’un nouveau parking souterrain au cœur du quartier Océan à Rabat, un nouvel équipement destiné à répondre à la forte demande en stationnement dans cette zone à circulation dense. Doté d’une capacité de 87 places et implanté dans la rue Bruxelles dans un secteur central.", 'size': 3}, {'id': '92', 'title': 'Rabat inaugure un nouveau parking souterrain', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/rabat-inaugure-un-nouveau-parking-souterrain-308192/', 'summary': 'Rabat inaugure un nouveau parking souterrain. Rabat Région Mobilité (RRM) a annoncé la mise en service d’un parking souterrain flambant neuf au cœur du quartier Océan, à Rabat. Ce nouvel aménagement vise à répondre à la pression croissante en matière de stationnement dans une zone particulièrement fréquentée et à forte densité de circulation. Doté d’une capacité', 'size': 2}, {'id': '145', 'title': 'Mobilité : Rabat se dote d’un nouveau parking souterrain', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/mobilite-rabat-se-dote-dun-nouveau-parking-souterrain/', 'summary': "Mobilité : Rabat se dote d’un nouveau parking souterrain. Doté d'une capacité de 87 places et implanté dans la rue Bruxelles, à proximité de Bab El Had, ce nouvel ouvrage a été conçu selon les standards internationaux et dispose d’équipements et de technologies de pointe permettant de proposer un service de qualité, sécurisé et respectueux de l’environnement, indique Rabat Région Mobilité.", 'size': 2}], 'main_title': "Rabat : le quartier Océan se dote d'un nouveau parking souterrain"}, {'community_id': '9', 'articles': [{'id': '82', 'title': "La disponibilité des réserves de sang est “rassurante”, selon l'Agence marocaine du sang", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/07/la-disponibilite-des-reserves-de-sang-est-rassurante-selon-lagence-marocaine-du-sang_1945560/', 'summary': "La disponibilité des réserves de sang est “rassurante”, selon l'Agence marocaine du sang. L’Agence marocaine du sang et de ses dérivés a affirmé que la réserve actuelle des stocks de sang est rassurante et que les opérations de don de sang se poursuivent d’une manière régulière dans toutes les régions du Royaume. Dans un communiqué faisant suite aux informations relayées par certains médias sur une prétendue “pénurie de.", 'size': 2}, {'id': '117', 'title': 'Réserves de sang au Maroc : La situation actuelle est rassurante', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173701/reserves-sang-maroc-situation-actuelle.html', 'summary': 'Réserves de sang au Maroc : La situation actuelle est rassurante. L’Agence marocaine du sang et de ses dérivés a affirmé que la réserve actuelle des stocks de sang est rassurante et que les opérations de don de sang se poursuivent d’une manière régulière dans toutes les régions du royaume.', 'size': 2}], 'main_title': "La disponibilité des réserves de sang est “rassurante”, selon l'Agence marocaine du sang"}, {'community_id': '10', 'articles': [{'id': '84', 'title': 'Championnat d’Afrique de voile : le Maroc sacré dans la catégorie “Optimist”', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/06/championnat-dafrique-de-voile-le-maroc-sacre-dans-la-categorie-optimist_1945550/', 'summary': 'Championnat d’Afrique de voile : le Maroc sacré dans la catégorie “Optimist”. L’équipe nationale marocaine de voile a été sacrée dans la catégorie “Optimist”, lors du championnat d’Afrique, qui se tient à Dar es Salaam, en Tanzanie, du 1ᵉʳ au 10 août. Lors de la première journée de compétition, l’équipe nationale marocaine s’est distinguée en remportant la première place dans l’épreuve par équipes, décrochant ainsi le titre.', 'size': 2}, {'id': '113', 'title': 'Voile : Le Maroc sacré champion d’Afrique 2025 (catégorie optimist)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173719/voile-maroc-sacre-champion-d-afrique.html', 'summary': 'Voile : Le Maroc sacré champion d’Afrique 2025 (catégorie optimist). L’équipe nationale du Maroc de voile s’est distinguée lors de la première journée du Championnat d’Afrique de voile – catégorie optimist, en remportant la première place dans l’épreuve par équipes. Lors de ce tournoi qui se tient à Dar es Salaam (Tanzanie), du 1áµ‰Ê³ au 10 août 2025, la sélection décroche ainsi le titre de champion d’Afrique 2025 dans la catégorie.', 'size': 2}], 'main_title': 'Championnat d’Afrique de voile : le Maroc sacré dans la catégorie “Optimist”'}, {'community_id': '11', 'articles': [{'id': '87', 'title': 'Le Maroc accueille 11,6 millions de touristes à fin juillet, une augmentation de 16%', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-maroc-accueille-116-millions-de-touristes-a-fin-juillet-une-augmentation-de-16-308228/', 'summary': 'Le Maroc accueille 11,6 millions de touristes à fin juillet, une augmentation de 16%. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un', 'size': 4}, {'id': '227', 'title': 'Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-maroc-a-accueilli-116-millions-de-touristes-a-fin-juillet-2025', 'summary': 'Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des .', 'size': 4}, {'id': '230', 'title': 'Tourisme : Le Maroc accueille 11,6 millions de touristes à fin juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/tourisme-le-maroc-accueille-116-millions-de-touristes-a-fin-juillet-2025/', 'summary': 'Tourisme : Le Maroc accueille 11,6 millions de touristes à fin juillet 2025. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des .', 'size': 4}, {'id': '237', 'title': 'Tourisme : le Maroc accueille 11,6 millions de touristes à fin juillet 2025', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/tourisme-le-maroc-accueille-116-millions-de-touristes-a-fin-juillet-2025.html', 'summary': 'Tourisme : le Maroc accueille 11,6 millions de touristes à fin juillet 2025. Le Maroc a accueilli 11,6 millions de touristes à fin juillet 2025, en hausse de 16% par rapport à la même période en 2024, annonce le ministère du Tourisme, de l’Artisanat et de l’Économie sociale et solidaire. Ces résultats confirment le maintien d’une dynamique solide, souligne le ministère dans un communiqué, précisant que 52% des . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'Le Maroc accueille 11,6 millions de touristes à fin juillet, une augmentation de 16%'}, {'community_id': '12', 'articles': [{'id': '91', 'title': 'Droits de douane: Toyota revoit à la baisse ses prévisions de bénéfice annuel', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/droits-de-douane-toyota-revoit-a-la-baisse-ses-previsions-de-benefice-annuel-308206/', 'summary': 'Droits de douane: Toyota revoit à la baisse ses prévisions de bénéfice annuel. Le géant automobile japonais Toyota, numéro un mondial, a abaissé jeudi ses prévisions de bénéfice net en 2025-2026, dans un « environnement difficile » notamment plombé par les surtaxes douanières américaines qui devraient lui coûter jusqu’à quelque 8 milliards d’euros sur l’exercice. Le constructeur s’attend à un bénéfice net de 2.660 milliards', 'size': 2}, {'id': '155', 'title': 'Droits de douane: Toyota anticipe une forte baisse de son bénéfice annuel', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/droits-de-douane-toyota-anticipe-une-forte-baisse-de-son-benefice-annuel/', 'summary': 'Droits de douane: Toyota anticipe une forte baisse de son bénéfice annuel. Le géant automobile japonais Toyota, leader mondial du secteur, a revu à la baisse, jeudi, ses prévisions de bénéfice annuel, dans un contexte jugé « difficile », marqué par des surtaxes douanières américaines qui pourraient lui coûter jusqu’à 9,5 milliards de dollars sur l’exercice. « En raison de l’impact des droits de douane américains et d’autres facteurs, les .', 'size': 2}], 'main_title': 'Droits de douane: Toyota revoit à la baisse ses prévisions de bénéfice annuel'}, {'community_id': '13', 'articles': [{'id': '95', 'title': 'Les prévisions météorologiques du jeudi 07 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-meteorologiques-du-jeudi-07-aout-2025-308188/', 'summary': 'Les prévisions météorologiques du jeudi 07 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le jeudi 07 août 2025 : – Temps chaud sur l’intérieur des provinces sud et du Souss, le Sud-Est, le Nord de l’Oriental, le Saiss, le Sud du Rif et les plaines à l’Ouest du Haut Atlas.', 'size': 2}, {'id': '200', 'title': "Le temps qu'il fera ce vendredi 8 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436188-le-temps-quil-fera-ce-vendredi-8-aout-2025.html', 'summary': "Le temps qu'il fera ce vendredi 8 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 8 août 2025 – Temps chaud sur les plaines intérieures Centre, le Sud-Est et sur l’intérieur des provinces du Sud. – Foyers orageux avec ondées ou averses par endroits sur l’Atlas, ses versants Est et sur l’Oriental. – Nuages bas . ", 'size': 2}], 'main_title': 'Les prévisions météorologiques du jeudi 07 août 2025'}, {'community_id': '0', 'articles': [{'id': '112', 'title': "Maroc : Jusqu'à 47°C et averses orageuses de mercredi à dimanche", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173729/maroc-jusqu-a-averses-orageuses-mercredi.html', 'summary': "Maroc : Jusqu'à 47°C et averses orageuses de mercredi à dimanche. Une vague de chaleur, avec des températures oscillant entre 40 et 47°C, et des averses orageuses accompagnées de chutes de grêle et rafales de vent sous orages sont attendues de mercredi à dimanche dans plusieurs provinces du Maroc, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte de niveau de vigilance orange.", 'size': 2}, {'id': '140', 'title': 'Alerte météo. Vague de chaleur et orages de jeudi à dimanche dans plusieurs provinces', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/alerte-meteo-vague-de-chaleur-et-orages-de-jeudi-a-dimanche-dans-plusieurs-provinces/', 'summary': 'Alerte météo. Vague de chaleur et orages de jeudi à dimanche dans plusieurs provinces. Une vague de chaleur et des averses orageuses accompagnées de chutes de grêle et de rafales de vent sous orages, sont attendues de jeudi à dimanche dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte de niveau orange.', 'size': 2}], 'main_title': "Maroc : Jusqu'à 47°C et averses orageuses de mercredi à dimanche"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
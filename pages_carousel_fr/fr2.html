<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 09/08/2025 - 18h29</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '8', 'articles': [{'id': '6', 'title': "Le temps qu'il fera ce samedi 9 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436187-le-temps-quil-fera-ce-samedi-9-aout-2025.html', 'summary': "Le temps qu'il fera ce samedi 9 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 9 août 2025 – Temps chaud à localement très chaud sur les plaines intérieures, le Souss, le Sud-Est et les provinces sahariennes. – Averses orageuses par endroits sur les Haut et Moyen Atlas, le Rif et l’extrême Sud du pays. . ", 'size': 2}, {'id': '72', 'title': 'Les prévisions du samedi 9 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-9-aout-2025-308280/', 'summary': 'Les prévisions du samedi 9 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 9 août 2025. -Temps chaud à localement très chaud sur les plaines intérieures, le Souss, le Sud-Est et les provinces sahariennes. -Averses orageuses par endroits sur les Haut et Moyen Atlas, le Rif et l’extrême', 'size': 2}], 'main_title': "Le temps qu'il fera ce samedi 9 août 2025"}, {'community_id': '0', 'articles': [{'id': '7', 'title': 'Industrie : l\'accès au financement bancaire jugé "normal" par 80% des patrons', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437079-industrie-lacces-au-financement-bancaire-juge-normal-par-80-des-patrons.html', 'summary': 'Industrie : l\'accès au financement bancaire jugé "normal" par 80% des patrons. Bank Al-Maghrib (BAM) a indiqué que l’accès au financement bancaire aurait été jugé « normal » par 80% des entreprises industrielles, tandis que 16% d’entre elles l’auraient qualifié de « difficile » au deuxième trimestre 2025. Il ressort ainsi des résultats trimestriels de l’enquête de conjoncture du T2-2025, publiés par BAM, que par branche d’activité, ces proportions sont de . ', 'size': 3}, {'id': '69', 'title': 'Accès au crédit : les industriels rassurés au deuxième trimestre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/acces-au-credit-les-industriels-rassures-au-deuxieme-trimestre-2025-308303/', 'summary': 'Accès au crédit : les industriels rassurés au deuxième trimestre 2025. L’accès au financement bancaire aurait été jugé normal par 80% des entreprises industrielles dans le Royaume, tandis que 16% d’entre elles l’auraient qualifié de difficile au deuxième trimestre 2025, indique Bank Al-Maghrib (BAM). Par branche d’activité, ces proportions sont de 78% et 14% dans la chimie et parachimie, 78% et', 'size': 3}, {'id': '100', 'title': 'BAM : L’accès au financement bancaire jugé normal par 80% des patrons d’industrie', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/bam-lacces-au-financement-bancaire-juge-normal-par-80-des-patrons-dindustrie/', 'summary': 'BAM : L’accès au financement bancaire jugé normal par 80% des patrons d’industrie. L\'accès au financement bancaire aurait été jugé "normal" par 80% des entreprises industrielles, tandis que 16% d\'entre elles l\'auraient qualifié de "difficile" au deuxième trimestre 2025, indique Bank Al-Maghrib (BAM).', 'size': 3}], 'main_title': 'Industrie : l\'accès au financement bancaire jugé "normal" par 80% des patrons'}, {'community_id': '6', 'articles': [{'id': '11', 'title': 'El Jadida : ouverture du Moussem Moulay Abdellah Amghar', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/el-jadida-ouverture-du-moussem-moulay-abdellah-amghar/295725', 'summary': 'El Jadida : ouverture du Moussem Moulay Abdellah Amghar. Organisé jusqu’au 16 août, sous le Haut Patronage de Sa Majesté le Roi Mohammed VI, cet événement s’est ouvert par une cérémonie religieuse de samâa et de madih, ainsi que par des.', 'size': 2}, {'id': '146', 'title': 'Ouverture à El Jadida du Moussem Moulay Abdellah Amghar', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/ouverture-a-el-jadida-du-moussem-moulay-abdellah-amghar.html', 'summary': 'Ouverture à El Jadida du Moussem Moulay Abdellah Amghar. Le Moussem Moulay Abdellah Amghar, l’une des plus importantes manifestations culturelles et religieuses dans le Royaume, a débuté vendredi à El Jadida (Maroc) avec au menu une programmation riche et variée. L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'El Jadida : ouverture du Moussem Moulay Abdellah Amghar'}, {'community_id': '3', 'articles': [{'id': '33', 'title': 'Exportations agricoles : 80 millions de kilos de tomates marocaines écoulés en Espagne', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Exportations-agricoles-80-millions-de-kilos-de-tomates-marocaines-ecoules-en-Espagne_a70686.html', 'summary': 'Exportations agricoles : 80 millions de kilos de tomates marocaines écoulés en Espagne. Les exportations marocaines de tomates vers l’Espagne ont connu une progression spectaculaire au cours de la période allant de juin 2024 à mai 2025. Selon les données rapportées par le site spécialisé Hortoinfo, s’appuyant sur les statistiques de l’ICEX (Agence espagnole du commerce extérieur) et de l’Agencia Tributaria, la hausse atteint 40,33 % par rapport à la même période de l’année précédente.', 'size': 2}, {'id': '163', 'title': 'Tomate marocaine : croissance soutenue des importations espagnoles malgré la flambée des prix', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436806-tomate-marocaine-croissance-soutenue-des-importations-espagnoles-malgre-la-flambee-des-prix.html', 'summary': 'Tomate marocaine : croissance soutenue des importations espagnoles malgré la flambée des prix. Selon une analyse récente réalisée par Hortoinfo, les importations de tomates en provenance du Maroc vers l’Espagne ont connu une croissance notable au cours de la période allant de juin 2024 à mai 2025. Le volume total importé a progressé de 40,33 % par rapport à la saison précédente (2023/2024), atteignant ainsi 80,29 millions de . ', 'size': 2}], 'main_title': 'Exportations agricoles : 80 millions de kilos de tomates marocaines écoulés en Espagne'}, {'community_id': '4', 'articles': [{'id': '56', 'title': 'Croissance à 4,5%, justice sociale et spatiale... le PLF 2026 dévoile ses priorités', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/08/croissance-a-45-justice-sociale-et-spatiale-le-plf-2026-devoile-ses-priorites_1945883/', 'summary': 'Croissance à 4,5%, justice sociale et spatiale. le PLF 2026 dévoile ses priorités. Le projet de loi de finances (PLF) au titre de l’exercice 2026 fixe, en application des orientations royales, quatre grandes priorités, selon la note d’orientation dudit projet adressée par le Chef du gouvernement aux départements ministériels. Il est également prévu d’atteindre un taux de croissance de près de 4,5% en 2026. Il s’agit de la.', 'size': 4}, {'id': '85', 'title': 'Le PLF-2026 fixe quatre grandes priorités, selon la note d’orientation du Chef du gouvernement', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-plf-2026-fixe-quatre-grandes-priorites-selon-la-note-dorientation-du-chef-du-gouvernement', 'summary': 'Le PLF-2026 fixe quatre grandes priorités, selon la note d’orientation du Chef du gouvernement. Le projet de loi de finances (PLF) au titre de l’exercice 2026 fixe, en application des Hautes Orientations Royales, quatre grandes priorités, traçant les contours d’une nouvelle étape, selon la note d’orientation dudit projet adressée par le Chef du gouvernement aux départements ministériels. Il s’agit de la consolidation de l’émergence du Royaume, l’équilibre entre le .', 'size': 4}, {'id': '120', 'title': 'Le PLF-2026 fixe quatre grandes priorités', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-plf-2026-fixe-quatre-grandes-priorites/', 'summary': 'Le PLF-2026 fixe quatre grandes priorités. Le projet de loi de finances (PLF) au titre de l’exercice 2026 fixe, en application des Hautes Orientations Royales, quatre grandes priorités, traçant les contours d’une nouvelle étape, selon la note d’orientation dudit projet adressée par le Chef du gouvernement aux départements ministériels. Il s’agit de la consolidation de l’émergence du Royaume, l’équilibre entre le .', 'size': 4}, {'id': '151', 'title': 'Maroc : Le PLF-2026 fixe quatre grandes priorités', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-le-plf-2026-fixe-quatre-grandes-priorites-note-dorientation.html', 'summary': 'Maroc : Le PLF-2026 fixe quatre grandes priorités. Le projet de loi de finances (PLF) au titre de l’exercice 2026 fixe, en application des Hautes Orientations Royales, quatre grandes priorités, traçant les contours d’une nouvelle étape, selon la note d’orientation dudit projet adressée par le Chef du gouvernement aux départements ministériels. Il s’agit de la consolidation de l’émergence du Royaume, l’équilibre entre le . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'Croissance à 4,5%, justice sociale et spatiale... le PLF 2026 dévoile ses priorités'}, {'community_id': '11', 'articles': [{'id': '59', 'title': "Jusqu'à 48°C de vendredi à mardi dans plusieurs provinces du Maroc", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/08/jusqua-48c-de-vendredi-a-mardi-dans-plusieurs-provinces-du-maroc_1945856/', 'summary': "Jusqu'à 48°C de vendredi à mardi dans plusieurs provinces du Maroc. Une vague de chaleur avec des températures variant entre 39 et 48 °C, accompagnée de chergui, et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues, du vendredi 8 au mardi 12 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Des températures.", 'size': 5}, {'id': '86', 'title': 'Alerte météo : Vague de chaleur accompagnée de chergui et averses orageuses, de vendredi à mardi', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/alerte-meteo-vague-de-chaleur-accompagnee-de-chergui-et-averses-orageuses-de-vendredi-a-mardi', 'summary': 'Alerte météo : Vague de chaleur accompagnée de chergui et averses orageuses, de vendredi à mardi. Une vague de chaleur avec des températures variant entre 39 et 48 °C, accompagnée de chergui, et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues, du vendredi 08 au mardi 12 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Des températures .', 'size': 5}, {'id': '106', 'title': 'Alerte météo. Chaleur extrême, chergui et orages dans plusieurs provinces', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/alerte-meteo-chaleur-extreme-chergui-et-orages-dans-plusieurs-provinces/', 'summary': 'Alerte météo. Chaleur extrême, chergui et orages dans plusieurs provinces. Une vague de chaleur avec des températures variant entre 39 et 48 °C, accompagnée de chergui, et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues, du vendredi 08 au mardi 12 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM).', 'size': 5}, {'id': '153', 'title': 'Maroc : vague de chaleur et averses orageuses de vendredi à mardi dans plusieurs provinces du Royaume', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/nee-de-maroc-vague-de-chaleur-et-averses-orageuses-de-vendredi-a-mardi-dans-plusieurs-provinces-du-royaume.html', 'summary': 'Maroc : vague de chaleur et averses orageuses de vendredi à mardi dans plusieurs provinces du Royaume. Une vague de chaleur avec des températures variant entre 39 et 48 °C, accompagnée de chergui, et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues, du vendredi 08 au mardi 12 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Des températures . L’article est apparu en premier sur .', 'size': 5}, {'id': '155', 'title': 'Météo : Vague de chaleur accompagnée de chergui au menu', 'source': 'lnt.ma', 'link': 'https://lnt.ma/meteo-vague-de-chaleur-accompagnee-de-chergui-au-menu/', 'summary': 'Météo : Vague de chaleur accompagnée de chergui au menu. Une vague de chaleur avec des températures variant entre 39 et 48 °C, accompagnée de chergui, et des averses orageuses avec chutes de grêle et rafales de vent sous orages sont attendues, du vendredi 08 au mardi 12 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Des températures . ', 'size': 5}], 'main_title': "Jusqu'à 48°C de vendredi à mardi dans plusieurs provinces du Maroc"}, {'community_id': '7', 'articles': [{'id': '70', 'title': 'Maroc\xa0: les dépôts bancaires enregistrent une croissance à fin juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/maroc-les-depots-bancaires-enregistrent-une-croissance-a-fin-juin-308295/', 'summary': 'Maroc : les dépôts bancaires enregistrent une croissance à fin juin. Les dépôts auprès des banques se sont établis à 1 309 milliards de DH (MMDH) à fin juin 2025, enregistrant une hausse annuelle de 9,6%, indique Bank Al-Maghrib (BAM) dans son récent tableau de bord «Crédits-Dépôts bancaires». Dans le détail, les dépôts des ménages ont progressé de 6,6% pour atteindre', 'size': 2}, {'id': '197', 'title': 'BAM : Le crédit bancaire en progression de 5,8% à fin juin', 'source': 'lnt.ma', 'link': 'https://lnt.ma/bam-le-credit-bancaire-en-progression-de-58-a-fin-juin/', 'summary': 'BAM : Le crédit bancaire en progression de 5,8% à fin juin. L’encours du crédit bancaire a atteint 1.175,5 milliards de dirhams (MMDH) à fin juin 2025, en progression de 5,8 % sur un an, selon le tableau de bord « Crédits-Dépôts bancaires » publié par Bank Al-Maghrib (BAM). Cette évolution recouvre une hausse de 4,4 % des crédits aux agents non financiers et de 13,3 % . ', 'size': 2}], 'main_title': 'Maroc\xa0: les dépôts bancaires enregistrent une croissance à fin juin'}, {'community_id': '2', 'articles': [{'id': '76', 'title': 'Le Maroc «\xa0un modèle d’investissement\xa0» dans le continent, assure le patron d’Africa 50', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-maroc-un-modele-dinvestissement-dans-le-continent-assure-le-patron-dafrica-50-308264/', 'summary': 'Le Maroc « un modèle d’investissement » dans le continent, assure le patron d’Africa 50. Le Maroc, qui s’est affirmé comme leader continental dans les domaines des infrastructures intelligentes, de l’industrialisation et de la modernisation économique, est un modèle d’investissement de référence pour l’Afrique, a indiqué Alain Ebobissé, directeur général d’Africa50, plateforme panafricaine d’investissement dans les infrastructures. « L’essor du Maroc comme hub d’infrastructures intelligentes est', 'size': 2}, {'id': '110', 'title': 'Alain Ebobissé, DG d’Africa 50 : Le Maroc, un modèle d’investissement de référence pour l’Afrique', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/investissements/alain-ebobisse-dg-dafrica-50-le-maroc-un-modele-dinvestissement-de-reference-pour-lafrique/', 'summary': "Alain Ebobissé, DG d’Africa 50 : Le Maroc, un modèle d’investissement de référence pour l’Afrique. Le Maroc, qui s’est affirmé comme leader continental dans les domaines des infrastructures intelligentes, de l’industrialisation et de la modernisation économique, est un modèle d'investissement de référence pour l’Afrique, a indiqué Alain Ebobissé, directeur général d'Africa50, plateforme panafricaine d'investissement dans les infrastructures.", 'size': 2}], 'main_title': 'Le Maroc «\xa0un modèle d’investissement\xa0» dans le continent, assure le patron d’Africa 50'}, {'community_id': '12', 'articles': [{'id': '87', 'title': 'Virgin Megastore à Casablanca ouvre son 11ème magasin au Maroc', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/lifestyle/virgin-megastore-a-casablanca-ouvre-son-11eme-magasin-au-maroc', 'summary': 'Virgin Megastore à Casablanca ouvre son 11ème magasin au Maroc. Virgin Megastore Maroc, l’enseigne emblématique spécialisée dans la distribution de produits high-tech, culturels et de loisirs, a ouvert, jeudi à Casablanca, son 4ème magasin, portant à onze son réseau national. Cette expansion, soutenue par un investissement de 10 millions de dirhams, reflète l’ambition de Virgin Megastore de se rapprocher toujours plus de ses clients et .', 'size': 3}, {'id': '136', 'title': 'Virgin Megastore poursuit son expansion au Maroc avec une 11ème adresse', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/virgin-megastore-poursuit-son-expansion-au-maroc-avec-une-11eme-adresse.html', 'summary': 'Virgin Megastore poursuit son expansion au Maroc avec une 11ème adresse. Virgin Megastore renforce sa présence au Maroc avec une nouvelle ouverture à Casablanca. L’enseigne spécialisée dans la distribution de produits technologiques et culturels inaugure son 4ème magasin dans la métropole, portant à onze son réseau national. ', 'size': 2}, {'id': '157', 'title': 'Virgin Megastore ouvre un nouveau magasin à Casablanca', 'source': 'lnt.ma', 'link': 'https://lnt.ma/virgin-megastore-ouvre-un-nouveau-magasin-a-casablanca/', 'summary': 'Virgin Megastore ouvre un nouveau magasin à Casablanca. Virgin Megastore a inauguré son quatrième point de vente à Casablanca, portant à onze le nombre total de ses magasins au Maroc. Cette ouverture s’inscrit dans le cadre d’un plan d’expansion soutenu par un investissement de 10 millions de dirhams. Selon le Département Marketing et Communication de l’entreprise, cette nouvelle implantation vise à renforcer la . ', 'size': 2}], 'main_title': 'Virgin Megastore à Casablanca ouvre son 11ème magasin au Maroc'}, {'community_id': '10', 'articles': [{'id': '96', 'title': 'Mourabaha immobilière : L’encours progresse de 17,1% à fin juin 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/mourabaha-immobiliere-lencours-progresse-de-171-a-fin-juin-2025/', 'summary': "Mourabaha immobilière : L’encours progresse de 17,1% à fin juin 2025. Le financement participatif destiné à l'habitat, notamment sous forme de Mourabaha immobilière, a poursuivi sa progression pour atteindre un encours de 27 milliards de dirhams (MMDH) à fin juin 2025, contre 23,1 MMDH un an auparavant, selon Bank Al-Maghrib (BAM).", 'size': 2}, {'id': '189', 'title': 'Financement participatif destiné à l’habitat : un encours de 27 MMDH à fin juin (BAM)', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/financement-participatif-destine-a-lhabitat-un-encours-de-27-mmdh-a-fin-juin-bam/', 'summary': 'Financement participatif destiné à l’habitat : un encours de 27 MMDH à fin juin (BAM). Le financement participatif destiné à l’habitat, notamment sous forme de Mourabaha immobilière, a poursuivi sa progression pour atteindre un encours de 27 milliards de dirhams (MMDH) à fin juin 2025, contre 23,1 MMDH un an auparavant, selon Bank Al-Maghrib (BAM). Cette hausse représente une amélioration annuelle de 17,1%, précise BAM dans son tableau de bord .', 'size': 2}], 'main_title': 'Mourabaha immobilière : L’encours progresse de 17,1% à fin juin 2025'}, {'community_id': '1', 'articles': [{'id': '104', 'title': 'PLF 2026 : Voici les quatre grandes priorités du gouvernement', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/plf-2026-voici-les-quatre-grandes-priorites-du-gouvernement/', 'summary': 'PLF 2026 : Voici les quatre grandes priorités du gouvernement. Le Projet de loi de finances 2026 (PLF) s’articule autour de quatre priorités majeures définies par les Hautes Orientations Royales : émergence économique, justice sociale et territoriale, renforcement de l’État social et réformes structurelles.', 'size': 2}, {'id': '198', 'title': 'PLF 2026 : quatre priorités pour consolider l’émergence et préserver les équilibres', 'source': 'lnt.ma', 'link': 'https://lnt.ma/plf-2026-quatre-priorites-pour-consolider-lemergence-et-preserver-les-equilibres/', 'summary': 'PLF 2026 : quatre priorités pour consolider l’émergence et préserver les équilibres. Selon sa note d’orientation, le projet de loi de finances (PLF) 2026, élaboré conformément aux Hautes Orientations Royales, fixe quatre priorités : la consolidation de l’émergence économique, l’équilibre entre développement et justice sociale et spatiale, le renforcement des fondements de l’État social et la préservation de l’équilibre des finances publiques, selon la note d’orientation adressée . ', 'size': 2}], 'main_title': 'PLF 2026 : Voici les quatre grandes priorités du gouvernement'}, {'community_id': '5', 'articles': [{'id': '127', 'title': 'Ballon d’or 2025 : le Maroc valablement représenté', 'source': 'leseco.ma', 'link': 'https://leseco.ma/sports/ballon-dor-2025-le-maroc-valablement-represente.html', 'summary': 'Ballon d’or 2025 : le Maroc valablement représenté. Les premières nominations pour la cérémonie du Ballon d’or ont été annoncées jeudi. Auteur d’une saison historique avec le Paris-Saint Germain, Achraf Hakimi, le capitaine des Lions de l’Atlas, s’offre une place de choix dans le gotha du football mondial. Chez les gardiens, Yassine Bounou a lui aussi passé le cut. ', 'size': 2}, {'id': '158', 'title': 'Les Marocains Hakimi et Bounou nommés au Ballon d’Or 2025', 'source': 'lnt.ma', 'link': 'https://lnt.ma/les-marocains-hakimi-et-bounou-nommes-au-ballon-dor-2025/', 'summary': 'Les Marocains Hakimi et Bounou nommés au Ballon d’Or 2025. Les internationaux marocains Achraf Hakimi, défenseur du Paris Saint-Germain, et Yassine Bounou, portier d’Al Hilal saoudien, se sont assurés une place parmi les prétendants aux prix du Ballon d’Or 2025, dévoilés jeudi par le magazine France Football. Le latéral droit des Lions de l’Atlas figure dans la liste des 30 nommés au Ballon d’Or, grâce . ', 'size': 2}], 'main_title': 'Ballon d’or 2025 : le Maroc valablement représenté'}, {'community_id': '9', 'articles': [{'id': '186', 'title': 'Journée nationale des MRE : La digitalisation au centre des priorités', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/journee-nationale-des-mre-la-digitalisation-au-centre-des-priorites/', 'summary': 'Journée nationale des MRE : La digitalisation au centre des priorités. Le Maroc célèbre, dimanche, la Journée nationale des Marocains résidant à l\'étranger (MRE) sous le thème "Le chantier de la digitalisation : un levier pour renforcer les services de proximité au profit des Marocains du Monde".', 'size': 2}, {'id': '196', 'title': 'Journée nationale des Marocains résidant à l’étranger sous le signe de la digitalisation', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/journee-nationale-des-marocains-residant-a-letranger-sous-le-signe-de-la-digitalisation.html', 'summary': 'Journée nationale des Marocains résidant à l’étranger sous le signe de la digitalisation. Le Maroc célèbre dimanche la Journée nationale des Marocains résidant à l’étranger (MRE) sous le thème « Le chantier de la digitalisation : un levier pour renforcer les services de proximité au profit des Marocains du Monde », une occasion idoine pour renforcer les liens entre les MRE et leur pays d’origine, particulièrement dans un contexte marqué . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Journée nationale des MRE : La digitalisation au centre des priorités'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
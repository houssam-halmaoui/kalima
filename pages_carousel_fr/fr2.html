<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 31/07/2025 - 06h33</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '12', 'articles': [{'id': '17', 'title': "Les Etats-Unis soulignent le leadership de S.M. le Roi pour la paix et la prospérité (Département d'Etat)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/les-etats-unis-saluent-le-leadership-de-sm-le-roi-pour-la-paix-m-rubio/294021', 'summary': "Les Etats-Unis soulignent le leadership de S.M. le Roi pour la paix et la prospérité (Département d'Etat). Sous le leadership du Président Trump et de Sa Majesté le Roi Mohammed VI, nous continuerons de bâtir une nouvelle ère de paix et de prospérité dans les années à venir,.", 'size': 2}, {'id': '160', 'title': 'Les Etats-Unis soulignent le leadership de SM le Roi pour la paix et la prospérité, se félicitent du partenariat durable avec le Maroc', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/les-etats-unis-soulignent-le-leadership-de-sm-le-roi-pour-la-paix-et-la-prosperite-se-felicitent-du-partenariat-durable-avec-le-maroc-departement-detat.html', 'summary': 'Les Etats-Unis soulignent le leadership de SM le Roi pour la paix et la prospérité, se félicitent du partenariat durable avec le Maroc. Le Secrétaire d’Etat américain, Marco Rubio a souligné mercredi, le leadership de Sa Majesté le Roi Mohammed VI en faveur d’une nouvelle ère de paix et de prospérité, tout en se félicitant du partenariat durable avec le Royaume du Maroc. « Sous le leadership du Président Trump et de Sa Majesté le Roi Mohammed VI, nous . L’article est apparu en premier sur .', 'size': 3}, {'id': '176', 'title': 'Les États-Unis soulignent le leadership de SM le Roi pour la paix et la prospérité', 'source': 'lnt.ma', 'link': 'https://lnt.ma/les-etats-unis-soulignent-le-leadership-de-sm-le-roi-pour-la-paix-et-la-prosperite/', 'summary': 'Les États-Unis soulignent le leadership de SM le Roi pour la paix et la prospérité. À l’occasion du 26e anniversaire de l’accession du Roi Mohammed VI au Trône, le Secrétaire d’État américain, Marco Rubio, a salué le rôle du Souverain dans la consolidation de la paix et du développement dans la région. Dans un communiqué officiel, le responsable américain a mis en avant le leadership de SM le Roi en . ', 'size': 2}], 'main_title': 'Les Etats-Unis soulignent le leadership de SM le Roi pour la paix et la prospérité, se félicitent du partenariat durable avec le Maroc'}, {'community_id': '6', 'articles': [{'id': '24', 'title': "S.M. le Roi adresse un Discours à Son peuple fidèle à l'occasion de la Fête du Trône", 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/fete-du-trone-sm-le-roi-adresse-un-discours-a-son-peuple-fidele/293985', 'summary': "S.M. le Roi adresse un Discours à Son peuple fidèle à l'occasion de la Fête du Trône. Sa Majesté le Roi Mohammed VI, que Dieu L'assiste, adresse un Discours à Son peuple fidèle à l'occasion de la commémoration du 26e anniversaire de l'accession du Souver.", 'size': 5}, {'id': '82', 'title': 'Développement territorial, justice sociale et ouverture régionale : les priorités du Discours du Trône 2025 [Texte intégral]', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/developpement-territorial-justice-sociale-et-ouverture-regionale-les-priorites-du-discours-du-trone-2025-texte-integral-307723/', 'summary': 'Développement territorial, justice sociale et ouverture régionale : les priorités du Discours du Trône 2025 [Texte intégral]. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a adressé, mardi, un Discours à Son peuple fidèle à l’occasion du 26e anniversaire de l’accession du Souverain au Trône de Ses glorieux Ancêtres. Voici le texte intégral du Discours Royal: « Louange à Dieu, Prière et salut sur le Prophète, Sa', 'size': 5}, {'id': '99', 'title': 'Discours du Trône Le texte intégral', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/discours-du-trone-le-texte-integral-2', 'summary': 'Discours du Trône Le texte intégral. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a adressé, mardi, un Discours à Son peuple fidèle à l’occasion du 26e anniversaire de l’accession du Souverain au Trône de Ses glorieux Ancêtres. Voici le texte intégral du Discours Royal: « Louange à Dieu, Prière et salut sur le Prophète, Sa famille et Ses compagnons. Cher .', 'size': 5}, {'id': '117', 'title': 'Fête du Trône : Texte intégral du Discours Royal', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/fete-du-trone-texte-integral-du-discours-royal-2/', 'summary': 'Fête du Trône : Texte intégral du Discours Royal. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a adressé, ce mardi 29 juillet, un Discours à Son peuple fidèle à l’occasion du 26ème anniversaire de l’accession du Souverain au Trône de Ses glorieux Ancêtres.', 'size': 5}, {'id': '153', 'title': 'Fête du Trône: l’intégralité du discours royal', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/fete-du-trone-lintegralite-du-discours-royal.html', 'summary': 'Fête du Trône: l’intégralité du discours royal. Le Roi Mohammed VI a adressé, mardi, un Discours à Son peuple fidèle à l’occasion du 26e anniversaire de l’accession du Souverain au Trône de Ses glorieux Ancêtres. Voici le texte intégral du Discours Royal: « Louange à Dieu, Prière et salut sur le Prophète, Sa famille et Ses compagnons. Cher peuple, La célébration de la ', 'size': 5}], 'main_title': "S.M. le Roi adresse un Discours à Son peuple fidèle à l'occasion de la Fête du Trône"}, {'community_id': '5', 'articles': [{'id': '26', 'title': 'Fête du Trône : Grâce Royale au profit de 19.673 personnes', 'source': 'lematin.ma', 'link': 'https://lematin.ma/activites-royales/fete-du-trone-grace-royale-au-profit-de-19673-personnes/293970', 'summary': 'Fête du Trône : Grâce Royale au profit de 19.673 personnes. A l’occasion de la Fête du Trône de cette année 1447 H-2025 G, Sa Majesté le Roi Mohammed VI, que Dieu perpétue Sa gloire, a bien voulu accorder Sa Grâce à un ensemble de per.', 'size': 3}, {'id': '98', 'title': 'Grâce Royale au profit de 19.673 personnes', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/grace-royale-au-profit-de-19-673-personnes', 'summary': 'Grâce Royale au profit de 19.673 personnes. A l’occasion de la Fête du Trône, Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a bien voulu accorder Sa grâce à 2.415 personnes, dont certaines sont en détention et d’autres en liberté, condamnées par différents tribunaux du Royaume, et, à titre exceptionnel, à 17.258 condamnés, sélectionnés selon des critères déterminés pour faire de .', 'size': 3}, {'id': '173', 'title': 'Fête du Trône 2025 | Grâce Royale au profit de 19.673 personnes', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/fete-du-trone-2025-grace-royale-au-profit-de-19-673-personnes/', 'summary': 'Fête du Trône 2025 | Grâce Royale au profit de 19.673 personnes. A l’occasion de la Fête du Trône, Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, a bien voulu accorder Sa grâce à 2.415 personnes, dont certaines sont en détention et d’autres en liberté, condamnées par différents tribunaux du Royaume, et, à titre exceptionnel, à 17.258 condamnés, sélectionnés selon des critères déterminés pour faire de ', 'size': 3}], 'main_title': 'Fête du Trône : Grâce Royale au profit de 19.673 personnes'}, {'community_id': '3', 'articles': [{'id': '31', 'title': 'Fête du Trône : S.M. le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires au titre de l’année 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/activites-royales/sm-le-roi-approuve-le-tableau-davancement-du-personnel-des-far/293957', 'summary': 'Fête du Trône : S.M. le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires au titre de l’année 2025. Lors de cette audience, les membres de la Commission ont soumis à la Haute Appréciation Royale les conclusions et les résultats des travaux de la Commission d’avancement du personn.', 'size': 3}, {'id': '124', 'title': 'Fête du Trône: Le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/fete-du-trone-le-roi-approuve-le-tableau-davancement-du-personnel-des-far-de-la-gendarmerie-royale-de-la-garde-royale-et-des-forces-auxiliaires/', 'summary': 'Fête du Trône: Le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires. Les membres de la Commission avaient soumis à la haute appréciation royale les conclusions et les résultats des travaux de la Commission d’avancement du personnel au titre de l’année 2025.', 'size': 3}, {'id': '203', 'title': 'SM le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires au titre de l’année 2025', 'source': 'www.libe.ma', 'link': 'https://www.libe.ma/SM-le-Roi-approuve-le-tableau-d-avancement-du-personnel-des-FAR-de-la-Gendarmerie-Royale-de-la-Garde-Royale-et-des_a154872.html', 'summary': 'SM le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires au titre de l’année 2025.', 'size': 3}], 'main_title': 'Fête du Trône : S.M. le Roi approuve le tableau d’avancement du personnel des FAR, de la Gendarmerie Royale, de la Garde Royale et des Forces Auxiliaires au titre de l’année 2025'}, {'community_id': '8', 'articles': [{'id': '32', 'title': 'Tourisme : 54 milliards de DH de recettes voyages à fin juin 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tourisme-54-milliards-de-dh-de-recettes-voyages-a-fin-juin-2025/293947', 'summary': "Tourisme : 54 milliards de DH de recettes voyages à fin juin 2025. L'augmentation des recettes voyages, soutenue par une croissance de +19% des arrivées touristiques, témoigne de l’attractivité croissante de la destination Maroc et de la capac.", 'size': 2}, {'id': '71', 'title': "Tourisme : les recettes de l'activité atteignent 54 milliards de DH en progression de 9,6% à fin juin 2025", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/29/tourisme-les-recettes-de-lactivite-atteignent-54-milliards-de-dh-en-progression-de-96-a-fin-juin-2025_1944393/', 'summary': "Tourisme : les recettes de l'activité atteignent 54 milliards de DH en progression de 9,6% à fin juin 2025. Les recettes touristiques ont atteint 54 milliards de dirhams (MMDH) à fin juin 2025, en progression de +9,6 % par rapport à la même période de 2024, soit un gain de 4,7 MMDH, selon les données du ministère du Tourisme, de l’Artisanat et de l’Économie Sociale et Solidaire. Cette performance s’inscrit dans un contexte de.", 'size': 4}, {'id': '84', 'title': 'Maroc: les recettes touristiques augmentent de 9,6% en six mois, à 54 MMDH', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/maroc-les-recettes-touristiques-augmentent-de-96-en-six-mois-a-54-mmdh-307713/', 'summary': 'Maroc: les recettes touristiques augmentent de 9,6% en six mois, à 54 MMDH. Les recettes voyages ont atteint 54 milliards de dirhams (MMDH) à fin juin 2025, en hausse de +9,6% par rapport à 2024, soit un gain de 4,7 MMDH, selon le ministère du Tourisme, de l’Artisanat et de l’Economie Sociale et Solidaire. Cette performance, soutenue par une croissance de +19% des', 'size': 4}, {'id': '100', 'title': 'Tourisme : 54 milliards DH de recettes à fin juin 2025', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/tourisme-54-milliards-dh-de-recettes-a-fin-juin-2025', 'summary': 'Tourisme : 54 milliards DH de recettes à fin juin 2025. Les recettes voyages ont atteint 54 milliards de dirhams (MMDH) à fin juin 2025, en hausse de +9,6% par rapport à 2024, soit un gain de 4,7 MMDH, selon le ministère du Tourisme, de l’Artisanat et de l’Economie Sociale et Solidaire. Cette performance, soutenue par une croissance de +19% des arrivées touristiques, témoigne de l’attractivité .', 'size': 5}, {'id': '125', 'title': 'Tourisme : Les recettes atteignent 54 MMDH à fin juin 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/tourisme-les-recettes-atteignent-54-mmdh-a-fin-juin-2025/', 'summary': "Tourisme : Les recettes atteignent 54 MMDH à fin juin 2025. Ces recettes sont en hausse de +9,6% par rapport à 2024, soit un gain de 4,7 MMDH, selon le ministère du Tourisme, de l'Artisanat et de l'Economie Sociale et Solidaire.", 'size': 4}], 'main_title': 'Tourisme : 54 milliards DH de recettes à fin juin 2025'}, {'community_id': '4', 'articles': [{'id': '34', 'title': '\u200bFête du Trône : SAR le Prince Moulay Rachid préside à Tétouan un déjeuner offert par le Chef du gouvernement', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bFete-du-Trone-SAR-le-Prince-Moulay-Rachid-preside-a-Tetouan-un-dejeuner-offert-par-le-Chef-du-gouvernement_a70426.html', 'summary': '\u200bFête du Trône : SAR le Prince Moulay Rachid préside à Tétouan un déjeuner offert par le Chef du gouvernement. Son Altesse Royale le Prince Moulay Rachid a présidé, mercredi à Tétouan, un déjeuner offert par le Chef du gouvernement, à l’occasion du 26e anniversaire de l’accession de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, au Trône de Ses glorieux Ancêtres.', 'size': 4}, {'id': '97', 'title': 'SAR le Prince Moulay Rachid préside à Tétouan un déjeuner offert par le Chef du gouvernement à l’occasion de la glorieuse Fête du Trône', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/sar-le-prince-moulay-rachid-preside-a-tetouan-un-dejeuner-offert-par-le-chef-du-gouvernement-a-loccasion-de-la-glorieuse-fete-du-trone', 'summary': 'SAR le Prince Moulay Rachid préside à Tétouan un déjeuner offert par le Chef du gouvernement à l’occasion de la glorieuse Fête du Trône. Son Altesse Royale le Prince Moulay Rachid a présidé, mercredi à Tétouan, un déjeuner offert par le Chef du gouvernement, à l’occasion du 26e anniversaire de l’accession de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, au Trône de Ses glorieux Ancêtres. A son arrivée, SAR le Prince Moulay Rachid a passé en revue .', 'size': 4}, {'id': '165', 'title': 'SM le Roi préside à M’diq une réception à l’occasion de la glorieuse Fête du Trône', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/sm-le-roi-preside-a-mdiq-une-reception-a-loccasion-de-la-glorieuse-fete-du-trone/', 'summary': 'SM le Roi préside à M’diq une réception à l’occasion de la glorieuse Fête du Trône. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, accompagné de SAR le Prince Héritier Moulay El Hassan et de SAR le Prince Moulay Rachid, a présidé, mercredi après-midi à la Place de la préfecture de M’diq-Fnideq (ville de M’diq), une réception à l’occasion du 26e anniversaire de l’accession du Souverain au Trône de Ses ', 'size': 4}, {'id': '207', 'title': 'S.A.R le Prince Moulay Rachid préside un déjeuner à Tétouan pour la Fête du Trône', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/s-a-r-le-prince-moulay-rachid-preside-un-dejeuner-a-tetouan/', 'summary': 'S.A.R le Prince Moulay Rachid préside un déjeuner à Tétouan pour la Fête du Trône. Son Altesse Royale le Prince Moulay Rachid a présidé, mercredi à Tétouan, un déjeuner offert par le Chef du gouvernement, à l’occasion du 26e anniversaire de l’accession de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, au Trône de Ses glorieux Ancêtres. A son arrivée, SAR le Prince Moulay Rachid a passé en revue .', 'size': 4}], 'main_title': '\u200bFête du Trône : SAR le Prince Moulay Rachid préside à Tétouan un déjeuner offert par le Chef du gouvernement'}, {'community_id': '9', 'articles': [{'id': '42', 'title': '\u200bRussie : Un gigantesque séisme provoque des alertes au tsunami dans tout le Pacifique', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bRussie-Un-gigantesque-seisme-provoque-des-alertes-au-tsunami-dans-tout-le-Pacifique_a70417.html', 'summary': "\u200bRussie : Un gigantesque séisme provoque des alertes au tsunami dans tout le Pacifique. Un séisme de magnitude 8,8, le plus puissant dans la région en près de 73 ans, a frappé, mardi, au large de la péninsule russe du Kamtchatka, provoquant des alertes de tsunamis dans tout le Pacifique et des évacuations de Hawaï jusqu'au Japon.", 'size': 2}, {'id': '62', 'title': "Tsunami dans le Pacifique : des vagues jusqu'à 4 mètres de hauteur attendues en Polynésie", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/30/tsunami-dans-le-pacifique-des-vagues-jusqua-4-metres-de-hauteur-attendues-en-polynesie_1944475/', 'summary': "Tsunami dans le Pacifique : des vagues jusqu'à 4 mètres de hauteur attendues en Polynésie. Un séisme de magnitude 8,8 au large du Kamtchatka a déclenché des alertes tsunami dans tout le Pacifique. Plusieurs vagues ont frappé la Russie et le Japon, causant des inondations et des évacuations massives sans faire de victimes à ce stade. Des vagues pouvant atteindre 4 mètres sont attendues en Polynésie française. Un séisme de.", 'size': 2}], 'main_title': '\u200bRussie : Un gigantesque séisme provoque des alertes au tsunami dans tout le Pacifique'}, {'community_id': '7', 'articles': [{'id': '54', 'title': 'Après les jet-skieurs en 2023, un jeune Marocain de nouveau tué par balle en mer par l’armée algérienne', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/30/apres-les-jet-skieurs-en-2023-un-jeune-marocain-de-nouveau-tue-par-balle-en-mer-par-larmee-algerienne_1944571/', 'summary': 'Après les jet-skieurs en 2023, un jeune Marocain de nouveau tué par balle en mer par l’armée algérienne. Nouveau drame mortel dans les eaux frontalières entre le Maroc et l’Algérie. Oussama Hamham, 22 ans, ancien joueur du club Al Aroui, a été tué par balles par les garde-côtes algériens lors d’une tentative de migration vers l’Espagne. Ce qu’il s’est passé Le jeune Oussama Hamham, 22 ans, ancien joueur du club Amal Riadhi Al.', 'size': 2}, {'id': '88', 'title': "Algérie : Mort tragique d'Oussama Hemham lors d'une tentative de migration vers l'Espagne", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173136/algerie-mort-tragique-d-oussama-hemham.html', 'summary': "Algérie : Mort tragique d'Oussama Hemham lors d'une tentative de migration vers l'Espagne. Oussama Hemham, un jeune Marocain et ancien joueur de léquipe sportive Amal Al-Aroui, près de Nador, a tragiquement perdu la vie lors dune tentative de migration irrégulière qui a débuté depuis les côtes de Saidia. Le drame sest produit après que le bateau sur lequel il se trouvait a été pris pour cible par des tirs de la garde côtière algérienne.", 'size': 2}], 'main_title': 'Après les jet-skieurs en 2023, un jeune Marocain de nouveau tué par balle en mer par l’armée algérienne'}, {'community_id': '1', 'articles': [{'id': '58', 'title': 'Discours du Trône 2025 : pauvreté, Algérie, réforme électorale... six passages clés à retenir', 'source': 'telquel.ma', 'link': 'https://telquel.ma/2025/07/30/discours-du-trone-2025-pauvrete-algerie-reforme-electorale-six-passages-cles-a-retenir_1944545', 'summary': 'Discours du Trône 2025 : pauvreté, Algérie, réforme électorale. six passages clés à retenir. À l’occasion du 26ᵉ anniversaire de son accession au Trône, le roi Mohammed VI a prononcé un discours axé sur la consolidation des acquis sociaux, le développement économique et la cohésion territoriale. Entre appels à la réforme, ambition industrielle et ouverture régionale, voici six extraits marquants qui dessinent les priorités du royaume. 1. Sur la.', 'size': 2}, {'id': '178', 'title': 'Développement économique et humain, régions, élections, Algérie, principaux thèmes du discours royal', 'source': 'lnt.ma', 'link': 'https://lnt.ma/developpement-economique-et-humain-regions-elections-algerie-principaux-themes-du-discours-royal/', 'summary': 'Développement économique et humain, régions, élections, Algérie, principaux thèmes du discours royal. À l’occasion du 26e anniversaire de son accession au Trône, le Roi Mohammed VI a adressé un discours à la Nation, dans lequel il a dressé un état des lieux des réalisations économiques et sociales du Royaume tout en appelant à un nouveau souffle pour corriger les déséquilibres territoriaux et renforcer la cohésion nationale. Le . ', 'size': 2}], 'main_title': 'Discours du Trône 2025 : pauvreté, Algérie, réforme électorale... six passages clés à retenir'}, {'community_id': '10', 'articles': [{'id': '64', 'title': 'Partenariat OCP-Ambipar : 100 000 hectares de pâturages dégradés à restaurer au Brésil', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/30/partenariat-ocp-ambipar-100-000-hectares-de-paturages-degrades-a-restaurer-au-bresil_1944465/', 'summary': 'Partenariat OCP-Ambipar : 100 000 hectares de pâturages dégradés à restaurer au Brésil. Le groupe OCP a annoncé, mardi, s’être associé à travers OCP Brasil à Ambipar, acteur de référence en matière de gestion environnementale, à la Liga do Araguaia et à l’Institut Agroenvironnemental de la Vallée de l’Araguaia (IAVA), deux organisations locales engagées pour le développement rural durable, afin de lancer le projet ALM Carbono Verde do.', 'size': 2}, {'id': '78', 'title': 'OCP signe un partenariat inédit pour restaurer 100 000 hectares de pâturages au Brésil', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/ocp-signe-un-partenariat-inedit-pour-restaurer-100-000-hectares-de-paturages-au-bresil-307741/', 'summary': 'OCP signe un partenariat inédit pour restaurer 100 000 hectares de pâturages au Brésil. Le groupe OCP, en collaboration avec Ambipar, la Liga do Araguaia et l’Institut Agroenvironnemental de la Vallée de l’Araguaia (IAVA), a annoncé le lancement du projet ALM Carbono Verde do Araguaia, une initiative de grande ampleur visant à restaurer jusqu’à 100 000 hectares de pâturages dégradés dans le Cerrado brésilien.', 'size': 2}], 'main_title': 'Partenariat OCP-Ambipar : 100 000 hectares de pâturages dégradés à restaurer au Brésil'}, {'community_id': '13', 'articles': [{'id': '110', 'title': 'Laâyoune : 130 MDH pour renforcer les infrastructures urbaines et sportives', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/laayoune-130-mdh-pour-renforcer-les-infrastructures-urbaines-et-sportives/', 'summary': "Laâyoune : 130 MDH pour renforcer les infrastructures urbaines et sportives. Une série de projets visant à renforcer les infrastructures urbaines et sportives ont été lancés, le 29 juillet à Laâyoune, pour un investissement global de 130 millions de dirhams (MDH), à l'occasion de la célébration du 26e anniversaire de la Fête du Trône.", 'size': 2}, {'id': '164', 'title': 'Laâyoune | Lancement de projets d’infrastructures urbaines et sportives pour un investissement de 130 MDH', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/laayoune-lancement-de-projets-dinfrastructures-urbaines-et-sportives-pour-un-investissement-de-130-mdh/', 'summary': 'Laâyoune | Lancement de projets d’infrastructures urbaines et sportives pour un investissement de 130 MDH. Une série de projets visant à renforcer les infrastructures urbaines et sportives ont été lancés, mardi à Laâyoune, pour un investissement global de 130 millions de dirhams (MDH), à l’occasion de la célébration du 26e anniversaire de la Fête du Trône. Ainsi, le wali de la région Laâyoune-Sakia El Hamra, gouverneur de la province de ', 'size': 2}], 'main_title': 'Laâyoune : 130 MDH pour renforcer les infrastructures urbaines et sportives'}, {'community_id': '11', 'articles': [{'id': '134', 'title': 'Températures prévues pour le jeudi 31 juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-jeudi-31-juillet-2025/', 'summary': 'Températures prévues pour le jeudi 31 juillet 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le jeudi 31 juillet 2025: Min Max – Oujda 20 34 – Bouarfa 21 39 – Al Hoceima 21 32 – Tétouan 24 29 – Sebta 22 25 – Mellilia 23 27 – Tanger 25 32 – Kénitra 21 29 .', 'size': 2}, {'id': '179', 'title': 'Les températures attendues ce jeudi 31 juillet 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/435863-les-temperatures-attendues-ce-jeudi-31-juillet-2025.html', 'summary': 'Les températures attendues ce jeudi 31 juillet 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le jeudi 31 juillet 2025: Min Max – Oujda 20 34 – Bouarfa 21 39 – Al Hoceima 21 32 – Tétouan 24 29 – Sebta 22 25 – Mellilia 23 27 – Tanger 25 32 – Kénitra 21 29 . ', 'size': 2}], 'main_title': 'Températures prévues pour le jeudi 31 juillet 2025'}, {'community_id': '14', 'articles': [{'id': '135', 'title': 'Bank Al-Maghrib émet une pièce pour le 26e anniversaire de l’intronisation de S.M. le Roi', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/bank-al-maghrib-emet-une-piece-pour-le-26e-anniversaire-de-lintronisation/', 'summary': 'Bank Al-Maghrib émet une pièce pour le 26e anniversaire de l’intronisation de S.M. le Roi. A l’occasion du 26ème Anniversaire de l’Intronisation de Sa Majesté le Roi Mohammed VI, Bank Al-Maghrib (BAM) a émis une pièce commémorative, en argent, d’une valeur faciale de 250 dirhams. Cette pièce commémorative présente à l’avers l’effigie du souverain entourée des inscriptions « محمد السادس », « المملكة المغربية – ⵜⴰⴳⵍⴷⵉⵜ ⵏ ⵍⵎⵖⵔⵉⴱ » en arabe et en tifinagh, .', 'size': 2}, {'id': '167', 'title': 'Bank Al-Maghrib émet une pièce commémorative pour le 26e anniversaire de l’intronisation de SM le Roi', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/bank-al-maghrib-emet-une-piece-commemorative-pour-le-26e-anniversaire-de-lintronisation-de-sm-le-roi/', 'summary': 'Bank Al-Maghrib émet une pièce commémorative pour le 26e anniversaire de l’intronisation de SM le Roi. A l’occasion du 26ème Anniversaire de l’Intronisation de Sa Majesté le Roi Mohammed VI, Bank Al-Maghrib (BAM) a émis une pièce commémorative, en argent, d’une valeur faciale de 250 dirhams. Cette pièce commémorative présente à l’avers l’effigie du souverain entourée des inscriptions “محمد السادس”, “المملكة المغربية – ⵜⴰⴳⵍⴷⵉⵜ ⵏ ⵍⵎⵖⵔⵉⴱ” en arabe et en tifinagh, ', 'size': 2}], 'main_title': 'Bank Al-Maghrib émet une pièce pour le 26e anniversaire de l’intronisation de S.M. le Roi'}, {'community_id': '0', 'articles': [{'id': '163', 'title': 'Sahara marocain : le Roi Mohammed VI exprime sa fierté du soutien international croissant à la proposition d’autonomie', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/sahara-marocain-le-roi-exprime-sa-fierte-du-soutien-international-croissant-a-la-proposition-dautonomie.html', 'summary': 'Sahara marocain : le Roi Mohammed VI exprime sa fierté du soutien international croissant à la proposition d’autonomie. Le Roi Mohammed VI a exprimé sa fierté du soutien international croissant à la proposition marocaine d’autonomie, considérée comme la seule et unique solution au conflit autour du Sahara marocain. « Nous sommes fiers du soutien international croissant à la proposition d’autonomie, considérée comme la seule et unique solution au conflit autour du Sahara marocain », a . L’article est apparu en premier sur .', 'size': 2}, {'id': '169', 'title': 'Sahara Marocain | SM le Roi exprime Sa fierté du soutien international croissant à la Proposition d’Autonomie', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/sahara-marocain-sm-le-roi-exprime-sa-fierte-du-soutien-international-croissant-a-la-proposition-dautonomie/', 'summary': 'Sahara Marocain | SM le Roi exprime Sa fierté du soutien international croissant à la Proposition d’Autonomie. Sa Majesté le Roi Mohammed VI a exprimé Sa fierté du soutien international croissant à la Proposition marocaine d’Autonomie, considérée comme la seule et unique solution au conflit autour du Sahara marocain. “Nous sommes fiers du soutien international croissant à la Proposition d’Autonomie, considérée comme la seule et unique solution au conflit autour du Sahara ', 'size': 2}], 'main_title': 'Sahara marocain : le Roi Mohammed VI exprime sa fierté du soutien international croissant à la proposition d’autonomie'}, {'community_id': '2', 'articles': [{'id': '185', 'title': "Le Roi Mohammed VI ordonne l'envoi d'aides humanitaires et médicales d'urgence à Gaza", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/435853-le-roi-mohammed-vi-ordonne-lenvoi-daides-humanitaires-et-medicales-durgence-a-gaza.html', 'summary': "Le Roi Mohammed VI ordonne l'envoi d'aides humanitaires et médicales d'urgence à Gaza. Le Roi Mohammed VI, Président du Comité Al-Qods, a donné Ses Très Hautes Instructions pour l’envoi d’une aide humanitaire et médicale d’urgence en faveur du peuple palestinien frère, en particulier les populations de la bande de Gaza, indique, mercredi, un communiqué du ministère des Affaires étrangères, de la Coopération africaine et des Marocains résidant à . ", 'size': 5}, {'id': '191', 'title': "SM le Roi donne ses instructions pour l'envoi d'une aide humanitaire et médicale d'urgence à Gaza", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/SM-le-Roi-donne-ses-instructions-pour-l-envoi-d-une-aide-humanitaire-et-medicale-d-urgence-a-Gaza_a70431.html', 'summary': "SM le Roi donne ses instructions pour l'envoi d'une aide humanitaire et médicale d'urgence à Gaza. Sa Majesté le Roi Mohammed VI, Président du Comité Al-Qods, a donné ses Tinstructions pour l'envoi d'une aide humanitaire et médicale d'urgence en faveur du peuple palestinien frère, en particulier les populations de la bande de Gaza, indique, mercredi, un communiqué du ministère des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger.", 'size': 5}, {'id': '199', 'title': 'Palestine : Le roi Mohammed VI donne ses instructions pour acheminer les aides', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173146/palestine-mohammed-donne-instructions-pour.html', 'summary': 'Palestine : Le roi Mohammed VI donne ses instructions pour acheminer les aides. Le roi Mohammed VI, président du Comité Al-Qods, a donné ses instructions pour lenvoi dune aide humanitaire et médicale durgence en faveur du peuple palestinien frère, en particulier les populations de la bande de Gaza, indique, mercredi, un communiqué du ministère des Affaires étrangères, de la doopération africaine et des Marocains résidant à l’étranger.', 'size': 5}, {'id': '205', 'title': 'S.M. le Roi ordonne le déploiement immédiat d’une aide humanitaire et médicale en faveur du peuple palestinien', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/sm-le-roi-ordonne-le-deploiement-immediat-dune-aide-humanitaire-et-medicale-en-faveur-du-peuple-palestinien/', 'summary': 'S.M. le Roi ordonne le déploiement immédiat d’une aide humanitaire et médicale en faveur du peuple palestinien. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, Président du Comité Al-Qods, a donné Ses Très Hautes Instructions pour l’envoi d’une aide humanitaire et médicale d’urgence en faveur du peuple palestinien frère, en particulier les populations de la bande de Gaza, indique, mercredi, un communiqué du ministère des Affaires étrangères, de la Coopération africaine .', 'size': 5}, {'id': '209', 'title': 'Le Roi Mohammed VI donne ses instructions pour l’envoi d’une aide humanitaire et médicale d’urgence en faveur du peuple palestinien', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-roi-mohammed-vi-donne-ses-instructions-pour-lenvoi-dune-aide-humanitaire-et-medicale-durgence-en-faveur-du-peuple-palestinien.html', 'summary': 'Le Roi Mohammed VI donne ses instructions pour l’envoi d’une aide humanitaire et médicale d’urgence en faveur du peuple palestinien. Le Roi Mohammed VI, Président du Comité Al-Qods, a donné ses très hautes instructions pour l’envoi d’une aide humanitaire et médicale d’urgence en faveur du peuple palestinien, en particulier les populations de la bande de Gaza, indique, mercredi, un communiqué du ministère des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger. . L’article est apparu en premier sur .', 'size': 5}], 'main_title': "Le Roi Mohammed VI ordonne l'envoi d'aides humanitaires et médicales d'urgence à Gaza"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
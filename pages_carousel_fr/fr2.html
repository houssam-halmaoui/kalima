<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 18/08/2025 - 18h31</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '2', 'title': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs provinces', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437940-averses-orageuses-et-vague-de-chaleur-avec-chergui-de-lundi-a-mercredi-dans-plusieurs-provinces.html', 'summary': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs provinces. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur, avec chergui et des températures variant entre 39 et 47 °C, sont attendues, du lundi 18 au mercredi 20 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses . ', 'size': 5}, {'id': '52', 'title': 'Nouvelle vague de chaleur ce début de semaine dans plusieurs régions du Maroc', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/nouvelle-vague-de-chaleur-ce-debut-de-semaine-dans-plusieurs-regions-du-maroc_1946785/', 'summary': 'Nouvelle vague de chaleur ce début de semaine dans plusieurs régions du Maroc. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur, avec chergui et des températures variant entre 39 et 47 °C, sont attendues, du lundi 18 au mercredi 20 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses.', 'size': 5}, {'id': '72', 'title': 'Alerte météo: Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/alerte-meteo-averses-orageuses-et-vague-de-chaleur-avec-chergui-de-lundi-a-mercredi', 'summary': 'Alerte météo: Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur, avec chergui et des températures variant entre 39 et 47 °C, sont attendues, du lundi 18 au mercredi 20 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses .', 'size': 5}, {'id': '87', 'title': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs provinces du Royaume', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/averses-orageuses-et-vague-de-chaleur-avec-chergui-de-lundi/', 'summary': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs provinces du Royaume. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur, avec chergui et des températures variant entre 39 et 47 °C, sont attendues, du lundi 18 au mercredi 20 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses .', 'size': 5}, {'id': '106', 'title': 'Météo: Averses orageuses et vague de chaleur avec chergui au menu', 'source': 'lnt.ma', 'link': 'https://lnt.ma/meteo-averses-orageuses-et-vague-de-chaleur-avec-chergui-au-menu/', 'summary': 'Météo: Averses orageuses et vague de chaleur avec chergui au menu. Des averses orageuses avec chutes de grêle et rafales de vent sous orages et une vague de chaleur, avec chergui et des températures variant entre 39 et 47 °C, sont attendues, du lundi 18 au mercredi 20 août, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Ces averses orageuses . ', 'size': 5}], 'main_title': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs provinces'}, {'community_id': '1', 'articles': [{'id': '4', 'title': 'Notation souveraine : ce que recommande le PNUD au Maroc', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437909-notation-souveraine-ce-que-recommande-le-pnud-au-maroc.html', 'summary': 'Notation souveraine : ce que recommande le PNUD au Maroc. Selon le Programme des Nations unies pour le développement (PNUD), améliorer la qualité des notations souveraines est devenu un enjeu central pour l’Afrique. Le Maroc, déjà considéré comme l’un des pays relativement mieux notés de la région, se trouve directement concerné par les recommandations émises dans le dernier rapport du Programme. L’importance des notations souveraines . ', 'size': 2}, {'id': '131', 'title': 'Notation souveraine : le Maroc, îlot de stabilité dans une Afrique en quête de crédibilité', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/notation-le-maroc-ilot-de-stabilite-lafrique-en-quete-de-credibilite/297122', 'summary': 'Notation souveraine : le Maroc, îlot de stabilité dans une Afrique en quête de crédibilité. Dans son dernier rapport consacré à la notation souveraine, le Programme des Nations unies pour le développement (PNUD) met en lumière les paradoxes d’un continent africain en quêt.', 'size': 2}], 'main_title': 'Notation souveraine : ce que recommande le PNUD au Maroc'}, {'community_id': '5', 'articles': [{'id': '5', 'title': 'Revue de presse de ce lundi 18 août 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437930-revue-de-presse-de-ce-lundi-18-aout-2025.html', 'summary': 'Revue de presse de ce lundi 18 août 2025. Voici les principaux titres développés par la presse nationale ce lundi 18 août 2025 Le Matin Cartographie et cadastre: 2030 en ligne de mire, la Conservation foncière redéfinit sa stratégie À quelques mois de l’arrivée à terme de son Plan stratégique 2022-2025, l’Agence nationale de la conservation foncière, du cadastre et de la cartographie lance . ', 'size': 2}, {'id': '11', 'title': 'La Conservation foncière concocte sa nouvelle vision pour 2030', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/la-conservation-fonciere-prepare-sa-nouvelle-strategie-2030/296961', 'summary': 'La Conservation foncière concocte sa nouvelle vision pour 2030. À quelques mois de l’arrivée à échéance (fin décembre prochain) de son Plan stratégique 2022-2025, l’Agence nationale de la conservation foncière, du cadastre et de la cartographie.', 'size': 2}], 'main_title': 'Revue de presse de ce lundi 18 août 2025'}, {'community_id': '3', 'articles': [{'id': '8', 'title': "Le temps qu'il fera ce lundi 18 août 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437924-le-temps-quil-fera-ce-lundi-18-aout-2025.html', 'summary': "Le temps qu'il fera ce lundi 18 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 18 août 2025: – Temps chaud à localement très chaud avec chergui local sur les plaines intérieures Nord et Centre, la Méditerranée, le Nord de l’Oriental, le Sud-Est et l’intérieur du Souss et des provinces sahariennes. – Nuages bas avec . ", 'size': 2}, {'id': '64', 'title': 'Les prévisions du lundi 18 août 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-lundi-18-aout-2025-308679/', 'summary': 'Les prévisions du lundi 18 août 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 18 août 2025. -Temps chaud à localement très chaud avec chergui local sur les plaines intérieures Nord et Centre, la Méditerranée, le Nord de l’Oriental, le Sud-Est et l’intérieur du Souss et des provinces sahariennes.', 'size': 2}], 'main_title': "Le temps qu'il fera ce lundi 18 août 2025"}, {'community_id': '4', 'articles': [{'id': '10', 'title': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs régions (Alerte météo)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/averses-orageuses-et-vague-de-chaleur-dans-plusieurs-regions-du-maroc/297017', 'summary': "Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs régions (Alerte météo). Ces averses orageuses avec chutes de grêle et des rafales de vent sous orages (20 à 40 mm) sont prévues lundi de 15h à 23h dans les provinces d'Al Haouz, Ouarzazate et Taroudan.", 'size': 2}, {'id': '83', 'title': 'Météo: Orages violents et vague de chaleur dans plusieurs provinces', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/climat/meteo-orages-violents-et-vague-de-chaleur-dans-plusieurs-provinces/', 'summary': "Météo: Orages violents et vague de chaleur dans plusieurs provinces. Les averses orageuses avec chutes de grêle et des rafales de vent sous orages sont prévues à partir de ce lundi 18 août dans les provinces d'Al Haouz, Ouarzazate et Taroudant.", 'size': 2}], 'main_title': 'Averses orageuses et vague de chaleur avec chergui, de lundi à mercredi dans plusieurs régions (Alerte météo)'}, {'community_id': '13', 'articles': [{'id': '29', 'title': 'Hassan Baraka devient le premier athlète marocain à boucler le tour de Manhattan à la nage', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/hassan-baraka-premier-marocain-a-reussir-le-tour-de-manhattan-a-la-nage/296858', 'summary': 'Hassan Baraka devient le premier athlète marocain à boucler le tour de Manhattan à la nage. L’aventure s’est déroulée vendredi 15 août à New York. Parti en fin de matinée du sud de Manhattan, Hassan Baraka a parcouru les 48,5 km dans le sens inverse des aiguilles d’une mo.', 'size': 3}, {'id': '59', 'title': "Hassan Baraka réussit l'exploit du tour de Manhattan à la nage", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/hassan-baraka-reussit-lexploit-du-tour-de-manhattan-a-la-nage_1946747/', 'summary': "Hassan Baraka réussit l'exploit du tour de Manhattan à la nage. L’athlète Hassan Baraka a accompli vendredi 15 août l’exploit du tour à la nage de l’île de Manhattan, à New York, sur une distance de 48,5 km, devenant le premier Marocain à réussir cette performance. Baraka a entamé ce challenge vendredi en fin de matinée (heure locale) au sud de l’île de Manhattan, avant de.", 'size': 3}, {'id': '102', 'title': 'L’athlète marocain Hassan Baraka réussit l’exploit du tour de Manhattan à la nage', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/usa-lathlete-marocain-hassan-baraka-reussit-lexploit-du-tour-de-manhattan-a-la-nage.html', 'summary': 'L’athlète marocain Hassan Baraka réussit l’exploit du tour de Manhattan à la nage. L’athlète Hassan Baraka a accompli vendredi l’exploit du tour à la nage de l’île de Manhattan à New York sur une distance de 48,5 km devenant le premier Marocain à réussir cette performance. Baraka a entamé ce challenge vendredi en fin de matinée (heure locale) au sud de l’île de Manhattan, avant de faire le . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Hassan Baraka devient le premier athlète marocain à boucler le tour de Manhattan à la nage'}, {'community_id': '12', 'articles': [{'id': '44', 'title': "\u200bSous les feux d'artifice: Clôture triomphale du Moussem Moulay Abdallah Amghar", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bSous-les-feux-d-artifice-Cloture-triomphale-du-Moussem-Moulay-Abdallah-Amghar_a70884.html', 'summary': "\u200bSous les feux d'artifice: Clôture triomphale du Moussem Moulay Abdallah Amghar. L’édition 2025 du Moussem Moulay Abdellah Amghar s’est achevée ce samedi 16 août par un feu d’artifice monumental, illuminant le ciel de Moulay Abdellah sous les yeux subjugués de milliers de spectateurs. Cet épilogue féerique a couronné huit jours de festivités, confirmant le statut de l’événement comme le plus grand rassemblement culturel et religieux du Maroc, placé sous le Haut Patronage de Sa Majesté le Roi Mohammed VI .", 'size': 3}, {'id': '76', 'title': 'Clap de fin des festivités du Moussem Moulay Abdallah Amghar', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/clap-de-fin-des-festivites-du-moussem-moulay-abdallah-amghar', 'summary': 'Clap de fin des festivités du Moussem Moulay Abdallah Amghar. Les festivités du Moussem Moulay Abdellah Amghar, l’une des plus importantes manifestations religieuses et culturelles du Royaume, ont pris fin samedi soir. La cérémonie de clôture de ce festival placé sous le Haut patronage de Sa Majesté le Roi Mohammed VI, a été marquée par l’organisation de prestations artistiques variées, dans une ambiance festive mêlant .', 'size': 3}, {'id': '108', 'title': 'El Jadida: Clap de fin des festivités du Moussem Moulay Abdallah Amghar', 'source': 'lnt.ma', 'link': 'https://lnt.ma/el-jadida-clap-de-fin-des-festivites-du-moussem-moulay-abdallah-amghar/', 'summary': 'El Jadida: Clap de fin des festivités du Moussem Moulay Abdallah Amghar. Les festivités du Moussem Moulay Abdellah Amghar, l’une des plus importantes manifestations religieuses et culturelles du Royaume, ont pris fin samedi soir. La cérémonie de clôture de ce festival placé sous le Haut Patronage de SM le Roi Mohammed VI a été marquée par l’organisation de prestations artistiques variées, dans une ambiance festive mêlant arts . ', 'size': 3}], 'main_title': "\u200bSous les feux d'artifice: Clôture triomphale du Moussem Moulay Abdallah Amghar"}, {'community_id': '9', 'articles': [{'id': '54', 'title': 'Développement territorial : Laftit ordonne un démarrage immédiat et met en garde contre la récupération politique', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/developpement-territorial-laftit-ordonne-un-demarrage-immediat-et-met-en-garde-contre-la-recuperation-politique_1946773/', 'summary': 'Développement territorial : Laftit ordonne un démarrage immédiat et met en garde contre la récupération politique. Le ministre de l’Intérieur, Abdelouafi Laftit, a adressé une circulaire aux walis, aux gouverneurs et aux présidents des collectivités territoriales les sommant d’engager, sans délai, l’élaboration d’une “nouvelle génération” de programmes de développement territorial intégrés, conformément aux orientations contenues dans le discours royal du 29 juillet 2025. Ce rappel vient remettre au centre de l’action.', 'size': 3}, {'id': '132', 'title': "Laftit mobilise les walis et gouverneurs pour le lancement d'une nouvelle génération de programmes territoriaux", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/vers-une-nouvelle-generation-de-programmes-territoriaux/297119', 'summary': "Laftit mobilise les walis et gouverneurs pour le lancement d'une nouvelle génération de programmes territoriaux. Le ministre de l’intérieur, Abdelouafi Laftit, a appelé l’ensemble des walis et gouverneurs du Royaume à appliquer sans délai les Orientations Royales énoncées dans le discours du.", 'size': 3}, {'id': '139', 'title': 'Laftit appelle les walis à préparer de nouveaux programmes intégrés de développement territorial', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Laftit-appelle-les-walis-a-preparer-de-nouveaux-programmes-integres-de-developpement-territorial_a70901.html', 'summary': 'Laftit appelle les walis à préparer de nouveaux programmes intégrés de développement territorial. Le ministre de l’Intérieur, Abdelouafi Laftit, a adressé, vendredi 15 août, une circulaire aux walis et gouverneurs, les invitant à préparer une nouvelle génération de programmes intégrés de développement territorial, conformément aux orientations du discours du Trône.', 'size': 3}], 'main_title': 'Développement territorial : Laftit ordonne un démarrage immédiat et met en garde contre la récupération politique'}, {'community_id': '2', 'articles': [{'id': '56', 'title': 'Casablanca : sit-in de soutien pour le militant Sion Assidon à l’hôpital Cheikh Khalifa', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/casablanca-veillee-de-soutien-pour-le-militant-sion-assidon-a-lhopital-cheikh-khalifa_1946756/', 'summary': 'Casablanca : sit-in de soutien pour le militant Sion Assidon à l’hôpital Cheikh Khalifa. Plusieurs proches, amis et compagnons de lutte se sont rassemblées dimanche 17 août après-midi devant l’entrée de l’hôpital universitaire international Cheikh Khalifa à Casablanca pour un sit-in de soutien symbolique en faveur du militant et défenseur des droits humains Sion Assidon, actuellement plongé dans le coma après avoir été retrouvé inconscient à son domicile de.', 'size': 2}, {'id': '159', 'title': 'Casablanca\xa0: Une veillée silencieuse devant le lieu d’hospitalisation de Sion Assidon', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174460/casablanca-veillee-silencieuse-devant-lieu.html', 'summary': 'Casablanca : Une veillée silencieuse devant le lieu d’hospitalisation de Sion Assidon. Le secrétariat national du Front marocain de soutien à la Palestine et contre la normalisation a annoncé la tenue d’une veillée silencieuse, ce lundi 18 août à partir de 19 heures, devant l’hôpital universitaire international Cheikh Khalifa de Casablanca, où le militant Sion Assidon est admis en soins intensifs. La semaine dernière, le coordinateur de BDS Maroc (Boycott, désinvestissement et sanctions) a été initialement hospitalisé en urgence dans une clinique à Mohammedia, où il a subi une chirurgie cérébrale.', 'size': 2}], 'main_title': 'Casablanca : sit-in de soutien pour le militant Sion Assidon à l’hôpital Cheikh Khalifa'}, {'community_id': '11', 'articles': [{'id': '60', 'title': 'CHAN : les Lions de l’Atlas en quarts de finale après avoir battu la RD Congo', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/chan-les-lions-de-latlas-en-quarts-de-finale-apres-avoir-battu-la-rd-congo_1946741/', 'summary': 'CHAN : les Lions de l’Atlas en quarts de finale après avoir battu la RD Congo. L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour les quarts de finale du Championnat d’Afrique des nations de football (CHAN), en dominant la RD Congo sur le score de 3 buts à 1, en match de la 5e et dernière journée du groupe A, disputé dimanche au stade Nyayo à Nairobi. Les Lions.', 'size': 5}, {'id': '65', 'title': 'Championnat d’Afrique des nations\xa0de football: le Maroc file en quarts', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/championnat-dafrique-des-nations-de-football-le-maroc-file-en-quarts-308671/', 'summary': 'Championnat d’Afrique des nations de football: le Maroc file en quarts. La sélection marocaine des joueurs locaux s’est qualifiée pour les quarts de finale du Championnat d’Afrique des nations de football (CHAN), en battant la RD Congo par 3 buts à 1, en match comptant pour la 5e et dernière journée du groupe A, dimanche au stade Nyayo à Nairobi. Les', 'size': 5}, {'id': '85', 'title': 'CHAN-2024 : Le Maroc bat la RD Congo et se qualifie pour les quarts de finale', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/chan-2024-le-maroc-bat-la-rd-congo-et-se-qualifie-pour-les-quarts-de-finale/', 'summary': 'CHAN-2024 : Le Maroc bat la RD Congo et se qualifie pour les quarts de finale. L’équipe nationale des joueurs locaux s’est imposée par 3 buts à 1 contre la RD Congo, lors de la dernière journée du groupe A.', 'size': 5}, {'id': '100', 'title': 'CHAN-2024 : Les Lions de l’Atlas aux quarts de finale en dominant la RD Congo (3-1)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/chan-2024-les-lions-de-latlas-aux-quarts-de-finale-en-dominant-la-rd-congo-3-1.html', 'summary': 'CHAN-2024 : Les Lions de l’Atlas aux quarts de finale en dominant la RD Congo (3-1). L’équipe nationale du Maroc des joueurs locaux s’est qualifiée pour les quarts de finale du Championnat d’Afrique des nations de football (CHAN), en dominant la RD Congo sur le score de 3 buts à 1, en match de la 5e et dernière journée du groupe A, disputé dimanche au stade Nyayo à Nairobi. Les Lions . L’article est apparu en premier sur .', 'size': 5}, {'id': '105', 'title': 'CHAN 2024 | Le Maroc bat la RD Congo 3-1 et se qualifie pour les quarts de finale', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/chan-2024-le-maroc-bat-la-rd-congo-3-1-et-se-qualifie-pour-les-quarts-de-finale/', 'summary': 'CHAN 2024 | Le Maroc bat la RD Congo 3-1 et se qualifie pour les quarts de finale. La sélection marocaine des joueurs locaux s’est qualifiée pour les quarts de finale du Championnat d’Afrique des nations de football (CHAN), en battant son homologue de la RD Congo par 3 buts à 1, en match de la 5e et dernière journée du groupe A, disputé dimanche au stade Nyayo à Nairobi. Les Lions de ', 'size': 5}], 'main_title': 'CHAN : les Lions de l’Atlas en quarts de finale après avoir battu la RD Congo'}, {'community_id': '6', 'articles': [{'id': '112', 'title': 'Moussem de Moulay Abdellah : Soupçon de viol collectif sur un enfant, le parquet intervient', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437966-moussem-de-moulay-abdellah-soupcon-de-viol-collectif-sur-un-enfant-le-parquet-intervient.html', 'summary': 'Moussem de Moulay Abdellah : Soupçon de viol collectif sur un enfant, le parquet intervient. Un enfant de 14 ans, orphelin de père et fils unique, a été victime présumée d’un viol collectif lors de sa visite au Mousse de Moulay Abdellah à El Jadida. Selon ses témoignages et ceux de sa mère, il a passé près d’une semaine avec plusieurs personnes sur le site avant de révéler les faits. « Je . ', 'size': 2}, {'id': '145', 'title': "Un mineur de 13 ans affirme avoir été victime d'un viol collectif au Moussem de Moulay Abdellah", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/viol-collectif-dun-mineur-au-moussem-moulay-abdellah_1946823/', 'summary': "Un mineur de 13 ans affirme avoir été victime d'un viol collectif au Moussem de Moulay Abdellah. Un drame d’une extrême gravité est venu assombrir la dernière édition du Moussem de Moulay Abdellah Amghar, près d’El Jadida. Un adolescent âgé de 13 ans, orphelin de père et dont la mère est en situation de handicap, affirme avoir été victime d’un viol collectif perpétré par une quinzaine de jeunes durant plusieurs jours. Originaire.", 'size': 3}, {'id': '160', 'title': 'El Jadida : Un mineur de 13 ans victime de viol collectif au moussem Moulay Abdellah Amghar', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174440/jadida-mineur-victime-viol-collectif.html', 'summary': 'El Jadida : Un mineur de 13 ans victime de viol collectif au moussem Moulay Abdellah Amghar. Le moussem Moulay Abdellah Amghar à El Jadida a été marqué par un incident dramatique, lorsqu’un garçon de 13 ans a été drogué puis violé par un groupe de jeunes hommes. La victime souffre actuellement de graves complications physiques et psychologiques, tandis que l’enquête est en cours pour identifier les mis en cause.', 'size': 2}], 'main_title': "Un mineur de 13 ans affirme avoir été victime d'un viol collectif au Moussem de Moulay Abdellah"}, {'community_id': '10', 'articles': [{'id': '120', 'title': 'Donald Trump veut abolir le vote par correspondance et les machines à voter', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/trump-veut-abolir-le-vote-par-correspondance-et-les-machines-a-voter/297126', 'summary': 'Donald Trump veut abolir le vote par correspondance et les machines à voter. Dans un message sur sa plateforme Truth Social, le président a soutenu que cette action entend contribuer à apporter de l’honnêteté en perspective des élections de mi-m.', 'size': 2}, {'id': '173', 'title': 'Trump veut abolir le vote par correspondance et les machines à voter', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/trump-veut-abolir-le-vote-par-correspondance-et-les-machines-a-voter/', 'summary': 'Trump veut abolir le vote par correspondance et les machines à voter. Le président américain Donald Trump a annoncé, lundi, qu’il s’apprêtait à signer un décret et lancer une campagne pour abolir le vote par correspondance et les machines à voter, synonymes selon lui de « fraudes » électorales. Dans un message sur sa plateforme Truth Social, le président a soutenu que cette action entend contribuer « à apporter de .', 'size': 2}], 'main_title': 'Donald Trump veut abolir le vote par correspondance et les machines à voter'}, {'community_id': '7', 'articles': [{'id': '142', 'title': "L'Espagne arrête deux présumés partisans de Daech en collaboration avec le Maroc", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/18/lespagne-arrete-deux-presumes-partisans-de-daech-en-collaboration-avec-le-maroc_1946856/', 'summary': "L'Espagne arrête deux présumés partisans de Daech en collaboration avec le Maroc. La Police nationale espagnole a annoncé, lundi, l’arrestation en Catalogne de deux individus présumés membres de l’organisation terroriste Daech, lors d’une opération menée en collaboration avec la Direction générale de la Surveillance du territoire (DGST). Les suspects, âgés de 24 et 26 ans, ont été arrêtés à Vallfogona de Balaguer, dans le nord-est de l’Espagne,.", 'size': 4}, {'id': '157', 'title': "Terrorisme : La coopération du Maroc permet l'arrestation de deux suspects en Espagne", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174459/terrorisme-cooperation-maroc-permet-l-arrestation.html', 'summary': "Terrorisme : La coopération du Maroc permet l'arrestation de deux suspects en Espagne. La Police nationale espagnole a annoncé, ce lundi, avoir arrêté deux individus pour leurs liens présumés avec le terrorisme jihadiste dans la ville de Vallfogona de Balaguer (Lleida). Effectuée jeudi dernier, cette interpellation sinscrit dans le cadre dune large opération sécuritaire, menée en coordination directe avec la Direction générale de la surveillance du territoire (DGST) du Maroc.", 'size': 4}, {'id': '168', 'title': 'Espagne : Interpellation de deux présumés partisans de Daech avec la collaboration de la DGST', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/securite/espagne-interpellation-de-deux-presumes-partisans-de-daech-avec-la-collaboration-de-la-dgst/', 'summary': "Espagne : Interpellation de deux présumés partisans de Daech avec la collaboration de la DGST. La Police nationale espagnole a annoncé, lundi, l'arrestation en Catalogne de deux individus présumés membres de l’organisation terroriste Daech, lors d'une opération menée en collaboration avec la Direction générale de la Surveillance du territoire (DGST).", 'size': 4}, {'id': '174', 'title': 'Espagne : Deux partisans présumés de Daech arrêtés avec l’aide de la DGST', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/espagne-deux-partisans-presumes-de-daech-arretes-avec-laide-de-la-dgst/', 'summary': 'Espagne : Deux partisans présumés de Daech arrêtés avec l’aide de la DGST. La Police nationale espagnole a annoncé, lundi, l’arrestation en Catalogne de deux individus présumés membres de l’organisation terroriste Daech, lors d’une opération menée en collaboration avec la Direction générale de la Surveillance du territoire (DGST). Les suspects, âgés de 24 et 26 ans, ont été arrêtés à Vallfogona de Balaguer, dans le nord-est de l’Espagne, .', 'size': 4}], 'main_title': "L'Espagne arrête deux présumés partisans de Daech en collaboration avec le Maroc"}, {'community_id': '8', 'articles': [{'id': '171', 'title': 'Banques : Léger repli du besoin de liquidité à 113 MMDH en juillet', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/banques-leger-repli-du-besoin-de-liquidite-a-113-mmdh-en-juillet/', 'summary': "Banques : Léger repli du besoin de liquidité à 113 MMDH en juillet. Selon Bank-Al-Maghrib, le besoin de liquidité des banques s'est établi, en juillet dernier, à 113 milliards de dirhams (MMDH) en moyenne hebdomadaire, après 114 MMDH un mois auparavant.", 'size': 2}, {'id': '176', 'title': 'Banques : un besoin de liquidité de 113 MMDH en juillet', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/banques-un-besoin-de-liquidite-de-113-mmdh-en-juillet/', 'summary': 'Banques : un besoin de liquidité de 113 MMDH en juillet. Le besoin de liquidité des banques s’est établi, en juillet dernier, à 113 milliards de dirhams (MMDH) en moyenne hebdomadaire, après 114 MMDH un mois auparavant, selon Bank Al-Maghrib (BAM). La Banque Centrale a, ainsi, ramené le volume global de ses injections à 128,8 MMDH, dont 50,7 MMDH sous forme d’avances à 7 jours, 44 .', 'size': 2}], 'main_title': 'Banques : Léger repli du besoin de liquidité à 113 MMDH en juillet'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 30/08/2025 - 12h25</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '2', 'title': 'Le réalisateur de Parasite, Bong Joon Ho, présidera le jury de la 22e édition du FIFM', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439129-le-realisateur-de-parasite-bong-joon-ho-presidera-le-jury-de-la-22e-edition-du-fifm.html', 'summary': 'Le réalisateur de Parasite, Bong Joon Ho, présidera le jury de la 22e édition du FIFM. Le Festival International du Film de Marrakech a annoncé avec enthousiasme que le réalisateur sud-coréen Bong Joon Ho, couronné par les plus prestigieuses récompenses internationales, présidera le jury de sa 22e édition, prévue du 28 novembre au 6 décembre 2025. À cette occasion, le jury qu’il dirigera décernera l’Étoile d’or à l’un des 14 premiers . ', 'size': 5}, {'id': '37', 'title': 'Auteur de Parasite, Bong Joon Ho présidera le jury de la 22ème édition du FIFM', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/bong-joon-ho-presidera-le-jury-du-festival-de-marrakech-2025/298682', 'summary': 'Auteur de Parasite, Bong Joon Ho présidera le jury de la 22ème édition du FIFM. C’est un coup d’éclat pour le Festival International du Film de Marrakech. Pour sa 22e édition, prévue du 28 novembre au 6 décembre 2025, le prestigieux rendez-vous du 7e art au Ma.', 'size': 4}, {'id': '60', 'title': 'Le réalisateur sud-coréen Bong Joon Ho, auteur de Parasite, à la tête du jury du Festival de Marrakech', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-realisateur-sud-coreen-Bong-Joon-Ho-auteur-de-Parasite-a-la-tete-du-jury-du-Festival-de-Marrakech_a71189.html', 'summary': 'Le réalisateur sud-coréen Bong Joon Ho, auteur de Parasite, à la tête du jury du Festival de Marrakech. Le réalisateur et scénariste sud-coréen, Bong Joon Ho, à l’origine du film Parasite, présidera le jury de la 22ᵉ édition du Festival international du film de Marrakech, qui se déroulera du 28 novembre au 6 décembre 2025.', 'size': 5}, {'id': '76', 'title': 'Le réalisateur sud-coréen Bong Joon Ho, président de la 22e édition du Festival international du film de Marrakech', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/29/le-realisateur-sud-coreen-bong-joon-ho-president-de-la-22e-edition-du-festival-international-du-film-de-marrakech_1947975/', 'summary': 'Le réalisateur sud-coréen Bong Joon Ho, président de la 22e édition du Festival international du film de Marrakech. Bong Joon Ho, le réalisateur sud-coréen oscarisé pour « Parasite » et entré dans l’histoire comme premier cinéaste non anglophone à remporter l’Oscar du Meilleur film, présidera le jury de la 22e édition du Festival international du film de Marrakech, du 28 novembre au 6 décembre 2025. Le réalisateur sud-coréen, Bong Joon Ho, couronné par les plus.', 'size': 4}, {'id': '136', 'title': 'Bong Joon Ho présidera le jury du Festival de Marrakech 2025', 'source': 'lnt.ma', 'link': 'https://lnt.ma/bong-joon-ho-presidera-le-jury-du-festival-de-marrakech-2025/', 'summary': 'Bong Joon Ho présidera le jury du Festival de Marrakech 2025. Le réalisateur sud-coréen, Bong Joon Ho, couronné par les plus grands prix internationaux dont l’Oscar, présidera le jury de la 22e édition du Festival international du film de Marrakech, prévue du 28 novembre au 6 décembre 2025. Le jury de cette édition décernera l’Étoile d’or à l’un des 14 premiers et seconds longs métrages de . ', 'size': 5}], 'main_title': 'Le réalisateur de Parasite, Bong Joon Ho, présidera le jury de la 22e édition du FIFM'}, {'community_id': '1', 'articles': [{'id': '6', 'title': 'CHAN 2024: Le Sénégal prend la 3e place du classement', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439139-chan-2024-le-senegal-prend-la-3e-place-du-classement.html', 'summary': 'CHAN 2024: Le Sénégal prend la 3e place du classement. La sélection nationale sénégalaise des joueurs locaux a pris la troisième place du championnat d’Afrique des nations de football (CHAN-2024), en battant son homologue du Soudan par 4 tirs au but à 2 (temps réglementaire: 1-1), en match de classement, vendredi à Kampala. Lors du temps réglementaire, le Soudan a ouvert le score par le . ', 'size': 2}, {'id': '98', 'title': 'CHAN : Le Sénégal\xa0remporte le bronze devant le Soudan', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/chan-le-senegal-remporte-le-bronze-devant-le-soudan/', 'summary': "CHAN : Le Sénégal remporte le bronze devant le Soudan. Les lions locaux du Sénégal ont arraché la victoire aux tirs au but (4-2) et s'emparent de la 3ème place. La finale du CHAN opposera le Maroc au Madagascar, samedi au stade international Moi de Kasarani à Nairobi (16h00 GMT+1).", 'size': 2}], 'main_title': 'CHAN 2024: Le Sénégal prend la 3e place du classement'}, {'community_id': '9', 'articles': [{'id': '12', 'title': 'Des congressmen US réaffirment la reconnaissance par les Etats-Unis de la souveraineté du Maroc sur son Sahara', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/des-congressmen-us-reaffirment-le-soutien-americain-au-plan-dautonomie/298827', 'summary': 'Des congressmen US réaffirment la reconnaissance par les Etats-Unis de la souveraineté du Maroc sur son Sahara. A l’issue d’entretiens avec le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, ils ont également mis en exergu.', 'size': 2}, {'id': '46', 'title': 'En visite au Maroc, des congressmen appellent à davantage d’investissements américains au Sahara', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/En-visite-au-Maroc-des-congressmen-appellent-a-davantage-d-investissements-americains-au-Sahara_a71207.html', 'summary': 'En visite au Maroc, des congressmen appellent à davantage d’investissements américains au Sahara. Des membres du Congrès américain ont réaffirmé, vendredi à Rabat, la reconnaissance par les Etats-Unis d’Amérique de la souveraineté du Maroc sur son Sahara.', 'size': 3}, {'id': '101', 'title': 'Sahara : Des membres du Congrès américain réaffirment la souveraineté du Maroc', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/sahara-des-membres-du-congres-americain-reaffirment-la-souverainete-du-maroc/', 'summary': 'Sahara : Des membres du Congrès américain réaffirment la souveraineté du Maroc. "Nous nous réjouissons des perspectives de coopération entre le Maroc et les Etats-Unis, en particulier au Sahara", a souligné le congressman Mike Lawler, mettant en avant la reconnaissance par Washington de la souveraineté du Royaume sur son Sahara.', 'size': 3}, {'id': '128', 'title': 'Des congressmen américains réaffirment à Rabat la souveraineté du Maroc sur son Sahara', 'source': 'lnt.ma', 'link': 'https://lnt.ma/des-congressmen-americains-reaffirment-a-rabat-la-souverainete-du-maroc-sur-son-sahara/', 'summary': 'Des congressmen américains réaffirment à Rabat la souveraineté du Maroc sur son Sahara. Des membres du Congrès américain ont réaffirmé, vendredi à Rabat, la reconnaissance par les Etats-Unis d’Amérique de la souveraineté du Maroc sur son Sahara. A l’issue d’entretiens avec le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, ils ont également mis en exergue les perspectives de la . ', 'size': 4}], 'main_title': 'Des congressmen américains réaffirment à Rabat la souveraineté du Maroc sur son Sahara'}, {'community_id': '3', 'articles': [{'id': '15', 'title': 'Tourisme : Recettes record de 67 milliards de dirhams à fin juillet 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tourisme-recettes-record-de-67-milliards-de-dirhams-a-fin-juillet-2025/298817', 'summary': 'Tourisme : Recettes record de 67 milliards de dirhams à fin juillet 2025. Le mois de juillet 2025 s’est particulièrement distingué avec 13 milliards de dirhams de recettes touristiques, enregistrant une croissance significative de +26% par rapport à juil.', 'size': 2}, {'id': '102', 'title': 'Tourisme : Des recettes record de 67 MMDH en sept mois', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/secteurs/tourisme-des-recettes-record-de-67-mmdh-en-sept-mois/', 'summary': "Tourisme : Des recettes record de 67 MMDH en sept mois. Le mois de juillet 2025 s'est particulièrement distingué avec 13 MMDH de recettes touristiques, enregistrant une croissance significative de 26% par rapport à juillet 2024.", 'size': 2}], 'main_title': 'Tourisme : Recettes record de 67 milliards de dirhams à fin juillet 2025'}, {'community_id': '8', 'articles': [{'id': '25', 'title': 'CHAN : A quelle heure et sur quelles chaines suivre la finale Maroc-Madagascar ?', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/a-quelle-heure-et-sur-quelles-chaines-suivre-la-finale-maroc-madagascar/298637', 'summary': "CHAN : A quelle heure et sur quelles chaines suivre la finale Maroc-Madagascar ?. Les Lions de l’Atlas ne sont plus qu’à 90 minutes d’un troisième sacre en Championnat d’Afrique des nations (CHAN). Les protégés de Tarik Sektioui affrontent en finale l'équipe.", 'size': 2}, {'id': '44', 'title': 'CHAN-2024 : Héroïques, les Lions de l’Atlas à un pas d’un troisième sacre', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CHAN-2024-Heroiques-les-Lions-de-l-Atlas-a-un-pas-d-un-troisieme-sacre_a71209.html', 'summary': 'CHAN-2024 : Héroïques, les Lions de l’Atlas à un pas d’un troisième sacre. Les Lions de l’Atlas se sont qualifiés haut la main pour la finale du Championnat d’Afrique des Nations (CHAN) en battant le Sénégal par 5 tirs au but à 3 après prolongations (temps réglementaire 1-1), en demi-finale disputée, mardi soir, au stade Mandela à Kampala, se rapprochant davantage d’un troisième sacre historique.', 'size': 3}, {'id': '139', 'title': 'CHAN 2024 : sifflet camerounais pour la finale Maroc-Madagascar', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439198-chan-2024-sifflet-camerounais-pour-la-finale-maroc-madagascar.html', 'summary': 'CHAN 2024 : sifflet camerounais pour la finale Maroc-Madagascar. La finale du Championnat d’Afrique des Nations (CHAN 2024) entre le Maroc et Madagascar, prévue ce samedi 30 août au Moi International Stadium de Kasarani à Nairobi (Kenya), sera dirigée par l’arbitre camerounais Abdou Abdel Mefire, qui avait déjà officié lors du premier match des locaux face à l’Angola remporté 2 à 0. Il sera . ', 'size': 2}], 'main_title': 'CHAN-2024 : Héroïques, les Lions de l’Atlas à un pas d’un troisième sacre'}, {'community_id': '5', 'articles': [{'id': '28', 'title': 'Classement futsal FIFA : le Maroc au 6è rang mondial masculin, bond de 16 places chez les dames', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/futsal-le-maroc-6-mondial-progression-historique-des-lionnes/298765', 'summary': 'Classement futsal FIFA : le Maroc au 6è rang mondial masculin, bond de 16 places chez les dames. Le nouveau classement FIFA de futsal maintient le Maroc dans le cercle fermé des meilleures nations mondiales. Chez les hommes, les Lions de l’Atlas occupent la 6ᵉ place avec 1480,.', 'size': 2}, {'id': '121', 'title': 'Classement futsal FIFA : Le Maroc progresse de 16 places chez les dames, toujours 6è chez les hommes', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/classement-futsal-fifa-le-maroc-progresse-de-16-places-chez-les-dames/', 'summary': 'Classement futsal FIFA : Le Maroc progresse de 16 places chez les dames, toujours 6è chez les hommes. La sélection féminine marocaine de futsal a gagné 16 places pour accéder au 31è rang mondial de futsal, avec un total de 963.37 points, selon le dernier Classement mondial de la discipline, publié vendredi par la FIFA. Les hommes occupent toujours la sixième place. « Avec 15 matches disputés, le Maroc a été l’équipe féminine la .', 'size': 2}], 'main_title': 'Classement futsal FIFA : le Maroc au 6è rang mondial masculin, bond de 16 places chez les dames'}, {'community_id': '6', 'articles': [{'id': '36', 'title': 'SNEP repasse dans le vert au premier semestre 2025 avec une hausse de 40% du chiffre d’affaires', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/snep-repasse-dans-le-vert-au-premier-semestre-2025/298683', 'summary': 'SNEP repasse dans le vert au premier semestre 2025 avec une hausse de 40% du chiffre d’affaires. Cette amélioration est avant tout portée par une hausse des volumes commercialisés dans la catégorie des produits vinyliques, segment central de l’activité de SNEP. Toutefois, le c.', 'size': 2}, {'id': '97', 'title': 'SNEP : Augmentation du chiffre d’affaires de 40% au 1er semestre 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/entreprises/snep-augmentation-du-chiffre-daffaires-de-40-au-1er-semestre-2025/', 'summary': 'SNEP : Augmentation du chiffre d’affaires de 40% au 1er semestre 2025. Cette croissance est principalement liée à la progression des volumes commercialisés des produits vinyliques, dans un contexte de forte pression sur les prix du PVC.', 'size': 2}], 'main_title': 'SNEP repasse dans le vert au premier semestre 2025 avec une hausse de 40% du chiffre d’affaires'}, {'community_id': '2', 'articles': [{'id': '55', 'title': 'La nouvelle rentrée universitaire menacée par les grèves', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/La-nouvelle-rentree-universitaire-menacee-par-les-greves_a71197.html', 'summary': 'La nouvelle rentrée universitaire menacée par les grèves. Le Syndicat national des fonctionnaires de l’enseignement supérieur et des cités universitaires, affilié à la Confédération démocratique du travail (CDT), s’apprête à organiser une série de grèves et de sit-in en septembre et octobre prochains. Il dénonce la politique de réforme du ministère de l’Enseignement supérieur, qui "exclut l’avis des professionnels", ainsi que "le retard accumulé dans la mise en œuvre du nouveau statut des fonctionnaires du secteur".', 'size': 2}, {'id': '78', 'title': 'La rentrée universitaire menacée par les grèves', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/29/la-rentree-universitaire-menacee-par-les-greves_1947963/', 'summary': 'La rentrée universitaire menacée par les grèves. La Syndicat national des fonctionnaires de l’enseignement supérieur et des cités universitaires, affilié à la CDT, a annoncé un programme de grèves nationales qui s’étendra sur septembre et octobre 2025. Cette décision intervient, selon un communiqué du bureau national, en réaction à ce qu’il qualifie de « désengagement du gouvernement » et de « manquement.', 'size': 2}], 'main_title': 'La nouvelle rentrée universitaire menacée par les grèves'}, {'community_id': '7', 'articles': [{'id': '56', 'title': 'Rapport CE : Sur un million de produits, seuls 82 subissent un contrôle douanier dans l’UE', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Rapport-CE-Sur-un-million-de-produits-seuls-82-subissent-un-controle-douanier-dans-l-UE_a71196.html', 'summary': "Rapport CE : Sur un million de produits, seuls 82 subissent un contrôle douanier dans l’UE. Seuls 82 produits sur un million entrant dans l'Union européenne (UE) ont subi un contrôle de douane en 2024, pointe un rapport de la Commission européenne.", 'size': 2}, {'id': '115', 'title': 'Seuls 82 produits sur 1 million entrant dans l’UE sont contrôlés par les douanes', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/seuls-82-produits-sur-1-million-entrant-dans-lue-sont-controles-par-les-douanes/', 'summary': 'Seuls 82 produits sur 1 million entrant dans l’UE sont contrôlés par les douanes. Seuls 82 produits sur un million entrant dans l’Union européenne (UE) ont subi un contrôle de douane en 2024, pointe un rapport de la Commission européenne. En raison de l’énorme expansion du commerce en ligne, les services douaniers européens sont de moins en moins en mesure de contrôler les colis pour en vérifier la conformité .', 'size': 2}], 'main_title': 'Rapport CE : Sur un million de produits, seuls 82 subissent un contrôle douanier dans l’UE'}, {'community_id': '11', 'articles': [{'id': '63', 'title': 'Tourisme : les recettes atteignent 67 milliards de DH à fin juillet 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/29/tourisme-les-recettes-atteignent-67-milliards-de-dh-a-fin-juillet-2025_1948078/', 'summary': 'Tourisme : les recettes atteignent 67 milliards de DH à fin juillet 2025. Les recettes voyages ont engrangé 67 milliards de dirhams (MMDH) durant les sept premiers mois de 2025, en hausse de 13% par rapport à la même période un an auparavant, selon le ministère du Tourisme. « Le secteur du tourisme poursuit sa dynamique de croissance en 2025. À fin juillet, avec l’accueil de 11,6 millions de.', 'size': 4}, {'id': '84', 'title': 'Tourisme : Recettes record de 67 milliards de dirhams à fin juillet 2025, une hausse de 13%', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/tourisme-recettes-record-de-67-milliards-de-dirhams-a-fin-juillet-2025-une-hausse-de-13', 'summary': 'Tourisme : Recettes record de 67 milliards de dirhams à fin juillet 2025, une hausse de 13%. Le secteur du tourisme poursuit sa dynamique de croissance en 2025. À fin juillet, avec l’accueil de 11.6 millions de touristes, en hausse de 16% par rapport à 2024, les recettes touristiques en devises ont atteint 67 milliards de dirhams. Ceci représente une hausse de près de 13% par rapport à la même période en .', 'size': 2}, {'id': '129', 'title': 'Tourisme : un record de 67 MMDH de recettes en sept mois', 'source': 'lnt.ma', 'link': 'https://lnt.ma/tourisme-un-record-de-67-mmdh-de-recettes-en-sept-mois/', 'summary': 'Tourisme : un record de 67 MMDH de recettes en sept mois. Les recettes voyages ont atteint un record de 67 milliards de dirhams (MMDH) durant les sept premiers mois de 2025, en hausse de 13% par rapport à la même période un an auparavant, selon le ministère du Tourisme, de l’Artisanat et de l’Economie Sociale et Solidaire. « Le secteur du tourisme poursuit sa dynamique de croissance . ', 'size': 3}, {'id': '172', 'title': 'Tourisme : des recettes record de 67 MMDH à fin juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/tourisme-des-recettes-record-de-67-mmdh-a-fin-juillet-2025/', 'summary': 'Tourisme : des recettes record de 67 MMDH à fin juillet 2025. Les recettes voyages ont atteint un record de 67 milliards de dirhams (MMDH) durant les sept premiers mois de 2025, en hausse de 13% par rapport à la même période un an auparavant, selon le ministère du Tourisme, de l’Artisanat et de l’Economie Sociale et Solidaire. « Le secteur du tourisme poursuit sa dynamique de croissance .', 'size': 3}], 'main_title': 'Tourisme : les recettes atteignent 67 milliards de DH à fin juillet 2025'}, {'community_id': '4', 'articles': [{'id': '73', 'title': 'Epson annonce une offre exclusive autour de sa gamme EcoTank pour soutenir l’apprentissage des jeunes', 'source': 'telquel.ma', 'link': 'https://telquel.ma/sponsors/epson-annonce-une-offre-exclusive-autour-de-sa-gamme-ecotank-pour-soutenir-lapprentissage-des-jeunes_1948024', 'summary': 'Epson annonce une offre exclusive autour de sa gamme EcoTank pour soutenir l’apprentissage des jeunes. Deux mois après l’annonce de son partenariat régional avec l’icône mondiale de la musique Shakira, également engagée en faveur de l’éducation et de l’inclusion des enfants dans les régions défavorisées, Epson inscrit cette rentrée scolaire sous le signe de l’innovation, de la créativité et du soutien à la jeunesse. La marque déploie ainsi une initiative.', 'size': 2}, {'id': '109', 'title': 'Rentrée scolaire : Epson soutient l’apprentissage numérique  avec sa gamme EcoTank', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/comese/rentree-scolaire-epson-soutient-lapprentissage-numerique-avec-sa-gamme-ecotank/', 'summary': 'Rentrée scolaire : Epson soutient l’apprentissage numérique avec sa gamme EcoTank. Deux mois après l’annonce de son partenariat régional avec l’icône mondiale de la musique Shakira, également engagée en faveur de l’éducation et de l’inclusion des enfants dans les régions défavorisées, Epson inscrit cette rentrée scolaire sous le signe de l’innovation, de la créativité et du soutien à la jeunesse.', 'size': 2}], 'main_title': 'Epson annonce une offre exclusive autour de sa gamme EcoTank pour soutenir l’apprentissage des jeunes'}, {'community_id': '10', 'articles': [{'id': '74', 'title': "Terrorisme: le Maroc et l'Irak signent un accord sur le transfert des prisonniers", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/29/terrorisme-le-maroc-et-lirak-signent-un-accord-sur-le-transfert-des-prisonniers_1947961/', 'summary': "Terrorisme: le Maroc et l'Irak signent un accord sur le transfert des prisonniers. Le Maroc et la République d’Irak ont conclu, jeudi à Rabat, une convention de coopération en matière de transfèrement des personnes condamnées à des peines privatives de liberté, ainsi qu’un mémorandum d’entente relatif à la coopération dans le domaine des peines alternatives. Signée par le ministre de la Justice, Abdellatif Ouahbi, et son homologue irakien,.", 'size': 2}, {'id': '126', 'title': 'Le Maroc et l’Irak renforcent leur coopération dans le domaine judiciaire', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-maroc-et-lirak-renforcent-leur-cooperation-dans-le-domaine-judiciaire.html', 'summary': "Le Maroc et l’Irak renforcent leur coopération dans le domaine judiciaire. Le Maroc et la République d'Irak ont conclu, jeudi à Rabat, une convention de coopération en matière de transfèrement des personnes condamnées à des peines privatives de liberté, ainsi qu’un mémorandum d’entente relatif à la coopération dans le domaine des peines alternatives. L’article est apparu en premier sur .", 'size': 2}], 'main_title': "Terrorisme: le Maroc et l'Irak signent un accord sur le transfert des prisonniers"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
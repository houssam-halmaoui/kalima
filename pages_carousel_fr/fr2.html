<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 02/08/2025 - 06h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '9', 'title': 'Mercato : Oussama El Azzouzi rejoint l’AJ Auxerre en prêt', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436068-mercato-oussama-el-azzouzi-rejoint-laj-auxerre-en-pret.html', 'summary': 'Mercato : Oussama El Azzouzi rejoint l’AJ Auxerre en prêt. L’AJ Auxerre a officialisé ce lundi l’arrivée d’Oussama El Azzouzi. Le milieu défensif marocain de 24 ans est prêté pour une saison par Bologne, pensionnaire de Serie A italienne. Il portera le numéro 17 sous les couleurs auxerroises. Formé aux Pays-Bas, El Azzouzi a évolué au sein de plusieurs centres de formation néerlandais avant de . ', 'size': 2}, {'id': '29', 'title': 'Mercato : Oussama El Azzouzi prêté à Auxerre par Bologne', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/mercato-oussama-el-azzouzi-prete-a-auxerre-par-bologne/294353', 'summary': 'Mercato : Oussama El Azzouzi prêté à Auxerre par Bologne. L’AJ Auxerre renforce son entrejeu avec l’arrivée d’Oussama El Azzouzi. Le joueur de 24 ans, prêté pour une saison par le Bologne FC (Serie A), portera le numéro 17 sous les couleu.', 'size': 2}], 'main_title': 'Mercato : Oussama El Azzouzi rejoint l’AJ Auxerre en prêt'}, {'community_id': '1', 'articles': [{'id': '19', 'title': '24 élèves marocains admis à l’École polytechnique de Paris pour la promotion 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/24-eleves-marocains-admis-a-lecole-polytechnique-de-paris-en-2025/294443', 'summary': '24 élèves marocains admis à l’École polytechnique de Paris pour la promotion 2025. Lors des épreuves écrites du concours 2025 du Cycle Ingénieur polytechnicien de l’École polytechnique (Paris), 56 candidats marocains ont été déclarés admissibles. À la suite.', 'size': 5}, {'id': '59', 'title': 'École polytechnique de Paris : 24 élèves marocains admis à la promotion 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/01/ecole-polytechnique-de-paris-24-eleves-marocains-admis-a-la-promotion-2025_1944899/', 'summary': 'École polytechnique de Paris : 24 élèves marocains admis à la promotion 2025. Vingt-quatre élèves marocains intégreront en septembre la prestigieuse École polytechnique de Paris, après avoir réussi le concours 2025 des classes préparatoires aux grandes écoles (CPGE). Ce qu’il s’est passé Lors des épreuves écrites du concours 2025 du Cycle Ingénieur polytechnicien, 56 candidats marocains ont été déclarés admissibles. Après les oraux et la publication des résultats.', 'size': 4}, {'id': '108', 'title': 'France : Vingt-quatre élèves marocains admis à l’École polytechnique de Paris', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173304/france-vingt-quatre-eleves-marocains-admis.html', 'summary': 'France : Vingt-quatre élèves marocains admis à l’École polytechnique de Paris. Vingt-quatre élèves marocains, ayant passé le concours classes préparatoires aux grandes écoles – CPGE, intégreront la promotion 2025 de l’École polytechnique de Paris en septembre, après avoir réussi les épreuves du concours 2025.', 'size': 5}, {'id': '162', 'title': '24 élèves marocains admis à l’École polytechnique de Paris', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/24-eleves-marocains-admis-a-lecole-polytechnique-de-paris/', 'summary': '24 élèves marocains admis à l’École polytechnique de Paris. Vingt-quatre élèves marocains, ayant passé le concours « classes préparatoires aux grandes écoles – CPGE », intégreront la promotion 2025 de l’École polytechnique de Paris en septembre, après avoir réussi les épreuves du concours 2025. « Lors des épreuves écrites du concours 2025 du Cycle Ingénieur polytechnicien de l’École polytechnique (Paris), 56 candidats marocains ont été déclarés admissibles. .', 'size': 4}, {'id': '235', 'title': 'Grandes écoles : 24 élèves marocains admis à l’École polytechnique de Paris', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/carriere/grandes-ecoles-24-eleves-marocains-admis-a-lecole-polytechnique-de-paris/', 'summary': 'Grandes écoles : 24 élèves marocains admis à l’École polytechnique de Paris. Les 24 candidats admis auront accès à une formation d’excellence en sciences et en ingénierie couplée à une formation humaine et militaire, caractéristique de l’Institution.', 'size': 3}], 'main_title': '24 élèves marocains admis à l’École polytechnique de Paris pour la promotion 2025'}, {'community_id': '11', 'articles': [{'id': '24', 'title': 'Vague de chaleur de samedi à mercredi dans plusieurs régions du Maroc', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/vague-de-chaleur-de-samedi-a-mercredi-dans-plusieurs-regions-du-maroc/294349', 'summary': 'Vague de chaleur de samedi à mercredi dans plusieurs régions du Maroc. Une vague de chaleur sera enregistrée samedi dans les provinces de Sidi Kacem, Sidi Slimane, Khouribga, Settat, El Kelâa des Sraghna, Marrakech, Moulay Yacoub, Taounate, Larache, O.', 'size': 2}, {'id': '64', 'title': 'Alerte canicule de samedi à mercredi prochain dans plusieurs provinces du Royaume', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/01/alerte-canicule-de-samedi-a-mercredi-prochain-dans-plusieurs-provinces-du-royaume_1944829/', 'summary': 'Alerte canicule de samedi à mercredi prochain dans plusieurs provinces du Royaume. Une vague de chaleur est prévue de samedi à mercredi dans plusieurs provinces du Royaume, avec des températures oscillant entre 41 et 45°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, une vague de chaleur sera enregistrée samedi dans les provinces de Sidi Kacem, Sidi Slimane, Khouribga, Settat, El Kelâa des Sraghna, Marrakech,.', 'size': 3}, {'id': '93', 'title': 'Vague de chaleur de samedi à mercredi dans plusieurs provinces du Royaume', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/vague-de-chaleur-de-samedi-a-mercredi-dans-plusieurs-provinces-du-royaume-307957/', 'summary': 'Vague de chaleur de samedi à mercredi dans plusieurs provinces du Royaume. Une vague de chaleur est prévue de samedi à mercredi dans plusieurs provinces du Royaume, avec des températures oscillant entre 41 et 45°C, a annoncé la Direction générale de la météorologie (DGM). Ainsi, une vague de chaleur sera enregistrée samedi dans les provinces de Sidi Kacem, Sidi Slimane, Khouribga, Settat,', 'size': 4}, {'id': '114', 'title': "Alerte météo : Jusqu'à 45°C de samedi à mercredi au Maroc", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173278/alerte-meteo-jusqu-a-samedi-mercredi.html', 'summary': "Alerte météo : Jusqu'à 45°C de samedi à mercredi au Maroc. Une vague de chaleur est prévue de samedi à mercredi dans plusieurs provinces du Maroc, avec des températures oscillant entre 41 et 45°C, a annoncé la Direction générale de la météorologie (DGM).", 'size': 3}, {'id': '145', 'title': 'Météo: Vague de chaleur de samedi à mercredi dans plusieurs provinces du Royaume', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/meteo-vague-de-chaleur-de-samedi-a-mercredi-dans-plusieurs-provinces-du-royaume/', 'summary': 'Météo: Vague de chaleur de samedi à mercredi dans plusieurs provinces du Royaume. Une vague de chaleur frappera plusieurs provinces du Royaume entre samedi et mercredi, avec des températures allant de 41 à 45°C, selon un bulletin d’alerte de niveau orange publié par la Direction générale de la météorologie.', 'size': 3}], 'main_title': 'Vague de chaleur de samedi à mercredi dans plusieurs provinces du Royaume'}, {'community_id': '3', 'articles': [{'id': '26', 'title': 'Crédit du Maroc lance CDM Pay, sa nouvelle filiale dédiée aux paiements électroniques', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/credit-du-maroc-lance-cdm-pay/294379', 'summary': 'Crédit du Maroc lance CDM Pay, sa nouvelle filiale dédiée aux paiements électroniques. Le lancement de CDM Pay intervient dans un contexte marqué par l’ouverture du marché des paiements électroniques au Maroc et s’inscrit pleinement dans les objectifs de la stratégie.', 'size': 3}, {'id': '112', 'title': 'Crédit du Maroc lance CDM Pay pour des services de paiement numérique', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173271/credit-maroc-lance-pour-services.html', 'summary': 'Crédit du Maroc lance CDM Pay pour des services de paiement numérique. Crédit du Maroc a annoncé vendredi 1er août le lancement de CDM Pay, une nouvelle filiale spécialisée dans les solutions de paiement électronique pour les commerçants, entrepreneurs et professions libérales.', 'size': 3}, {'id': '176', 'title': 'CDM Pay : une nouvelle filiale du groupe Crédit du Maroc au service de l’inclusion financière', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/cdm-pay-une-nouvelle-filiale-du-groupe-credit-du-maroc-au-service-de-linclusion-financiere.html', 'summary': 'CDM Pay : une nouvelle filiale du groupe Crédit du Maroc au service de l’inclusion financière. Dans un contexte marqué par l’accélération de la transformation digitale du secteur financier national, le groupe Crédit du Maroc annonce le lancement de CDM Pay, une nouvelle filiale spécialisée dans les solutions de paiement électronique dédiées aux commerçants, aux entrepreneurs et aux professions libérales. ', 'size': 3}], 'main_title': 'Crédit du Maroc lance CDM Pay, sa nouvelle filiale dédiée aux paiements électroniques'}, {'community_id': '4', 'articles': [{'id': '32', 'title': "Fête du Trône : S.M. le Roi, Amir Al-Mouminine, préside à Tétouan la cérémonie d'allégeance", 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/fete-du-trone-sm-le-roi-preside-a-tetouan-la-ceremonie-dallegeance/294301', 'summary': "Fête du Trône : S.M. le Roi, Amir Al-Mouminine, préside à Tétouan la cérémonie d'allégeance. Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, que Dieu L'assiste, accompagné de S.A.R. le Prince Héritier Moulay El Hassan, de S.A.R. le Prince Moulay Rachid et de S.A. le.", 'size': 2}, {'id': '204', 'title': 'Fête du Trône | SM le Roi, Amir Al-Mouminine, préside à Tétouan la cérémonie d’allégeance', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/fete-du-trone-sm-le-roi-amir-al-mouminine-preside-a-tetouan-la-ceremonie-dallegeance-3/', 'summary': 'Fête du Trône | SM le Roi, Amir Al-Mouminine, préside à Tétouan la cérémonie d’allégeance. Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, que Dieu L’assiste, accompagné de SAR le Prince Héritier Moulay El Hassan, de SAR le Prince Moulay Rachid et de SA le Prince Moulay Ahmed, a présidé, jeudi après-midi à la Place du Mechouar du Palais Royal de Tétouan, la cérémonie d’allégeance, en commémoration du 26e anniversaire ', 'size': 2}], 'main_title': "Fête du Trône : S.M. le Roi, Amir Al-Mouminine, préside à Tétouan la cérémonie d'allégeance"}, {'community_id': '5', 'articles': [{'id': '40', 'title': 'CDM(F) U-17 Maroc 2025 : La FIFA dévoile la liste des arbitres …sans le Maroc', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/CDM-F-U-17-Maroc-2025-La-FIFA-devoile-la-liste-des-arbitres-sans-le-Maroc_a70455.html', 'summary': 'CDM(F) U-17 Maroc 2025 : La FIFA dévoile la liste des arbitres sans le Maroc. La FIFA a révélé jeudi la liste des arbitres choisies pour la Coupe du Monde Féminine U-17 de la FIFA 2025, qui se déroulera du 17 octobre au 8 novembre 2025 au Maroc.', 'size': 4}, {'id': '120', 'title': 'La FIFA dévoile la liste des arbitres pour le Mondial féminin U17 Maroc 2025', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173244/fifa-devoile-liste-arbitres-pour.html', 'summary': 'La FIFA dévoile la liste des arbitres pour le Mondial féminin U17 Maroc 2025. La Commission des arbitres de la FIFA a annoncé, jeudi, la liste des officiels en charge des matchs de la Coupe du monde féminine U17 de la FIFA, Maroc 2025, qui se déroulera du 17 octobre au 8 novembre prochains.', 'size': 4}, {'id': '152', 'title': 'Le Maroc accueille le mondial féminin U17, la liste des arbitres dévoilée', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/le-maroc-accueille-le-mondial-feminin-u17-la-liste-des-arbitres-devoilee/', 'summary': 'Le Maroc accueille le mondial féminin U17, la liste des arbitres dévoilée. La Commission des arbitres de la FIFA a annoncé, jeudi, la liste des officiels en charge des matchs de la Coupe du Monde Féminine U-17 de la FIFA, Maroc 2025. La compétition se déroulera du 17 au 8 novembre prochains.', 'size': 4}, {'id': '198', 'title': 'La FIFA dévoile la liste des arbitres pour le Mondial féminin U-17 Maroc 2025', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/la-fifa-devoile-la-liste-des-arbitres-pour-le-mondial-feminin-u-17-maroc-2025.html', 'summary': 'La FIFA dévoile la liste des arbitres pour le Mondial féminin U-17 Maroc 2025. La Commission des arbitres de la FIFA a annoncé jeudi, la liste des officiels en charge des matchs de la Coupe du Monde Féminine U-17 de la FIFA Maroc 2025, qui se déroulera du 17 octobre au 8 novembre prochains. Au total, 54 arbitres (18 arbitres et 36 arbitres assistants) issus de 36 associations membres . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'CDM(F) U-17 Maroc 2025 : La FIFA dévoile la liste des arbitres …sans le Maroc'}, {'community_id': '6', 'articles': [{'id': '53', 'title': 'Pratiques anticoncurrentielles : Glovo conclut un accord avec le Conseil de la concurrence', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Pratiques-anticoncurrentielles-Glovo-conclut-un-accord-avec-le-Conseil-de-la-concurrence_a70440.html', 'summary': 'Pratiques anticoncurrentielles : Glovo conclut un accord avec le Conseil de la concurrence. Le Conseil de la concurrence a annoncé, ce 31 juillet, la conclusion d’un accord transactionnel avec GlovoApp Morocco SARL. Cette décision met fin à une procédure engagée pour pratiques anticoncurrentielles. L’entreprise a pris plusieurs engagements, parmi lesquels un plafonnement à 30% de ses commissions.', 'size': 2}, {'id': '85', 'title': 'Le Conseil de la concurrence tord le bras à Glovo', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/31/le-conseil-de-la-concurrence-tord-le-bras-a-glovo_1944723/', 'summary': 'Le Conseil de la concurrence tord le bras à Glovo. Le Conseil de la concurrence marocain a conclu un accord de transaction avec Glovo Morocco, mettant fin aux poursuites pour abus de position dominante sur le marché de la livraison de repas. L’accord impose à la plateforme de supprimer ses clauses d’exclusivité, de plafonner ses commissions à 30% et de renforcer la transparence de son.', 'size': 3}, {'id': '88', 'title': 'Glovo Maroc conclut un accord avec le Conseil de la concurrence et s’engage en faveur d’une plus grande transparence', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/glovo-maroc-conclut-un-accord-avec-le-conseil-de-la-concurrence-et-sengage-en-faveur-dune-plus-grande-transparence-307981/', 'summary': 'Glovo Maroc conclut un accord avec le Conseil de la concurrence et s’engage en faveur d’une plus grande transparence. La filiale marocaine de la plateforme de livraison Glovo a annoncé avoir conclu un accord transactionnel avec le Conseil de la concurrence. Cette décision met fin à une instruction ouverte par l’autorité de régulation dans le secteur de la livraison de repas à domicile. Tout au long de la procédure,', 'size': 3}, {'id': '206', 'title': 'Glovo Maroc et le Conseil de la concurrence trouvent un accord', 'source': 'lnt.ma', 'link': 'https://lnt.ma/glovo-maroc-et-le-conseil-de-la-concurrence-trouvent-un-accord/', 'summary': 'Glovo Maroc et le Conseil de la concurrence trouvent un accord. Le Conseil de la concurrence a annoncé, le 31 juillet 2025, la clôture de la procédure contentieuse engagée contre GlovoApp Morocco SARL, après approbation unanime d’un accord de transaction conclu avec la société de livraison de repas. Cette décision met fin à une instruction ouverte depuis février 2024 pour suspicion de pratiques anticoncurrentielles, notamment l’exploitation . ', 'size': 4}], 'main_title': 'Glovo Maroc et le Conseil de la concurrence trouvent un accord'}, {'community_id': '7', 'articles': [{'id': '57', 'title': 'Chèques sans provision : l’amnistie de 2024 engrange 5,4 milliards de DH', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/01/cheques-sans-provision-lamnistie-de-2024-engrange-54-milliards-de-dh_1944937/', 'summary': 'Chèques sans provision : l’amnistie de 2024 engrange 5,4 milliards de DH. Le nombre d’incidents de paiement sur chèques a reculé de 4,7% en 2024 pour s’établir à 487.613 cas, selon le rapport annuel de Bank Al-Maghrib (BAM). Ce qu’il s’est passé En valeur, les incidents déclarés ont baissé de 4% pour atteindre 16,1 milliards de dirhams (MMDH). Dans le même temps, les régularisations ont bondi.', 'size': 2}, {'id': '141', 'title': 'Incidents de paiement sur chèques : Repli de 4,7% en 2024', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/incidents-de-paiement-sur-cheques-repli-de-47-en-2024/', 'summary': 'Incidents de paiement sur chèques : Repli de 4,7% en 2024. La Centrale des Incidents de Paiement sur Chèques a recensé 487.613 incidents de paiement déclarés en 2024, en baisse de 4,7% par rapport à l’année précédente, selon Bank Al-Maghrib.', 'size': 2}, {'id': '159', 'title': 'Paiement sur chèques : repli des incidents déclarés de 4,7% en 2024', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/paiement-sur-cheques-repli-des-incidents-declares-de-47-en-2024/', 'summary': 'Paiement sur chèques : repli des incidents déclarés de 4,7% en 2024. La Centrale des Incidents de Paiement sur Chèques a recensé 487.613 incidents de paiement déclarés en 2024, en baisse de 4,7% par rapport à l’année précédente, selon Bank Al-Maghrib (BAM). En valeur, le montant de ces incidents a accusé un recul de 4% à 16,1 milliards de dirhams (MMDH), tandis que le nombre de régularisations .', 'size': 3}], 'main_title': 'Paiement sur chèques : repli des incidents déclarés de 4,7% en 2024'}, {'community_id': '8', 'articles': [{'id': '60', 'title': 'Marché des capitaux: plus de 53,71 MMDH de levées à fin juin 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/01/marche-des-capitaux-plus-de-5371-mmdh-de-levees-a-fin-juin-2025_1944895/', 'summary': 'Marché des capitaux: plus de 53,71 MMDH de levées à fin juin 2025. Les levées de capitaux ont atteint 53,71 milliards de dirhams (MMDH) à fin juin 2025, contre 53,92 MMDH à la même période de l’année précédente, selon l’Autorité marocaine du marché des capitaux (AMMC). Ces levées comprennent principalement les émissions obligataires totalisant 23,3 MMDH et les émissions de titres de créances négociables (TCN) avec 28,44 MMDH,.', 'size': 2}, {'id': '226', 'title': 'Le marché des capitaux quasi-stable au premier semestre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-marche-des-capitaux-quasi-stable-au-premier-semestre-2025-307992/', 'summary': 'Le marché des capitaux quasi-stable au premier semestre 2025. Au cours du premier semestre 2025, le marché des capitaux reste quasi-stable avec des levées de fonds de l’ordre de 53,71 milliards de dirhams (MMDH), contre 53,92 MMDH à la période de référence de l’année d’avant, d’après les indicateurs mensuels de l’AMMC. Ces levées comprennent principalement des émissions obligataires totalisant', 'size': 2}], 'main_title': 'Marché des capitaux: plus de 53,71 MMDH de levées à fin juin 2025'}, {'community_id': '9', 'articles': [{'id': '83', 'title': "Maroc-Sénégal : Ce que l'on sait du partenariat économique Rabat-Dakar", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/31/maroc-senegal-ce-que-lon-sait-du-partenariat-economique-rabat-dakar_1944727/', 'summary': "Maroc-Sénégal : Ce que l'on sait du partenariat économique Rabat-Dakar. À l’occasion d’un entretien accordé au quotidien gouvernemental sénégalais Le Soleil, le ministre marocain de l’Industrie et du Commerce, Ryad Mezzour, a détaillé les axes structurants de la coopération économique entre le Maroc et le Sénégal. Il a insisté sur l’importance d’un partenariat Sud-Sud fondé sur la solidarité, la confiance et une prospérité partagée. Ce.", 'size': 2}, {'id': '202', 'title': 'Ryad Mezzour dévoile les leviers de la coopération économique entre le Maroc et le Sénégal', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/ryad-mezzour-devoile-les-leviers-de-la-cooperation-economique-entre-le-maroc-et-le-senegal.html', 'summary': 'Ryad Mezzour dévoile les leviers de la coopération économique entre le Maroc et le Sénégal. Le ministre de l’Industrie et du Commerce, Ryad Mezzour, a dévoilé les fondements stratégiques de la coopération économique avec le Sénégal, soulignant l’engagement du Royaume en faveur d’un partenariat structuré et mutuellement bénéfique dans le cadre de l’intégration continentale. Dans un entretien au journal gouvernemental sénégalais « Le Soleil », le ministre marocain met en lumière la . L’article est apparu en premier sur .', 'size': 2}], 'main_title': "Maroc-Sénégal : Ce que l'on sait du partenariat économique Rabat-Dakar"}, {'community_id': '10', 'articles': [{'id': '90', 'title': 'Bank Al-Maghrib: un bénéfice de plus de 6,46 MMDH en 2024, une progression de 27%', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/bank-al-maghrib-un-benefice-de-plus-de-646-mmdh-en-2024-une-progression-de-27-307972/', 'summary': 'Bank Al-Maghrib: un bénéfice de plus de 6,46 MMDH en 2024, une progression de 27%. Bank Al-Maghrib a clôturé l’exercice 2024 avec un résultat net de 6,46 milliards de dirhams (MMDH), soit une progression de 27% par rapport à 2023, selon les données publiées par l’institution. « Au terme de l’exercice 2024, la Banque a enregistré un bénéfice de 6,46 MMDH contre 5,1 MMDH un an', 'size': 2}, {'id': '144', 'title': 'Bank Al-Maghrib améliore son résultat net à plus de 6,46 MMDH en 2024', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/bank-al-maghrib-ameliore-son-resultat-net-a-plus-de-646-mmdh-en-2024/', 'summary': 'Bank Al-Maghrib améliore son résultat net à plus de 6,46 MMDH en 2024. Bank Al-Maghrib a réalisé un bénéfice net de 6,46 milliards de dirhams en 2024, en hausse de 27 % par rapport à 2023, porté par la performance des réserves de change et des opérations monétaires, selon son rapport annuel.', 'size': 2}], 'main_title': 'Bank Al-Maghrib: un bénéfice de plus de 6,46 MMDH en 2024, une progression de 27%'}, {'community_id': '12', 'articles': [{'id': '99', 'title': 'Monnaie : Décélération sensible de la circulation fiduciaire en 2024', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/monnaie-deceleration-sensible-de-la-circulation-fiduciaire-en-2024-307914/', 'summary': 'Monnaie : Décélération sensible de la circulation fiduciaire en 2024. La monnaie fiduciaire a connu une décélération sensible en 2024, son encours s’établissant à 414,4 milliards de dirhams (MMDH), soit 25,9% du Produit intérieur brut (PIB), selon Bank Al-Maghrib (BAM). Après une forte expansion entre 2020 et 2023 à un rythme annuel moyen de 12%, la progression de la monnaie', 'size': 3}, {'id': '155', 'title': 'Utilisation du cash :  Après une forte expansion entre 2020 et 2023, la circulation fiduciaire décélère en 2024', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/utilisation-du-cash-apres-une-forte-expansion-entre-2020-et-2023-la-circulation-fiduciaire-decelere-en-2024/', 'summary': 'Utilisation du cash : Après une forte expansion entre 2020 et 2023, la circulation fiduciaire décélère en 2024. La monnaie fiduciaire a connu une décélération sensible en 2024, son encours s’établissant à 414,4 milliards de dirhams (MMDH), soit 25,9% du Produit intérieur brut (PIB), selon Bank Al-Maghrib (BAM).', 'size': 3}, {'id': '203', 'title': 'Maroc/Monnaie : Décélération sensible de la circulation fiduciaire à 414,4 MMDH en 2024 (BAM)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-monnaie-deceleration-sensible-de-la-circulation-fiduciaire-a-4144-mmdh-en-2024-bam.html', 'summary': 'Maroc/Monnaie : Décélération sensible de la circulation fiduciaire à 414,4 MMDH en 2024 (BAM). La monnaie fiduciaire a connu une décélération sensible en 2024, son encours s’établissant à 414,4 milliards de dirhams (MMDH), soit 25,9% du Produit intérieur brut (PIB), selon Bank Al-Maghrib (BAM). Après une forte expansion entre 2020 et 2023 à un rythme annuel moyen de 12%, la progression de la monnaie fiduciaire est revenue à 5,2% . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Monnaie : Décélération sensible de la circulation fiduciaire en 2024'}, {'community_id': '13', 'articles': [{'id': '106', 'title': 'COP15 Ramsar : Au Zimbabwe, le Maroc fait échouer les manœuvres politiques d’Alger', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173315/cop15-ramsar-zimbabwe-maroc-fait.html', 'summary': 'COP15 Ramsar : Au Zimbabwe, le Maroc fait échouer les manœuvres politiques d’Alger. Alors que l’Algérie a prévu de faire de la récente Conférence des parties (COP15) à la Convention sur les zones humides (Ramsar) une nouvelle arène politique contre le Maroc, ses tentatives se sont soldées par un échec cuisant sur tous les plans. Le royaume a non seulement fait retirer une proposition visant à déclasser les sites situés dans le Sahara, mais il a aussi intégré une deuxième ville au circuit de conservation.', 'size': 2}, {'id': '123', 'title': 'COP15 Ramsar : Le Maroc réaffirme son engagement pour les zones humides et déjoue une tentative de politisation de la Convention', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/cop15-ramsar-le-maroc-reaffirme-son-engagement-pour-les-zones-humides-et-dejoue-une-tentative-de-politisation-de-la-convention', 'summary': 'COP15 Ramsar : Le Maroc réaffirme son engagement pour les zones humides et déjoue une tentative de politisation de la Convention. La 15ᵉ session de la Conférence des Parties (COP15) à la Convention sur les zones humides (Ramsar) s’est tenue à Victoria Falls, au Zimbabwe, du 23 au 31 juillet 2025, avec la participation de représentants de plus de 170 Parties contractantes en vue de renforcer la gouvernance et la protection des zones humides à l’échelle .', 'size': 4}, {'id': '210', 'title': "COP15: Le Maroc s'engage pour le conservation des zones humides", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/436114-cop15-le-maroc-sengage-pour-le-conservation-des-zones-humides.html', 'summary': "COP15: Le Maroc s'engage pour le conservation des zones humides. La 15ᵉ session de la Conférence des Parties (COP15) à la Convention sur les zones humides (Ramsar) s’est tenue à Victoria Falls, au Zimbabwe, du 23 au 31 juillet 2025, avec la participation de représentants de plus de 170 Parties contractantes en vue de renforcer la gouvernance et la protection des zones humides à l’échelle . ", 'size': 4}, {'id': '222', 'title': 'COP15 Ramsar : Le consensus international déjoue une énième attaque algérienne contre l’intégrité territoriale du Maroc', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/COP15-Ramsar-Le-consensus-international-dejoue-une-enieme-attaque-algerienne-contre-l-integrite-territoriale-du-Maroc_a70463.html', 'summary': 'COP15 Ramsar : Le consensus international déjoue une énième attaque algérienne contre l’intégrité territoriale du Maroc. La 15ᵉ session de la Conférence des Parties (COP15) à la Convention sur les zones humides (Ramsar) s’est tenue à Victoria Falls (Zimbabwe) du 23 au 31 juillet 2025. Lors de cet événement international majeur, le Maroc s’est illustré par son engagement pour les zones humides, et a déjoué une tentative de politisation de la Convention par l’Algérie.', 'size': 5}, {'id': '243', 'title': 'COP15 Ramsar : le Maroc réaffirme son engagement pour les zones humides et déjoue une tentative de politisation de la Convention', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/cop15-ramsar-le-maroc-reaffirme-son-engagement-pour-les-zones-humides-et-dejoue-une-tentative-de-politisation-de-la-convention.html', 'summary': 'COP15 Ramsar : le Maroc réaffirme son engagement pour les zones humides et déjoue une tentative de politisation de la Convention. La 15ᵉ session de la Conférence des Parties (COP15) à la Convention sur les zones humides (Ramsar) s’est tenue à Victoria Falls au Zimbabwe du 23 au 31 juillet 2025 avec la participation de représentants de plus de 170 Parties contractantes en vue de renforcer la gouvernance et la protection des zones humides à l’échelle . L’article est apparu en premier sur .', 'size': 4}], 'main_title': 'COP15 Ramsar : Le consensus international déjoue une énième attaque algérienne contre l’intégrité territoriale du Maroc'}, {'community_id': '14', 'articles': [{'id': '107', 'title': 'Achraf Hakimi devant le tribunal pour des accusations de viol', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173312/achraf-hakimi-devant-tribunal-pour.html', 'summary': 'Achraf Hakimi devant le tribunal pour des accusations de viol. Le parquet de Nanterre, en France, a requis le renvoi dAchraf Hakimi, joueur international marocain évoluant au Paris Saint-Germain, devant la cour criminelle des Hauts-de-Seine. Lobjectif est de le juger pour des accusations de viol, des allégations que Hakimi a fermement niées depuis le début de lenquête.', 'size': 3}, {'id': '221', 'title': 'Hakimi risque 15 ans de prison !?', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Hakimi-risque-15-ans-de-prison-_a70465.html', 'summary': 'Hakimi risque 15 ans de prison !?. Le parquet de Nanterre a requis, dans un réquisitoire définitif daté du 1er août 2025, la mise en accusation d’Achraf Hakimi devant la cour criminelle des Hauts-de-Seine, rapporte Le Parisien. Le footballeur international marocain de 26 ans est soupçonné de viol, des faits qu’il conteste depuis le début de l’enquête.', 'size': 2}, {'id': '237', 'title': 'France: Achraf Hakimi visé par un réquisitoire pour viol', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/france-achraf-hakimi-vise-par-un-requisitoire-pour-viol/', 'summary': 'France: Achraf Hakimi visé par un réquisitoire pour viol. Le parquet de Nanterre a requis la mise en accusation du joueur Achraf Hakimi pour des faits présumés de viol datant de février 2023. Le latéral du PSG, qui conteste les accusations, reste sous contrôle judiciaire dans l’attente d’une décision du juge d’instruction. Achraf Hakimi, 26 ans, joueur du Paris Saint-Germain, est au centre d’une .', 'size': 2}], 'main_title': 'Achraf Hakimi devant le tribunal pour des accusations de viol'}, {'community_id': '15', 'articles': [{'id': '118', 'title': "Palestine : Le conseiller du président salue l'aide du roi Mohammed VI", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/173251/palestine-conseiller-president-salue-l-aide.html', 'summary': "Palestine : Le conseiller du président salue l'aide du roi Mohammed VI. Laide humanitaire et médicale durgence envoyée, sur instructions du roi Mohammed VI, président du Comité Al-Qods, en faveur du peuple palestinien, en particulier les populations de la bande de Gaza, est un geste royal noble sinscrivant dans la lignée des multiples initiatives du souverain en faveur de la cause palestinienne, a souligné, jeudi, le conseiller du président palestinien pour les affaires religieuses et les relations islamiques, Mahmoud El Habache.", 'size': 2}, {'id': '199', 'title': 'Aide au peuple palestinien : des étudiants palestiniens résidant au Maroc expriment leur profonde gratitude au Roi Mohammed VI', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/aide-au-peuple-palestinien-des-etudiants-palestiniens-residant-au-maroc-expriment-leur-profonde-gratitude-au-roi-mohammed-vi.html', 'summary': "Aide au peuple palestinien : des étudiants palestiniens résidant au Maroc expriment leur profonde gratitude au Roi Mohammed VI. Des étudiants palestiniens résidant au Maroc ont fait part jeudi de leur profonde gratitude et de leur grande considération et estime au Roi Mohammed VI, Président du Comité Al-Qods, pour l'aide humanitaire et médicale d'urgence envoyée sur Très Hautes Instructions Royales en faveur du peuple palestinien, en particulier les populations de la bande de Gaza. L’article est apparu en premier sur .", 'size': 2}], 'main_title': "Palestine : Le conseiller du président salue l'aide du roi Mohammed VI"}, {'community_id': '16', 'articles': [{'id': '127', 'title': 'Destiné aux collaborateurs de la banque : BMCI et ISCAE lancent le programme «Passerelles»', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/emploi/formation/destine-aux-collaborateurs-de-la-banque-bmci-et-iscae-lancent-le-programme-passerelles', 'summary': 'Destiné aux collaborateurs de la banque : BMCI et ISCAE lancent le programme «Passerelles». La BMCI et l’ISCAE s’allient pour renforcer les compétences des collaborateurs. Les deux institutions ont signé récemment une convention de partenariat portant sur le lancement du programme «Passerelles». Il s’agit d’un dispositif innovant de montée en compétence «upskilling» et de reconversion professionnelle « reskilling » destiné aux collaborateurs de la BMCI souhaitant évoluer vers d’autres métiers. «A .', 'size': 2}, {'id': '171', 'title': 'Formation continue et mobilité interne : le programme Passerelles ouvre les portes de l’ISCAE aux salariés de la BMCI', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/formation-continue-et-mobilite-interne-le-programme-passerelles-ouvre-les-portes-de-liscae-aux-salaries-de-la-bmci.html', 'summary': 'Formation continue et mobilité interne : le programme Passerelles ouvre les portes de l’ISCAE aux salariés de la BMCI. La BMCI et le Groupe ISCAE s’allient pour lancer un programme diplômant dédié aux collaborateurs de la banque. Objectif : favoriser la montée en compétences et l’évolution professionnelle des salariés, à travers un dispositif sur-mesure ouvrant l’accès aux formations d’excellence du Groupe ISCAE. ', 'size': 2}], 'main_title': 'Destiné aux collaborateurs de la banque : BMCI et ISCAE lancent le programme «Passerelles»'}, {'community_id': '2', 'articles': [{'id': '142', 'title': 'La Chambre des conseillers prend part aux travaux du 4e Congrès mondial du droit communautaire à Lima', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/la-chambre-des-conseillers-prend-part-aux-travaux-du-4e-congres-mondial-du-droit-communautaire-a-lima/', 'summary': "La Chambre des conseillers prend part aux travaux du 4e Congrès mondial du droit communautaire à Lima. Ce congrès, auquel la Chambre des conseillers participe dans le cadre du renforcement de ses relations de partenariat et de coopération avec le Parlement andin, a constitué une étape marquante de réflexion collective et d’échange fructueux, abordant les dimensions académique, politique, économique et humaine dans une approche globale des enjeux d'intégration aux niveaux régional et international.", 'size': 2}, {'id': '163', 'title': 'Participation marocaine au 4ᵉ Congrès mondial du droit communautaire à Lima', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/participation-marocaine-au-4%e1%b5%89-congres-mondial-du-droit-communautaire-a-lima/', 'summary': 'Participation marocaine au 4ᵉ Congrès mondial du droit communautaire à Lima. Une délégation de la Chambre des Conseillers a pris part aux travaux du 4e Congrès mondial du droit communautaire, tenu mercredi dans la capitale péruvienne, Lima, sous le thème « Les défis futurs de l’intégration mondiale ». Ce congrès, auquel la Chambre des conseillers participe dans le cadre du renforcement de ses relations de partenariat et de .', 'size': 2}], 'main_title': 'La Chambre des conseillers prend part aux travaux du 4e Congrès mondial du droit communautaire à Lima'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
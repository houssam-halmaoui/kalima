<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 15/08/2025 - 06h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '11', 'articles': [{'id': '2', 'title': 'Saisie record de cocaïne au large des Canaries grâce à la coopération du Maroc', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437632-saisie-record-de-cocaine-au-large-des-canaries-grace-a-la-cooperation-du-maroc.html', 'summary': 'Saisie record de cocaïne au large des Canaries grâce à la coopération du Maroc. Une importante opération antidrogue menée mercredi au large des îles Canaries a permis l’interception d’un navire transportant environ trois tonnes de cocaïne. L’arraisonnement, réalisé par le service de surveillance douanière et la Garde civile espagnols, s’est fait avec l’appui déterminant des autorités marocaines et de plusieurs partenaires internationaux. Le bâtiment en question, un remorqueur baptisé . ', 'size': 2}, {'id': '67', 'title': 'Avec le concours du Maroc, l’Espagne saisit 3 tonnes de cocaïne près des Canaries', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/avec-le-concours-du-maroc-lespagne-saisit-3-tonnes-de-cocaine-pres-des-canaries-308560/', 'summary': 'Avec le concours du Maroc, l’Espagne saisit 3 tonnes de cocaïne près des Canaries. Dans les eaux internationales à l’ouest des Canaries, le service de surveillance douanière de l’Agence fiscale et la Garde civile espagnols ont intercepté, mercredi, un navire nommé « Sky White », qui transportait à son bord environ 3.000 kilos de cocaïne, répartis en 80 ballots de différentes tailles. L’opération a bénéficié de', 'size': 3}, {'id': '105', 'title': 'Cocaïne aux Canaries : un navire intercepté avec l’aide du Maroc', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/cocaine-aux-canaries-un-navire-intercepte-avec-laide-du-maroc/', 'summary': 'Cocaïne aux Canaries : un navire intercepté avec l’aide du Maroc. Le service de surveillance douanière de l’Agence fiscale et la Garde civile espagnols ont intercepté, mercredi, avec la collaboration du Maroc, un navire de type remorqueur nommé « Sky White », qui transportait à son bord environ 3.000 kilos de cocaïne, répartis en 80 ballots de différentes tailles. L’opération a bénéficié de la collaboration internationale des services .', 'size': 3}, {'id': '143', 'title': 'Canaries : Interception d’un navire plein de cocaïne grâce à une opération maroco-espagnole', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Canaries-Interception-d-un-navire-plein-de-cocaine-grace-a-une-operation-maroco-espagnole_a70836.html', 'summary': 'Canaries : Interception d’un navire plein de cocaïne grâce à une opération maroco-espagnole. Le service de surveillance douanière de l\'Agence fiscale et la Garde civile espagnols ont intercepté, mercredi, avec la collaboration du Maroc, un navire de type remorqueur nommé "Sky White", qui transportait à son bord environ 3.000 kilos de cocaïne, répartis en 80 ballots de différentes tailles.', 'size': 4}], 'main_title': 'Canaries : Interception d’un navire plein de cocaïne grâce à une opération maroco-espagnole'}, {'community_id': '5', 'articles': [{'id': '11', 'title': 'Sommet Trump-Poutine : lueur d’espoir pour un cessez-le-feu en Ukraine', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/sommet-trump-poutine-lueur-despoir-pour-un-cessez-le-feu-en-ukraine/296533', 'summary': 'Sommet Trump-Poutine : lueur d’espoir pour un cessez-le-feu en Ukraine. Lors de cette première rencontre en personne depuis 2019, Trump et Poutine devront évoquer les conditions pour un cessez-le-feu entre la Russie et l’Ukraine. Les décisions prises a.', 'size': 2}, {'id': '48', 'title': 'Sommet Trump-Poutine en Alaska : lueur d’espoir pour un cessez-le-feu tant attendu en Ukraine', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/sommet-trump-poutine-en-alaska-lueur-despoir-pour-un-cessez-le-feu-tant-attendu-en-ukraine_1946537/', 'summary': 'Sommet Trump-Poutine en Alaska : lueur d’espoir pour un cessez-le-feu tant attendu en Ukraine. Le monde est aux aguets à la veille du sommet « historique » qui réunira, ce vendredi en Alaska, le président américain Donald Trump et son homologue russe Vladimir Poutine, dans la perspective de baliser la voie pour la paix et mettre fin à la guerre en Ukraine. Lors de cette première rencontre en personne depuis 2019,.', 'size': 2}], 'main_title': 'Sommet Trump-Poutine : lueur d’espoir pour un cessez-le-feu en Ukraine'}, {'community_id': '6', 'articles': [{'id': '31', 'title': 'Affaire de Ghita, percutée à la plage de Sidi Rahal  : Le coupable écope de 10 mois de prison ferme', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Affaire-de-Ghita-percutee-a-la-plage-de-Sidi-Rahal-Le-coupable-ecope-de-10-mois-de-prison-ferme_a70826.html', 'summary': 'Affaire de Ghita, percutée à la plage de Sidi Rahal : Le coupable écope de 10 mois de prison ferme. La Cour de première instance de Berrechid a condamné à 10 mois de prison ferme et à un dédommagement de 400.000 dirhams le coupable du tragique accident impliquant la fillette de 4 ans Ghita sur la plage de Sidi Rahal. Détails.', 'size': 2}, {'id': '53', 'title': '10 mois de prison ferme pour le conducteur qui avait renversé la petite Ghita sur la plage de Sidi Rahal', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/10-mois-de-prison-ferme-pour-le-conducteur-qui-avait-renverse-la-petite-ghita-sur-la-plage-de-sidi-rahal_1946507/', 'summary': '10 mois de prison ferme pour le conducteur qui avait renversé la petite Ghita sur la plage de Sidi Rahal. Le tribunal de première instance de Berrechid a rendu son jugement dans le dossier connu sous le nom de « l’affaire de la fillette Ghita », percutée par une voiture le 15 juin dernier sur la plage de Sidi Rahal, dans la région de Casablanca. Selon Hespress, le prévenu a été acquitté de l’accusation de modification des.', 'size': 2}], 'main_title': 'Affaire de Ghita, percutée à la plage de Sidi Rahal  : Le coupable écope de 10 mois de prison ferme'}, {'community_id': '0', 'articles': [{'id': '32', 'title': "Incendie à Chefchaouen: trois sur quatre principaux foyers maîtrisés, l'extinction du foyer restant en cours (ANEF)", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Incendie-a-Chefchaouen-trois-sur-quatre-principaux-foyers-maitrises-l-extinction-du-foyer-restant-en-cours-ANEF_a70825.html', 'summary': "Incendie à Chefchaouen: trois sur quatre principaux foyers maîtrisés, l'extinction du foyer restant en cours (ANEF). Les opérations d’intervention pour éteindre l’incendie de forêt déclenché dans la commune de Derdara, relevant de la province de Chefchaouen, ont permis de maîtriser trois des quatre principaux foyers, tandis que les avions œuvrent pour l'extinction du dernier foyer, indique l’Agence nationale des eaux et forêts (ANEF).", 'size': 4}, {'id': '59', 'title': 'Incendie à Chefchaouen : trois sur quatre principaux foyers maîtrisés', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/incendie-a-chefchaouen-trois-sur-quatre-principaux-foyers-maitrises_1946482/', 'summary': 'Incendie à Chefchaouen : trois sur quatre principaux foyers maîtrisés. Les opérations d’intervention pour éteindre l’incendie de forêt déclenché dans la commune de Derdara, relevant de la province de Chefchaouen, ont permis de maîtriser trois des quatre principaux foyers, tandis que les avions œuvrent pour l’extinction du dernier foyer, indique l’Agence nationale des eaux et forêts (ANEF). Dans un communiqué, l’ANEF précise que de très.', 'size': 4}, {'id': '73', 'title': 'Incendie de Chefchaouen: 3 des 4 foyers majeurs maîtrisés, les équipes toujours en action', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/incendie-de-chefchaouen-3-des-4-foyers-majeurs-maitrises-les-equipes-toujours-en-action-308527/', 'summary': 'Incendie de Chefchaouen: 3 des 4 foyers majeurs maîtrisés, les équipes toujours en action. Les opérations d’intervention pour éteindre le gigantesque feu de forêt déclarés dans la commune de Derdara, dans la province de Chefchaouen, ont permis de maîtriser 3 des 4 foyers majeurs, au moment où les avions bombardiers d’eau continuent leurs rondes jusqu’à l’extinction totale de l’incendie, affirme l’Agence nationale des eaux', 'size': 4}, {'id': '132', 'title': "L'incendie de Derdara à Chefchaouen a été circonscrit", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437682-lincendie-de-derdara-a-chefchaouen-a-ete-circonscrit.html', 'summary': "L'incendie de Derdara à Chefchaouen a été circonscrit. Les équipes d’intervention ont réussi à circonscrire, jeudi, l’incendie de forêt qui s’est déclaré mardi à la forêt Derdara dans la province de Chefchaouen, a indiqué le directeur provincial de l’Agence nationale des eaux et forêts (ANEF), Youssef Zarroqi. Les opérations de lutte contre l’incendie se poursuivront dans les prochains jours afin d’éteindre complètement le . ", 'size': 4}], 'main_title': "Incendie à Chefchaouen: trois sur quatre principaux foyers maîtrisés, l'extinction du foyer restant en cours (ANEF)"}, {'community_id': '1', 'articles': [{'id': '44', 'title': 'CHAN : le Maroc bat la Zambie 3 à 1', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/chan-le-maroc-bat-la-zambie-3-a-1_1946568/', 'summary': 'CHAN : le Maroc bat la Zambie 3 à 1. La sélection marocaine des joueurs locaux a battu son homologue zambienne par 3 buts à 1, lors de la 4e journée du groupe A du Championnat d’Afrique des nations de football (CHAN), jeudi au stade Kasarani à Nairobi, au Kenya. Mohamed Hrimat (45 2e), Oussama Lamlioui (67e) et Sabir Bougrine (90 5e) ont inscrit les.', 'size': 4}, {'id': '76', 'title': 'CHAN 2024 (groupe A) : Le Maroc bat la Zambie', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174257/chan-2024-groupe-maroc-zambie.html', 'summary': 'CHAN 2024 (groupe A) : Le Maroc bat la Zambie. La sélection marocaine des joueurs locaux a battu son homologue zambienne par 3 buts à 1, lors de la quatrième journée du groupe A du Championnat d’Afrique des nations de football (CHAN), jeudi au stade Kasarani à Nairobi.', 'size': 4}, {'id': '82', 'title': 'CHAN-2024 : Le Maroc s’offre la Zambie 3 à 1', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/chan-2024-le-maroc-soffre-la-zambie-3-a-1', 'summary': 'CHAN-2024 : Le Maroc s’offre la Zambie 3 à 1. La sélection marocaine des joueurs locaux a battu son homologue zambienne par 3 buts à 1, lors de la 4e journée du groupe A du Championnat d’Afrique des nations de football (CHAN), jeudi au stade Kasarani à Nairobi. Mohamed Hrimat (45+2e), Oussama Lamlioui (67e) et Sabir Bougrine (90 + 5e) ont inscrit les buts de .', 'size': 4}, {'id': '157', 'title': 'CHAN-2024 : Le Maroc s’impose face à la Zambie et se relance', 'source': 'lnt.ma', 'link': 'https://lnt.ma/chan-2024-le-maroc-simpose-face-a-la-zambie-et-se-relance/', 'summary': 'CHAN-2024 : Le Maroc s’impose face à la Zambie et se relance. La sélection marocaine des joueurs locaux a retrouvé le chemin de la victoire en s’imposant 3-1 contre la Zambie, jeudi à Nairobi, lors de la quatrième journée du groupe A du Championnat d’Afrique des nations de football (CHAN-2024). Face à une équipe zambienne déterminée à ouvrir le score, les Lions de l’Atlas ont fait preuve . ', 'size': 4}], 'main_title': 'CHAN : le Maroc bat la Zambie 3 à 1'}, {'community_id': '7', 'articles': [{'id': '55', 'title': "Rabat : l’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/rabat-luir-et-cisco-sallient-pour-la-creation-dun-centre-dexcellence-en-ia-et-cybersecurite_1946487/', 'summary': "Rabat : l’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité. Cisco et l’Université internationale de Rabat (UIR) ont signé un protocole d’accord (MoU) visant la création d’un Cisco EDGE Incubation Centre au sein de l’université. A travers cette collaboration, Cisco et l’UIR ont l’intention de se concentrer sur la cybersécurité et l’intelligence artificielle, avec pour ambition de positionner l’UIR comme centre stratégique de développement et.", 'size': 3}, {'id': '70', 'title': 'Rabat : L’UIR et Cisco lancent un centre d’excellence en IA et cybersécurité', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/rabat-luir-et-cisco-lancent-un-centre-dexcellence-en-ia-et-cybersecurite-308540/', 'summary': 'Rabat : L’UIR et Cisco lancent un centre d’excellence en IA et cybersécurité. L’Université Internationale de Rabat (UIR) et Cisco, spécialiste des technologies de l’information, ont signé un protocole d’accord (MoU) visant la création d’un «Cisco EDGE Incubation Centre» au sein de l’université. Dans le cadre de ce partenariat, l’UIR et Cisco souhaitent mettre l’accent sur la cybersécurité et l’intelligence artificielle, avec pour', 'size': 3}, {'id': '102', 'title': 'UIR-Cisco : Alliance pour la création d’un centre d’excellence en IA et cybersécurité', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/tech/uir-cisco-alliance-pour-la-creation-dun-centre-dexcellence-en-ia-et-cybersecurite/', 'summary': 'UIR-Cisco : Alliance pour la création d’un centre d’excellence en IA et cybersécurité. Un Cisco EDGE Incubation Centre sera créé au sein de l’Université internationale de Rabat, dans le but d’accélérer l’innovation, créer un impact durable dans la région et former la prochaine génération de leaders technologiques.', 'size': 3}], 'main_title': "Rabat : l’UIR et Cisco s’allient pour la création d'un centre d’excellence en IA et cybersécurité"}, {'community_id': '8', 'articles': [{'id': '56', 'title': 'Evasion du narcotrafiquant Amra en France : mise en examen de deux hommes extradés du Maroc', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/evasion-du-narcotrafiquant-amra-en-france-mise-en-examen-de-deux-hommes-extrades-du-maroc_1946490/', 'summary': 'Evasion du narcotrafiquant Amra en France : mise en examen de deux hommes extradés du Maroc. Deux hommes soupçonnés d’être des complices du narcotrafiquant Mohamed Amra, évadé en mai 2024 en France après l’attaque sanglante du fourgon qui le transférait, ont été mis en examen et écroués à Paris après avoir été extradés mercredi du Maroc. Mohamed Amra, surnommé La Mouche, s’était évadé le 14 mai 2024 lors d’un guet-apens au.', 'size': 3}, {'id': '137', 'title': 'Le Maroc remet deux complices de Mohamed Amra aux autorités françaises', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-Maroc-remet-deux-complices-de-Mohamed-Amra-aux-autorites-francaises_a70840.html', 'summary': "Le Maroc remet deux complices de Mohamed Amra aux autorités françaises. Deux hommes soupçonnés d'être des complices du narcotrafiquant Mohamed Amra, évadé en mai 2024 en France après l'attaque sanglante du fourgon qui le transférait, ont été mis en examen et écroués à Paris après avoir été extradés mercredi du Maroc.", 'size': 3}, {'id': '151', 'title': 'France : Le Maroc extrade deux complices dans l’évasion de Mohamed Amra', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174261/france-maroc-extrade-deux-complices.html', 'summary': 'France : Le Maroc extrade deux complices dans l’évasion de Mohamed Amra. Le Maroc a extradé hier deux hommes soupçonnés davoir participé à lévasion, en 2024, de Mohamed Amra, un narcotrafiquant notoire en France, rapporte Le Figaro. Une fois arrivés sur le sol français, les deux suspects, Ian Gomes, 28 ans, et Albinou Da Sylva, 38 ans, «ont été mis en examen et placés en détention à Paris après leur extradition mercredi 13 août depuis le Maroc».', 'size': 3}], 'main_title': 'Evasion du narcotrafiquant Amra en France : mise en examen de deux hommes extradés du Maroc'}, {'community_id': '9', 'articles': [{'id': '58', 'title': 'Bitcoin : nouveau record au-dessus de 124.000 dollars', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/14/bitcoin-nouveau-record-au-dessus-de-124-000-dollars_1946480/', 'summary': 'Bitcoin : nouveau record au-dessus de 124.000 dollars. Le bitcoin a franchi pour la première fois le seuil des 124.000 dollars jeudi matin lors des premiers échanges en Asie, porté par la hausse de Wall Street, l’intérêt accru des investisseurs institutionnels et un environnement législatif favorable aux États-Unis. La cryptomonnaie vedette a battu son précédent record du 14 juillet (123.205 dollars), grimpant brièvement.', 'size': 2}, {'id': '98', 'title': 'Bitcoin : Nouveau record au-dessus de 124.000 dollars', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/bitcoin-nouveau-record-au-dessus-de-124-000-dollars/', 'summary': 'Bitcoin : Nouveau record au-dessus de 124.000 dollars. La cryptomonnaie vedette a battu son précédent record du 14 juillet de 123.205 dollars, soutenue par la progression de Wall Street.', 'size': 2}], 'main_title': 'Bitcoin : nouveau record au-dessus de 124.000 dollars'}, {'community_id': '4', 'articles': [{'id': '104', 'title': 'Turquie : plus de 410.000 Syriens retournés volontairement depuis la chute d’Al Assad', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/turquie-plus-de-410-000-syriens-retournes-volontairement-depuis-la-chute-dal-assad/', 'summary': 'Turquie : plus de 410.000 Syriens retournés volontairement depuis la chute d’Al Assad. La Direction générale de la migration en Turquie a annoncé, jeudi, que le nombre de Syriens ayant volontairement quitté la Turquie pour regagner leur pays depuis la chute du régime de Bachar Al-Assad en décembre dernier s’est élevé à 411.649 personnes. Le rythme des retours volontaires s’est accéléré, a précisé la Direction, indiquant que ces .', 'size': 2}, {'id': '142', 'title': "Turquie: Plus de 410.000 Syriens sont retournés volontairement dans leur pays depuis la chute du régime d'Al Assad", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Turquie-Plus-de-410-000-Syriens-sont-retournes-volontairement-dans-leur-pays-depuis-la-chute-du-regime-d-Al-Assad_a70837.html', 'summary': "Turquie: Plus de 410.000 Syriens sont retournés volontairement dans leur pays depuis la chute du régime d'Al Assad. La Direction générale de la migration en Turquie a annoncé, jeudi, que le nombre de Syriens ayant volontairement quitté la Turquie pour regagner leur pays depuis la chute du régime de Bachar Al-Assad en décembre dernier s’est élevé à 411.649 personnes.", 'size': 2}], 'main_title': 'Turquie : plus de 410.000 Syriens retournés volontairement depuis la chute d’Al Assad'}, {'community_id': '3', 'articles': [{'id': '107', 'title': 'Températures prévues pour le vendredi 15 août 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-vendredi-15-aout-2025/', 'summary': 'Températures prévues pour le vendredi 15 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le vendredi 15 août 2025: Min Max – Oujda 22 39 – Bouarfa 23 40 – Al Hoceima 22 30 – Tétouan 22 30 – Sebta 23 27 – Mellilia 23 27 – Tanger 25 35 – Kénitra 23 30 .', 'size': 2}, {'id': '125', 'title': 'Les températures attendues ce vendredi 15 août 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437681-les-temperatures-attendues-ce-vendredi-15-aout-2025.html', 'summary': 'Les températures attendues ce vendredi 15 août 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le vendredi 15 août 2025: Min Max – Oujda 22 39 – Bouarfa 23 40 – Al Hoceima 22 30 – Tétouan 22 30 – Sebta 23 27 – Mellilia 23 27 – Tanger 25 35 – Kénitra 23 30 . ', 'size': 2}], 'main_title': 'Températures prévues pour le vendredi 15 août 2025'}, {'community_id': '2', 'articles': [{'id': '108', 'title': 'La canicule pourrait coûter 0,3 point de PIB à la France', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/la-canicule-pourrait-couter-03-point-de-pib-a-la-france/', 'summary': 'La canicule pourrait coûter 0,3 point de PIB à la France. La canicule pourrait coûter 0,3 point de PIB à la France, soit près de 9 milliards d’euros, selon une nouvelle étude d’Allianz Trade, leader mondial de l’assurance-crédit. Dans cette étude préliminaire, l’assureur relève que les récentes vagues de chaleur qui ont frappé l’Europe centrale, l’Europe du Sud, les États-Unis et la Chine pourraient avoir des .', 'size': 2}, {'id': '118', 'title': 'La canicule pourrait coûter 0,3 point de PIB à la France (étude)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/la-canicule-pourrait-couter-03-point-de-pib-a-la-france-etude.html', 'summary': 'La canicule pourrait coûter 0,3 point de PIB à la France (étude). La canicule pourrait coûter 0,3 point de PIB à la France, soit près de 9 milliards d’euros, selon une nouvelle étude d’Allianz Trade, leader mondial de l’assurance-crédit. Dans cette étude préliminaire, l’assureur relève que les récentes vagues de chaleur qui ont frappé l’Europe centrale, l’Europe du Sud, les États-Unis et la Chine pourraient avoir des . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'La canicule pourrait coûter 0,3 point de PIB à la France'}, {'community_id': '10', 'articles': [{'id': '153', 'title': 'Après la rencontre de l’Alaska, un sommet trilatéral avec Zelensky sera «\xa0très important\xa0» pour un accord sur l’Ukraine', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/apres-la-rencontre-de-lalaska-un-sommet-trilateral-avec-zelensky-sera-tres-important-pour-un-accord-sur-lukraine/', 'summary': 'Après la rencontre de l’Alaska, un sommet trilatéral avec Zelensky sera « très important » pour un accord sur l’Ukraine. Le président Donald Trump a affirmé, jeudi, que tout accord pour mettre fin à la guerre russo-ukrainienne devra passer par un sommet trilatéral avec Vladimir Poutine et Volodymyr Zelensky, consécutif à sa rencontre prévue vendredi en Alaska avec le président russe. « La seconde rencontre sera très, très importante, car ce sera une rencontre où ils .', 'size': 2}, {'id': '154', 'title': 'Après la rencontre de l’Alaska, un sommet trilatéral avec Zelensky sera «\xa0très important\xa0» pour un accord sur l’Ukraine (Trump)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/trump-apres-la-rencontre-de-lalaska-un-sommet-trilateral-avec-zelensky-sera-tres-important-pour-un-accord-sur-lukraine.html', 'summary': 'Après la rencontre de l’Alaska, un sommet trilatéral avec Zelensky sera « très important » pour un accord sur l’Ukraine (Trump). Le président Donald Trump a affirmé jeudi que tout accord pour mettre fin à la guerre russo-ukrainienne devra passer par un sommet trilatéral avec Vladimir Poutine et Volodymyr Zelensky, consécutif à sa rencontre prévue vendredi en Alaska avec le président russe. « La seconde rencontre sera très, très importante car ce sera une rencontre où ils . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Après la rencontre de l’Alaska, un sommet trilatéral avec Zelensky sera «\xa0très important\xa0» pour un accord sur l’Ukraine'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
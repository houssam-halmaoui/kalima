<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 21/06/2025 - 18h31</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '15', 'articles': [{'id': '7', 'title': 'Revue de presse de ce samedi 21 juin 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/429126-revue-de-presse-de-ce-samedi-21-juin-2025.html', 'summary': 'Revue de presse de ce samedi 21 juin 2025. Voici les principaux titres développés par la presse nationale de ce samedi 21 juin 2025 Le Matin • Le Forum parlementaire sur la coopération économique entre le Maroc et le Parlement de la Communauté économique et monétaire de l’Afrique centrale (CEMAC) incarne la volonté collective et la ferme détermination à renforcer davantage le partenariat avancé . ', 'size': 2}, {'id': '182', 'title': 'Laâyoune accueille le Forum parlementaire sur la coopération économique Maroc-CEMAC', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/laayoune-accueille-le-forum-parlementaire-sur-la-cooperation-economique-maroc-cemac/', 'summary': 'Laâyoune accueille le Forum parlementaire sur la coopération économique Maroc-CEMAC. Les travaux du Forum parlementaire sur la coopération économique entre le Maroc et le Parlement de la Communauté économique et monétaire de l’Afrique centrale (CEMAC) se sont ouverts vendredi à Laâyoune, en présence de plusieurs responsables gouvernementaux, de responsables institutionnels, de parlementaires africains et d’acteurs économiques. Placé sous le Haut Patronage de Sa Majesté le ', 'size': 2}], 'main_title': 'Revue de presse de ce samedi 21 juin 2025'}, {'community_id': '1', 'articles': [{'id': '15', 'title': "2024 est l'année la plus chaude jamais enregistrée au Maroc (DGM)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/societe/lannee-2024-est-la-plus-chaude-jamais-enregistree-au-maroc/286816', 'summary': "2024 est l'année la plus chaude jamais enregistrée au Maroc (DGM). Dans son rapport annuel, la DGM note une anomalie de température moyenne nationale de +1,49°C par rapport à la période de référence 1991-2020.**related_articles[286757].", 'size': 2}, {'id': '139', 'title': 'Climat : 2024, année la plus chaude jamais relevée au Maroc', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/climat-2024-annee-la-plus-chaude-jamais-relevee-au-maroc/', 'summary': 'Climat : 2024, année la plus chaude jamais relevée au Maroc. L’année 2024 se distingue comme la plus chaude jamais enregistrée au Maroc, avec une anomalie de température moyenne nationale de +1,49 °C par rapport à la normale climatologique 1991-2020, contre +0,67 °C à l’échelle mondiale, selon le rapport «État du climat au Maroc en 2024», produit par la Direction générale de la météorologie (DGM).', 'size': 2}], 'main_title': "2024 est l'année la plus chaude jamais enregistrée au Maroc (DGM)"}, {'community_id': '2', 'articles': [{'id': '17', 'title': 'Jason Derulo enflamme l’ouverture du Casablanca Music Week', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/jason-derulo-enflamme-louverture-du-casablanca-music-week/286819', 'summary': 'Jason Derulo enflamme l’ouverture du Casablanca Music Week. Le concert, tenu au stade La Casablancaise, a débuté par un imposant feu d’artifice, avant que l’artiste ne monte sur scène entouré de sa troupe de danseurs, venus spécialement pou.', 'size': 2}, {'id': '242', 'title': 'Casablanca Music Week : Jason Derulo ouvre la première édition par un concert à La Casablancaise', 'source': 'lnt.ma', 'link': 'https://lnt.ma/casablanca-music-week-jason-derulo-ouvre-la-premiere-edition-par-un-concert-a-la-casablancaise/', 'summary': 'Casablanca Music Week : Jason Derulo ouvre la première édition par un concert à La Casablancaise. La première édition du festival Casablanca Music Week (CMW) s’est ouverte vendredi soir par un concert de l’artiste américain Jason Derulo, sur la scène principale installée au stade La Casablancaise. Le spectacle, marqué par une mise en scène dynamique et un feu d’artifice inaugural, s’inscrit dans le cadre de la tournée mondiale de l’artiste, accompagné . ', 'size': 2}], 'main_title': 'Jason Derulo enflamme l’ouverture du Casablanca Music Week'}, {'community_id': '10', 'articles': [{'id': '18', 'title': 'France : inauguration du Consulat général du Maroc à Mantes-la-Jolie', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/france-inauguration-du-consulat-general-du-maroc-a-mantes-la-jolie/286818', 'summary': 'France : inauguration du Consulat général du Maroc à Mantes-la-Jolie. L’ouverture de cette nouvelle représentation consulaire s’inscrit dans la stratégie du ministère des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’.', 'size': 5}, {'id': '130', 'title': 'Maroc-France : Un nouveau consulat général inauguré en région parisienne', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/maroc-france-un-nouveau-consulat-general-inaugure-en-region-parisienne/', 'summary': 'Maroc-France : Un nouveau consulat général inauguré en région parisienne. L’inauguration du Consulat général du Maroc à Mantes-la-Jolie porte le réseau consulaire à 17 consulats dans l’Hexagone. La communauté marocaine de la région parisienne ne peut qu’être heureuse de cette bonne nouvelle.', 'size': 5}, {'id': '172', 'title': 'Inauguration du nouveau consulat du Maroc à Mantes-la-Jolie', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/inauguration-du-nouveau-consulat-du-maroc-a-mantes-la-jolie.html', 'summary': 'Inauguration du nouveau consulat du Maroc à Mantes-la-Jolie. Le nouveau consulat général du Maroc à Mantes-la-Jolie a été officiellement inauguré vendredi, à Mantes-la-Jolie, en région parisienne, afin de renforcer le réseau consulaire du Royaume en France, portant le nombre à 17 consulats. L’ouverture de cette nouvelle représentation consulaire s’inscrit dans la stratégie du ministère des Affaires étrangères, de la Coopération africaine et des . L’article est apparu en premier sur .', 'size': 5}, {'id': '176', 'title': 'Yvelines | Inauguration d’un nouveau Consulat général du Maroc à Mantes-la-Jolie', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/yvelines-inauguration-dun-nouveau-consulat-general-du-maroc-a-mantes-la-jolie/', 'summary': 'Yvelines | Inauguration d’un nouveau Consulat général du Maroc à Mantes-la-Jolie. Un nouveau consulat général du Maroc a été officiellement inauguré, vendredi, à Mantes-la-Jolie, en région parisienne, renforçant le réseau consulaire du Royaume en France constitué désormais de 17 consulats, dans le cadre d’une dynamique de proximité, de modernisation et d’efficacité au service des ressortissants marocains. L’ouverture de cette nouvelle représentation consulaire s’inscrit dans la stratégie ', 'size': 5}, {'id': '221', 'title': 'France : Inauguration du consulat général du Maroc à Mantes-la-Jolie', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/169593/france-inauguration-consulat-general-maroc.html', 'summary': 'France : Inauguration du consulat général du Maroc à Mantes-la-Jolie. Un nouveau consulat général du Maroc a été officiellement inauguré, vendredi, à Mantes-la-Jolie, en région parisienne, renforçant le réseau consulaire du royaume en France constitué désormais de 17 consulats, dans le cadre d’une dynamique de proximité, de modernisation et d’efficacité au service des ressortissants marocains.', 'size': 5}], 'main_title': 'France : inauguration du Consulat général du Maroc à Mantes-la-Jolie'}, {'community_id': '4', 'articles': [{'id': '35', 'title': 'Tareq Muhmood nommé président régional de Visa pour la zone CEMEA', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/tareq-muhmood-nomme-president-regional-de-visa-pour-la-cemea/286709', 'summary': 'Tareq Muhmood nommé président régional de Visa pour la zone CEMEA. Dans ses nouvelles fonctions, Tareq Muhmood aura pour mission de superviser les opérations de Visa en Europe centrale et orientale, au Moyen-Orient et en Afrique. Cette vaste régio.', 'size': 2}, {'id': '156', 'title': 'Visa annonce la nomination de Tareq Muhmood à la tête de Visa dans la région CEMEA', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/visa-annonce-la-nomination-de-tareq-muhmood-a-la-tete-de-visa-dans-la-region-cemea/', 'summary': 'Visa annonce la nomination de Tareq Muhmood à la tête de Visa dans la région CEMEA. Visa (NYSE : V) annonce aujourd’hui la nomination de Tareq Muhmood en tant que Président Régional pour la zone Europe centrale et orientale, Moyen-Orient et Afrique (CEMEA). À ce poste, cet expert reconnu au sein de Visa pilotera les activités de l’entreprise dans plus de 86 marchés innovants et en plein essor. Les opérations de .', 'size': 2}], 'main_title': 'Tareq Muhmood nommé président régional de Visa pour la zone CEMEA'}, {'community_id': '13', 'articles': [{'id': '38', 'title': 'Service militaire 2025 : le 23 juin, dernier délai pour remplir le formulaire de recensement', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/service-militaire-le-23-juin-dernier-delai-pour-remplir-le-formulaire/286700', 'summary': "Service militaire 2025 : le 23 juin, dernier délai pour remplir le formulaire de recensement. Les jeunes ayant reçu l'avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours, et qui ne l’ont pas encore effectué, sont appelés.", 'size': 4}, {'id': '82', 'title': 'Service militaire : le 23 juin, dernier délai pour remplir le formulaire de recensement', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/service-militaire-le-23-juin-dernier-delai-pour-remplir-le-formulaire-de-recensement_1938855/', 'summary': 'Service militaire : le 23 juin, dernier délai pour remplir le formulaire de recensement. Dans le cadre de l’opération de recensement relative au service militaire au titre de l’année 2025, le ministre de l’Intérieur rappelle que les formulaires de recensement sont à remplir au plus tard le 23 juin courant. Les jeunes ayant reçu l’avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours,.', 'size': 4}, {'id': '144', 'title': 'Service militaire 2025: Le 23 juin, dernier délai pour remplir le formulaire de recensement', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/scans/service-militaire-2025-le-23-juin-dernier-delai-pour-remplir-le-formulaire-de-recensement/', 'summary': "Service militaire 2025: Le 23 juin, dernier délai pour remplir le formulaire de recensement. Les jeunes ayant reçu l'avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours, et qui ne l’ont pas encore effectué, sont appelés à le remplir au plus tard le 23 juin 2025, indique le ministre de l’Intérieur.", 'size': 4}, {'id': '181', 'title': 'Service militaire 2025 | Le 23 juin, dernier délai pour le formulaire de recensement', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/service-militaire-2025-le-23-juin-dernier-delai-pour-le-formulaire-de-recensement/', 'summary': 'Service militaire 2025 | Le 23 juin, dernier délai pour le formulaire de recensement. Dans le cadre de l’opération de recensement relative au service militaire au titre de l’année 2025, le ministre de l’Intérieur rappelle que les formulaires de recensement sont à remplir au plus tard le 23 juin courant. “Les jeunes ayant reçu l’avis pour remplir le formulaire de recensement relatif au service militaire de l’année en cours, ', 'size': 4}], 'main_title': 'Service militaire 2025 : le 23 juin, dernier délai pour remplir le formulaire de recensement'}, {'community_id': '6', 'articles': [{'id': '72', 'title': '4G : Maroc Telecom étend sa toile au Tchad et au Mali', 'source': 'telquel.ma', 'link': 'https://telquel.ma/2025/06/20/4g-maroc-telecom-etend-sa-toile-au-tchad-et-au-mali_1938927', 'summary': '4G : Maroc Telecom étend sa toile au Tchad et au Mali. Maroc Telecom renforce sa présence en Afrique subsaharienne grâce à un partenariat avec la Société financière internationale (IFC). Un financement de 370 millions d’euros permettra d’accélérer le déploiement de la 4G au Tchad et au Mali. Un nouveau financement soutiendra l’extension des services 4G au Tchad et au Mali, permettant un accès à internet plus.', 'size': 2}, {'id': '142', 'title': 'Maroc Telecom : 370 millions d’euros de l’IFC pour développer la 4G au Tchad et au Mali', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/maroc-telecom-370-millions-deuros-de-lifc-pour-developper-la-4g-au-tchad-et-au-mali/', 'summary': 'Maroc Telecom : 370 millions d’euros de l’IFC pour développer la 4G au Tchad et au Mali. Ce financement soutiendra le déploiement par les filiales de Maroc Telecom des services 4G dans les deux pays, offrant un accès internet plus rapide et plus fiable à un plus grand nombre de personnes et d’entreprises.', 'size': 2}], 'main_title': '4G : Maroc Telecom étend sa toile au Tchad et au Mali'}, {'community_id': '7', 'articles': [{'id': '78', 'title': 'Les IDE au Maroc font un bond de 55% et atteignent 1,6 milliard de dollars', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/les-ide-au-maroc-font-un-bond-de-55-et-atteignent-16-milliard-de-dollars_1938902/', 'summary': 'Les IDE au Maroc font un bond de 55% et atteignent 1,6 milliard de dollars. Les investissements directs étrangers (IDE) ont progressé de 55 % en 2024 pour atteindre 1,64 milliard de dollars, contre 1,05 milliard une année auparavant, selon ONU Commerce et Développement (CNUCED). Dans son dernier Rapport sur l’investissement dans le monde 2025, publié jeudi, l’agence onusienne fait état aussi d’un stock d’IDE au Maroc s’élevant à 61,5.', 'size': 3}, {'id': '180', 'title': 'Maroc | Les investissements directs étrangers en hausse de 55 % en 2024 (CNUCED)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/maroc-les-investissements-directs-etrangers-en-hausse-de-55-en-2024-cnuced/', 'summary': 'Maroc | Les investissements directs étrangers en hausse de 55 % en 2024 (CNUCED). Les investissements directs étrangers (IDE) ont progressé de 55 % en 2024 pour atteindre 1,64 milliard de dollars, contre 1,05 milliard une année auparavant, selon ONU Commerce et Développement (CNUCED). Dans son dernier Rapport sur l’investissement dans le monde 2025, publié jeudi, l’agence onusienne fait état aussi d’un stock d’IDE au Maroc s’élevant à 61,5 milliards ', 'size': 3}, {'id': '188', 'title': 'IDE : le Maroc enregistre une hausse de 55 % en 2024 selon la CNUCED', 'source': 'lnt.ma', 'link': 'https://lnt.ma/ide-le-maroc-enregistre-une-hausse-de-55-en-2024-selon-la-cnuced/', 'summary': 'IDE : le Maroc enregistre une hausse de 55 % en 2024 selon la CNUCED. Les investissements directs étrangers (IDE) ont progressé de 55 % en 2024 pour atteindre 1,64 milliard de dollars, contre 1,05 milliard une année auparavant, selon ONU Commerce et Développement (CNUCED). Dans son dernier Rapport sur l’investissement dans le monde 2025, publié jeudi, l’agence onusienne fait état aussi d’un stock d’IDE au Maroc s’élevant à 61,5 . ', 'size': 3}], 'main_title': 'Les IDE au Maroc font un bond de 55% et atteignent 1,6 milliard de dollars'}, {'community_id': '8', 'articles': [{'id': '79', 'title': "CHAN : la Tanzanie accueillera le match d'ouverture et le Kenya la finale", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/chan-la-tanzanie-accueillera-le-match-douverture-et-le-kenya-la-finale_1938859/', 'summary': "CHAN : la Tanzanie accueillera le match d'ouverture et le Kenya la finale. La Tanzanie accueillera le match d’ouverture du Championnat d’Afrique des Nations CAF TotalEnergies (CHAN), prévu du 2 au 30 août, alors que la finale est prévue au Kenya, a annoncé jeudi la Confédération Africaine de Football (CAF). En concertation avec les trois pays hôtes de la prochaine édition du Championnat d’Afrique des Nations CAF TotalEnergies.", 'size': 2}, {'id': '233', 'title': 'CHAN 2024 : le Maroc dans un groupe relevé face à des adversaires de haut niveau', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/chan-2024-le-maroc-dans-un-groupe-releve-face-a-des-adversaires-de-haut-niveau/', 'summary': 'CHAN 2024 : le Maroc dans un groupe relevé face à des adversaires de haut niveau. La Confédération Africaine de Football (CAF) a dévoilé les contours de l’édition 2024 du Championnat d’Afrique des Nations (CHAN), qui se tiendra du 2 au 30 août 2025. Coorganisé par le Kenya, la Tanzanie et l’Ouganda, ce CHAN marque un tournant décisif pour le football en Afrique de l’Est, tant par son ambition que par .', 'size': 2}], 'main_title': "CHAN : la Tanzanie accueillera le match d'ouverture et le Kenya la finale"}, {'community_id': '3', 'articles': [{'id': '86', 'title': 'Fortes averses orageuses vendredi et temps chaud, de vendredi à mardi, dans plusieurs provinces', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/fortes-averses-orageuses-vendredi-et-temps-chaud-de-vendredi-a-mardi-dans-plusieurs-provinces_1938808/', 'summary': 'Fortes averses orageuses vendredi et temps chaud, de vendredi à mardi, dans plusieurs provinces. De fortes averses orageuses avec grêle locale et rafales de vent sont prévues vendredi et un temps chaud sera enregistré, de vendredi à mardi, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Des averses orageuses (15-25 mm) avec grêle locale et rafales de vent concerneront, vendredi de 14h à.', 'size': 3}, {'id': '195', 'title': 'Alerte météo : averses orageuses samedi et temps chaud de samedi à mercredi dans plusieurs régions', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/429953-alerte-meteo-averses-orageuses-samedi-et-temps-chaud-de-samedi-a-mercredi-dans-plusieurs-regions.html', 'summary': 'Alerte météo : averses orageuses samedi et temps chaud de samedi à mercredi dans plusieurs régions. La Direction générale de la météorologie (DGM), a annoncé de fortes averses orageuses avec grêle locale et rafales de vent prévues samedi, et un temps chaud, de samedi à mercredi, dans plusieurs provinces du Royaume. Dans un bulletin d’alerte de niveau de vigilance orange, la DGM précise que des averses orageuses (15-25 mm) avec grêle . ', 'size': 3}, {'id': '224', 'title': 'Alerte météo : Fortes averses orageuses samedi et temps chaud de samedi à mercredi', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/alerte-meteo-fortes-averses-orageuses-samedi-et-temps-chaud-de-samedi-a-mercredi', 'summary': 'Alerte météo : Fortes averses orageuses samedi et temps chaud de samedi à mercredi. De fortes averses orageuses avec grêle locale et rafales de vent sont prévues samedi, et un temps chaud sera enregistré, de samedi à mercredi, dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM). Des averses orageuses (15-25 mm) avec grêle locale et rafales de vent concerneront, samedi de 14h à .', 'size': 3}], 'main_title': 'Fortes averses orageuses vendredi et temps chaud, de vendredi à mardi, dans plusieurs provinces'}, {'community_id': '5', 'articles': [{'id': '91', 'title': 'Un nouveau parking de 142 places ouvre ses portes à Rabat', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/un-nouveau-parking-de-142-places-ouvre-ses-portes-a-rabat_1938751/', 'summary': 'Un nouveau parking de 142 places ouvre ses portes à Rabat. Rabat Région Mobilité (RRM) a annoncé l’ouverture à l’exploitation du nouveau parking en ouvrage Place de Russie au quartier l’Océan à Rabat, un nouvel équipement destiné à « décongestionner le trafic automobile dans l’un des axes les plus dynamiques et les plus fréquentés de la ville de Rabat ». Doté d’une capacité de 142 places réparties sur.', 'size': 2}, {'id': '103', 'title': 'Un nouveau parking en ouvrage de 142 places ouvre ses portes à Rabat', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/un-nouveau-parking-en-ouvrage-de-142-places-ouvre-ses-portes-a-rabat-305149/', 'summary': 'Un nouveau parking en ouvrage de 142 places ouvre ses portes à Rabat. Rabat Région Mobilité (RRM) a annoncé l’ouverture à l’exploitation du nouveau parking en ouvrage Place de Russie au quartier l’Océan à Rabat, un nouvel équipement destiné à « décongestionner le trafic automobile dans l’un des axes les plus dynamiques et les plus fréquentés de la ville de Rabat ». Doté d’une capacité', 'size': 2}], 'main_title': 'Un nouveau parking de 142 places ouvre ses portes à Rabat'}, {'community_id': '12', 'articles': [{'id': '94', 'title': 'Inflation : les prix des restaurants et hôtels en hausse de près de 4%', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/inflation-les-prix-des-restaurants-et-hotels-en-hausse-de-pres-de-4_1938719/', 'summary': 'Inflation : les prix des restaurants et hôtels en hausse de près de 4%. L’indice des prix à la consommation (IPC) a enregistré, en mai dernier, une hausse de 0,4% comparativement au même mois de l’année précédente, selon le Haut-Commissariat au Plan (HCP). Les prix des restaurants et hôtels ont enregistré la plus forte hausse (+3,9%). Cette évolution est la conséquence de l’augmentation de l’indice des produits alimentaires de.', 'size': 2}, {'id': '102', 'title': 'Inflation : hausse de 0,4% de l’IPC en mai', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/inflation-hausse-de-04-de-lipc-en-mai-hcp-305157/', 'summary': 'Inflation : hausse de 0,4% de l’IPC en mai. L’indice des prix à la consommation (IPC) a enregistré, en mai dernier, une hausse de 0,4% comparativement au même mois de l’année précédente, selon le Haut-Commissariat au Plan (HCP). Cette évolution est la conséquence de l’augmentation de l’indice des produits alimentaires de 0,5% et de celui des produits non alimentaires', 'size': 2}], 'main_title': 'Inflation : les prix des restaurants et hôtels en hausse de près de 4%'}, {'community_id': '0', 'articles': [{'id': '95', 'title': 'Protection sociale : 250 millions de dollars de la Banque mondiale en faveur du Maroc', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/20/protection-sociale-250-millions-de-dollars-de-la-banque-mondiale-en-faveur-du-maroc_1938711/', 'summary': 'Protection sociale : 250 millions de dollars de la Banque mondiale en faveur du Maroc. La Banque mondiale a approuvé un financement de 250 millions de dollars destiné à soutenir la réforme de la protection sociale au Maroc, dans le cadre du Projet d’appui au renforcement des filets de protection sociale pour le développement humain. Cette initiative vise à renforcer l’efficacité du système de protection sociale du Maroc en améliorant.', 'size': 2}, {'id': '192', 'title': 'Protection sociale: la Banque mondiale accorde 250 M$ pour appuyer la réforme au Maroc', 'source': 'lnt.ma', 'link': 'https://lnt.ma/protection-sociale-la-banque-mondiale-accorde-250-m-pour-appuyer-la-reforme-au-maroc/', 'summary': 'Protection sociale: la Banque mondiale accorde 250 M$ pour appuyer la réforme au Maroc. La Banque mondiale a approuvé un financement de 250 millions de dollars destiné à soutenir l’ambitieuse réforme de la protection sociale au Maroc, dans le cadre du Projet d’appui au renforcement des filets de protection sociale pour le développement humain. « Cette initiative vise à renforcer l’efficacité du système de protection sociale du Maroc en . ', 'size': 2}], 'main_title': 'Protection sociale : 250 millions de dollars de la Banque mondiale en faveur du Maroc'}, {'community_id': '14', 'articles': [{'id': '96', 'title': 'La ministre française Aurore Bergé en visite officielle au Maroc du 23 au 25 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/la-ministre-francaise-aurore-berge-en-visite-officielle-au-maroc-du-23-au-25-juin-305222/', 'summary': 'La ministre française Aurore Bergé en visite officielle au Maroc du 23 au 25 juin. Aurore Bergé, ministre de l’Égalité entre les femmes et les hommes et de la Lutte contre les discriminations, se rendra au Maroc du 23 au 25 juin 2025 courant. Elle aura l’occasion de s’entretenir avec plusieurs responsables politiques de haut niveau, parmi lesquels Nadia Fettah Alaoui, ministre de l’Economie et', 'size': 2}, {'id': '171', 'title': 'Déplacement de la ministre française Aurore Bergé du 23 au 25 juin', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/deplacement-de-la-ministre-francaise-aurore-berge-du-23-au-25-juin.html', 'summary': 'Déplacement de la ministre française Aurore Bergé du 23 au 25 juin. La ministre française de l’Égalité entre les femmes et les hommes et de la Lutte contre les discriminations, Aurore Bergé, se rendra au Maroc du 23 au 25 juin. L’article est apparu en premier sur .', 'size': 3}, {'id': '235', 'title': 'Le Maroc accueille Aurore Bergé pour un dialogue sur les droits des femmes', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/aurore-berge-au-maroc-pour-une-alliance-feministe-renforcee/', 'summary': 'Le Maroc accueille Aurore Bergé pour un dialogue sur les droits des femmes. La ministre française de l’Égalité entre les femmes et les hommes et de la Lutte contre les discriminations, Aurore Bergé, va effectuer une visite officielle au Maroc du 23 au 25 juin 2025, dans le cadre du rapprochement stratégique amorcé entre Rabat et Paris depuis la visite d’État du président Emmanuel Macron en octobre 2024. .', 'size': 2}], 'main_title': 'Déplacement de la ministre française Aurore Bergé du 23 au 25 juin'}, {'community_id': '9', 'articles': [{'id': '98', 'title': 'Les prévisions du samedi 21 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-21-juin-305205/', 'summary': 'Les prévisions du samedi 21 juin. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 21 juin 2025. -Temps chaud sur le sud du Rif, le Saiss, la vallée de Moulouya, les plateaux de Phosphates et d’Oulmès, les plaines de Tadla, Rehamna, le Sud-Est et l’intérieur des provinces sahariennes. -Foyers', 'size': 2}, {'id': '149', 'title': 'Prévisions météorologiques pour le samedi 21 juin 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-le-samedi-21-juin-2025/', 'summary': 'Prévisions météorologiques pour le samedi 21 juin 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 21 juin 2025: – Temps chaud sur le sud du Rif, le Saiss, la vallée de Moulouya, les plateaux de Phosphates et d’Oulmès, les plaines de Tadla, Rehamna, le Sud-Est et l’intérieur des provinces sahariennes. – Foyers orageux avec ondées .', 'size': 2}], 'main_title': 'Les prévisions du samedi 21 juin'}, {'community_id': '11', 'articles': [{'id': '179', 'title': 'DGM | Présentation du rapport annuel sur l’état du climat au Maroc en 2024', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/dgm-presentation-du-rapport-annuel-sur-letat-du-climat-au-maroc-en-2024/', 'summary': 'DGM | Présentation du rapport annuel sur l’état du climat au Maroc en 2024. La Direction générale de la météorologie (DGM) a présenté, vendredi à Rabat, son rapport annuel sur l’état du climat au Maroc en 2024, lors d’une rencontre tenue en présence du ministre de l’Équipement et de l’Eau, Nizar Baraka. Publié par la DGM pour la cinquième année consécutive, ce rapport annuel fournit une analyse approfondie de l’évolution des ', 'size': 2}, {'id': '239', 'title': 'Réchauffement climatique : Un bilan 2024 inquiétant pour le Maroc', 'source': 'lnt.ma', 'link': 'https://lnt.ma/rechauffement-climatique-des-chiffres-de-2024-inquietants-pour-le-maroc/', 'summary': 'Réchauffement climatique : Un bilan 2024 inquiétant pour le Maroc. La Direction générale de la météorologie (DGM) a présenté, vendredi 20 juin 2025 à Rabat, son rapport annuel sur l’état du climat au Maroc pour l’année 2024, lors d’une rencontre organisée en présence du ministre de l’Équipement et de l’Eau, Nizar Baraka. Ce document, publié pour la cinquième année consécutive, dresse un état des lieux . ', 'size': 2}], 'main_title': 'DGM | Présentation du rapport annuel sur l’état du climat au Maroc en 2024'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
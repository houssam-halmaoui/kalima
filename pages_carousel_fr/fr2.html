<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 01/09/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '2', 'title': 'Baisse de 11 % des IDE au niveau mondial', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439361-baisse-de-11-des-ide-au-niveau-mondial.html', 'summary': 'Baisse de 11 % des IDE au niveau mondial. Un récent rapport d’ONU commerce et développement (CNUCED), fait savoir que les investissements directs étrangers (IDE) ont accusé une baisse de 11 % au niveau mondial, selon le Rapport sur les investissements dans le monde 2025. Il s’agit de la deuxième année consécutive de baisse des IDE, souligne le rapport cité par un communiqué de . ', 'size': 2}, {'id': '47', 'title': 'Baisse de 11 % des investissements directs étrangers au niveau mondial', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/baisse-de-11-des-investissements-directs-etrangers-au-niveau-mondial/', 'summary': 'Baisse de 11 % des investissements directs étrangers au niveau mondial. Les investissements directs étrangers (IDE) ont accusé une baisse de 11 % au niveau mondial, selon le Rapport sur les investissements dans le monde 2025, publié par ONU commerce et développement (CNUCED). Il s’agit de la deuxième année consécutive de baisse des IDE, souligne le rapport cité par un communiqué de la CNUCED, notant que .', 'size': 2}], 'main_title': 'Baisse de 11 % des IDE au niveau mondial'}, {'community_id': '4', 'articles': [{'id': '6', 'title': "Eliesse Ben Seghir s'engage au Bayer Leverkusen jusqu'en 2030", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439389-eliesse-ben-seghir-sengage-au-bayer-leverkusen-jusquen-2030.html', 'summary': "Eliesse Ben Seghir s'engage au Bayer Leverkusen jusqu'en 2030. L’international marocain Eliesse Ben Seghir s’est engagé dimanche avec le Bayer Leverkusen pour cinq saisons jusqu’au 30 juin 2030, après deux saisons et demie à l’AS Monaco, ont annoncé les deux clubs. Le montant de la transaction n’a pas été révélé, mais selon des sources proches du club monégasque, elle s’élève à 32 millions d’euros . ", 'size': 3}, {'id': '22', 'title': 'C’est Officiel : Eliesse Ben Seghir file à Leverkusen', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/C-est-Officiel-Eliesse-Ben-Seghir-file-a-Leverkusen_a71250.html', 'summary': "C’est Officiel : Eliesse Ben Seghir file à Leverkusen. C’est officiel : Eliesse Ben Seghir quitte Monaco pour rejoindre le Bayer Leverkusen. Le lion de l'Atlas de 20 ans signe jusqu’en 2030 et disputera la Ligue des Champions.", 'size': 3}, {'id': '78', 'title': "Eliesse Ben Seghir signe pour Bayer Leverkusen jusqu'en 2030", 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/eliesse-ben-seghir-signe-pour-bayer-leverkusen-jusquen-2030/299108', 'summary': "Eliesse Ben Seghir signe pour Bayer Leverkusen jusqu'en 2030. Après deux saisons et demie avec le club français AS Monaco, Eliesse Ben Seghir va entamer une nouvelle expérience dans une culture footballistique différente.**related_articles[28.", 'size': 2}, {'id': '110', 'title': "L'international marocain Eliesse Ben Seghir rejoint le Bayer Leverkusen", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175373/l-international-marocain-eliesse-seghir-rejoint.html', 'summary': "L'international marocain Eliesse Ben Seghir rejoint le Bayer Leverkusen. Le footballeur international marocain Eliesse Ben Seghir a rejoint le Bayer 04 Leverkusen en provenance de lAS Monaco, a annoncé le club allemand dimanche, dans un communiqué de presse. Le milieu offensif de 20 ans a signé un contrat avec le champion de la Bundesliga, valable jusquau 30 juin 2030.", 'size': 4}], 'main_title': "L'international marocain Eliesse Ben Seghir rejoint le Bayer Leverkusen"}, {'community_id': '2', 'articles': [{'id': '9', 'title': "Gaza : le plan américain pour l'après-guerre prévoit de déplacer toute la population", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439384-gaza-le-plan-americain-pour-lapres-guerre-prevoit-de-deplacer-toute-la-population.html', 'summary': "Gaza : le plan américain pour l'après-guerre prévoit de déplacer toute la population. Le plan des Etats-Unis pour l’après-guerre à Gaza prévoit de déplacer toute la population du territoire palestinien, qui serait placé sous administration américaine pendant dix ans pour le transformer en un centre touristique et technologique, rapporte dimanche le Washington Post. Le plan de 38 pages, consulté par le quotidien américain, envisage le déplacement « volontaire » des . ", 'size': 2}, {'id': '136', 'title': 'Gaza : un plan américain prévoit le déplacement total de la population', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/gaza-un-plan-americain-prevoit-le-deplacement-total-de-la-population/', 'summary': 'Gaza : un plan américain prévoit le déplacement total de la population. Un document controversé de 38 pages, révélé par la presse américaine, décrit une initiative des États-Unis pour l’après-guerre à Gaza : le déplacement de l’ensemble des habitants du territoire palestinien et sa mise sous administration américaine pendant une décennie, avant de le transformer en centre technologique et touristique. Selon ce plan, les quelque deux millions .', 'size': 2}], 'main_title': "Gaza : le plan américain pour l'après-guerre prévoit de déplacer toute la population"}, {'community_id': '7', 'articles': [{'id': '17', 'title': 'Clôture de Ciné Plage Harhoura : le film "Mon Père n’est pas mort" remporte le grand prix', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/cine-plage-le-film-mon-pere-nest-pas-mort-remporte-le-grand-prix/298999', 'summary': 'Clôture de Ciné Plage Harhoura : le film "Mon Père n’est pas mort" remporte le grand prix. La cérémonie de clôture de cet événement, initié par l\'Association marocaine des arts sans frontières (AMAF), en partenariat avec la Commune de Harhoura et le Centre Cinématogr.', 'size': 2}, {'id': '119', 'title': 'Réalisé par Adil Fadili / Ciné Plage Harhoura : «Mon Père n’est pas mort» remporte le grand prix', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/realise-par-adil-fadili-cine-plage-harhoura-mon-pere-nest-pas-mort-remporte-le-grand-prix', 'summary': 'Réalisé par Adil Fadili / Ciné Plage Harhoura : «Mon Père n’est pas mort» remporte le grand prix. Le rideau est tombé récemment sur le 6ème Festival Ciné-Plage Harhoura, avec le sacre du film «Mon Père n’est pas mort» de Adil El Fadili qui s’est adjugé le Grand Prix de cette manifestation culturelle. La cérémonie de clôture de cet événement, initié par l’Association marocaine des arts sans frontières (AMAF), en partenariat avec la .', 'size': 2}], 'main_title': 'Clôture de Ciné Plage Harhoura : le film "Mon Père n’est pas mort" remporte le grand prix'}, {'community_id': '5', 'articles': [{'id': '42', 'title': 'CHAN-2024. Gianni Infantino : Le Maroc, un grand pays du football', 'source': 'www.libe.ma', 'link': 'https://www.libe.ma/CHAN-2024-Gianni-Infantino-Le-Maroc-un-grand-pays-du-football_a155559.html', 'summary': 'CHAN-2024. Gianni Infantino : Le Maroc, un grand pays du football.', 'size': 2}, {'id': '43', 'title': 'Gianni Infantino : «\xa0Le Maroc, un grand pays du football\xa0»', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/gianni-infantino-le-maroc-un-grand-pays-du-football/', 'summary': 'Gianni Infantino : « Le Maroc, un grand pays du football ». "Je suis très content pour le Maroc qui a remporté son troisième sacre du CHAN et démontré qu\'il mérite amplement le trophée", a notamment indiqué le patron du footbal mondial.', 'size': 2}], 'main_title': 'CHAN-2024. Gianni Infantino : Le Maroc, un grand pays du football'}, {'community_id': '1', 'articles': [{'id': '51', 'title': 'Le Japon envisage de fixer un cap au nombre d’étrangers', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-japon-envisage-de-fixer-un-cap-au-nombre-detrangers/', 'summary': 'Le Japon envisage de fixer un cap au nombre d’étrangers. Le Japon doit revoir en profondeur sa politique à l’égard des résidents étrangers et envisager l’introduction éventuelle d’un plafond, préconise un rapport gouvernemental publié samedi. Le document, présenté par le ministre de la Justice Keisuke Suzuki, souligne l’absence de stratégie unifiée concernant les étrangers et appelle à examiner l’impact social, les risques de tensions et .', 'size': 2}, {'id': '58', 'title': 'Le Japon envisage de fixer un cap au nombre d’étrangers (rapport)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-japon-envisage-de-fixer-un-cap-au-nombre-detrangers-rapport.html', 'summary': 'Le Japon envisage de fixer un cap au nombre d’étrangers (rapport). Le Japon doit revoir en profondeur sa politique à l’égard des résidents étrangers et envisager l’introduction éventuelle d’un plafond, préconise un rapport gouvernemental publié samedi. Le document, présenté par le ministre de la Justice Keisuke Suzuki, souligne l’absence de stratégie unifiée concernant les étrangers et appelle à examiner l’impact social, les risques de tensions et . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Le Japon envisage de fixer un cap au nombre d’étrangers'}, {'community_id': '10', 'articles': [{'id': '52', 'title': 'La Chine et l’Inde affichent leur volonté de rapprochement', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/la-chine-et-linde-affichent-leur-volonte-de-rapprochement/', 'summary': 'La Chine et l’Inde affichent leur volonté de rapprochement. Le président chinois Xi Jinping et le Premier ministre indien Narendra Modi ont exprimé dimanche leur volonté de rapprochement lors d’une rencontre en marge du sommet de l’Organisation de coopération de Shanghai (OCS) à Tianjin, dans le nord de la Chine. « Nous sommes les deux pays les plus peuplés du monde et faisons partie du .', 'size': 2}, {'id': '56', 'title': 'Sommet OCS : La guerre commerciale américaine, catalyseur d’un rapprochement Chine-Inde?', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/sommet-ocs-la-guerre-commerciale-americaine-catalyseur-dun-rapprochement-chine-inde-monde.html', 'summary': 'Sommet OCS : La guerre commerciale américaine, catalyseur d’un rapprochement Chine-Inde?. Le Premier ministre indien Narendra Modi est arrivé samedi dans la ville chinoise de Tianjin (nord) pour participer au sommet de l’Organisation de coopération de Shanghai (OCS), marquant sa première visite dans le pays depuis sept ans. Ce premier déplacement de M. Modi en Chine depuis 2018 laisse entrevoir une possible évolution favorable des relations . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'La Chine et l’Inde affichent leur volonté de rapprochement'}, {'community_id': '3', 'articles': [{'id': '59', 'title': 'Tanger finalise son grand stade avant la CAN 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439415-tanger-finalise-son-grand-stade-avant-la-can-2025.html', 'summary': 'Tanger finalise son grand stade avant la CAN 2025. Les travaux de modernisation du Grand stade de Tanger, futur hôte de la CAN 2025 et de la Coupe du monde 2030, entrent dans leur dernière ligne droite. Selon l’architecte en charge du projet, Anouar Amraoui, l’enceinte sportive sera livrée avant la fin septembre. Conçu pour répondre aux standards imposés par la FIFA, le stade . ', 'size': 3}, {'id': '105', 'title': "L'ouverture du Grand stade de Tanger programmé pour la fin septembre", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/01/louverture-du-grand-stade-de-tanger-programme-pour-la-fin-septembre_1948103/', 'summary': "L'ouverture du Grand stade de Tanger programmé pour la fin septembre. Le Grand Stade de Tanger, qui connaît actuellement des travaux de rénovation en vue d’accueillir la Coupe d’Afrique des Nations (CAN) en 2025 et le Mondial 2030 de football, sera prêt fin septembre prochain, a assuré Anouar Amraoui, architecte en charge de ce projet. Tous les espaces intérieurs ont été refaits afin de répondre aux.", 'size': 4}, {'id': '115', 'title': 'Maroc : Le Grand stade de Tanger sera prêt fin septembre', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175359/maroc-grand-stade-tanger-sera.html', 'summary': 'Maroc : Le Grand stade de Tanger sera prêt fin septembre. Le Grand stade de Tanger, qui connaît actuellement des travaux de rénovation en vue d’accueillir la Coupe d’Afrique des nations (CAN 2025) et le Mondial 2030 de football, sera prêt fin septembre prochain, a assuré Anouar Amraoui, architecte en charge de ce projet.', 'size': 5}, {'id': '140', 'title': 'Foot: Le Grand Stade de Tanger sera prêt fin septembre', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/foot-le-grand-stade-de-tanger-sera-pret-fin-septembre/', 'summary': 'Foot: Le Grand Stade de Tanger sera prêt fin septembre. Le Grand Stade de Tanger, qui connaît actuellement des travaux de rénovation en vue d’accueillir la Coupe d’Afrique des Nations (CAN) en 2025 et le Mondial 2030 de football, sera prêt fin septembre prochain, a assuré Anouar Amraoui, architecte en charge de ce projet. « Tous les espaces intérieurs ont été refaits afin de répondre aux .', 'size': 4}, {'id': '159', 'title': 'Grand Stade de Tanger : fin des travaux prévue pour la fin du mois', 'source': 'lnt.ma', 'link': 'https://lnt.ma/grand-stade-de-tanger-fin-des-travaux-prevue-pour-la-fin-du-mois/', 'summary': 'Grand Stade de Tanger : fin des travaux prévue pour la fin du mois. Les travaux de rénovation du Grand Stade de Tanger seront achevés d’ici la fin septembre, en préparation de la Coupe d’Afrique des Nations (CAN) 2025 et du Mondial 2030, a annoncé l’architecte en charge du projet, Anouar Amraoui. Selon lui, l’ensemble des espaces intérieurs a été refait afin de répondre aux normes de la FIFA . ', 'size': 5}], 'main_title': 'Maroc : Le Grand stade de Tanger sera prêt fin septembre'}, {'community_id': '6', 'articles': [{'id': '62', 'title': 'Maroc : le déficit commercial avoisine 195 MMDH à fin juillet', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439413-maroc-le-deficit-commercial-avoisine-195-mmdh-a-fin-juillet.html', 'summary': 'Maroc : le déficit commercial avoisine 195 MMDH à fin juillet. Le déficit commercial a atteint près de 195 milliards de dirhams (MMDH) au terme des sept premiers mois de 2025, en hausse de 15,9% comparativement à la même période un an auparavant, selon l’Office des changes. Cette évolution couvre une progression des importations de biens de 8,8% à 469,7 MMDH et des exportations de 4,2% . ', 'size': 5}, {'id': '76', 'title': 'Le déficit commercial s’aggrave de 15,9% à fin juillet 2025 (Office des changes)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/le-deficit-commercial-du-maroc-saggrave-de-159-a-fin-juillet-2025/299107', 'summary': 'Le déficit commercial s’aggrave de 15,9% à fin juillet 2025 (Office des changes). Les importations de biens ont atteint 469,7 MMDH à fin juillet 2025, en hausse de 8,8% (soit +37,8 MMDH) par rapport à la même période en 2024. Cette évolution est portée principal.', 'size': 4}, {'id': '92', 'title': 'Le déficit commercial grimpe à 195 MMDH (Office des changes)', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-deficit-commercial-grimpe-a-195-MMDH-Office-des-changes_a71256.html', 'summary': "Le déficit commercial grimpe à 195 MMDH (Office des changes). Le déficit commercial a atteint près de 195 milliards de dirhams (MMDH) au terme des sept premiers mois de 2025, en hausse de 15,9% comparativement à la même période un an auparavant, selon l'Office des changes.", 'size': 4}, {'id': '102', 'title': 'Le déficit commercial se creuse de 15,9% et atteint 195 milliards de dirhams à fin juillet', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/01/le-deficit-commercial-se-creuse-de-159-et-atteint-195-milliards-de-dirhams-a-fin-juillet_1948132/', 'summary': 'Le déficit commercial se creuse de 15,9% et atteint 195 milliards de dirhams à fin juillet. Le déficit commercial a atteint près de 195 milliards de dirhams au terme des sept premiers mois de 2025, en hausse de 15,9% comparativement à la même période un an auparavant, selon l’Office des changes. Cette évolution couvre une progression des importations de biens de 8,8% à 469,7 milliards de dirhams et des exportations de.', 'size': 5}, {'id': '158', 'title': 'Le déficit commercial en hausse à deux chiffres sur les sept premiers mois de l’année', 'source': 'lnt.ma', 'link': 'https://lnt.ma/le-deficit-commercial-en-hausse-a-deux-chiffres-sur-les-sept-premiers-mois-de-lannee/', 'summary': 'Le déficit commercial en hausse à deux chiffres sur les sept premiers mois de l’année. Le déficit commercial du Maroc s’est élevé à près de 195 milliards de dirhams (MMDH) à fin juillet 2025, en progression de 15,9 % par rapport à la même période de l’année précédente, selon l’Office des changes. Cette évolution résulte d’une hausse des importations de biens de 8,8 %, atteignant 469,7 MMDH, alors que les . ', 'size': 5}], 'main_title': 'Maroc : le déficit commercial avoisine 195 MMDH à fin juillet'}, {'community_id': '9', 'articles': [{'id': '67', 'title': "West Ham : Nayef Aguerd devrait rejoindre l'Olympique de Marseille", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/439396-west-ham-nayef-aguerd-devrait-rejoindre-lolympique-de-marseille.html', 'summary': "West Ham : Nayef Aguerd devrait rejoindre l'Olympique de Marseille. L’Olympique de Marseille tiendrait sa nouvelle recrue phare en défense. Selon les informations de Foot Mercato, le club phocéen aurait trouvé un terrain d’entente avec West Ham pour le transfert de Nayef Aguerd, qui s’apprête à signer son grand retour en Ligue 1. Confrontée à la nécessité de renforcer son arrière-garde avant la clôture du . ", 'size': 3}, {'id': '96', 'title': 'Transfert / OM : Nayef Aguerd arrive, accord total avec West Ham', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Transfert-OM-Nayef-Aguerd-arrive-accord-total-avec-West-Ham_a71251.html', 'summary': 'Transfert / OM : Nayef Aguerd arrive, accord total avec West Ham. Selon plusieurs sources concordantes, l’Olympique de Marseille a trouvé un accord définitif avec West Ham pour le transfert de Nayef Aguerd.', 'size': 3}, {'id': '99', 'title': "Ligue 1 : Nayef Aguerd attendu à l'OM", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/01/ligue-1-nayef-aguerd-va-signer-a-lom_1948129/', 'summary': "Ligue 1 : Nayef Aguerd attendu à l'OM. À quelques heures de la clôture du mercato, l’Olympique de Marseille (OM) a trouvé un accord avec le club anglais de West Ham pour le transfert du défenseur central marocain Nayef Aguerd, rapportent lundi plusieurs médias français. Âgé de 29 ans, l’international marocain (55 sélections, 2 buts) doit s’engager avec le club phocéen pour les.", 'size': 4}, {'id': '133', 'title': 'Ligue 1: Nayef Aguerd va signer à l’OM', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/ligue-1-nayef-aguerd-va-signer-a-lom/', 'summary': 'Ligue 1: Nayef Aguerd va signer à l’OM. A quelques heures de la clôture du mercato, l’Olympique de Marseille (OM) a trouvé un accord avec le club anglais de West Ham pour le transfert du défenseur central marocain Nayef Aguerd, rapportent lundi plusieurs médias français. Âgé de 29 ans, l’international marocain (55 sélections, 2 buts) doit s’engager avec le club phocéen pour les .', 'size': 4}], 'main_title': "Ligue 1 : Nayef Aguerd attendu à l'OM"}, {'community_id': '8', 'articles': [{'id': '107', 'title': 'Hamza Igamane brille avec un doublé lors de ses débuts à Lille contre Lorient', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/175403/hamza-igamane-brille-avec-double.html', 'summary': 'Hamza Igamane brille avec un doublé lors de ses débuts à Lille contre Lorient. Pour sa première sortie sous les couleurs du LOSC, linternational marocain Hamza Igamane a brillé en inscrivant deux buts, contribuant ainsi à la large victoire de Lille contre Lorient, 7-1. Ce match, qui sest déroulé le samedi 30 août 2025, marquait la troisième journée de la Ligue 1 française.', 'size': 2}, {'id': '122', 'title': 'Hamza Igamane  frappe fort pour  ses débuts avec Lille', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/sports/hamza-igamane-frappe-fort-pour-ses-debuts-avec-lille', 'summary': 'Hamza Igamane frappe fort pour ses débuts avec Lille. A peine 24 heures après avoir signé au LOSC Lille, l’international marocain Hamza Igamane a marqué les esprits pour son premier match en Ligue 1, en inscrivant un doublé lors de la large victoire de son nouveau club (7-1), en déplacement samedi à Lorient pour le compte de la 3e journée. Entré en jeu en .', 'size': 2}], 'main_title': 'Hamza Igamane brille avec un doublé lors de ses débuts à Lille contre Lorient'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 23/09/2025 - 06h15</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '8', 'articles': [{'id': '0', 'title': 'New York : Bourita met en avant les avancées du Maroc en matière de migration', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/442292-new-york-bourita-met-en-avant-les-avancees-du-maroc-en-matiere-de-migration.html', 'summary': 'New York : Bourita met en avant les avancées du Maroc en matière de migration. Le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, a mis en avant, lundi à New York, les avancées réalisées par le Royaume en matière de migration, à l’occasion d’un dialogue stratégique de haut niveau sur cette question organisé en marge de la 80è Assemblée Générale de . ', 'size': 5}, {'id': '120', 'title': 'Migration: Nasser Bourita met en avant à New York les avancées du Maroc', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/migration-nasser-bourita-met-en-avant-a-new-york-les-avancees-du-maroc/', 'summary': 'Migration: Nasser Bourita met en avant à New York les avancées du Maroc. Lors d\'une rencontre à New York tenue sous le thème "La migration à la croisée des chemins: un dialogue stratégique pour un monde en mutation", M. Bourita a souligné que le Royaume dispose d’une vision claire et cohérente, leader africain sur la question migratoire.', 'size': 2}, {'id': '153', 'title': 'Les Nations Unies célèbrent leur 80è anniversaire', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/les-nations-unies-celebrent-leur-80e-anniversaire/', 'summary': 'Les Nations Unies célèbrent leur 80è anniversaire. L’organisation des Nations Unies a marqué, lundi, son 80è anniversaire, à l’occasion d’une réunion plénière de haut niveau, marquée par la participation des pays membres dont le Maroc. Cette cérémonie, qui s’est déroulée en présence du ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, a été marquée .', 'size': 3}, {'id': '190', 'title': 'Maroc-Chine : un mécanisme de dialogue stratégique instauré', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/maroc-chine-un-mecanisme-de-dialogue-strategique-instaure.html', 'summary': 'Maroc-Chine : un mécanisme de dialogue stratégique instauré. Comme annoncé dans nos précédentes éditions, le ministre des Affaires étrangères, Nasser Bourita, a fait le déplacement vers Pékin le 20 septembre. ', 'size': 2}, {'id': '253', 'title': 'Migration: Mise en avant à New York des avancées du Maroc', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/migration-mise-en-avant-a-new-york-des-avancees-du-maroc', 'summary': 'Migration: Mise en avant à New York des avancées du Maroc. Le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, a mis en avant, lundi à New York, les avancées réalisées par le Royaume en matière de migration, à l’occasion d’un dialogue stratégique de haut niveau sur cette question organisé en marge de la 80è Assemblée Générale de .', 'size': 4}], 'main_title': 'New York : Bourita met en avant les avancées du Maroc en matière de migration'}, {'community_id': '1', 'articles': [{'id': '3', 'title': 'Fadlu Davids, nouvel entraîneur du Raja Casablanca', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/442250-fadlu-davids-nouvel-entraineur-du-raja-casablanca.html', 'summary': 'Fadlu Davids, nouvel entraîneur du Raja Casablanca. Le Raja Casablanca (RCA) a annoncé, lundi, avoir remercié l’entraîneur tunisien Lassaad Chabbi et désigné le Sud-africain Fadlu Davids comme nouvel entraîneur du club de la Botola Pro D1 « Inwi » de football. « Conformément aux recommandations du directeur sportif et eu égard à l’évaluation générale menée par la commission sportive au sujet de l’étape préparatoire de . ', 'size': 3}, {'id': '158', 'title': 'Foot/Raja de Casablanca: Lassaad Chabbi démis de ses fonctions, Fadlu Davids nouvel entraîneur', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/foot-raja-de-casablanca-lassaad-chabbi-demis-de-ses-fonctions/', 'summary': 'Foot/Raja de Casablanca: Lassaad Chabbi démis de ses fonctions, Fadlu Davids nouvel entraîneur. Le Raja de Casablanca (RCA) a annoncé, lundi, avoir remercié l’entraîneur tunisien Lassaad Chabbi et désigné le Sud-africain Fadlu Davids comme nouvel entraîneur du club de la Botola Pro D1 « Inwi » de football. « Conformément aux recommandations du directeur sportif et eu égard à l’évaluation générale menée par la commission sportive au sujet de l’étape préparatoire .', 'size': 3}, {'id': '203', 'title': 'Raja: Fadlu Davids succède à Lassaad Chabbi sur le banc des Verts', 'source': 'lnt.ma', 'link': 'https://lnt.ma/raja-fadlu-davids-succede-a-lassaad-chabbi-sur-le-banc-des-verts/', 'summary': 'Raja: Fadlu Davids succède à Lassaad Chabbi sur le banc des Verts. Le Raja de Casablanca (RCA) a annoncé, lundi, avoir remercié l’entraîneur tunisien Lassaad Chabbi et désigné le Sud-africain Fadlu Davids comme nouvel entraîneur du club de la Botola Pro D1 « Inwi » de football. « Conformément aux recommandations du directeur sportif et eu égard à l’évaluation générale menée par la commission sportive au sujet de l’étape préparatoire . ', 'size': 3}], 'main_title': 'Fadlu Davids, nouvel entraîneur du Raja Casablanca'}, {'community_id': '14', 'articles': [{'id': '8', 'title': 'Loudyi reçoit le ministre de la Défense d’Inde', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/442245-loudyi-recoit-le-ministre-de-la-defense-dinde.html', 'summary': 'Loudyi reçoit le ministre de la Défense d’Inde. En exécution des Hautes Instructions Royales, le ministre Délégué auprès du Chef du Gouvernement chargé de l’Administration de la Défense Nationale, Abdeltif Loudyi, a reçu, lundi au siège de cette Administration, le ministre de la Défense de la République de l’Inde, Rajnath Singh, accompagné d’une délégation de haut niveau en visite de travail au Royaume . ', 'size': 5}, {'id': '67', 'title': 'Maroc-Inde : Loudyi reçoit le ministre de la Défense indien', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/maroc-inde-loudyi-recoit-le-ministre-de-la-defense-de-la-republique-indienne_1951778/', 'summary': 'Maroc-Inde : Loudyi reçoit le ministre de la Défense indien. En exécution des instructions royales, le ministre délégué auprès du chef du gouvernement chargé de l’Administration de la défense nationale, Abdeltif Loudyi, a reçu, lundi au siège de cette Administration, le ministre de la Défense de la République de l’Inde, Rajnath Singh, accompagné d’une délégation de haut niveau en visite de travail au Maroc. Cette.', 'size': 5}, {'id': '93', 'title': 'Maroc : Loudyi reçoit le ministre de la Défense de l’Inde', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/176997/maroc-loudyi-recoit-ministre-defense.html', 'summary': 'Maroc : Loudyi reçoit le ministre de la Défense de l’Inde. En exécution des hautes instructions royales, le ministre délégué auprès du chef du gouvernement chargé de l’Administration de la défense nationale, Abdeltif Loudyi, a reçu, lundi au siège de cette Administration, le ministre de la défense de la république de l’Inde, Rajnath Singh, accompagné d’une délégation de haut niveau en visite de travail au Maroc.', 'size': 5}, {'id': '162', 'title': 'Abdellatif Loudiyi reçoit le ministre de la Défense de la République de l’Inde', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/abdellatif-loudiyi-recoit-le-ministre-de-la-defense-de-la-republique-de-linde/', 'summary': 'Abdellatif Loudiyi reçoit le ministre de la Défense de la République de l’Inde. En exécution des Hautes Instructions Royales, le ministre Délégué auprès du Chef du Gouvernement chargé de l’Administration de la Défense Nationale, M. Abdellatif Loudiyi, a reçu, lundi au siège de cette Administration, le ministre de la Défense de la République de l’Inde, M. Rajnath Singh, accompagné d’une délégation de haut niveau en visite de travail .', 'size': 5}, {'id': '191', 'title': 'Maroc : Abdeltif Loudyi reçoit le ministre de la Défense de la République de l’Inde', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-abdeltif-loudyi-recoit-le-ministre-de-la-defense-de-la-republique-de-linde.html', 'summary': 'Maroc : Abdeltif Loudyi reçoit le ministre de la Défense de la République de l’Inde. En exécution des Hautes Instructions Royales, le ministre Délégué auprès du Chef du Gouvernement chargé de l’Administration de la Défense Nationale, M. Abdeltif Loudyi, a reçu lundi au siège de cette Administration, le ministre de la Défense de la République de l’Inde, M. Rajnath Singh, accompagné d’une délégation de haut niveau en visite de travail . L’article est apparu en premier sur .', 'size': 5}], 'main_title': 'Loudyi reçoit le ministre de la Défense d’Inde'}, {'community_id': '2', 'articles': [{'id': '28', 'title': 'Fluor des phosphates : INNOVX investit 2,5 MMDH pour un nouveau complexe à Jorf Lasfar', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/fluoralpha-innovx-lance-un-projet-strategique-de-25-mmdh/303011', 'summary': 'Fluor des phosphates : INNOVX investit 2,5 MMDH pour un nouveau complexe à Jorf Lasfar. Le financement d’un milliard de dirhams, récemment sécurisé auprès de Bank of Africa, représente un jalon clé pour la concrétisation de ce projet industriel d’envergure. Il permett.', 'size': 4}, {'id': '148', 'title': 'Valorisation du fluor : La filiale d’InnovX, Fluoralpha, sécurise un financement de 1 MMDH', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/valorisation-du-fluor-la-filiale-dinnovx-fluoralpha-securise-un-financement-de-1-mmdh/', 'summary': 'Valorisation du fluor : La filiale d’InnovX, Fluoralpha, sécurise un financement de 1 MMDH. Ce financement accompagne la réalisation d’un projet industriel d’envergure de Fluoralpha à Jorf Lasfar, représentant un investissement global de 2,5 milliards de dirhams.', 'size': 5}, {'id': '178', 'title': 'Fluoralpha sécurise un financement d’un milliard de dirhams auprès de Bank of Africa', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/fluoralpha-securise-un-financement-dun-milliard-de-dirhams-aupres-de-bank-of-africa.html', 'summary': 'Fluoralpha sécurise un financement d’un milliard de dirhams auprès de Bank of Africa. INNOVX annonce la signature d’un financement stratégique de plus d’un Milliard de Dirhams pour sa filiale Fluoralpha, auprès de BANK OF AFRICA, portant sur le financement d’un projet industriel d’envergure à Jorf Lasfar, dédié à la valorisation du fluor issu des roches phosphatées marocaines. ', 'size': 5}, {'id': '199', 'title': 'Bank of Africa accorde 1 MMDH à Fluoralpha pour le développement de son projet à Jorf Lasfar', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/bank-of-africa-accorde-1-mmdh-a-fluoralpha-pour-le-developpement-de-son-projet-a-jorf-lasfar/', 'summary': 'Bank of Africa accorde 1 MMDH à Fluoralpha pour le développement de son projet à Jorf Lasfar. INNOVX a annoncé, lundi, la signature d’un financement stratégique de plus d’un milliard de dirhams (MMDH) pour sa filiale Fluoralpha, auprès de Bank of Africa (BOA), dédié à un projet industriel d’envergure à Jorf Lasfar pour valoriser le fluor issu des roches phosphatées marocaines. Ce financement accompagne la réalisation d’un projet industriel d’envergure de Fluoralpha ', 'size': 4}, {'id': '202', 'title': 'Bank of Africa accompagne INNOVX avec 1 Mrd DH pour son projet industriel à Jorf Lasfar', 'source': 'lnt.ma', 'link': 'https://lnt.ma/bank-of-africa-accompagne-innovx-avec-1-mrd-dh-pour-son-projet-industriel-a-jorf-lasfar/', 'summary': 'Bank of Africa accompagne INNOVX avec 1 Mrd DH pour son projet industriel à Jorf Lasfar. INNOVX annonce la signature d’un financement stratégique de plus d’un Milliard de Dirhams pour sa filiale Fluoralpha, auprès de BANK OF AFRICA, portant sur le financement d’un projet industriel d’envergure à Jorf Lasfar, dédié à la valorisation du fluor issu des roches phosphatées marocaines. Fluoralpha, filiale d’INNOVX, créée en 2023, ambitionne de devenir leader de . ', 'size': 5}], 'main_title': 'Valorisation du fluor : La filiale d’InnovX, Fluoralpha, sécurise un financement de 1 MMDH'}, {'community_id': '4', 'articles': [{'id': '29', 'title': 'Driss Guerraoui, réélu Vice-Président Afrique au Réseau International des Maisons des Francophonies', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/reseau-des-maisons-des-francophonies-guerraoui-reelu-vice-president/303010', 'summary': 'Driss Guerraoui, réélu Vice-Président Afrique au Réseau International des Maisons des Francophonies. Il a, ainsi, élu trois co-présidents, Christian Philippe de France, Eliane Régine Lafleur Nsom du Cameroun et Marcel Morin du Québec et les vices-présidents représentants les quatr.', 'size': 2}, {'id': '160', 'title': 'Driss Guerraoui réélu vice-président Afrique du Bureau Exécutif du RIMF', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/driss-guerraoui-reelu-vice-president-afrique-du-bureau-executif-du-rimf/', 'summary': 'Driss Guerraoui réélu vice-président Afrique du Bureau Exécutif du RIMF. Le Marocain Driss Guerraoui a été réélu, récemment à Montréal, vice-président pour la Zone Afrique au Bureau Exécutif du Réseau International des Maisons des Francophonies (RIMF). À l’issue de son Assemblée générale, le Réseau a renouvelé ses instances de direction, élisant trois co-présidents, en l’occurrence Christian Philippe de France, Eliane Régine Lafleur Nsom du Cameroun .', 'size': 2}], 'main_title': 'Driss Guerraoui, réélu Vice-Président Afrique au Réseau International des Maisons des Francophonies'}, {'community_id': '10', 'articles': [{'id': '32', 'title': "Sur Hautes Instructions de S.M. le Roi, Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l'ONU", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/akhannouch-preside-la-delegation-du-maroc-a-lassemblee-generale-de-lonu/303003', 'summary': "Sur Hautes Instructions de S.M. le Roi, Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l'ONU. M. Akhannouch est accompagné à cette session par le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, M. Nasser Bourita.Placée s.", 'size': 6}, {'id': '52', 'title': "80è Assemblée générale de l'ONU : Aziz Akhannouch préside la délégation du Maroc", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/80e-Assemblee-generale-de-l-ONU-Aziz-Akhannouch-preside-la-delegation-du-Maroc_a72028.html', 'summary': "80è Assemblée générale de l'ONU : Aziz Akhannouch préside la délégation du Maroc. Sur Hautes Instructions de Sa Majesté le Roi Mohammed VI, le Chef du gouvernement, M. Aziz Akhannouch, préside la délégation du Maroc à la 80è session de l’Assemblée générale des Nations Unies qui se tient à New York.", 'size': 5}, {'id': '80', 'title': "Sur instructions du roi, Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l'ONU", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/sur-instructions-du-roi-akhannouch-preside-la-delegation-du-maroc-a-la-80e-assemblee-generale-de-lonu_1951657/', 'summary': "Sur instructions du roi, Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l'ONU. Sur instructions du roi Mohammed VI, le Chef du gouvernement, M. Aziz Akhannouch, préside la délégation du Maroc à la 80è session de l’Assemblée générale des Nations Unies qui se tient à New York. Akhannouch est accompagné à cette session par le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à.", 'size': 5}, {'id': '146', 'title': 'Assemblée générale de l’ONU : Akhannouch préside la délégation du Maroc à la 80e session', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/assemblee-generale-de-lonu-akhannouch-preside-la-delegation-du-maroc-a-la-80e-session/', 'summary': 'Assemblée générale de l’ONU : Akhannouch préside la délégation du Maroc à la 80e session. Sur Hautes Instructions de Sa Majesté le Roi Mohammed VI, le Chef de gouvernement, Aziz Akhannouch, préside la délégation du Maroc à la 80e session de l’Assemblée générale des Nations unies qui se tient à New York.', 'size': 5}, {'id': '196', 'title': 'Aziz Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l’ONU', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/aziz-akhannouch-preside-la-delegation-du-maroc-a-la-80e-assemblee-generale-de-lonu.html', 'summary': 'Aziz Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l’ONU. Sur Hautes Instructions du Roi Mohammed VI, le Chef du gouvernement, M. Aziz Akhannouch, préside la délégation du Maroc à la 80è session de l’Assemblée générale des Nations Unies qui se tient à New York. M. Akhannouch est accompagné à cette session par le ministre des Affaires étrangères, de la Coopération africaine et des Marocains . L’article est apparu en premier sur .', 'size': 5}], 'main_title': "Sur Hautes Instructions de S.M. le Roi, Akhannouch préside la délégation du Maroc à la 80è Assemblée générale de l'ONU"}, {'community_id': '17', 'articles': [{'id': '65', 'title': "Des œuvres de l'artiste Mahi Binebine acquises par deux musées nord-américains", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/des-oeuvres-de-lartiste-mahi-binebine-acquises-par-deux-musees-nord-americains_1951814/', 'summary': "Des œuvres de l'artiste Mahi Binebine acquises par deux musées nord-américains. Des œuvres de l’artiste et écrivain marocain Mahi Binebine ont été récemment acquises par deux institutions majeures, à savoir le Smithsonian National Museum of African Art à Washington D.C. et le Pérez Art Museum Miami (PAMM). Ces acquisitions marquent une étape importante dans la reconnaissance internationale du travail de cet artiste de renommée mondiale et.", 'size': 2}, {'id': '171', 'title': 'Nouvelle consécration pour Mahi Binebine', 'source': 'leseco.ma', 'link': 'https://leseco.ma/culture/nouvelle-consecration-pour-mahi-binebine.html', 'summary': 'Nouvelle consécration pour Mahi Binebine. C’est une nouvelle page de l’histoire artistique marocaine qui s’écrit. À 66 ans, Mahi Binebine, peintre, sculpteur, écrivain et cinéaste, voit ses œuvres rejoindre deux des institutions les plus prestigieuses de la scène internationale : le Smithsonian National Museum of African Art de Washington et le Pérez Art Museum Miami (PAMM). ', 'size': 2}], 'main_title': "Des œuvres de l'artiste Mahi Binebine acquises par deux musées nord-américains"}, {'community_id': '13', 'articles': [{'id': '68', 'title': 'Justice pénale : à quoi servira l’Observatoire national de la criminalité ?', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/justice-penale-a-quoi-servira-lobservatoire-national-de-la-criminalite_1951768/', 'summary': 'Justice pénale : à quoi servira l’Observatoire national de la criminalité ?. Le ministère de la Justice a affirmé que la consécration de l’ancrage législatif de l’Observatoire national de la criminalité dans le nouveau Code de procédure pénale place le Maroc parmi les pays qui adoptent les meilleures pratiques en matière de gouvernance pénale fondée sur des preuves scientifiques. Les études comparatives disponibles indiquent que seulement 8%.', 'size': 2}, {'id': '161', 'title': 'Gouvernance pénale: l’Observatoire national de la criminalité inscrit dans la loi', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/gouvernance-penale-lobservatoire-national-de-la-criminalite-inscrit-dans-la-loi/', 'summary': 'Gouvernance pénale: l’Observatoire national de la criminalité inscrit dans la loi. Le ministère de la Justice a affirmé que la consécration de l’ancrage législatif de l’Observatoire national de la criminalité dans le nouveau Code de procédure pénale place le Maroc parmi les pays qui adoptent les meilleures pratiques en matière de gouvernance pénale fondée sur des preuves scientifiques. « Les études comparatives disponibles indiquent que seulement 8% .', 'size': 2}], 'main_title': 'Justice pénale : à quoi servira l’Observatoire national de la criminalité ?'}, {'community_id': '15', 'articles': [{'id': '70', 'title': "CREMAI 2025 : le Maroc remporte la Coupe d'Afrique et Moyen-Orient des Cheffes", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/cremai-2025-le-maroc-remporte-la-coupe-dafrique-et-moyen-orient-des-cheffes_1951741/', 'summary': "CREMAI 2025 : le Maroc remporte la Coupe d'Afrique et Moyen-Orient des Cheffes. Le Maroc a remporté, dimanche à Marrakech, la Coupe d’Afrique et Moyen-Orient des Cheffes (Trophée Morjane Halima), l’une des compétitions phares de la 11ᵉ édition du Salon international CREMAI. Créé pour valoriser la gastronomie marocaine et africaine, ce trophée rend hommage aux femmes cheffes et vise à encourager l’excellence, la créativité et la transmission des.", 'size': 3}, {'id': '95', 'title': "CREMAI 2025 : Le Maroc remporte la Coupe d'Afrique et Moyen-Orient des cheffes", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/176983/cremai-2025-maroc-remporte-coupe.html', 'summary': "CREMAI 2025 : Le Maroc remporte la Coupe d'Afrique et Moyen-Orient des cheffes. Le Maroc a remporté, dimanche à Marrakech, la Coupe dAfrique et Moyen-Orient des cheffes (Trophée Morjane Halima), lune des compétitions phares de la 11áµ‰ édition du Salon international CREMAI. Créé pour valoriser la gastronomie marocaine et africaine, ce trophée rend hommage aux femmes cheffes et vise à encourager lexcellence, la créativité et la transmission des savoir-faire culinaires.", 'size': 2}, {'id': '197', 'title': 'CREMAI 2025 | Le Maroc remporte la Coupe d’Afrique et Moyen-Orient des Cheffes', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/cremai-2025-le-maroc-remporte-la-coupe-dafrique-et-moyen-orient-des-cheffes/', 'summary': 'CREMAI 2025 | Le Maroc remporte la Coupe d’Afrique et Moyen-Orient des Cheffes. Le Maroc a remporté, dimanche à Marrakech, la Coupe d’Afrique et Moyen-Orient des Cheffes (Trophée Morjane Halima), l’une des compétitions phares de la 11ᵉ édition du Salon international CREMAI, rendez-vous placé sous le Haut Patronage de Sa Majesté le Roi Mohammed VI. Créé pour valoriser la gastronomie marocaine et africaine, ce trophée rend hommage aux femmes cheffes ', 'size': 2}], 'main_title': "CREMAI 2025 : le Maroc remporte la Coupe d'Afrique et Moyen-Orient des Cheffes"}, {'community_id': '11', 'articles': [{'id': '73', 'title': '“Cellule 10” : les enseignants manifestent de nouveau contre les déclarations du ministre Berrada', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/cellule-10-les-enseignants-manifestent-de-nouveau-contre-les-declarations-du-ministre-berrada_1951667/', 'summary': '“Cellule 10” : les enseignants manifestent de nouveau contre les déclarations du ministre Berrada. Le bras de fer se poursuit entre les enseignants de la “cellule 10” et le ministère de l’Éducation nationale. Après les déclarations du ministre Mohamed Saad Berrada excluant une promotion automatique, les protestataires ont manifesté dimanche devant le Parlement, maintenant leur exigence d’une promotion exceptionnelle pour tous. Les enseignants dits de la “cellule 10” sont.', 'size': 2}, {'id': '233', 'title': 'Les revendications matérielles des enseignants, l’autre casse-tête de Berrada', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/les-revendications-materielles-des-enseignants-le-casse-tete-de-berrada/303168', 'summary': 'Les revendications matérielles des enseignants, l’autre casse-tête de Berrada. Le ministre de l’Éducation nationale, du préscolaire et des sports, Mohamed Saad Berrada, a souligné, vendredi dernier, lors d’une conférence de presse organisée à Rabat que la pro.', 'size': 2}], 'main_title': '“Cellule 10” : les enseignants manifestent de nouveau contre les déclarations du ministre Berrada'}, {'community_id': '16', 'articles': [{'id': '81', 'title': 'Tournoi FIFA de futsal : le Maroc s’incline face à l’Argentine sur fond de polémiques arbitrales', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/09/22/tournoi-fifa-de-futsal-le-maroc-sincline-face-a-largentine-sur-fond-de-polemiques-arbitrales_1951655/', 'summary': 'Tournoi FIFA de futsal : le Maroc s’incline face à l’Argentine sur fond de polémiques arbitrales. La sélection marocaine de futsal s’est inclinée, dimanche, face à l’Argentine (2-0), lors de son deuxième et dernier match du tournoi de la FIFA organisé à Buenos Aires, au terme d’une rencontre marquée par des décisions arbitrales vivement contestées par le staff technique marocain. Dans une salle comble, avec 8.000 supporters argentins acquis à la.', 'size': 2}, {'id': '103', 'title': 'Tournoi FIFA de futsal à Buenos Aires : Le Maroc s’incline face à l’Argentine sur fond de polémiques arbitrales', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/176949/tournoi-fifa-futsal-buenos-aires.html', 'summary': 'Tournoi FIFA de futsal à Buenos Aires : Le Maroc s’incline face à l’Argentine sur fond de polémiques arbitrales. La sélection marocaine de futsal s’est inclinée, dimanche, face à l’Argentine (2-0), lors de son deuxième et dernier match du tournoi de la FIFA organisé à Buenos Aires, au terme d’une rencontre marquée par des décisions arbitrales vivement contestées par le staff technique marocain.', 'size': 2}], 'main_title': 'Tournoi FIFA de futsal : le Maroc s’incline face à l’Argentine sur fond de polémiques arbitrales'}, {'community_id': '3', 'articles': [{'id': '106', 'title': 'Rentrée 2025-2026 de l’OFPPT: Top départ de la formation dans  3 nouveaux centres à Casablanca', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/rentree-2025-2026-de-lofppt-top-depart-de-la-formation-dans-3-nouveaux-centres-a-casablanca', 'summary': 'Rentrée 2025-2026 de l’OFPPT: Top départ de la formation dans 3 nouveaux centres à Casablanca. Dispositif L’OFPPT a donné vendredi le coup d’envoi de la formation dans trois nouveaux centres dédiés à la métallerie-soudure, à l’électricité et à l’électronique, ainsi qu’aux métiers du tertiaire. L’Office de la formation professionnelle et de la promotion du travail (OFPPT) a procédé vendredi 19 septembre, au lancement de la formation, dans trois nouveaux centres .', 'size': 2}, {'id': '214', 'title': 'Casablanca : l’OFPPT lance trois nouveaux centres de formation', 'source': 'lnt.ma', 'link': 'https://lnt.ma/casablanca-lofppt-lance-trois-nouveaux-centres-de-formation/', 'summary': 'Casablanca : l’OFPPT lance trois nouveaux centres de formation. L’Office de la formation professionnelle et de la promotion du travail (OFPPT) a donné, vendredi, le coup d’envoi de la rentrée 2025-2026 dans trois nouveaux établissements à Casablanca, spécialisés respectivement dans la métallerie-soudure (Tit Mellil), l’électricité-électronique (Sidi Othmane) et les métiers du tertiaire (Oasis). La cérémonie officielle s’est tenue en présence de Mohamed El Azami, . ', 'size': 2}], 'main_title': 'Rentrée 2025-2026 de l’OFPPT: Top départ de la formation dans  3 nouveaux centres à Casablanca'}, {'community_id': '9', 'articles': [{'id': '156', 'title': 'Vienne : Élection du Maroc à la vice-présidence du Conseil des gouverneurs de l’AIEA', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/vienne-election-du-maroc-a-la-vice-presidence-du-conseil-des-gouverneurs-de-laiea/', 'summary': 'Vienne : Élection du Maroc à la vice-présidence du Conseil des gouverneurs de l’AIEA. Le Royaume du Maroc a été élu, lundi à Vienne, à la vice-présidence du Conseil des gouverneurs de l’Agence internationale de l’énergie atomique (AIEA) pour l’année 2025-2026, en la personne de l’ambassadeur, représentant permanent du Maroc auprès des organisations internationales à Vienne, Azzeddine Farhane. La candidature du Maroc, présentée au nom du Groupe des 77 .', 'size': 2}, {'id': '259', 'title': 'Énergie atomique : Élection du Maroc à la vice-présidence du Conseil des gouverneurs de l’AIEA', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/energie-atomique-election-du-maroc-a-la-vice-presidence-du-conseil-des-gouverneurs-de-laiea/', 'summary': 'Énergie atomique : Élection du Maroc à la vice-présidence du Conseil des gouverneurs de l’AIEA. La candidature du Maroc, présentée au nom du Groupe des 77 et la Chine (chapitre de Vienne), a été soutenue à l’unanimité par les 134 membres.', 'size': 2}], 'main_title': 'Vienne : Élection du Maroc à la vice-présidence du Conseil des gouverneurs de l’AIEA'}, {'community_id': '18', 'articles': [{'id': '173', 'title': 'SRM Casablanca-Settat: lancement des 1ères agences clientèle de proximité à Sidi Bennour', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/srm-casablanca-settat-lancement-des-1eres-agences-clientele-de-proximite-a-sidi-bennour.html', 'summary': "SRM Casablanca-Settat: lancement des 1ères agences clientèle de proximité à Sidi Bennour. Opérationnelle en octobre 2024, la Société Régionale Multiservices (SRM) Casablanca-Settat concrétise sa vision d'un service public équitable et performant à l'échelle régionale. ", 'size': 2}, {'id': '209', 'title': 'SRM Casablanca-Settat : déploiement progressif d’un service public de proximité', 'source': 'lnt.ma', 'link': 'https://lnt.ma/srm-casablanca-settat-deploiement-progressif-dun-service-public-de-proximite/', 'summary': 'SRM Casablanca-Settat : déploiement progressif d’un service public de proximité. Opérationnelle depuis octobre 2024, la Société Régionale Multiservices (SRM) Casablanca-Settat poursuit la mise en œuvre de sa stratégie territoriale visant à améliorer l’accès aux services dans l’ensemble de la région, qui compte plus de 7 millions d’habitants. L’approche combine ouverture d’agences physiques, déploiement d’unités mobiles et harmonisation progressive de l’offre dans les zones périurbaines. Le . ', 'size': 2}], 'main_title': 'SRM Casablanca-Settat: lancement des 1ères agences clientèle de proximité à Sidi Bennour'}, {'community_id': '0', 'articles': [{'id': '200', 'title': 'P3 Summit for Change | Le modèle marocain de partenariat public-privé mis en avant à New York', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/p3-summit-for-change-le-modele-marocain-de-partenariat-public-prive-mis-en-avant-a-new-york/', 'summary': 'P3 Summit for Change | Le modèle marocain de partenariat public-privé mis en avant à New York. Le modèle marocain de partenariat public-privé a été mis en lumière lors du “P3 Summit for Change” qui a réuni, dimanche à New York, les dirigeants de plusieurs grandes entreprises américaines et mondiales pour un échange stratégique avec de hauts responsables gouvernementaux. Tenue à la veille de la semaine de haut niveau de la 80è ', 'size': 2}, {'id': '215', 'title': 'Partenariats public-privé : le modèle marocain mis en avant au “P3 Summit for Change” à New York', 'source': 'lnt.ma', 'link': 'https://lnt.ma/partenariats-public-prive-le-modele-marocain-mis-en-avant-au-p3-summit-for-change-a-new-york/', 'summary': 'Partenariats public-privé : le modèle marocain mis en avant au “P3 Summit for Change” à New York. Le modèle marocain de partenariat public-privé (PPP) a été présenté, dimanche à New York, comme un levier structurant de croissance et d’innovation lors du “P3 Summit for Change”, rencontre stratégique organisée à la veille de la semaine de haut niveau de la 80e Assemblée générale des Nations Unies. L’événement a réuni des dirigeants de grandes . ', 'size': 2}], 'main_title': 'P3 Summit for Change | Le modèle marocain de partenariat public-privé mis en avant à New York'}, {'community_id': '5', 'articles': [{'id': '221', 'title': "Un Français faisant l'objet d'un mandat d'arrêt international interpellé à l'aéroport Mohammed V", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/442295-un-francais-faisant-lobjet-dun-mandat-darret-international-interpelle-a-laeroport-mohammed-v.html', 'summary': "Un Français faisant l'objet d'un mandat d'arrêt international interpellé à l'aéroport Mohammed V. Les éléments de la Sûreté nationale de l’aéroport international Mohammed V de Casablanca ont interpellé, dimanche, un ressortissant français d’origine turque faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires françaises. Selon une source sécuritaire, le pointage du mis en cause (44 ans) dans la base de données d’Interpol a révélé qu’il faisait . ", 'size': 2}, {'id': '252', 'title': 'Aéroport Mohammed V :\xa0Arrestation d’un Français d’origine turque visé par un mandat d’arrêt international', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/177020/aeroport-mohammed-arrestation-d-un-francais.html', 'summary': 'Aéroport Mohammed V : Arrestation d’un Français d’origine turque visé par un mandat d’arrêt international. Les éléments de la Sûreté nationale de l’aéroport international Mohammed V de Casablanca ont interpellé, dimanche, un ressortissant français d’origine turque faisant l’objet d’un mandat d’arrêt international émis par les autorités judiciaires françaises, a-t-on appris de source sécuritaire.', 'size': 2}], 'main_title': "Un Français faisant l'objet d'un mandat d'arrêt international interpellé à l'aéroport Mohammed V"}, {'community_id': '6', 'articles': [{'id': '222', 'title': 'Le Paraguay reconnaît la marocanité du Sahara, un consulat dans les provinces du Sud envisagé', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/442380-le-paraguay-reconnait-la-marocanite-du-sahara-un-consulat-dans-les-provinces-du-sud-envisage.html', 'summary': 'Le Paraguay reconnaît la marocanité du Sahara, un consulat dans les provinces du Sud envisagé. Le Paraguay reconnaît la souveraineté du Maroc sur son Sahara et envisage l’ouverture d’un consulat dans les provinces du Sud du Royaume, a annoncé, lundi à New York, le ministre des Affaires étrangères du Paraguay, Rubén Darío Ramírez Lezcano. « Nous soutenons la souveraineté du Maroc sur son Sahara, et nous envisageons l’ouverture prochaine d’un consulat . ', 'size': 3}, {'id': '248', 'title': "Le Paraguay reconnaît la marocanité du Sahara et envisage l'ouverture d'un consulat dans la province", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/177042/paraguay-reconnait-marocanite-sahara-envisage.html', 'summary': "Le Paraguay reconnaît la marocanité du Sahara et envisage l'ouverture d'un consulat dans la province. En marge de la 80e session de lAssemblée générale des Nations unies à New York, le ministre des Affaires étrangères du Maroc, Nasser Bourita, a rencontré hier son homologue paraguayen, Rubén Darío Ramírez.", 'size': 3}, {'id': '270', 'title': 'Le Paraguay reconnaît la souveraineté du Maroc sur son Sahara, envisage l’ouverture d’un consulat dans les provinces du Sud', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/le-paraguay-reconnait-la-souverainete-du-maroc-sur-son-sahara-envisage-louverture-dun-consulat-dans-les-provinces-du-sud.html', 'summary': 'Le Paraguay reconnaît la souveraineté du Maroc sur son Sahara, envisage l’ouverture d’un consulat dans les provinces du Sud. Le Paraguay reconnaît la souveraineté du Maroc sur son Sahara et envisage l’ouverture d’un consulat dans les provinces du Sud du Royaume, a annoncé lundi à New York, le ministre des Affaires étrangères du Paraguay, Rubén Darío Ramírez Lezcano. « Nous soutenons la souveraineté du Maroc sur son Sahara, et nous envisageons l’ouverture prochaine d’un consulat . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Le Paraguay reconnaît la marocanité du Sahara, un consulat dans les provinces du Sud envisagé'}, {'community_id': '7', 'articles': [{'id': '224', 'title': 'ONU : Le Maroc participe à une conférence internationale sur le règlement pacifique de la question palestinienne', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/442384-onu-le-maroc-participe-a-une-conference-internationale-sur-le-reglement-pacifique-de-la-question-palestinienne.html', 'summary': 'ONU : Le Maroc participe à une conférence internationale sur le règlement pacifique de la question palestinienne. Le Maroc, représenté par le Chef du gouvernement, Aziz Akhannouch, a participé, lundi à New York, à une conférence internationale de haut niveau sur le règlement pacifique de la question palestinienne et la mise en œuvre de la solution à deux Etats. Akhannouch était accompagné à cette conférence, tenue en marge de la 80è Assemblée . ', 'size': 2}, {'id': '273', 'title': 'ONU: le Maroc participe à New York à une conférence internationale sur le règlement pacifique de la question palestinienne', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/onu-le-maroc-participe-a-new-york-a-une-conference-internationale-sur-le-reglement-pacifique-de-la-question-palestinienne.html', 'summary': 'ONU: le Maroc participe à New York à une conférence internationale sur le règlement pacifique de la question palestinienne. Le Maroc, représenté par le chef du gouvernement, Aziz Akhannouch, a participé, lundi à New York, à une conférence internationale de haut niveau sur le règlement pacifique de la question palestinienne et la mise en œuvre de la solution à deux Etats. M. Akhannouch a été accompagné à cette conférence, tenue en marge de la . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'ONU : Le Maroc participe à une conférence internationale sur le règlement pacifique de la question palestinienne'}, {'community_id': '12', 'articles': [{'id': '260', 'title': 'ONU : La France reconnaît l’Etat de Palestine', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/onu-la-france-reconnait-letat-de-palestine/', 'summary': 'ONU : La France reconnaît l’Etat de Palestine. Le président français Emmanuel Macron, a annoncé, lundi au siège des Nations-Unies à New York, la reconnaissance officielle par son pays de l’Etat de Palestine. « Le temps est venu. C’est pourquoi, fidèle à l’engagement historique de mon pays au Proche-Orient, pour la paix entre le peuple israélien et le peuple palestinien, je déclare que la .', 'size': 2}, {'id': '277', 'title': 'Emmanuel Macron à l’ONU : «\xa0Je déclare que la France reconnaît l’État de Palestine\xa0»', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/onu-la-france-reconnait-letat-de-palestine-president-macron.html', 'summary': 'Emmanuel Macron à l’ONU : « Je déclare que la France reconnaît l’État de Palestine ». Le président français Emmanuel Macron, a annoncé, lundi au siège des Nations-Unies à New York, la reconnaissance officielle par son pays de l’État de Palestine. « Le temps est venu. C’est pourquoi, fidèle à l’engagement historique de mon pays au Proche-Orient, pour la paix entre le peuple israélien et le peuple palestinien, je déclare que la . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'ONU : La France reconnaît l’Etat de Palestine'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
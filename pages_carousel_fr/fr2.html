<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 18/10/2025 - 12h24</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '12', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce samedi 18 octobre 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445898-le-temps-quil-fera-ce-samedi-18-octobre-2025.html', 'summary': "Le temps qu'il fera ce samedi 18 octobre 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 18 octobre 2025 – Temps assez chaud sur l’extrême Sud des provinces sahariennes. – Nuages bas matinaux et nocturnes sur les plaines Atlantiques et la Méditerranée avec formations brumeuses ou bruine par endroits. – Rafales de vent assez fortes sur . ", 'size': 2}, {'id': '78', 'title': 'Les prévisions météorologiques du vendredi 17 octobre', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-meteorologiques-du-vendredi-17-octobre-311803/', 'summary': 'Les prévisions météorologiques du vendredi 17 octobre. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 17 octobre 2025: – Temps assez chaud sur l’extrême Sud des provinces sahariennes.', 'size': 2}], 'main_title': "Le temps qu'il fera ce samedi 18 octobre 2025"}, {'community_id': '16', 'articles': [{'id': '7', 'title': 'ONU : près d’un milliard de personnes pauvres menacées par les catastrophes climatiques', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445822-onu-pres-dun-milliard-de-personnes-pauvres-menacees-par-les-catastrophes-climatiques.html', 'summary': 'ONU : près d’un milliard de personnes pauvres menacées par les catastrophes climatiques. Canicules, sécheresses ou inondations : le dérèglement climatique frappe de plein fouet les plus démunis. D’après un nouveau rapport du Programme des Nations unies pour le développement (PNUD), près de 900 millions de personnes vivant dans la pauvreté subissent directement les effets des chocs climatiques, un « double fardeau » qui freine les progrès du . ', 'size': 2}, {'id': '178', 'title': 'Pauvre et exposé aux chocs climatiques: la double peine pour près de 900 millions de personnes', 'source': 'lnt.ma', 'link': 'https://lnt.ma/pauvre-et-expose-aux-chocs-climatiques-la-double-peine-pour-pres-de-900-millions-de-personnes/', 'summary': 'Pauvre et exposé aux chocs climatiques: la double peine pour près de 900 millions de personnes. Près de 80 % des personnes vivant dans la pauvreté dans le monde, soit près de 900 millions d’individus, sont en plus directement exposées à des aléas climatiques renforcés par le réchauffement de la planète, alerte l’ONU. Cette double vulnérabilité frappe principalement les populations déjà fragiles, souligne le Programme des Nations unies pour le développement . ', 'size': 2}], 'main_title': 'ONU : près d’un milliard de personnes pauvres menacées par les catastrophes climatiques'}, {'community_id': '3', 'articles': [{'id': '20', 'title': 'Supercoupe de la CAF : face à Pyramids FC, la RS Berkane est déterminée à décrocher un deuxième sacre', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/supercoupe-de-la-caf-la-rs-berkane-determinee-a-decrocher-un-2eme-sacre/308241', 'summary': 'Supercoupe de la CAF : face à Pyramids FC, la RS Berkane est déterminée à décrocher un deuxième sacre. Championne du Maroc au terme de la saison 2024-2025 et victorieuse de la Coupe de la Confédération de la CAF, la RS Berkane vise désormais un nouvel objectif : une deuxième consécr.', 'size': 2}, {'id': '202', 'title': 'Supercoupe CAF 2025 : Pyramids – RS Berkane, un énième duel maroco-égyptien !', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Supercoupe-CAF-2025-Pyramids-RS-Berkane-un-enieme-duel-maroco-egyptien-_a72949.html', 'summary': 'Supercoupe CAF 2025 : Pyramids – RS Berkane, un énième duel maroco-égyptien !. Au début de la soirée de ce samedi 18 octobre, un choc au sommet entre Pyramids FC et la RSB aura lieu au Caire à l’occasion de la Supercoupe de la CAF 2025.', 'size': 2}], 'main_title': 'Supercoupe de la CAF : face à Pyramids FC, la RS Berkane est déterminée à décrocher un deuxième sacre'}, {'community_id': '5', 'articles': [{'id': '23', 'title': 'Le conseiller spécial de Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/les-etats-unis-reaffirment-leur-soutien-au-maroc-sur-la-question-du-sahara/308234', 'summary': 'Le conseiller spécial de Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara. Dans une interview à la chaîne d’information arabophone «Acharq», M. Boulos a tenu à souligner le soutien clair et sans équivoque du Président américain Donald Trump reconnaissant.', 'size': 4}, {'id': '90', 'title': 'Le Conseiller spécial du Président Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara et au Plan d’autonomie', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-conseiller-special-du-president-trump-reitere-le-soutien-des-etats-unis-a-la-souverainete-du-maroc-sur-son-sahara-et-au-plan-dautonomie', 'summary': 'Le Conseiller spécial du Président Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara et au Plan d’autonomie. M. Massad Boulos, Conseiller spécial pour l’Afrique du Président des Etats-Unis, a réitéré le soutien maintes fois exprimé par Washington à la souveraineté du Maroc sur son Sahara et au Plan marocain d’autonomie comme « la seule base pour une solution juste et durable » à ce différend régional. Dans une interview à la chaîne d’information arabophone .', 'size': 3}, {'id': '113', 'title': 'Le Conseiller spécial du Président Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/le-conseiller-special-du-president-trump-reitere-le-soutien-des-etats-unis-a-la-souverainete-du-maroc-sur-son-sahara/', 'summary': 'Le Conseiller spécial du Président Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara. Dans une interview à la chaîne d’information arabophone "Acharq", Massad Boulos a rappelé que Washington compte ouvrir prochainement un consulat américain dans les Provinces du Sud du Royaume.', 'size': 4}, {'id': '132', 'title': 'Sahara marocain : Massad Boulos annonce la disposition des États-Unis à ouvrir un consulat à Dakhla', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/sahara-marocain-massad-boulos-annonce-la-disposition-des-etats-unis/', 'summary': 'Sahara marocain : Massad Boulos annonce la disposition des États-Unis à ouvrir un consulat à Dakhla. Les États-Unis ont réaffirmé leur soutien indéfectible à la souveraineté du Maroc sur ses provinces du Sud, tout en exprimant leur disposition à ouvrir un consulat à Dakhla durant le second mandat du président Donald Trump. Cette annonce a été faite jeudi 16 octobre par le conseiller présidentiel américain pour l’Afrique et le Moyen-Orient, Massad .', 'size': 3}], 'main_title': 'Le conseiller spécial de Trump réitère le soutien des États-Unis à la souveraineté du Maroc sur son Sahara'}, {'community_id': '4', 'articles': [{'id': '33', 'title': "La DGSN ouvre une enquête suite à la tentative de suicide d'un policier impliqué dans un homicide", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/La-DGSN-ouvre-une-enquete-suite-a-la-tentative-de-suicide-d-un-policier-implique-dans-un-homicide_a72945.html', 'summary': "La DGSN ouvre une enquête suite à la tentative de suicide d'un policier impliqué dans un homicide. Le service préfectoral de la police judiciaire de Casablanca a ouvert, vendredi soir, une enquête judiciaire sous la supervision du parquet compétent, afin de déterminer les circonstances d'une tentative de suicide d'un fonctionnaire de police, impliqué dans un homicide volontaire à l’aide de son arme de service.", 'size': 2}, {'id': '215', 'title': 'DGSN: Ouverture d’une enquête  pour élucider une tentative de suicide d’un fonctionnaire de police', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/dgsn-ouverture-dune-enquete-pour-elucider-une-tentative-de-suicide-dun-fonctionnaire-de-police/', 'summary': "DGSN: Ouverture d’une enquête pour élucider une tentative de suicide d’un fonctionnaire de police. Le service préfectoral de la police judiciaire de Casablanca a ouvert, vendredi soir, une enquête judiciaire sous la supervision du parquet compétent, afin de déterminer les circonstances d'une tentative de suicide d'un fonctionnaire de police, impliqué dans un homicide volontaire à l’aide de son arme de service.", 'size': 2}], 'main_title': "La DGSN ouvre une enquête suite à la tentative de suicide d'un policier impliqué dans un homicide"}, {'community_id': '14', 'articles': [{'id': '48', 'title': 'Le Maroc et la Russie scellent un nouvel accord de pêche', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-Maroc-et-la-Russie-scellent-un-nouvel-accord-de-peche_a72929.html', 'summary': "Le Maroc et la Russie scellent un nouvel accord de pêche. Le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, et le chef de l'agence Fédérale des Pêches Russe, Ilya Shestakov ont procédé, vendredi à Moscou, à la signature d’un nouvel accord de coopération en matière des pêches maritimes, qui vient remplacer l’accord précédent arrivé à échéance.", 'size': 4}, {'id': '53', 'title': 'La Russie salue les initiatives royales relatives à l’Atlantique et au Sahel', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/17/la-russie-salue-les-initiatives-royales-relatives-a-latlantique-et-au-sahel_1956425/', 'summary': 'La Russie salue les initiatives royales relatives à l’Atlantique et au Sahel. À l’occasion de la 8e session de la Commission mixte intergouvernementale Maroc-Russie, coprésidée par Nasser Bourita, ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, et Dmitry Patrushev, vice-Premier ministre de la Fédération de Russie, Moscou a salué les initiatives royales visant à renforcer la stabilité et à promouvoir le.', 'size': 4}, {'id': '169', 'title': 'Maroc-Russie | Signature d’un nouvel accord de coopération en matière de pêche maritime', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/maroc-russie-signature-dun-nouvel-accord-de-cooperation-en-matiere-de-peche-maritime/', 'summary': 'Maroc-Russie | Signature d’un nouvel accord de coopération en matière de pêche maritime. Le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, et le chef de l’agence Fédérale des Pêches Russe, Ilya Shestakov ont procédé, vendredi à Moscou, à la signature d’un nouvel accord de coopération en matière des pêches maritimes, qui vient remplacer l’accord précédent arrivé à échéance. Cette ', 'size': 4}, {'id': '175', 'title': 'Pêches maritimes : le Maroc et la Russie signent un nouvel accord', 'source': 'lnt.ma', 'link': 'https://lnt.ma/peches-maritimes-le-maroc-et-la-russie-signent-un-nouvel-accord/', 'summary': 'Pêches maritimes : le Maroc et la Russie signent un nouvel accord. Le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, et le chef de l’agence Fédérale des Pêches Russe, Ilya Shestakov ont procédé, vendredi à Moscou, à la signature d’un nouvel accord de coopération en matière des pêches maritimes, qui vient remplacer l’accord précédent arrivé à échéance. Cette . ', 'size': 4}], 'main_title': 'Le Maroc et la Russie scellent un nouvel accord de pêche'}, {'community_id': '7', 'articles': [{'id': '54', 'title': 'Benslimane : Lockheed Martin prépare un centre de maintenance pour F-16 et Hercules C-130', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/17/benslimane-lockheed-martin-prepare-un-centre-de-maintenance-pour-f-16-et-hercules-c-130_1956396/', 'summary': 'Benslimane : Lockheed Martin prépare un centre de maintenance pour F-16 et Hercules C-130. Le 15 octobre, Maintenance Aero Maroc (MAM) a officiellement lancé la construction de son futur hangar de maintenance à l’aéroport de Benslimane. Un projet discret mais hautement stratégique, qui symbolise l’ambition du Maroc de renforcer son autonomie industrielle dans la maintenance aéronautique militaire. Créée en 2022, MAM est née d’un partenariat entre le géant américain.', 'size': 2}, {'id': '164', 'title': 'Aéronautique : la plateforme de Benslimane se dote d’un centre de maintenance', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/aeronautique-la-plateforme-de-benslimane-se-dote-dun-centre-de-maintenance.html', 'summary': 'Aéronautique : la plateforme de Benslimane se dote d’un centre de maintenance. La plateforme aéronautique de Benslimane accueille un nouvel acteur. Il s’agit de Maintenance Aéro Maroc (MAM), filiale de Sabena Engineering, et Maintenance Aeronautic Assets (MAA) qui vient de poser la première pierre de son futur centre de maintenance. ', 'size': 2}], 'main_title': 'Benslimane : Lockheed Martin prépare un centre de maintenance pour F-16 et Hercules C-130'}, {'community_id': '8', 'articles': [{'id': '55', 'title': 'Mondial U20: deux vols spéciaux pour le transport des supporters du Maroc en finale', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/17/mondial-u20-deux-vols-speciaux-pour-le-transport-des-supporters-du-maroc-en-finale_1956420/', 'summary': 'Mondial U20: deux vols spéciaux pour le transport des supporters du Maroc en finale. Après l’exploit et la qualification historique de l’équipe nationale de football à la finale de la coupe du monde U-20 organisée au Chili, Royal Air Maroc (RAM) programme deux vols spéciaux pour le déplacement des supporters marocains. Afin de soutenir les Lionceaux de l’Atlas lors de cette rencontre décisive prévue le dimanche 19 octobre, la.', 'size': 2}, {'id': '167', 'title': 'Finale du Mondial U20 | Royal Air Maroc affrète deux vols spéciaux pour Santiago', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/finale-du-mondial-u20-royal-air-maroc-affrete-deux-vols-speciaux-pour-santiago/', 'summary': 'Finale du Mondial U20 | Royal Air Maroc affrète deux vols spéciaux pour Santiago. Après l’exploit et la qualification historique de l’équipe nationale de football à la finale de la coupe du monde U-20 organisée au Chili, Royal Air Maroc (RAM) programme deux vols spéciaux pour le déplacement des supporters marocains. Afin de soutenir les Lionceaux de l’Atlas lors de cette rencontre décisive prévue le dimanche 19 octobre, la Compagnie ', 'size': 2}], 'main_title': 'Mondial U20: deux vols spéciaux pour le transport des supporters du Maroc en finale'}, {'community_id': '9', 'articles': [{'id': '65', 'title': 'Economie Numérique et Outsourcing : une recette totale de 26,2 milliards de dirhams en 2024, selon Office des changes', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/17/economie-numerique-et-outsourcing-une-recette-totale-de-262-milliards-de-dirhams-en-2024-selon-office-des-changes_1956310/', 'summary': 'Economie Numérique et Outsourcing : une recette totale de 26,2 milliards de dirhams en 2024, selon Office des changes. Les exportations des services de l’Economie Numérique et de l’Outsourcing au Maroc ont généré une recette totale de 26,2 milliards de dirhams (MMDH) en 2024, selon les données préliminaires de l’Office des Changes. Ces chiffres font ressortir une légère hausse par rapport à l’année 2023 de 0,2%, a indiqué l’Office des Changes qui a lancé,.', 'size': 2}, {'id': '162', 'title': 'Économie numérique et outsourcing : 26,2 MMDH de recettes à l’export en 2024', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/economie-numerique-et-outsourcing-262-mmdh-de-recettes-a-lexport-en-2024.html', 'summary': 'Économie numérique et outsourcing : 26,2 MMDH de recettes à l’export en 2024. Les exportations marocaines de services numériques et d’outsourcing ont généré 26,2 milliards de dirhams (MMDH) en 2024, selon les données préliminaires de l’Office des changes. ', 'size': 2}], 'main_title': 'Economie Numérique et Outsourcing : une recette totale de 26,2 milliards de dirhams en 2024, selon Office des changes'}, {'community_id': '0', 'articles': [{'id': '67', 'title': 'Guerre en Ukraine : Trump reçoit Zelensky après avoir relancé son dialogue avec Poutine', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/17/guerre-en-ukraine-trump-recoit-zelensky-apres-avoir-relance-son-dialogue-avec-poutine_1956268/', 'summary': 'Guerre en Ukraine : Trump reçoit Zelensky après avoir relancé son dialogue avec Poutine. Volodymyr Zelensky aura fort à faire vendredi pour convaincre Donald Trump de livrer à l’Ukraine des missiles Tomahawk, alors que le président américain et Vladimir Poutine viennent de relancer leur dialogue. Le président ukrainien sera reçu à la Maison-Blanche pour la troisième fois depuis le retour au pouvoir du républicain. La rencontre entre les deux.', 'size': 2}, {'id': '180', 'title': 'Trump reçoit Zelensky après avoir relancé son dialogue avec Poutine', 'source': 'lnt.ma', 'link': 'https://lnt.ma/trump-recoit-zelensky-apres-avoir-relance-son-dialogue-avec-poutine/', 'summary': 'Trump reçoit Zelensky après avoir relancé son dialogue avec Poutine. Volodymyr Zelensky est attendu vendredi à la Maison Blanche pour une rencontre cruciale avec Donald Trump, qui pourrait décider de la livraison à l’Ukraine de missiles Tomahawk, un armement stratégique longue portée. Cette visite intervient alors que le président américain et Vladimir Poutine ont récemment relancé leur dialogue, ravivant les incertitudes à Kiev. Le président . ', 'size': 2}], 'main_title': 'Guerre en Ukraine : Trump reçoit Zelensky après avoir relancé son dialogue avec Poutine'}, {'community_id': '6', 'articles': [{'id': '72', 'title': 'BLS crée «le premier opérateur logistique intégré» au Maroc', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/bls-cree-le-premier-operateur-logistique-integre-au-maroc-311839/', 'summary': 'BLS crée «le premier opérateur logistique intégré» au Maroc. Suite à l’autorisation du Conseil de la Concurrence, Buildings & Logistic Services (BLS) a annoncé la finalisation de l’acquisition de 100 % des actions du groupe La Voie', 'size': 2}, {'id': '142', 'title': 'Deal historique : BLS rachète La Voie Express et redéfinit la logistique au Maroc', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/la-voie-express-rejoint-bls-naissance-dun-champion-national-de-la-logistique.html', 'summary': 'Deal historique : BLS rachète La Voie Express et redéfinit la logistique au Maroc. Suite à l’autorisation du Conseil de la Concurrence, Buildings & Logistic Services (BLS) annonce la finalisation de l’acquisition de 100 % des actions du groupe La Voie Express, de la foncière Espacim et de La Voie Express Messagerie, ainsi que d’une participation de 40 % au sein de ID Logistics Maroc. ', 'size': 2}], 'main_title': 'BLS crée «le premier opérateur logistique intégré» au Maroc'}, {'community_id': '11', 'articles': [{'id': '91', 'title': 'Fruit d’un partenariat avec l’ONMT : Marrakech accueille la première base africaine d’EasyJet', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/economie/fruit-dun-partenariat-avec-lonmt-marrakech-accueille-la-premiere-base-africaine-deasyjet', 'summary': 'Fruit d’un partenariat avec l’ONMT : Marrakech accueille la première base africaine d’EasyJet. Aérien : En plus de permettre davantage de lignes vers le Maroc, la nouvelle base, qui sera créée par EasyJet à partir de l’été 2026 à Marrakech, permettra à la compagnie d’augmenter sa capacité et d’offrir de nouvelles destinations dans des aéroports européens contraints. Renforcer la position d’EasyJet sur le marché marocain, telle est l’ambition .', 'size': 2}, {'id': '172', 'title': 'EasyJet annonce l’ouverture d’une base à Marrakech en partenariat avec l’ONMT', 'source': 'lnt.ma', 'link': 'https://lnt.ma/easyjet-annonce-louverture-dune-base-a-marrakech-en-partenariat-avec-lonmt/', 'summary': 'EasyJet annonce l’ouverture d’une base à Marrakech en partenariat avec l’ONMT. EasyJet et l’Office National Marocain du Tourisme ont signé un accord visant à renforcer la présence de la compagnie aérienne au Maroc. Dans ce cadre, une nouvelle base de trois avions sera ouverte à Marrakech à l’été 2026. Il s’agira de la première base d’easyJet en Afrique. Ce projet devrait entraîner la création d’environ cent . ', 'size': 2}], 'main_title': 'Fruit d’un partenariat avec l’ONMT : Marrakech accueille la première base africaine d’EasyJet'}, {'community_id': '15', 'articles': [{'id': '93', 'title': 'ASICS lance la nouvelle GEL-KAYANO™ 32 au Maroc avec Planet Sport', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/lifestyle/asics-lance-la-nouvelle-gel-kayano-32-au-maroc-avec-planet-sport', 'summary': 'ASICS lance la nouvelle GEL-KAYANO™ 32 au Maroc avec Planet Sport. La marque japonaise ASICS renforce sa présence au Maroc grâce à son partenariat exclusif avec Planet Sport, distributeur officiel de la marque. À cette occasion, elle dévoile la GEL-KAYANO™ 32, nouvelle version de sa chaussure iconique dédiée à la stabilité et au confort de course, désormais disponible dans les boutiques Planet Sport et en ligne. .', 'size': 2}, {'id': '176', 'title': 'ASICS présente la nouvelle GEL-KAYANO 32 au Maroc en partenariat avec Planet Sport', 'source': 'lnt.ma', 'link': 'https://lnt.ma/asics-presente-la-nouvelle-gel-kayano-32-au-maroc-en-partenariat-avec-planet-sport/', 'summary': 'ASICS présente la nouvelle GEL-KAYANO 32 au Maroc en partenariat avec Planet Sport. La marque japonaise ASICS annonce le renforcement de sa présence au Maroc à travers un partenariat officiel avec Planet Sport, son distributeur exclusif. Dans ce cadre, ASICS présente la GEL-KAYANO 32, une nouvelle version de sa chaussure de course axée sur la stabilité et le confort. Ce modèle est désormais disponible dans les magasins Planet Sport . ', 'size': 2}], 'main_title': 'ASICS lance la nouvelle GEL-KAYANO™ 32 au Maroc avec Planet Sport'}, {'community_id': '2', 'articles': [{'id': '104', 'title': 'Casablanca-Settat: Mohamed Mhidia valide le budget 2026', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/casablanca-settat-mohamed-mhidia-valide-le-budget-2026/', 'summary': 'Casablanca-Settat: Mohamed Mhidia valide le budget 2026. Le Wali apposé son visa sur le budget de la région pour l’année 2026, d’un montant global de près de 1,5 MMDH.', 'size': 2}, {'id': '197', 'title': 'Casablanca-Settat : Mhidia appose son visa sur le budget 2026, d’un montant de près de 1,5 milliard DH', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/casablanca-settat-mhidia-appose-son-visa-sur-le-budget-2026/308294', 'summary': 'Casablanca-Settat : Mhidia appose son visa sur le budget 2026, d’un montant de près de 1,5 milliard DH. Le Wali de la région Casablanca-Settat, Mohamed Mhidia, a apposé son visa sur le budget 2026 de la région, dont le montant global s’élève à près de 1,5 milliard de dirhams, a annon.', 'size': 2}], 'main_title': 'Casablanca-Settat: Mohamed Mhidia valide le budget 2026'}, {'community_id': '13', 'articles': [{'id': '116', 'title': 'Jalil Tijani en tournée : Un nouveau spectacle « habitus » entre rires et vérités', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/comese/jalil-tijani-en-tournee-un-nouveau-spectacle-habitus-entre-rires-et-verites/', 'summary': 'Jalil Tijani en tournée : Un nouveau spectacle « habitus » entre rires et vérités. Après avoir conquis les grandes scènes du Maroc à guichets fermés avec son premier spectacle « Jeux de Société », Jalil Tijani revient avec un second spectacle inédit et s’apprête à entamer une nouvelle tournée nationale et internationale. Une étape majeure dans le parcours d’un artiste qui allie avec brio humour, lucidité et sincérité.', 'size': 2}, {'id': '173', 'title': 'Jalil Tijani lance sa tournée 2025 avec son nouveau spectacle « Habitus »', 'source': 'lnt.ma', 'link': 'https://lnt.ma/jalil-tijani-lance-sa-tournee-2025-avec-son-nouveau-spectacle-habitus/', 'summary': 'Jalil Tijani lance sa tournée 2025 avec son nouveau spectacle « Habitus ». L’humoriste marocain Jalil Tijani entame une nouvelle tournée nationale et internationale avec son spectacle inédit intitulé « Habitus ». Après le succès de « Jeux de Société », joué à guichets fermés au Maroc et en Europe, l’artiste revient avec un spectacle qui aborde, sur un ton humoristique, les réflexes, habitudes et conditionnements qui façonnent . ', 'size': 2}], 'main_title': 'Jalil Tijani en tournée : Un nouveau spectacle « habitus » entre rires et vérités'}, {'community_id': '10', 'articles': [{'id': '130', 'title': 'Tenue à Moscou de la 8e Commission Mixte Intergouvernementale Maroc-Russie', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/tenue-a-moscou-de-la-8e-commission-mixte-intergouvernementale-maroc-russie/', 'summary': 'Tenue à Moscou de la 8e Commission Mixte Intergouvernementale Maroc-Russie. A la veille de la célébration du 10e anniversaire du Partenariat Stratégique Approfondi, conclu à Moscou en 2016 lors de la visite historique de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, sur invitation du Président Vladimir Poutine, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser .', 'size': 2}, {'id': '170', 'title': 'Maroc-Russie | Tenue à Moscou de la 8e Commission Mixte Intergouvernementale', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/maroc-russie-tenue-a-moscou-de-la-8e-commission-mixte-intergouvernementale/', 'summary': 'Maroc-Russie | Tenue à Moscou de la 8e Commission Mixte Intergouvernementale. A la veille de la célébration du 10e anniversaire du Partenariat Stratégique Approfondi, conclu à Moscou en 2016 lors de la visite historique de Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, sur invitation du Président Vladimir Poutine, le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l’étranger, Nasser ', 'size': 2}], 'main_title': 'Tenue à Moscou de la 8e Commission Mixte Intergouvernementale Maroc-Russie'}, {'community_id': '1', 'articles': [{'id': '189', 'title': "Driss Lachgar réélu à la tête de l'USFP", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445906-445906.html', 'summary': "Driss Lachgar réélu à la tête de l'USFP. Driss Lachgar a été réélu Premier secrétaire de l’Union socialiste des forces populaires (USFP) pour un quatrième mandat, aux premières heures de la matinée de ce samedi. Lachgar a été reconduit à la tête du parti pour un quatrième mandat à la majorité absolue des congressistes présents au 12ᵉ congrès national, qui se tient depuis . ", 'size': 2}, {'id': '207', 'title': 'Driss Lachgar réélu Premier secrétaire de l’USFP', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/driss-lachgar-reelu-premier-secretaire-de-lusfp-311862/', 'summary': 'Driss Lachgar réélu Premier secrétaire de l’USFP. Driss Lachgar a été reconduit, ce samedi 18 octobre, au poste de premier secrétaire de l’Union socialiste des forces populaires (USFP) pour un quatrième mandat de quatre ans.', 'size': 2}], 'main_title': "Driss Lachgar réélu à la tête de l'USFP"}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 14/08/2025 - 06h25</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '2', 'articles': [{'id': '0', 'title': 'Sektioui met en garde avant le choc Maroc-Zambie', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/437483-sektioui-met-en-garde-avant-le-choc-maroc-zambie.html', 'summary': 'Sektioui met en garde avant le choc Maroc-Zambie. À la veille de la rencontre décisive face à la Zambie, comptant pour la troisième journée de la phase de groupes du Championnat d’Afrique des Nations (CHAN), le sélectionneur de l’équipe nationale des locaux, Tarik Sektioui, a réagi aux critiques survenues après la défaite contre le Kenya. Lors de la conférence de presse d’avant-match, l’entraîneur . ', 'size': 2}, {'id': '101', 'title': 'CHAN 2024 : Apprendre de la défaite face au Kenya pour\xa0être mieux face à la Zambie (Tarik Sektioui)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174191/chan-2024-apprendre-defaite-face.html', 'summary': 'CHAN 2024 : Apprendre de la défaite face au Kenya pour être mieux face à la Zambie (Tarik Sektioui). Le sélectionneur national, Tarik Sektioui a affirmé, mercredi à Nairobi, que l’équipe marocaine a tiré des leçons de la défaite face au Kenya, afin de mieux négocier sa prochaine rencontre face à la Zambie, lors de la 4e journée du groupe A du Championnat d’Afrique des nations de football (CHAN), prévu jeudi au stade Kasarani.', 'size': 2}], 'main_title': 'Sektioui met en garde avant le choc Maroc-Zambie'}, {'community_id': '11', 'articles': [{'id': '24', 'title': 'Le Conseil régional de Fès-Meknès lance les candidatures pour son Prix de Recherche Scientifique', 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/les-candidatures-pour-le-prix-scientifique-fes-meknes-sont-ouvertes/296383', 'summary': 'Le Conseil régional de Fès-Meknès lance les candidatures pour son Prix de Recherche Scientifique. Le Prix Régional de la Recherche Scientifique revient cette année avec une deuxième édition visant à mettre en valeur les travaux innovants menés par des chercheurs marocains sur d.', 'size': 2}, {'id': '140', 'title': 'Le Conseil régional Fès-Meknès récompense l’excellence scientifique et l’innovation', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/comese/le-conseil-regional-fes-meknes-recompense-lexcellence-scientifique-et-linnovation/', 'summary': 'Le Conseil régional Fès-Meknès récompense l’excellence scientifique et l’innovation. Dans le cadre de ses actions de soutien à la recherche scientifique appliquée et à l’innovation, le Conseil de la Région Fès-Meknès organise la deuxième édition du Prix Régional de la Recherche Scientifique, en application des dispositions de la convention de coopération signée avec les universités et établissements d’enseignement supérieur de la région. Cette initiative .', 'size': 2}], 'main_title': 'Le Conseil régional de Fès-Meknès lance les candidatures pour son Prix de Recherche Scientifique'}, {'community_id': '1', 'articles': [{'id': '31', 'title': 'Banque Populaire et Royal Air Maroc lancent la carte Visa Infinite pour voyageurs fréquents', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/banque-populaire-et-ram-lancent-une-carte-visa-infinite-avec-avantages/296318', 'summary': 'Banque Populaire et Royal Air Maroc lancent la carte Visa Infinite pour voyageurs fréquents. La Banque Populaire et Royal Air Maroc annoncent le lancement d’une carte Visa Infinite co-brandée, fruit d’un partenariat stratégique entre deux institutions de référence au Maroc.', 'size': 2}, {'id': '198', 'title': 'La Banque Populaire et Royal Air Maroc lancent une carte Visa Infinite co-brandée', 'source': 'lnt.ma', 'link': 'https://lnt.ma/la-banque-populaire-et-royal-air-maroc-lancent-une-carte-visa-infinite-co-brandee/', 'summary': 'La Banque Populaire et Royal Air Maroc lancent une carte Visa Infinite co-brandée. La Banque Populaire a annoncé le lancement d’une carte bancaire haut de gamme Visa Infinite co-brandée avec Royal Air Maroc, destinée à accompagner et récompenser les clients voyageurs, au Maroc comme à l’international. Fruit d’un partenariat stratégique entre les deux institutions, cette carte associe l’expertise bancaire de la Banque Populaire et le savoir-faire aérien de . ', 'size': 2}], 'main_title': 'Banque Populaire et Royal Air Maroc lancent la carte Visa Infinite pour voyageurs fréquents'}, {'community_id': '3', 'articles': [{'id': '33', 'title': 'Artisanat : les exportations en hausse de 14% à fin juillet 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/artisanat-les-exportations-en-hausse-de-14-a-fin-juillet-2025/296313', 'summary': "Artisanat : les exportations en hausse de 14% à fin juillet 2025. Au cours du mois de juillet, la performance des produits de l'artisanat a été remarquable, avec un taux de croissance de 34% comparativement à Juillet 2024, fait savoir le Secr.", 'size': 4}, {'id': '77', 'title': 'Artisanat : les exportations en hausse de 14% à fin juillet', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/artisanat-les-exportations-en-hausse-de-14-a-fin-juillet_1946297/', 'summary': 'Artisanat : les exportations en hausse de 14% à fin juillet. Les exportations des produits de l’artisanat ont atteint plus de 737 millions de dirhams (MDH) à fin juillet, soit une hausse de 14% en glissement annuel, selon le Secrétariat d’État chargé de l’Artisanat et de l’économie sociale et solidaire. Au cours du mois de juillet, la performance des produits de l’artisanat a été remarquable, avec.', 'size': 4}, {'id': '88', 'title': 'Artisanat: le grand boom des exportations en juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/artisanat-le-grand-boom-des-exportations-en-juillet-308495/', 'summary': 'Artisanat: le grand boom des exportations en juillet. Les exportations des produits d’artisanat marocains ont enregistré une croissance de 34% durant le mois de juillet dernier, une remarquable performance qui contribue à une hausse de 14% du secteur au cours des sept premiers mois de 2025, par rapport à la même période de l’année passée. La valeur des', 'size': 3}, {'id': '136', 'title': 'Artisanat : Les exportations en hausse de 14% à fin juillet 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/artisanat-les-exportations-en-hausse-de-14-a-fin-juillet-2025/', 'summary': "Artisanat : Les exportations en hausse de 14% à fin juillet 2025. Au cours du mois de juillet, la performance des produits de l'artisanat a été remarquable, avec un taux de croissance de 34% comparativement à Juillet 2024.", 'size': 4}, {'id': '202', 'title': 'Artisanat : les exportations en hausse à deux chiffres, Marrakech domine toujours', 'source': 'lnt.ma', 'link': 'https://lnt.ma/artisanat-les-exportations-en-hausse-a-deux-chiffres-marrakech-domine-toujours/', 'summary': 'Artisanat : les exportations en hausse à deux chiffres, Marrakech domine toujours. Les exportations de produits de l’artisanat marocain ont atteint plus de 737 millions de dirhams (MDH) à fin juillet 2025, en progression de 14 % par rapport à la même période de l’année précédente, selon le Secrétariat d’État chargé de l’Artisanat et de l’Économie sociale et solidaire. Le seul mois de juillet a enregistré une . ', 'size': 2}], 'main_title': 'Artisanat : les exportations en hausse de 14% à fin juillet 2025'}, {'community_id': '4', 'articles': [{'id': '38', 'title': 'Moussem Moulay Abdellah Amghar : remise de dons royaux aux familles démunies et aux Chorfas Amghariyines', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/dons-royaux-remis-a-el-jadida-lors-du-moussem-moulay-abdellah-amghar/296274', 'summary': 'Moussem Moulay Abdellah Amghar : remise de dons royaux aux familles démunies et aux Chorfas Amghariyines. À El Jadida, une délégation de la Chambellanie Royale, conduite par Mohamed Saad Eddine Smiej, chargé de mission, a remis ce mardi des dons royaux lors d’une cérémonie organisée au.', 'size': 2}, {'id': '52', 'title': "\u200bRemise d'un Dons Royaux aux Chorfas Amghariyines  à l’occasion du Moussem Moulay Abdallah Amghar 2025", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bRemise-d-un-Dons-Royaux-aux-Chorfas-Amghariyines-a-l-occasion-du-Moussem-Moulay-Abdallah-Amghar-2025_a70801.html', 'summary': "\u200bRemise d'un Dons Royaux aux Chorfas Amghariyines à l’occasion du Moussem Moulay Abdallah Amghar 2025. Conformément aux Hautes Instructions de Sa Majesté le Roi Mohammed VI, Amir Al-Mouminine, une cérémonie de remise d'un Dons Royaux aux Chorfas Amghariyines s’est tenue ce mardi à la préfecture d’El Jadida et au mausolée de Moulay Abdallah Amghar, à l’occasion du Moussem Moulay Abdallah Amghar 2025.", 'size': 2}], 'main_title': 'Moussem Moulay Abdellah Amghar : remise de dons royaux aux familles démunies et aux Chorfas Amghariyines'}, {'community_id': '6', 'articles': [{'id': '53', 'title': 'L’ONDA réforme l’accès aux métiers de l’aérien', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/L-ONDA-reforme-l-acces-aux-metiers-de-l-aerien_a70798.html', 'summary': 'L’ONDA réforme l’accès aux métiers de l’aérien. \u200bL’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA).', 'size': 5}, {'id': '70', 'title': "Aviation civile : l'ONDA simplifie l'accès aux métiers du ciel marocain", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/aviation-civile-londa-simplifie-lacces-aux-metiers-du-ciel-marocain_1946370/', 'summary': "Aviation civile : l'ONDA simplifie l'accès aux métiers du ciel marocain. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Electronique en sécurité de la circulation aérienne (ESCA). Désormais intégrées dans le Concours national commun (CNC), ces filières sont accessibles à tous les.", 'size': 5}, {'id': '89', 'title': 'L’ONDA facilite l’accès à deux filières stratégiques de l’aviation civile', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/londa-facilite-lacces-a-deux-filieres-strategiques-de-laviation-civile-308489/', 'summary': 'L’ONDA facilite l’accès à deux filières stratégiques de l’aviation civile. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA).Désormais intégrées dans le Concours national commun (CNC), ces filières', 'size': 5}, {'id': '105', 'title': 'Métiers de l’aérien au Maroc : L’ONDA rend direct l’accès à deux filières stratégiques', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174182/metiers-l-aerien-maroc-l-onda-rend.html', 'summary': 'Métiers de l’aérien au Maroc : L’ONDA rend direct l’accès à deux filières stratégiques. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières «contrôle de la navigation aérienne» (CNA) et «électronique en sécurité de la circulation aérienne» (ESCA) de l’Académie internationale Mohammed VI de l’aviation civile. Elles sont désormais accessibles à tous les candidats, à travers le Concours national commun (CNC), au même titre que les parcours d’ingénierie classiques, annonce un communiqué. Il s’agit de «former, dès aujourd’hui, les expertises de haut niveau qui piloteront le ciel marocain de demain».', 'size': 5}, {'id': '131', 'title': 'Aviation civile : L’ONDA réforme l’accès aux métiers de l’aérien', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/carriere/aviation-civile-londa-reforme-lacces-aux-metiers-de-laerien/', 'summary': 'Aviation civile : L’ONDA réforme l’accès aux métiers de l’aérien. L’Office national des aéroports (ONDA) ouvre, pour la première fois, l’accès direct à deux filières stratégiques de l’Académie internationale Mohammed VI de l’aviation civile, à savoir Contrôle de la navigation aérienne (CNA) et Électronique en sécurité de la circulation aérienne (ESCA).', 'size': 5}], 'main_title': 'L’ONDA réforme l’accès aux métiers de l’aérien'}, {'community_id': '7', 'articles': [{'id': '58', 'title': 'La FM6SS réalise la première greffe rénale incompatible ABO réussie à l’échelle du continent', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/La-FM6SS-realise-la-premiere-greffe-renale-incompatible-ABO-reussie-a-l-echelle-du-continent_a70804.html', 'summary': 'La FM6SS réalise la première greffe rénale incompatible ABO réussie à l’échelle du continent. La Fondation Mohammed VI des Sciences et de la Santé (FM6SS) a annoncé, mardi à Casablanca, la réussite, de la première greffe rénale incompatible ABO réalisée avec succès à l’échelle du continent africain.', 'size': 3}, {'id': '137', 'title': 'Santé : La Fondation Mohammed VI réalise la première greffe rénale incompatible ABO réussie à l’échelle du continent', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/sante-la-fondation-mohammed-vi-realise-la-premiere-greffe-renale-incompatible-abo-reussie-a-lechelle-du-continent/', 'summary': 'Santé : La Fondation Mohammed VI réalise la première greffe rénale incompatible ABO réussie à l’échelle du continent. Cette intervention d’envergure a permis de transplanter un rein entre un donneur et un receveur de groupes sanguins différents. Elle constitue une avancée médicale majeure : L’acte chirurgical a été intégralement réalisé par des médecins marocains !', 'size': 3}, {'id': '194', 'title': 'Maroc : première greffe rénale incompatible ABO réussie à l’échelle du continent africain', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/maroc-premiere-greffe-renale-incompatible-abo-reussie-a-lechelle-du-continent-africain.html', 'summary': 'Maroc : première greffe rénale incompatible ABO réussie à l’échelle du continent africain. La Fondation Mohammed VI des Sciences et de la Santé (FM6SS) a annoncé mardi à Casablanca, la réussite de la première greffe rénale incompatible ABO réalisée avec succès à l’échelle du continent africain. Cette intervention d’envergure, qui a permis de transplanter un rein entre un donneur et un receveur de groupes sanguins différents, constitue une . L’article est apparu en premier sur .', 'size': 4}, {'id': '201', 'title': 'Casablanca : première greffe rénale incompatible ABO réussie en Afrique', 'source': 'lnt.ma', 'link': 'https://lnt.ma/casablanca-premiere-greffe-renale-incompatible-abo-reussie-en-afrique/', 'summary': 'Casablanca : première greffe rénale incompatible ABO réussie en Afrique. La Fondation Mohammed VI des Sciences et de la Santé (FM6SS) a annoncé la réussite de la première greffe rénale incompatible ABO réalisée sur le continent africain. Cette intervention, menée à Casablanca, a permis de transplanter un rein entre un donneur et un receveur de groupes sanguins différents. L’opération a mobilisé plusieurs spécialités médicales : . ', 'size': 4}], 'main_title': 'Maroc : première greffe rénale incompatible ABO réussie à l’échelle du continent africain'}, {'community_id': '5', 'articles': [{'id': '66', 'title': 'Les FAR enquêtent sur un militaire soupçonné de violences contre un migrant près de Sebta', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/les-far-enquetent-sur-un-militaire-soupconne-de-violences-contre-un-migrant-pres-de-sebta_1946409/', 'summary': 'Les FAR enquêtent sur un militaire soupçonné de violences contre un migrant près de Sebta. Les Forces armées royales ont ouvert une enquête suite à la diffusion d’une vidéo montrant un comportement inapproprié d’un membre de la Marine royale envers un présumé candidat à la migration irrégulière près de Sebta. La page officielle des Forces armées royales marocaines a annoncé l’ouverture d’une enquête à propos d’une vidéo diffusée sur certains.', 'size': 2}, {'id': '102', 'title': 'Maroc\xa0: Les FAR enquêtent sur des violences contre un migrant en mer', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174189/maroc-enquetent-violences-contre-migrant.html', 'summary': 'Maroc : Les FAR enquêtent sur des violences contre un migrant en mer. Les Forces armées royales (FAR) ont annoncé l’ouverture d’une enquête sur le comportement d’un membre d’une patrouille de la Marine royale à l’égard d’un individu en mer. La mesure, rendue publique mardi soir, fait suite à la diffusion d’images en ligne montrant des violences sur une personne qui serait migrante, près de la préside de Ceuta.', 'size': 2}], 'main_title': 'Les FAR enquêtent sur un militaire soupçonné de violences contre un migrant près de Sebta'}, {'community_id': '8', 'articles': [{'id': '79', 'title': 'Vague de chaleur avec chergui de mercredi à samedi dans plusieurs provinces du Royaume', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/13/vague-de-chaleur-avec-chergui-de-mercredi-a-samedi-dans-plusieurs-provinces-du-royaume_1946301/', 'summary': 'Vague de chaleur avec chergui de mercredi à samedi dans plusieurs provinces du Royaume. Une vague de chaleur accompagnée de chergui, avec des températures pouvant atteindre 47°C, est attendue de mercredi à samedi dans plusieurs provinces du Royaume, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte météorologique de niveau de vigilance orange. Ainsi, des températures oscillant entre 44 et 47°C sont prévues, du mercredi.', 'size': 2}, {'id': '113', 'title': "Alerte météo : Jusqu'à 47°C de mercredi à samedi au Maroc", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174147/alerte-meteo-jusqu-a-mercredi-samedi.html', 'summary': "Alerte météo : Jusqu'à 47°C de mercredi à samedi au Maroc. Une vague de chaleur accompagnée de chergui, avec des températures pouvant atteindre 47°C, est attendue de mercredi à samedi dans plusieurs provinces du Maroc, a annoncé la Direction générale de la météorologie (DGM) dans un bulletin d’alerte météorologique de niveau de vigilance orange.", 'size': 2}], 'main_title': 'Vague de chaleur avec chergui de mercredi à samedi dans plusieurs provinces du Royaume'}, {'community_id': '0', 'articles': [{'id': '81', 'title': "L'AMMPS dément les rumeurs de pénurie de plus de 600 médicaments destinés aux maladies chroniques", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/08/12/lammps-dement-les-rumeurs-de-penurie-de-plus-de-600-medicaments-destines-aux-maladies-chroniques-selon-lammps_1946263/', 'summary': "L'AMMPS dément les rumeurs de pénurie de plus de 600 médicaments destinés aux maladies chroniques. L’Agence marocaine du médicament et des produits de santé (AMMPS) a démenti les informations diffusées par certains médias au sujet d’une prétendue pénurie de plus de 600 médicaments destinés au traitement de maladies chroniques. Dans un communiqué, l’AMMPS a souligné, en sa qualité d’autorité nationale de régulation et de contrôle du secteur pharmaceutique, que les.", 'size': 4}, {'id': '110', 'title': 'Maladies chroniques : L’AMMPS dément la pénurie de plus de 600 médicaments', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/174155/maladies-chroniques-l-ammps-dement-penurie.html', 'summary': 'Maladies chroniques : L’AMMPS dément la pénurie de plus de 600 médicaments. L’Agence marocaine du médicament et des produits de santé (AMMPS) a démenti les informations diffusées par certains médias au sujet d’une prétendue pénurie de plus de 600 médicaments destinés au traitement de maladies chroniques.', 'size': 4}, {'id': '145', 'title': 'Maladies chroniques\xa0: L’Agence marocaine du médicament dément la pénurie de plus de 600 médicaments', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/maladies-chroniques-lagence-marocaine-du-medicament-dement-la-penurie-de-plus-de-600-medicaments/', 'summary': "Maladies chroniques : L’Agence marocaine du médicament dément la pénurie de plus de 600 médicaments. Selon l'Agence marocaine du médicament et des produits de santé (AMMPS), les données disponibles au niveau national ne réaffirment pas les chiffres avancés. Elle explique que s’ils étaient avérés, ils entraîneraient des répercussions majeures sur le fonctionnement du système de soins, ce qui n’est pas observé à ce jour.", 'size': 4}, {'id': '197', 'title': 'L’Agence marocaine du médicament et des produits de santé dément une prétendue pénurie de plus de 600 médicaments', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/lagence-marocaine-du-medicament-et-des-produits-de-sante-dement-une-pretendue-penurie-de-plus-de-600-medicaments.html', 'summary': "L’Agence marocaine du médicament et des produits de santé dément une prétendue pénurie de plus de 600 médicaments. L'Agence marocaine du médicament et des produits de santé (AMMPS) a démenti les informations diffusées par certains médias au sujet d’une prétendue pénurie de plus de 600 médicaments destinés au traitement de maladies chroniques. L’article est apparu en premier sur .", 'size': 4}], 'main_title': "L'AMMPS dément les rumeurs de pénurie de plus de 600 médicaments destinés aux maladies chroniques"}, {'community_id': '10', 'articles': [{'id': '94', 'title': 'La FENAGRI annonce la première édition de l’Agro Export Day', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/la-fenagri-annonce-la-premiere-edition-de-lagro-export-day-308457/', 'summary': 'La FENAGRI annonce la première édition de l’Agro Export Day. La Fédération Nationale de l’Agroalimentaire (FENAGRI) tiendra, le 19 novembre 2025 au Hyatt Regency Casablanca, la première édition de l’Agro Export Day. Cet événement international sera entièrement dédié à la promotion des produits agroalimentaires marocains à l’échelle mondiale. Organisée sous le slogan «Made in Morocco, Desired Worldwide : Exporter la', 'size': 2}, {'id': '132', 'title': 'Export : Casablanca accueille la 1ère édition de l’Agro Export Day 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/export-casablanca-accueille-la-1ere-edition-de-lagro-export-day-2025/', 'summary': 'Export : Casablanca accueille la 1ère édition de l’Agro Export Day 2025. La première édition de l’Agro Export Day, un rendez-vous international dédié à la promotion des exportations agroalimentaires marocaines, se tiendra en novembre prochain à Casablanca, sous le thème "Made in Morocco, Desired Worldwide : Exporter la qualité agroalimentaire marocaine".', 'size': 2}], 'main_title': 'La FENAGRI annonce la première édition de l’Agro Export Day'}, {'community_id': '12', 'articles': [{'id': '95', 'title': 'Recettes douanières : un cumul de 54,79 MMDH en sept mois', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/recettes-douanieres-un-cumul-de-5479-mmdh-en-sept-mois-308451/', 'summary': 'Recettes douanières : un cumul de 54,79 MMDH en sept mois. Les recettes douanières nettes se sont établies à plus de 54,79 milliards de dirhams (MMDH) à fin juillet 2025, en hausse de 5,8% par rapport à la même période un an auparavant, selon la Trésorerie Générale du Royaume (TGR). Ces recettes, qui proviennent des droits de douane, de la taxe', 'size': 2}, {'id': '149', 'title': 'TGR : Près de 55 MMDH de recettes douanières à fin juillet', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/tgr-pres-de-55-mmdh-de-recettes-douanieres-a-fin-juillet/', 'summary': 'TGR : Près de 55 MMDH de recettes douanières à fin juillet. Les recettes douanières nettes se sont établies à plus de 54,79 milliards de dirhams (MMDH) à fin juillet 2025, en hausse de 5,8% par rapport à la même période un an auparavant, selon la Trésorerie Générale du Royaume (TGR).', 'size': 2}], 'main_title': 'Recettes douanières : un cumul de 54,79 MMDH en sept mois'}, {'community_id': '9', 'articles': [{'id': '127', 'title': 'La Famille de la Résistance commémore à Marrakech le 72ème  anniversaire de la Manifestation du Mechouar', 'source': 'www.libe.ma', 'link': 'https://www.libe.ma/La-Famille-de-la-Resistance-commemore-a-Marrakech-le-72eme-anniversaire-de-la-Manifestation-du-Mechouar_a155230.html', 'summary': 'La Famille de la Résistance commémore à Marrakech le 72ème anniversaire de la Manifestation du Mechouar.', 'size': 2}, {'id': '193', 'title': 'Marrakech : la Famille de la Résistance commémore le 72e anniversaire de la Manifestation du Mechouar', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/marrakech-la-famille-de-la-resistance-commemore-le-72e-anniversaire-de-la-manifestation-du-mechouar.html', 'summary': 'Marrakech : la Famille de la Résistance commémore le 72e anniversaire de la Manifestation du Mechouar. La Famille de la Résistance et de l’Armée de libération de la région Marrakech-Safi a commémoré, mardi à la cité ocre, le 72è anniversaire de la Manifestation du Mechouar, un événement phare dans l’histoire de la lutte nationale pour le recouvrement de l’indépendance et un témoignage de la symbiose et des liens indéfectibles unissant le . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'La Famille de la Résistance commémore à Marrakech le 72ème  anniversaire de la Manifestation du Mechouar'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
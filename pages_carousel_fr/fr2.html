<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 05/10/2025 - 12h23</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce dimanche 5 octobre 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443979-le-temps-quil-fera-ce-dimanche-5-octobre-2025.html', 'summary': "Le temps qu'il fera ce dimanche 5 octobre 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le dimanche 5 octobre 2025 – Temps assez chaud sur les plaines à l’Ouest de l’Atlas, le Sud-Est et l’extrême Sud des provinces sahariennes. – Nuages bas et formations brumeuses ou bruine locale sur les plaines atlantiques Nord et Centre et le . ", 'size': 2}, {'id': '47', 'title': 'Les prévisions météorologiques du samedi 04 octobre 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-meteorologiques-du-samedi-04-octobre-2025-310957/', 'summary': 'Les prévisions météorologiques du samedi 04 octobre 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 04 octobre 2025: – Temps assez chaud sur le Sud-Est et l’extrême Sud', 'size': 2}], 'main_title': "Le temps qu'il fera ce dimanche 5 octobre 2025"}, {'community_id': '7', 'articles': [{'id': '1', 'title': "Saisie de 53,6 kg de cocaïne au poste-frontière d'El Guerguerat", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443977-saisie-de-536-kg-de-cocaine-au-poste-frontiere-del-guerguerat.html', 'summary': "Saisie de 53,6 kg de cocaïne au poste-frontière d'El Guerguerat. Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de . ", 'size': 4}, {'id': '54', 'title': 'El Guerguerat : Mise en échec d’une tentative de trafic international de drogues et saisie de 53,6 kg de cocaïne', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/el-guerguerat-mise-en-echec-dune-tentative-de-trafic-international-de-drogues-et-saisie-de-536-kg-de-cocaine', 'summary': 'El Guerguerat : Mise en échec d’une tentative de trafic international de drogues et saisie de 53,6 kg de cocaïne. Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de .', 'size': 4}, {'id': '103', 'title': 'El Guerguerat : Saisie de 53 kg et 630 grammes de cocaïne', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/El-Guerguerat-Saisie-de-53-kg-et-630-grammes-de-cocaine_a72487.html', 'summary': 'El Guerguerat : Saisie de 53 kg et 630 grammes de cocaïne. Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de source sécuritaire.', 'size': 4}, {'id': '123', 'title': 'El Guerguerat : mise en échec d’une tentative de trafic international de drogues et saisie de 53 kg de cocaïne (source sécuritaire)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/el-guerguerat-mise-en-echec-dune-tentative-de-trafic-international-de-drogues-et-saisie-de-53-kg-et-630-grammes-de-cocaine-source-securitaire.html', 'summary': 'El Guerguerat : mise en échec d’une tentative de trafic international de drogues et saisie de 53 kg de cocaïne (source sécuritaire). Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de . L’article est apparu en premier sur .', 'size': 4}], 'main_title': "Saisie de 53,6 kg de cocaïne au poste-frontière d'El Guerguerat"}, {'community_id': '2', 'articles': [{'id': '4', 'title': 'Province de Sidi Kacem : Neuf morts dans un accident de la route', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443992-province-de-sidi-kacem-neuf-morts-dans-un-accident-de-la-route.html', 'summary': 'Province de Sidi Kacem : Neuf morts dans un accident de la route. Neuf personnes ont trouvé la mort et 6 autres ont été grièvement blessées dans un accident de la route survenu, samedi, au niveau de la route provinciale N 4042 près de Douar Taâouniat El Haouch Ouahed, commune de Chbanate, caïdat de Zirara relevant de la province de Sidi Kacem. Le drame s’est produit à 18H . ', 'size': 2}, {'id': '125', 'title': 'Province de Sidi Kacem : neuf morts et six blessés graves dans une collision sur la RP 4042', 'source': 'lnt.ma', 'link': 'https://lnt.ma/province-de-sidi-kacem-neuf-morts-et-six-blesses-graves-dans-une-collision-sur-la-rp-4042/', 'summary': 'Province de Sidi Kacem : neuf morts et six blessés graves dans une collision sur la RP 4042. Neuf personnes ont perdu la vie et six autres ont été grièvement blessées, samedi vers 18h00, lors d’un accident de la route survenu au niveau de la route provinciale n°4042, à proximité de Douar Taâouniat El Haouch Ouahed, commune de Chbanate, caïdat de Zirara (province de Sidi Kacem), ont indiqué les autorités locales. Selon la . ', 'size': 2}], 'main_title': 'Province de Sidi Kacem : Neuf morts dans un accident de la route'}, {'community_id': '3', 'articles': [{'id': '5', 'title': "Mondial U20 : Le Maroc s'incline face au Mexique", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443973-mondial-u20-le-maroc-sincline-face-au-mexique.html', 'summary': "Mondial U20 : Le Maroc s'incline face au Mexique. L’équipe nationale marocaine de football des moins de 20 ans s’est inclinée face à son homologue mexicaine (1-0) lors du match qui s’est déroulé samedi soir au stade Elias Figueroa Brander à Valparaiso, assurant, malgré ce revers, la première place du groupe C de la Coupe du monde de cette catégorie, organisée au Chili. Au . ", 'size': 2}, {'id': '124', 'title': 'Mondial U20 : défaite sans conséquence du Maroc face au Mexique', 'source': 'lnt.ma', 'link': 'https://lnt.ma/mondial-u20-defaite-sans-consequence-du-maroc-face-au-mexique/', 'summary': 'Mondial U20 : défaite sans conséquence du Maroc face au Mexique. L’équipe nationale marocaine U20 s’est inclinée (0-1) face au Mexique, samedi au stade Elias Figueroa Brander, pour la 3e journée du groupe C de la Coupe du monde Chili-2025. Malgré ce revers, les Lionceaux de l’Atlas bouclent la phase de groupes à la première place avec 6 points, devant le Mexique (5 pts), l’Espagne (4 . ', 'size': 2}], 'main_title': "Mondial U20 : Le Maroc s'incline face au Mexique"}, {'community_id': '9', 'articles': [{'id': '10', 'title': 'Salon du Cheval: la Sorba du Moqaddem Abdelghani Benkheda triomphe au GP S.M. le Roi Mohammed VI de Tbourida', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/la-sorba-moqaddem-abdelghani-benkheda-triomphe-au-gp-sm-le-roi-de-tbourida/305663', 'summary': 'Salon du Cheval: la Sorba du Moqaddem Abdelghani Benkheda triomphe au GP S.M. le Roi Mohammed VI de Tbourida. Avec un total de 480,95 points, la Sorba victorieuse a devancé celle de Rachid Sikass (Casablanca-Settat, 466,33 pts) et celle de Mehdi Anjar (Marrakech-Safi, 464,95 pts). Un class.', 'size': 2}, {'id': '122', 'title': 'Grand Prix Roi Mohammed VI de Tbourida: classement final', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/grand-prix-roi-mohammed-vi-de-tbourida-classement-final.html', 'summary': 'Grand Prix Roi Mohammed VI de Tbourida: classement final. Ci-après le classement final du Grand Prix Roi Mohammed VI de Tbourida disputé du 30 octobre au 4 septembre, dans le cadre du 16è Salon du Cheval d’El Jadida. Sorbas Régions pts 1- Benkheda Abdelghani Béni-Mellal-Khénifra 480,95 2- Sikass Rachid Casablanca-Settat 466,33 3 – Anjar Mehdi Marrakech-Safi 464,95 4- Bahraoui Charaf Marrakech-Safi 460,12 5 – . L’article est apparu en premier sur .', 'size': 2}], 'main_title': 'Salon du Cheval: la Sorba du Moqaddem Abdelghani Benkheda triomphe au GP S.M. le Roi Mohammed VI de Tbourida'}, {'community_id': '10', 'articles': [{'id': '15', 'title': 'Vueling inaugure une nouvelle ligne aérienne Essaouira-Séville', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/vueling-inaugure-une-nouvelle-ligne-aerienne-essaouira-seville/305630', 'summary': "Vueling inaugure une nouvelle ligne aérienne Essaouira-Séville. Cette nouvelle desserte, assurée à raison d’une fréquence hebdomadaire chaque samedi, vient renforcer la connectivité d'Essaouira et consolider son positionnement sur la carte.", 'size': 3}, {'id': '41', 'title': 'Vueling inaugure la ligne aérienne Séville-Essaouira', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/vueling-inaugure-la-ligne-aerienne-seville-essaouira-310971/', 'summary': 'Vueling inaugure la ligne aérienne Séville-Essaouira. Un avion de la compagnie aérienne espagnole Vueling a atterri, samedi à l’aéroport international Essaouira-Mogador, marquant l’inauguration officielle d’une nouvelle ligne aérienne reliant Séville en Espagne à la', 'size': 3}, {'id': '58', 'title': 'Aérien : Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/aerien-inauguration-dune-nouvelle-ligne-aerienne-reliant-essaouira-a-seville/', 'summary': 'Aérien : Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville. L’aéroport Essaouira-Mogador est désormais relié à une dizaine de destinations internationales, majoritairement situées en Europe, notamment Paris, Londres, Bruxelles, Marseille, Bordeaux, Lyon, Düsseldorf, Madrid et désormais Séville, en plus d’une ligne intérieure régulière assurant la liaison avec Rabat.', 'size': 2}, {'id': '80', 'title': 'Vueling inaugure une nouvelle ligne aérienne direct reliant Essaouira à Séville', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/vueling-inaugure-une-nouvelle-ligne-aerienne-direct-reliant-essaouira-a-seville/', 'summary': 'Vueling inaugure une nouvelle ligne aérienne direct reliant Essaouira à Séville. Un avion de la compagnie aérienne espagnole “Vueling” a atterri, samedi à l’aéroport international Essaouira-Mogador, marquant l’inauguration officielle d’une nouvelle ligne aérienne reliant Séville en Espagne à la Cité des Alizés. Cette nouvelle desserte, assurée à raison d’une fréquence hebdomadaire chaque samedi, vient renforcer la connectivité d’Essaouira et consolider son positionnement sur la carte touristique ', 'size': 4}, {'id': '119', 'title': 'Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/inauguration-dune-nouvelle-ligne-aerienne-reliant-essaouira-a-seville/', 'summary': 'Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville. Un avion de la compagnie aérienne espagnole « Vueling » a atterri, samedi à l’aéroport international Essaouira-Mogador, marquant l’inauguration officielle d’une nouvelle ligne aérienne reliant Séville en Espagne à la Cité des Alizés. Cette nouvelle desserte, assurée à raison d’une fréquence hebdomadaire chaque samedi, vient renforcer la connectivité d’Essaouira et consolider son positionnement sur la carte touristique .', 'size': 5}], 'main_title': 'Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville'}, {'community_id': '6', 'articles': [{'id': '24', 'title': 'Emeutes : 17 individus déférés devant le parquet suites aux évènements de Sidi Taibi', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Emeutes-17-individus-deferes-devant-le-parquet-suites-aux-evenements-de-Sidi-Taibi_a72486.html', 'summary': "Emeutes : 17 individus déférés devant le parquet suites aux évènements de Sidi Taibi. Suite aux incidents portant atteinte à la sécurité et à l'ordre publics survenus, mercredi dernier, dans la zone de Sidi Taibi relevant de la province de Kénitra, et marqués par des actes de pillage, violence et destruction de biens publics et privés et d'incendie volontaire, 17 individus arrêtés ont été déférés, samedi, devant le parquet près de la Cour d'Appel de Kénitra, indique un communiqué du procureur général du Roi près cette juridiction.", 'size': 3}, {'id': '51', 'title': 'Kénitra : 17 individus déférés devant le parquet après les violences à Sidi Taibi', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178009/kenitra-individus-deferes-devant-parquet.html', 'summary': 'Kénitra : 17 individus déférés devant le parquet après les violences à Sidi Taibi. Suite aux incidents portant atteinte à la sécurité et à lordre publics survenus, mercredi dernier, dans la zone de Sidi Taibi relevant de la province de Kénitra, et marqués par des actes de pillage, violence et destruction de biens publics et privés et dincendie volontaire, 17 individus arrêtés ont été déférés, samedi, devant le parquet près de la Cour dAppel de Kénitra, indique un communiqué du procureur général du roi près cette juridiction.', 'size': 3}, {'id': '121', 'title': '17 individus déférés devant le parquet près la Cour d’appel de Kénitra suite aux actes survenus à Sidi Taibi', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/17-individus-deferes-devant-le-parquet-pres-la-cour-dappel-de-kenitra-suite-aux-actes-survenus-a-sidi-taibi/', 'summary': '17 individus déférés devant le parquet près la Cour d’appel de Kénitra suite aux actes survenus à Sidi Taibi. Suite aux incidents portant atteinte à la sécurité et à l’ordre publics survenus, mercredi dernier, dans la zone de Sidi Taibi relevant de la province de Kénitra, et marqués par des actes de pillage, violence et destruction de biens publics et privés et d’incendie volontaire, 17 individus arrêtés ont été déférés, samedi, devant le parquet .', 'size': 3}], 'main_title': 'Emeutes : 17 individus déférés devant le parquet suites aux évènements de Sidi Taibi'}, {'community_id': '8', 'articles': [{'id': '25', 'title': 'GenZ : Le droit de rassemblement respecté durant les manifestations des deux deniers jours (CNDH)', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/GenZ-Le-droit-de-rassemblement-respecte-durant-les-manifestations-des-deux-deniers-jours-CNDH_a72485.html', 'summary': "GenZ : Le droit de rassemblement respecté durant les manifestations des deux deniers jours (CNDH). Le Conseil National des droits de l'Homme (CNDH) a poursuivi son observation des protestations qu'ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau régional qu'au niveau national.", 'size': 5}, {'id': '84', 'title': 'CNDH : Le droit au rassemblement pacifique respecté lors des manifestations des deux derniers jours', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443988-cndh-le-droit-au-rassemblement-pacifique-respecte-lors-des-manifestations-des-deux-derniers-jours.html', 'summary': 'CNDH : Le droit au rassemblement pacifique respecté lors des manifestations des deux derniers jours. Le Conseil National des droits de l’Homme (CNDH) a poursuivi son observation des protestations qu’ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau . ', 'size': 5}, {'id': '116', 'title': 'CNDH : Les manifestations se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/cndh-les-manifestations-se-sont-deroulees-sans-aucun-comportement-de-nature-a-transgresser-le-droit-au-rassemblement-pacifique/', 'summary': "CNDH : Les manifestations se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique. Le Conseil National des droits de l'Homme (CNDH) a poursuivi son observation des protestations qu'ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau régional qu'au niveau national.", 'size': 5}, {'id': '120', 'title': 'Les manifestations des deux derniers jours se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/les-manifestations-des-deux-derniers-jours-se-sont-deroulees-sans-aucun-comportement-de-nature-a-transgresser-le-droit-au-rassemblement-pacifique/', 'summary': 'Les manifestations des deux derniers jours se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique. Le Conseil National des droits de l’Homme (CNDH) a poursuivi son observation des protestations qu’ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau .', 'size': 5}, {'id': '126', 'title': 'Le CNDH rapporte des manifestations pacifiques et un respect du droit de rassemblement', 'source': 'lnt.ma', 'link': 'https://lnt.ma/le-cndh-rapporte-des-manifestations-pacifiques-et-un-respect-du-droit-de-rassemblement/', 'summary': 'Le CNDH rapporte des manifestations pacifiques et un respect du droit de rassemblement. Le Conseil national des droits de l’Homme (CNDH) a indiqué avoir poursuivi l’observation des protestations organisées dans plusieurs villes du Royaume et affirme que les manifestations des deux derniers jours se sont déroulées dans une atmosphère pacifique, sans relever de comportements de nature à transgresser le droit au rassemblement pacifique, tant au niveau régional que . ', 'size': 5}], 'main_title': 'GenZ : Le droit de rassemblement respecté durant les manifestations des deux deniers jours (CNDH)'}, {'community_id': '1', 'articles': [{'id': '30', 'title': "Marrakech: le Parquet dément le décès d'un citoyen lors des émeutes de Sidi Youssef Ben Ali", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Marrakech-le-Parquet-dement-le-deces-d-un-citoyen-lors-des-emeutes-de-Sidi-Youssef-Ben-Ali_a72480.html', 'summary': "Marrakech: le Parquet dément le décès d'un citoyen lors des émeutes de Sidi Youssef Ben Ali. La nouvelle de la mort d’un citoyen lors des événements de Sidi Youssef Ben Ali est dénuée de tout fondement, apprend-on via un communiqué du Procureur général du Roi près la Cour d’appel de Marrakech.", 'size': 4}, {'id': '52', 'title': 'Marrakech : Aucun décès lors des violences à Sidi Youssef Ben Ali (procureur général)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178008/marrakech-aucun-deces-lors-violences.html', 'summary': 'Marrakech : Aucun décès lors des violences à Sidi Youssef Ben Ali (procureur général). Le procureur général du roi près la Cour dappel de Marrakech indique que les allégations véhiculées par certains médias, sur la base dun communiqué de lAssociation marocaine des droits humains (AMDH/section Marrakech Menara), concernant le décès dun citoyen lors des événements survenus dans le quartier de Sidi Youssef Ben Ali, sont dénuées de tout fondement.', 'size': 3}, {'id': '56', 'title': 'Marrakech : Le parquet dément le décès d’un citoyen lors des événements de Sidi Youssef Ben Ali', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/scans/marrakech-le-parquet-dement-le-deces-dun-citoyen-lors-des-evenements-de-sidi-youssef-ben-ali/', 'summary': "Marrakech : Le parquet dément le décès d’un citoyen lors des événements de Sidi Youssef Ben Ali. Il s'agit d'un citoyen qui exerçait comme vendeur ambulant dans la rue Msalla où il a été victime d'un malaise, le 1er octobre 2025, avant de s'écrouler près de son étalage au niveau du magasin Koutoubia, loin du lieu de la manifestation.", 'size': 2}, {'id': '68', 'title': 'Décès d’un citoyen à Marrakech : le Parquet clarifie les faits et écarte tout lien avec les manifestations', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/deces-dun-citoyen-a-marrakech-le-parquet-clarifie-les-faits-et-ecarte-tout-lien-avec-les-manifestations/', 'summary': 'Décès d’un citoyen à Marrakech : le Parquet clarifie les faits et écarte tout lien avec les manifestations. À la suite d’informations relayées sur les réseaux sociaux faisant état du décès d’un citoyen lors des incidents survenus à Sidi Youssef Ben Ali, le Parquet général près la Cour d’appel de Marrakech a démenti catégoriquement cette rumeur. Aucun décès n’a été enregistré, précisant que la personne évoquée est décédée d’un malaise sans lien avec .', 'size': 3}], 'main_title': "Marrakech: le Parquet dément le décès d'un citoyen lors des émeutes de Sidi Youssef Ben Ali"}, {'community_id': '4', 'articles': [{'id': '32', 'title': 'Al Hoceima (Sidi Bouzineb): Célébration de l’épopée héroïque de l’Armée de libération', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Al-Hoceima-Sidi-Bouzineb-Celebration-de-l-epopee-heroique-de-l-Armee-de-liberation_a72478.html', 'summary': 'Al Hoceima (Sidi Bouzineb): Célébration de l’épopée héroïque de l’Armée de libération. Un meeting commémoratif a été organisé, récemment, à Sidi Bouzineb à l’occasion du 70è anniversaire du lancement des opérations de l’Armée de libération dans le nord du Royaume. Détails.', 'size': 2}, {'id': '70', 'title': 'Commémoration à Al Hoceima du 70è anniversaire du lancement des opérations de l’armée de libération dans le Nord', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/commemoration-a-al-hoceima-du-70e-anniversaire-du-lancement-des-operations-de-larmee-de-liberation-dans-le-nord/', 'summary': 'Commémoration à Al Hoceima du 70è anniversaire du lancement des opérations de l’armée de libération dans le Nord. Un meeting commémoratif a été organisé vendredi à Sidi Bouzineb, relevant de la province d’Al Hoceima, à l’occasion du 70è anniversaire du lancement des opérations de l’Armée de libération dans le nord du Royaume. Le Haut-Commissaire aux anciens résistants et anciens membres de l’Armée de libération (HCAR) a souligné, dans un discours prononcé en son .', 'size': 2}], 'main_title': 'Al Hoceima (Sidi Bouzineb): Célébration de l’épopée héroïque de l’Armée de libération'}, {'community_id': '5', 'articles': [{'id': '73', 'title': 'Températures prévues pour le dimanche 05 octobre 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/temperatures-prevues-pour-le-dimanche-05-octobre-2025/', 'summary': 'Températures prévues pour le dimanche 05 octobre 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le dimanche 05 octobre 2025 : Min Max – Oujda 15 30 – Bouarfa 15 30 – Al Hoceima 19 29 – Tétouan 20 32 – Sebta 20 24 – Mellilia 20 26 – Tanger 18 24 – Kénitra 17 .', 'size': 2}, {'id': '86', 'title': 'Les températures attendues ce dimanche 5 octobre 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/443985-les-temperatures-attendues-ce-dimanche-5-octobre-2025.html', 'summary': 'Les températures attendues ce dimanche 5 octobre 2025. Voici les températures minimales et maximales prévues par la Direction générale de la météorologie pour le dimanche 5 octobre 2025 Min Max – Oujda 15 30 – Bouarfa 15 30 – Al Hoceima 19 29 – Tétouan 20 32 – Sebta 20 24 – Mellilia 20 26 – Tanger 18 24 – Kénitra 17 27 . ', 'size': 2}], 'main_title': 'Températures prévues pour le dimanche 05 octobre 2025'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
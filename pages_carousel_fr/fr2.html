<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 12/10/2025 - 06h14</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '9', 'title': "L'enrôlement militaire des enfants dans les Camps de Tindouf dénoncé à l'ONU", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444938-lenrolement-militaire-des-enfants-dans-les-camps-de-tindouf-denonce-a-lonu.html', 'summary': "L'enrôlement militaire des enfants dans les Camps de Tindouf dénoncé à l'ONU. Des pétitionnaires se sont élevés, devant la 4è commission de l’Assemblée générale de l’ONU à New York, contre l’endoctrinement et l’embrigadement militaire auxquels sont assujettis les enfants et les jeunes dans les camps de Tindouf, où des violations caractérisées des droits de l’Homme sont perpétrées par la milice séparatiste armée du polisario. Intervenant à cette . ", 'size': 2}, {'id': '113', 'title': 'Camps de Tindouf : L’enrôlement militaire des enfants et les violations caractérisées des droits de l’Homme dénoncés à New York', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/camps-de-tindouf-lenrolement-militaire-des-enfants-et-les-violations-caracterisees-des-droits-de-lhomme-denonces-a-new-york.html', 'summary': 'Camps de Tindouf : L’enrôlement militaire des enfants et les violations caractérisées des droits de l’Homme dénoncés à New York. Des pétitionnaires se sont élevés, devant la 4è commission de l’Assemblée générale de l’ONU à New York, contre l\'endoctrinement et l\'embrigadement militaire auxquels sont assujettis les enfants et les jeunes dans les camps de Tindouf, où des violations caractérisées des droits de l’Homme sont perpétrées par la milice séparatiste armée du "polisario". L’article est apparu en premier sur .', 'size': 2}], 'main_title': "L'enrôlement militaire des enfants dans les Camps de Tindouf dénoncé à l'ONU"}, {'community_id': '1', 'articles': [{'id': '17', 'title': 'Les exportations de l’artisanat marocain en hausse de 11% à fin septembre 2025', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/les-exportations-de-lartisanat-marocain-en-hausse-de-11-a-fin-septembre/306948', 'summary': "Les exportations de l’artisanat marocain en hausse de 11% à fin septembre 2025. Dans le détail, la poterie et la pierre occupent une place de choix dans les exportations du secteur, représentant plus d'un tiers du total (313,14 MDH, +6%), fait savoir l#39.", 'size': 2}, {'id': '79', 'title': 'Artisanat : Les exportations en hausse de 11% à fin septembre 2025', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/artisanat-les-exportations-en-hausse-de-11-a-fin-septembre-2025/', 'summary': "Artisanat : Les exportations en hausse de 11% à fin septembre 2025. La poterie et la pierre occupent une place de choix dans les exportations du secteur, représentant plus d'un tiers du total (313,14 MDH, +6%), fait savoir l'Observatoire dans son récent bulletin d'export de l'artisanat.", 'size': 2}], 'main_title': 'Les exportations de l’artisanat marocain en hausse de 11% à fin septembre 2025'}, {'community_id': '4', 'articles': [{'id': '21', 'title': 'S.M. le Roi appelle à la mobilisation générale pour accélérer la mise en œuvre des programmes de développement inclusif', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/sm-le-roi-fixe-le-cap-pour-un-developpement-inclusif/306913', 'summary': 'S.M. le Roi appelle à la mobilisation générale pour accélérer la mise en œuvre des programmes de développement inclusif. S.M. le Roi Mohammed VI a présidé, ce vendredi, la cérémonie d’ouverture de la dernière année législative du mandat en cours de la Chambre des Représentants. À cette occasion, le S.', 'size': 3}, {'id': '47', 'title': '[Discours intégral] Mohammed VI : “Il ne devrait pas y avoir de rivalité entre les grands projets nationaux et les programmes sociaux”', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/10/mohammed-vi-il-ne-devrait-pas-y-avoir-de-rivalite-entre-les-grands-projets-nationaux-et-les-programmes-sociaux_1955425/', 'summary': '[Discours intégral] Mohammed VI : “Il ne devrait pas y avoir de rivalité entre les grands projets nationaux et les programmes sociaux”. Le roi Mohammed VI s’est adressé ce vendredi 10 octobre devant les membres des deux chambres du Parlement, la Chambre des représentants et la Chambre des conseillers, pour l’ouverture de la première session de la 5e année législative de la 11e Législature. Voici le discours intégral. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste,.', 'size': 6}, {'id': '65', 'title': 'SM le Roi adresse un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/sm-le-roi-adresse-un-discours-au-parlement-a-loccasion-de-louverture-de-la-premiere-session-de-la-5e-annee-legislative-1', 'summary': 'SM le Roi adresse un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, accompagné de SAR le Prince Héritier Moulay El Hassan et de SAR le Prince Moulay Rachid, a adressé, vendredi, un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature. Voici le texte intégral du .', 'size': 5}, {'id': '83', 'title': 'Ouverture de l’année législative: Texte intégral du Discours Royal', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/ouverture-de-lannee-legislative-texte-integral-du-discours-royal/', 'summary': "Ouverture de l’année législative: Texte intégral du Discours Royal. Sa Majesté le Roi Mohammed VI, que Dieu L'assiste, accompagné de SAR le Prince Héritier Moulay El Hassan et de SAR le Prince Moulay Rachid, a adressé, vendredi, un discours au Parlement à l'occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature.", 'size': 6}, {'id': '93', 'title': 'Talbi Alami : Le discours Royal appelle à une responsabilité partagée pour le développement', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/talbi-alami-le-discours-royal-appelle-a-une-responsabilite-partagee-pour-le-developpement/', 'summary': 'Talbi Alami : Le discours Royal appelle à une responsabilité partagée pour le développement. Le discours adressé par Sa Majesté le Roi Mohammed VI à l’ouverture de la première session de la cinquième année législative de la 11e Législature, comporte de Hautes Orientations visant à consolider l’esprit de responsabilité partagée entre les différentes institutions, en vue de conforter l’élan de développement global et durable que connaît le Royaume, a .', 'size': 6}, {'id': '94', 'title': 'S.M. le Roi adresse un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/s-m-le-roi-adresse-un-discours-au-parlement-a-loccasion-de-louverture/', 'summary': 'S.M. le Roi adresse un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, accompagné de SAR le Prince Héritier Moulay El Hassan et de SAR le Prince Moulay Rachid, a adressé, vendredi, un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature. Voici le texte intégral du Discours .', 'size': 7}, {'id': '114', 'title': 'Thomas Reilly : Le Discours Royal à l’ouverture du Parlement trace des objectifs stratégiques clairs', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/thomas-reilly-le-discours-royal-a-louverture-du-parlement-trace-des-objectifs-strategiques-clairs.html', 'summary': 'Thomas Reilly : Le Discours Royal à l’ouverture du Parlement trace des objectifs stratégiques clairs. Le Discours prononcé, vendredi, par Sa Majesté le Roi Mohammed VI à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature, a fixé des objectifs stratégiques clairs qui placent la justice sociale et spatiale en tête des priorités, a indiqué Thomas Reilly, ancien ambassadeur britannique au Maroc. «C’est . L’article est apparu en premier sur .', 'size': 4}, {'id': '116', 'title': 'SM le Roi adresse un discours à l’ouverture de la 1ère session de la 5e année législative de la 11e Législature', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/sm-le-roi-adresse-un-discours-a-louverture-de-la-1ere-session-de-la-5e-annee-legislative-de-la-11e-legislature/', 'summary': 'SM le Roi adresse un discours à l’ouverture de la 1ère session de la 5e année législative de la 11e Législature. Sa Majesté le Roi Mohammed VI, que Dieu L’assiste, accompagné de SAR le Prince Héritier Moulay El Hassan et de SAR le Prince Moulay Rachid, a adressé, vendredi, un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature. Texte intégral du Discours Royal : ', 'size': 7}], 'main_title': 'S.M. le Roi adresse un discours au Parlement à l’occasion de l’ouverture de la première session de la 5e année législative de la 11e Législature'}, {'community_id': '3', 'articles': [{'id': '42', 'title': 'Bouayach : l\'abolition de la peine de mort au Maroc est un processus "graduel et ascendant"', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Bouayach-l-abolition-de-la-peine-de-mort-au-Maroc-est-un-processus-graduel-et-ascendant_a72712.html', 'summary': 'Bouayach : l\'abolition de la peine de mort au Maroc est un processus "graduel et ascendant". L’abolition de la peine de mort au Maroc est un processus "graduel et ascendant" qui reflète la dynamique d’une société où interagissent les avis sur les droits humains avec les décisions politiques et se conjugue la volonté civile avec l’évolution législative, a affirmé, vendredi à Rabat, la présidente du Conseil national des droits de l’Homme (CNDH), Amina Bouayach.', 'size': 2}, {'id': '119', 'title': 'Abolition de la peine de mort : un processus « graduel et ascendant » au Maroc, selon le CNDH', 'source': 'lnt.ma', 'link': 'https://lnt.ma/abolition-de-la-peine-de-mort-un-processus-graduel-et-ascendant-au-maroc-selon-le-cndh/', 'summary': 'Abolition de la peine de mort : un processus « graduel et ascendant » au Maroc, selon le CNDH. L’abolition de la peine de mort au Maroc s’inscrit dans un processus « graduel et ascendant » où se conjuguent évolution législative, décisions publiques et débat sociétal, a indiqué vendredi la présidente du Conseil national des droits de l’Homme (CNDH), Amina Bouayach, lors d’une conférence de presse organisée à l’occasion de la Journée mondiale contre . ', 'size': 2}], 'main_title': 'Bouayach : l\'abolition de la peine de mort au Maroc est un processus "graduel et ascendant"'}, {'community_id': '5', 'articles': [{'id': '49', 'title': "CAN 2025 : la CAF prolonge la période d'accréditation des médias", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/10/10/can-2025-la-caf-prolonge-la-periode-daccreditation-des-medias_1955413/', 'summary': "CAN 2025 : la CAF prolonge la période d'accréditation des médias. La Confédération africaine de Football (CAF) a annoncé, vendredi, avoir décidé de prolonger la période d’accréditation des médias pour la Coupe d’Afrique des Nations (CAN), Maroc-2025, jusqu’au lundi 20 octobre courant, en raison d’une demande exceptionnelle à l’échelle mondiale. Dans un communiqué publié sur son site officiel, la CAF indique avoir reçu un nombre sans.", 'size': 2}, {'id': '128', 'title': 'Billetterie CAN 2025 : ouverture lundi 13 octobre, l’application YALLA désormais disponible', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/445015-billetterie-can-2025-ouverture-lundi-13-octobre-lapplication-yalla-desormais-disponible.html', 'summary': 'Billetterie CAN 2025 : ouverture lundi 13 octobre, l’application YALLA désormais disponible. La Confédération Africaine de Football (CAF) a annoncé que la vente des billets pour le plus grand événement sportif du continent, la TotalEnergies CAF Coupe d’Afrique des Nations, Maroc 2025, débutera le lundi 13 octobre 2025, avec une période de prévente exclusive de 48 heures réservée aux détenteurs de cartes VISA, à partir de 09h00 . ', 'size': 2}], 'main_title': "CAN 2025 : la CAF prolonge la période d'accréditation des médias"}, {'community_id': '2', 'articles': [{'id': '89', 'title': 'Bilal El Khannouss, la sensation marocaine du championnat allemand', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/bilal-el-khannouss-la-sensation-marocaine-du-championnat-allemand/', 'summary': 'Bilal El Khannouss, la sensation marocaine du championnat allemand. Le milieu offensif marocain Bilal El Khannouss, fraichement arrivé au VfB Stuttgart, s’affirme d’ores et déjà comme l’une des révélations majeures de ce début de saison en Bundesliga, écrit le site d’information belge « VoetbalPrimeur ». Le jeune international marocain, formé à Genk, a rapidement trouvé ses marques en Allemagne, enchaînant les performances de haut niveau en .', 'size': 2}, {'id': '130', 'title': "Bilal El Khannouss brille en Bundesliga, Stuttgart décide d'activer la clause d'achat", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444972-bilal-el-khannouss-brille-en-bundesliga-stuttgart-decide-dactiver-la-clause-dachat.html', 'summary': "Bilal El Khannouss brille en Bundesliga, Stuttgart décide d'activer la clause d'achat. Le milieu offensif marocain Bilal El Khannouss, fraichement arrivé au VfB Stuttgart, s’affirme d’ores et déjà comme l’une des révélations majeures de ce début de saison en Bundesliga, écrit le site d’information belge « VoetbalPrimeur ». Le jeune international marocain, formé à Genk, a rapidement trouvé ses marques en Allemagne, enchaînant les performances de haut niveau en . ", 'size': 2}], 'main_title': 'Bilal El Khannouss, la sensation marocaine du championnat allemand'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
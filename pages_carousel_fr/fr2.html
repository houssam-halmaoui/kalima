<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 12/06/2025 - 07h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '2', 'title': 'Pavillon Bleu 2025 : 33 sites labellisés au Maroc, dont 28 plages, 4 ports et un lac de montagne', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/428339-pavillon-bleu-2025-33-sites-labellises-au-maroc-dont-28-plages-4-ports-et-un-lac-de-montagne.html', 'summary': 'Pavillon Bleu 2025 : 33 sites labellisés au Maroc, dont 28 plages, 4 ports et un lac de montagne. Au cours de la saison estivale 2025, le Pavillon Bleu sera hissé sur 28 plages, quatre ports de plaisance et un lac de montagne au Maroc. Ce label environnemental international, attribué chaque année par la Fondation pour l’Éducation à l’Environnement (FEE), est promu au Maroc depuis 2002 par la Fondation Mohammed VI pour la Protection . ', 'size': 2}, {'id': '102', 'title': 'Les plages labellisées Pavillon Bleu pour l’été 2025', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-plages-labellisees-pavillon-bleu-pour-lete-2025-304476/', 'summary': 'Les plages labellisées Pavillon Bleu pour l’été 2025. Le label international Pavillon Bleu, attribué annuellement par la Fondation pour l’Éducation à l’Environnement (FEE) et porté au Maroc depuis 2002 par la Fondation Mohammed VI pour la Protection de l’Environnement, présidée par Son Altesse Royale la Princesse Lalla Hasnaa, flottera sur 28 plages, un lac de montagne et quatre', 'size': 2}], 'main_title': 'Pavillon Bleu 2025 : 33 sites labellisés au Maroc, dont 28 plages, 4 ports et un lac de montagne'}, {'community_id': '1', 'articles': [{'id': '9', 'title': 'Aya Gold & Silver mobilise 100 millions CAD pour accélérer l’exploration de ses actifs marocains', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/428312-aya-gold-silver-mobilise-100-millions-cad-pour-accelerer-lexploration-de-ses-actifs-marocains.html', 'summary': 'Aya Gold & Silver mobilise 100 millions CAD pour accélérer l’exploration de ses actifs marocains. La société canadienne Aya Gold & Silver vient de lever plus de 100 millions de dollars canadiens pour financer ses projets miniers au Maroc, notamment à Boumadine et autour du site de Zgounder. Cette opération marque une nouvelle étape dans la consolidation de sa présence dans le Royaume. La société canadienne Aya Gold & Silver . ', 'size': 2}, {'id': '103', 'title': 'Aya Gold & Silver lève 100 millions de dollars pour booster ses activités au Maroc', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/aya-gold-silver-leve-100-millions-de-dollars-pour-booster-ses-activites-au-maroc-304470/', 'summary': 'Aya Gold & Silver lève 100 millions de dollars pour booster ses activités au Maroc. La société minière canadienne Aya Gold & Silver a annoncé la levée de 100 millions de dollars canadiens, qui seront essentiellement alloués au renforcement de ses activités au Maroc, notamment sur les mines d’argent à Boumadine et Zgounder. La société a, en effet, conclu un accord définitif avec Desjardins Marchés', 'size': 2}], 'main_title': 'Aya Gold & Silver mobilise 100 millions CAD pour accélérer l’exploration de ses actifs marocains'}, {'community_id': '2', 'articles': [{'id': '23', 'title': 'Faux documents de visas Schengen : 9 individus arrêtés à Nador et Guercif', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/faux-documents-de-visas-9-individus-arretes-a-nador-et-guercif/284857', 'summary': 'Faux documents de visas Schengen : 9 individus arrêtés à Nador et Guercif. Selon les premiers éléments de l’enquête, les mis en cause sont en lien avec un réseau criminel s’activant dans la falsification de documents administratifs requis pour l’obtention.', 'size': 3}, {'id': '63', 'title': 'Mafias des visas : Neuf individus arrêtés à Nador et Guercif pour falsification de documents', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Mafias-des-visas-Neuf-individus-arretes-a-Nador-et-Guercif-pour-falsification-de-documents_a68543.html', 'summary': "Mafias des visas : Neuf individus arrêtés à Nador et Guercif pour falsification de documents. Les éléments de la police judiciaire de Nador et Guercif, en coordination avec les services de la Direction générale de la surveillance du territoire (DGST), ont interpellé, mercredi, neuf individus présumés impliqués dans une affaire de faux et d'usage de faux pour la constitution de dossiers de visa Schengen et l'organisation d'opérations d'immigration irrégulière et de traite des êtres humains, apprend-on de source sécuritaire.", 'size': 5}, {'id': '70', 'title': "Neuf individus interpellés à Nador et Guercif pour faux visas, immigration irrégulière et traite d'êtres humains", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/neuf-individus-interpelles-a-nador-et-guercif-pour-faux-visas-immigration-irreguliere-et-traite-detres-humains_1937260/', 'summary': "Neuf individus interpellés à Nador et Guercif pour faux visas, immigration irrégulière et traite d'êtres humains. Dans le cadre d’une opération contre un réseau spécialisé dans la falsification de documents administratifs, neuf personnes ont été arrêtées à Nador et Guercif pour falsification de documents liés aux visas Schengen et implication présumée dans un réseau d’immigration illégale. La police judiciaire de Nador et Guercif, en coordination avec les services de la Direction.", 'size': 3}, {'id': '139', 'title': 'Nador et Guercif : Neuf interpellations pour usage de faux, immigration et traite des êtres humains', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/scans/nador-et-guercif-neuf-interpellations-pour-usage-de-faux-immigration-et-traite-des-etres-humains/', 'summary': "Nador et Guercif : Neuf interpellations pour usage de faux, immigration et traite des êtres humains. Les mis en cause sont en lien avec un réseau criminel s’activant dans la falsification de documents administratifs requis pour l’obtention de visas pour des pays européens, qui seraient utilisés dans l'organisation de l’immigration irrégulière.", 'size': 3}, {'id': '156', 'title': 'Nador-Guercif : neuf personnes arrêtées pour trafic de visas falsifiés et organisation d’émigration clandestine', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/nador-guercif-neuf-personnes-arretees-pour-trafic-de-visas-falsifies-et-organisation-demigration-clandestine/', 'summary': 'Nador-Guercif : neuf personnes arrêtées pour trafic de visas falsifiés et organisation d’émigration clandestine. Les éléments de la police judiciaire des villes de Nador et Guercif, en coordination avec les services de la Direction Générale de la Surveillance du Territoire (DGST), ont procédé, ce mercredi matin 11 juin, à l’arrestation de neuf individus soupçonnés d’implication dans une affaire de falsification de documents officiels, utilisés pour constituer des dossiers de .', 'size': 3}], 'main_title': 'Mafias des visas : Neuf individus arrêtés à Nador et Guercif pour falsification de documents'}, {'community_id': '3', 'articles': [{'id': '25', 'title': 'Les inscriptions pour le Morocco Gaming Expo 2025 sont ouvertes', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/inscriptions-ouvertes-pour-morocco-gaming-expo-2025-a-rabat/284833', 'summary': 'Les inscriptions pour le Morocco Gaming Expo 2025 sont ouvertes. Que vous soyez développeur, joueur pro, créateur ou simple passionné, le rendez-vous gaming de l’année approche. Le ministère de la Jeunesse, de la Culture et de la Communication l.', 'size': 5}, {'id': '80', 'title': 'Morocco Gaming Expo 2025 à Rabat : ouverture des inscriptions', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/morocco-gaming-expo-2025-a-rabat-ouverture-des-inscriptions_1937186/', 'summary': 'Morocco Gaming Expo 2025 à Rabat : ouverture des inscriptions. Le ministère de la Jeunesse, de la Culture et de la Communication a annoncé l’ouverture des inscriptions pour participer au “Morocco Gaming Expo 2025”, qui se tiendra du 2 au 6 juillet prochain à Rabat. Prévu au Palais des sports du complexe sportif Prince Moulay Abdellah, cet événement se présente comme un rendez-vous incontournable pour les.', 'size': 5}, {'id': '99', 'title': 'Avis aux gamers: les inscriptions pour le Morocco Gaming Expo 2025 sont ouvertes', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/avis-aux-gamers-les-inscriptions-pour-le-morocco-gaming-expo-2025-sont-ouvertes-304485/', 'summary': 'Avis aux gamers: les inscriptions pour le Morocco Gaming Expo 2025 sont ouvertes. Le ministère de la Jeunesse, de la Culture et de la Communication a annoncé l’ouverture des inscriptions pour participer au « Morocco Gaming Expo 2025 », qui se tiendra du 2 au 6 juillet prochain à Rabat. Prévu au Palais des Sports du Complexe sportif Prince Moulay Abdellah, cet événement se présente', 'size': 5}, {'id': '186', 'title': 'Rabat | Ouverture des inscriptions pour le «\xa0Morocco Gaming Expo 2025\xa0» (Ministère)', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/rabat-ouverture-des-inscriptions-pour-le-morocco-gaming-expo-2025-ministere/', 'summary': 'Rabat | Ouverture des inscriptions pour le « Morocco Gaming Expo 2025 » (Ministère). Le ministère de la Jeunesse, de la Culture et de la Communication a annoncé l’ouverture des inscriptions pour participer au “Morocco Gaming Expo 2025”, qui se tiendra du 2 au 6 juillet prochain à Rabat. Prévu au Palais des Sports du Complexe sportif Prince Moulay Abdellah, cet événement se présente comme un rendez-vous incontournable pour ', 'size': 5}, {'id': '192', 'title': 'Morocco Gaming Expo 2025 : L’événement dédié à l’industrie du jeu vidéo a ouvert ses inscriptions', 'source': 'lnt.ma', 'link': 'https://lnt.ma/morocco-gaming-expo-2025-levenement-dedie-a-lindustrie-du-jeu-video-a-ouvert-ses-inscriptions/', 'summary': 'Morocco Gaming Expo 2025 : L’événement dédié à l’industrie du jeu vidéo a ouvert ses inscriptions. Le ministère de la Jeunesse, de la Culture et de la Communication a annoncé l’ouverture des inscriptions pour participer à la prochaine édition du Morocco Gaming Expo, prévue du 2 au 6 juillet 2025 au Palais des Sports du Complexe sportif Prince Moulay Abdellah à Rabat. D’après le communiqué publié à cette occasion, cet événement . ', 'size': 5}], 'main_title': 'Les inscriptions pour le Morocco Gaming Expo 2025 sont ouvertes'}, {'community_id': '4', 'articles': [{'id': '28', 'title': "Sahara : Le Maroc dénonce l'obstination de l'Algérie devant le C24 de l’ONU", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/sahara-le-maroc-denonce-lobstination-de-lalgerie-devant-le-c24-de-lonu/284814', 'summary': "Sahara : Le Maroc dénonce l'obstination de l'Algérie devant le C24 de l’ONU. Le processus politique mené sous l’égide du Secrétaire général et facilité par son Envoyé personnel, soutenu par l’ensemble des Etats membres des Nations Unies, ne peut reste.", 'size': 4}, {'id': '142', 'title': 'Sahara : Le Maroc dénonce l’obstination de l’Algérie à l’ONU', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/sahara-le-maroc-denonce-lobstination-de-lalgerie-a-lonu/', 'summary': 'Sahara : Le Maroc dénonce l’obstination de l’Algérie à l’ONU. Le Maroc dénonce l’attitude « intransigeante » de l’Algérie, qu’il accuse de bloquer le processus onusien sur le Sahara, et appelle le C24 à soutenir l’Initiative marocaine d’autonomie.', 'size': 4}, {'id': '162', 'title': 'ONU/Sahara: Le Maroc dénonce l’obstination de l’Algérie qui prend en otage le processus politique au détriment de la stabilité régionale', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/onu-sahara-le-maroc-denonce-lobstination-de-lalgerie-qui-prend-en-otage-le-processus-politique-au-detriment-de-la-stabilite-regionale/', 'summary': 'ONU/Sahara: Le Maroc dénonce l’obstination de l’Algérie qui prend en otage le processus politique au détriment de la stabilité régionale. Le Maroc a dénoncé, mardi devant le Comité des 24 de l’ONU (C24), l’obstination et l’intransigeance de l’Algérie qui prend en otage le processus politique du Sahara marocain au détriment de la stabilité régionale. « Le processus politique mené sous l’égide du Secrétaire général et facilité par son Envoyé personnel, soutenu par l’ensemble des Etats membres .', 'size': 5}, {'id': '182', 'title': 'Sahara: le Maroc dénonce devant l’ONU la prise en otage par l’Algérie du processus politique au détriment de la stabilité régionale', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/sahara-le-maroc-denonce-devant-lonu-lobstination-de-lalgerie-au-detriment-de-la-stabilite-regionale.html', 'summary': 'Sahara: le Maroc dénonce devant l’ONU la prise en otage par l’Algérie du processus politique au détriment de la stabilité régionale. Le Maroc a dénoncé, mardi devant le Comité des 24 de l’ONU (C24), l’obstination et l’intransigeance de l’Algérie qui prend en otage le processus politique du Sahara marocain au détriment de la stabilité régionale. « Le processus politique mené sous l’égide du Secrétaire général et facilité par son Envoyé personnel, soutenu par l’ensemble des Etats membres . L’article est apparu en premier sur .', 'size': 5}, {'id': '185', 'title': 'C24/ONU | Le Maroc dénonce l’obstruction de l’Algérie au processus politique sur le Sahara', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/c24-onu-le-maroc-denonce-lobstruction-de-lalgerie-au-processus-politique-sur-le-sahara/', 'summary': 'C24/ONU | Le Maroc dénonce l’obstruction de l’Algérie au processus politique sur le Sahara. Le Maroc a dénoncé, mardi devant le Comité des 24 de l’ONU (C24), l’obstination et l’intransigeance de l’Algérie qui prend en otage le processus politique du Sahara marocain au détriment de la stabilité régionale. “Le processus politique mené sous l’égide du Secrétaire général et facilité par son Envoyé personnel, soutenu par l’ensemble des Etats membres ', 'size': 5}], 'main_title': 'ONU/Sahara: Le Maroc dénonce l’obstination de l’Algérie qui prend en otage le processus politique au détriment de la stabilité régionale'}, {'community_id': '5', 'articles': [{'id': '29', 'title': 'Pavillon Bleu 2025 : 28 plages, un lac de montagne et quatre ports de plaisance labellisés', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/pavillon-bleu-2025-28-plages-et-un-lac-de-montagne-labellises/284815', 'summary': 'Pavillon Bleu 2025 : 28 plages, un lac de montagne et quatre ports de plaisance labellisés. Avec 33 sites labellisés, le Maroc se classe 21e au niveau mondial sur 50 pays, premier pays arabe et deuxième en Afrique pour le nombre de sites labellisés Pavillon Bleu, un écola.', 'size': 2}, {'id': '143', 'title': 'Été 2025 : 28 plages, un lac de montagne et quatre ports de plaisance labellisés Pavillon Bleu', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/ete-2025-28-plages-un-lac-de-montagne-et-quatre-ports-de-plaisance-labellises-pavillon-bleu/', 'summary': 'Été 2025 : 28 plages, un lac de montagne et quatre ports de plaisance labellisés Pavillon Bleu. Avec 33 sites labellisés, le Maroc se classe 21e au niveau mondial sur 50 pays, premier pays arabe et deuxième en Afrique pour le nombre de sites labellisés Pavillon Bleu.', 'size': 2}], 'main_title': 'Pavillon Bleu 2025 : 28 plages, un lac de montagne et quatre ports de plaisance labellisés'}, {'community_id': '6', 'articles': [{'id': '31', 'title': 'Le Championnat du Maroc de Kitesurf Strapless fait escale à Essaouira', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/le-championnat-du-maroc-de-kitesurf-strapless-fait-escale-a-essaouira/284753', 'summary': 'Le Championnat du Maroc de Kitesurf Strapless fait escale à Essaouira. Essaouira accueillera, du 27 au 29 juin 2025, la deuxième étape du Championnat du Maroc de Kitesurf Strapless. L’épreuve se déroulera sur la plage de la ville, connue pour ses ven.', 'size': 2}, {'id': '85', 'title': 'La 2e étape du championnat du Maroc de kitesurf strapless se déroulera à Essaouira', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/la-2e-etape-du-championnat-du-maroc-de-kitesurf-strapless-se-deroulera-a-essaouira_1937093/', 'summary': 'La 2e étape du championnat du Maroc de kitesurf strapless se déroulera à Essaouira. L’association Jeunes Essaouira Sports Nautiques a annoncé dans un communiqué la tenue de la deuxième étape du championnat du Maroc de kitesurf strapless, qui aura lieu les 27, 28 et 29 juin 2025 sur la plage d’Essaouira. Cette compétition fait suite à la première étape organisée à Tarfaya les 12 et 13 avril dernier, remportée.', 'size': 2}], 'main_title': 'Le Championnat du Maroc de Kitesurf Strapless fait escale à Essaouira'}, {'community_id': '7', 'articles': [{'id': '32', 'title': 'BIM ouvre son deuxième magasin à Laâyoune', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/bim-ouvre-son-deuxieme-magasin-a-laayoune/284744', 'summary': 'BIM ouvre son deuxième magasin à Laâyoune. Cette nouvelle implantation s’inscrit dans l’engagement de BIM Maroc à renforcer l’accessibilité des produits de grande consommation. Elle vise également à répondre davantage aux a.', 'size': 2}, {'id': '101', 'title': 'BIM renforce sa présence à Laâyoune avec l’ouverture d’un deuxième magasin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/bim-renforce-sa-presence-a-laayoune-avec-louverture-dun-deuxieme-magasin-304481/', 'summary': 'BIM renforce sa présence à Laâyoune avec l’ouverture d’un deuxième magasin. L’enseigne de grande distribution BIM Maroc poursuit son expansion dans le Royaume avec l’ouverture d’un deuxième magasin à Laâyoune. Cette nouvelle implantation vient compléter celle inaugurée en octobre 2022, qui avait marqué l’arrivée de la première enseigne de grande distribution dans la ville. Avec cette ouverture, BIM confirme sa stratégie', 'size': 2}], 'main_title': 'BIM ouvre son deuxième magasin à Laâyoune'}, {'community_id': '8', 'articles': [{'id': '37', 'title': "Attijariwafa bank célèbre l’entrepreneuriat à l'occasion de la grande finale des Trophées Ana Maak", 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/attijariwafa-bank-met-a-lhonneur-les-jeunes-entrepreneurs/284737', 'summary': "Attijariwafa bank célèbre l’entrepreneuriat à l'occasion de la grande finale des Trophées Ana Maak. À l’issue des compétitions régionales qui ont permis de primer les 3 meilleurs projets de chaque région, 12 lauréats arrivés premiers des classements régionaux ont été sélectionnés.", 'size': 2}, {'id': '104', 'title': 'Attijariwafa bank célèbre l’entrepreneuriat lors de la grande finale des Trophées Ana Maak', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/attijariwafa-bank-celebre-lentrepreneuriat-lors-de-la-grande-finale-des-trophees-ana-maak-304465/', 'summary': 'Attijariwafa bank célèbre l’entrepreneuriat lors de la grande finale des Trophées Ana Maak. La quatrième édition des Trophées Ana Maak, organisée par Attijariwafa bank, a connu son épilogue ce 10 juin lors d’une grande finale rassemblant les principaux acteurs de l’écosystème entrepreneurial marocain. L’événement, devenu un rendez-vous majeur de la promotion de l’entrepreneuriat au niveau national, a mis à l’honneur l’innovation et l’audace', 'size': 2}], 'main_title': "Attijariwafa bank célèbre l’entrepreneuriat à l'occasion de la grande finale des Trophées Ana Maak"}, {'community_id': '10', 'articles': [{'id': '64', 'title': 'Viandes rouges : Plus de 328.000 têtes importées au 1er semestre 2025', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Viandes-rouges-Plus-de-328-000-tetes-importees-au-1er-semestre-2025_a68542.html', 'summary': 'Viandes rouges : Plus de 328.000 têtes importées au 1er semestre 2025. En réponse à la baisse des effectifs du cheptel national et à la pression sur les prix des viandes rouges, le gouvernement marocain mise à la fois sur l’importation massive de bétail et sur le développement de l’élevage à travers des projets de l’agriculture solidaire.', 'size': 2}, {'id': '179', 'title': 'Filière de conserve de poisson : les professionnels tirent la sonnette d’alarme', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/filiere-de-conserve-de-poisson-les-professionnels-tirent-la-sonnette-dalarme.html', 'summary': 'Filière de conserve de poisson : les professionnels tirent la sonnette d’alarme. Premier exportateur mondial de sardines en boîte, le Maroc voit sa position s’effriter sur plusieurs marchés. En cause, une raréfaction préoccupante de la ressource halieutique. ', 'size': 2}], 'main_title': 'Viandes rouges : Plus de 328.000 têtes importées au 1er semestre 2025'}, {'community_id': '11', 'articles': [{'id': '65', 'title': 'Festival Gnaoua : 350 artistes, 40 Maâlems et 54 concerts pour la 26ᵉ édition', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Festival-Gnaoua-350-artistes-40-Maalems-et-54-concerts-pour-la-26ᵉ-edition_a68541.html', 'summary': 'Festival Gnaoua : 350 artistes, 40 Maâlems et 54 concerts pour la 26ᵉ édition. Du 19 au 21 juin 2025, Essaouira s’apprête à vibrer une nouvelle fois au rythme envoûtant des guembris et des percussions du monde. Le 26e Festival Gnaoua et Musiques du Monde réunira cette année 350 artistes, dont 40 Maâlems Gnaoua, à travers 54 concerts organisés de jour comme de nuit.', 'size': 2}, {'id': '200', 'title': 'Festival Gnaoua et Musiques du Monde 2025 : Une édition foisonnante, entre dialogue des cultures, spiritualité et engagement artistique', 'source': 'lnt.ma', 'link': 'https://lnt.ma/festival-gnaoua-et-musiques-du-monde-2025-une-edition-foisonnante-entre-dialogue-des-cultures-spiritualite-et-engagement-artistique/', 'summary': 'Festival Gnaoua et Musiques du Monde 2025 : Une édition foisonnante, entre dialogue des cultures, spiritualité et engagement artistique. La 26e édition du Festival Gnaoua et Musiques du Monde se tiendra à Essaouira du 19 au 21 juin 2025. Fidèle à son esprit d’ouverture et de transmission, l’événement réunira cette année plus de 350 artistes issus d’une trentaine de pays, avec en tête d’affiche une quarantaine de Maâlems Gnaoua. La programmation s’annonce particulièrement dense, . ', 'size': 2}], 'main_title': 'Festival Gnaoua : 350 artistes, 40 Maâlems et 54 concerts pour la 26ᵉ édition'}, {'community_id': '12', 'articles': [{'id': '86', 'title': 'CasaNola : un nouveau festival de jazz comme passerelle entre Casablanca et La Nouvelle-Orléans', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/casanola-un-nouveau-festival-de-jazz-comme-passerelle-entre-casablanca-et-la-nouvelle-orleans_1937075/', 'summary': 'CasaNola : un nouveau festival de jazz comme passerelle entre Casablanca et La Nouvelle-Orléans. La ville blanche accueillera du 12 au 14 juin le Festival CasaNola, un événement mêlant jazz de La Nouvelle-Orléans et traditions marocaines. Concerts, parades, ateliers et master classes rythmeront cette rencontre culturelle placée sous le signe du dialogue artistique entre les États-Unis et le Maroc. La ville de Casablanca accueillera, du 12 au 14 juin,.', 'size': 2}, {'id': '193', 'title': 'CasaNola : Rencontre musicale entre Casablanca et La Nouvelle-Orléans', 'source': 'lnt.ma', 'link': 'https://lnt.ma/casanola-rencontre-musicale-entre-casablanca-et-la-nouvelle-orleans/', 'summary': 'CasaNola : Rencontre musicale entre Casablanca et La Nouvelle-Orléans. La ville de Casablanca accueillera, du 12 au 14 juin, le Festival CasaNola, un événement célébrant la rencontre artistique entre La Nouvelle-Orléans et le Maroc, autour du jazz et des traditions populaires. Organisé par l’association AVEMPACE en partenariat avec le New Orleans Jazz Museum, le festival se tiendra à l’Automobile Club du Maroc, affirment les . ', 'size': 2}], 'main_title': 'CasaNola : un nouveau festival de jazz comme passerelle entre Casablanca et La Nouvelle-Orléans'}, {'community_id': '13', 'articles': [{'id': '88', 'title': 'Maroc : la Banque mondiale projette une croissance de 3,6% en 2025 et 3,5% en 2026', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/maroc-la-banque-mondiale-projette-une-croissance-de-36-en-2025-et-35-en-2026_1937081/', 'summary': 'Maroc : la Banque mondiale projette une croissance de 3,6% en 2025 et 3,5% en 2026. Le Maroc devrait enregistrer une croissance économique de l’ordre de 3,6% en 2025 et de 3,5% en 2026, selon des projections du Groupe de la Banque mondiale publiées mardi. Dans une mise à jour de ses perspectives économiques mondiales, l’institution financière indique que ces prévisions constituent une revue à la baisse respective de 0,3% et.', 'size': 2}, {'id': '198', 'title': 'Maroc : la Banque mondiale revoit à la baisse ses prévisions de croissance pour 2025', 'source': 'lnt.ma', 'link': 'https://lnt.ma/maroc-la-banque-mondiale-revoit-a-la-baisse-ses-previsions-de-croissance-pour-2025/', 'summary': 'Maroc : la Banque mondiale revoit à la baisse ses prévisions de croissance pour 2025. Le Maroc devrait enregistrer une croissance économique de l’ordre de 3,6% en 2025 et de 3,5% en 2026, selon des projections du Groupe de la Banque mondiale publiées mardi. Dans une mise à jour de ses « Perspectives économiques mondiales », l’institution financière indique que ces prévisions constituent une revue à la baisse respective de 0,3% et . ', 'size': 2}], 'main_title': 'Maroc : la Banque mondiale projette une croissance de 3,6% en 2025 et 3,5% en 2026'}, {'community_id': '14', 'articles': [{'id': '89', 'title': 'Soutien aux éleveurs : le gouvernement mobilise 3 milliards de dirhams d’ici 2025', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/soutien-aux-eleveurs-le-gouvernement-mobilise-3-milliards-de-dirhams-dici-2025_1937079/', 'summary': 'Soutien aux éleveurs : le gouvernement mobilise 3 milliards de dirhams d’ici 2025. Le gouvernement compte lancer un nouveau programme de soutien aux éleveurs pour améliorer leurs conditions et garantir la reconstitution durable du cheptel national, conformément aux instructions royales, a indiqué, mardi à la Chambre des conseillers, le ministre de l’Agriculture, de la Pêche maritime, du Développement rural et des Eaux et Forêts, Ahmed El Bouari. Intervenant.', 'size': 2}, {'id': '199', 'title': 'Reconstitution du cheptel : un plan de 3 MMDH pour soutenir les éleveurs', 'source': 'lnt.ma', 'link': 'https://lnt.ma/reconstitution-du-cheptel-un-plan-de-3-milliards-dh-pour-soutenir-les-eleveurs/', 'summary': 'Reconstitution du cheptel : un plan de 3 MMDH pour soutenir les éleveurs. Le gouvernement compte lancer un nouveau programme de soutien aux éleveurs pour améliorer leurs conditions et garantir la reconstitution durable du cheptel national, a indiqué, mardi à la Chambre des conseillers, le ministre de l’Agriculture, de la Pêche maritime, du Développement rural et des Eaux et Forêts, Ahmed El Bouari. Intervenant lors de la séance . ', 'size': 2}], 'main_title': 'Soutien aux éleveurs : le gouvernement mobilise 3 milliards de dirhams d’ici 2025'}, {'community_id': '15', 'articles': [{'id': '93', 'title': 'Au Maroc, les radars peuvent désormais détecter les excès de vitesse dans les deux sens de circulation', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/11/au-maroc-les-radars-peuvent-desormais-detecter-les-exces-de-vitesse-dans-les-deux-sens-de-circulation_1937073/', 'summary': 'Au Maroc, les radars peuvent désormais détecter les excès de vitesse dans les deux sens de circulation. L’Agence nationale de la sécurité routière (NARSA) a annoncé, mardi, la mise en service du système de contrôle par radars automatisés des infractions routières, permettant de détecter les excès de vitesse dans les deux sens de circulation. Dans un communiqué, la NARSA indique que ce dispositif, qui sera opérationnel à partir du 16 juin, s’inscrit.', 'size': 3}, {'id': '105', 'title': 'Les excès de vitesse surveillés dans les deux sens de circulation à partir du 16 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-exces-de-vitesse-surveilles-dans-les-deux-sens-de-circulation-a-partir-du-16-juin-304460/', 'summary': 'Les excès de vitesse surveillés dans les deux sens de circulation à partir du 16 juin. L’Agence nationale de la sécurité routière (NARSA) a annoncé, à travers un communiqué officiel, la mise en œuvre d’un nouveau dispositif de contrôle automatisé des excès de vitesse. À compter du 16 juin 2025, les radars fixes installés sur le réseau routier national seront activés pour détecter les infractions de', 'size': 3}, {'id': '201', 'title': 'Sécurité routière : les radars double sens entrent en service dès le 16 juin', 'source': 'lnt.ma', 'link': 'https://lnt.ma/securite-routiere-les-radars-double-sens-entrent-en-service-des-le-16-juin/', 'summary': 'Sécurité routière : les radars double sens entrent en service dès le 16 juin. L’Agence nationale de la sécurité routière (NARSA) a annoncé, mardi, la mise en service du système de contrôle par radars automatisés des infractions routières, permettant de détecter les excès de vitesse dans les deux sens de circulation. Dans un communiqué, la NARSA indique que ce dispositif, qui sera opérationnel à partir du 16 juin, s’inscrit . ', 'size': 3}], 'main_title': 'Au Maroc, les radars peuvent désormais détecter les excès de vitesse dans les deux sens de circulation'}, {'community_id': '16', 'articles': [{'id': '97', 'title': 'L’Observatoire des délais de paiement tient sa septième réunion', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/lobservatoire-des-delais-de-paiement-tient-sa-septieme-reunion-304498/', 'summary': 'L’Observatoire des délais de paiement tient sa septième réunion. La septième réunion de l’Observatoire des délais de paiement s’est tenue, mardi à Rabat, sous la présidence du ministre de l’Économie et des Finances, Nadia Fettah, et du Vice-président général de la Confédération Générale des Entreprises du Maroc (CGEM), Mehdi Tazi. Cette rencontre s’inscrit dans le cadre des hautes orientations', 'size': 2}, {'id': '137', 'title': 'Nadia Fettah préside la 7e réunion de l’Observatoire des délais de paiement', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/nadia-fettah-preside-la-7e-reunion-de-lobservatoire-des-delais-de-paiement/', 'summary': "Nadia Fettah préside la 7e réunion de l’Observatoire des délais de paiement. La 7e réunion de l’Observatoire des délais de paiement, présidée par la ministre de l'Économie et des Finances, Nadia Fettah, et du Vice-président général de la Confédération générale des entreprises du Maroc (CGEM), Mehdi Tazi, a évalué la loi 69-21 et ses sanctions, avec 17.636 déclarations en 2024.", 'size': 2}], 'main_title': 'L’Observatoire des délais de paiement tient sa septième réunion'}, {'community_id': '9', 'articles': [{'id': '145', 'title': 'Le Maroc en force au Salon VivaTech 2025 à Paris', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/le-maroc-en-force-au-salon-vivatech-2025-a-paris/', 'summary': "Le Maroc en force au Salon VivaTech 2025 à Paris. Conduite par le ministère de la Transformation numérique, la délégation marocaine comprend plus de 25 start-up opérant dans les secteurs de l’IA, de la cybersécurité, de l’e-santé, ainsi que dans d'autres domaines tels que la GreenTech et les solutions cloud.", 'size': 2}, {'id': '191', 'title': 'Le Maroc participe à l’édition 2025 du Salon VivaTech à Paris', 'source': 'lnt.ma', 'link': 'https://lnt.ma/le-maroc-participe-a-ledition-2025-du-salon-vivatech-a-paris/', 'summary': 'Le Maroc participe à l’édition 2025 du Salon VivaTech à Paris. Le Maroc prend part à l’édition 2025 du Salon international VivaTech, consacré aux startups et aux technologies innovantes, qui se tient à Paris du 11 au 14 juin. La participation marocaine s’inscrit dans une démarche de valorisation de l’écosystème numérique national et de ses potentialités dans différents domaines technologiques. Conduite par le ministère de la . ', 'size': 2}], 'main_title': 'Le Maroc en force au Salon VivaTech 2025 à Paris'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
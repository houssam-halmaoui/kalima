<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 06/10/2025 - 06h17</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '8', 'articles': [{'id': '0', 'title': 'El Jadida : Prince Héritier Moulay El Hassan préside la cérémonie de remise du Grand Prix du Roi Mohammed VI de saut d’obstacles', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444039-el-jadida-prince-heritier-moulay-el-hassan-preside-la-ceremonie-de-remise-du-grand-prix-du-roi-mohammed-vi-de-saut-dobstacles.html', 'summary': 'El Jadida : Prince Héritier Moulay El Hassan préside la cérémonie de remise du Grand Prix du Roi Mohammed VI de saut d’obstacles. Le Prince Héritier Moulay El Hassan a présidé, dimanche après-midi au Parc d’expositions Mohammed VI d’El Jadida, la cérémonie de remise du Grand Prix Sa Majesté le Roi Mohammed VI de saut d’obstacles, organisé dans le cadre de la finale de la 14e édition du Morocco Royal Tour CSI 4*W, un concours international disputé dans . ', 'size': 5}, {'id': '70', 'title': 'Le Prince Héritier Moulay El Hassan préside la cérémonie de remise du Grand Prix SM le Roi Mohammed VI de saut d’obstacles', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/le-prince-heritier-moulay-el-hassan-preside-la-ceremonie-de-remise-du-grand-prix-sm-le-roi-mohammed-vi-de-saut-dobstacles/', 'summary': "Le Prince Héritier Moulay El Hassan préside la cérémonie de remise du Grand Prix SM le Roi Mohammed VI de saut d’obstacles. Son Altesse Royale le Prince Héritier Moulay El Hassan a présidé, dimanche après-midi au Parc d'expositions Mohammed VI d’El Jadida, la cérémonie de remise du Grand Prix Sa Majesté le Roi Mohammed VI de saut d’obstacles, organisé dans le cadre de la finale de la 14e édition du Morocco Royal Tour CSI 4*W, un concours international disputé dans le cadre de la 16e édition du Salon du cheval.", 'size': 6}, {'id': '82', 'title': 'S.A.R. le Prince Héritier Moulay El Hassan préside à El Jadida la cérémonie de remise du Grand Prix S.M. le Roi Mohammed VI de saut d’obstacles', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/s-a-r-le-prince-heritier-moulay-el-hassan-preside-a-el-jadida-la-ceremonie-de-remise-du-grand-prix-s-m-le-roi-mohammed-vi-de-saut-dobstacles/', 'summary': 'S.A.R. le Prince Héritier Moulay El Hassan préside à El Jadida la cérémonie de remise du Grand Prix S.M. le Roi Mohammed VI de saut d’obstacles. Son Altesse Royale le Prince Héritier Moulay El Hassan a présidé, dimanche après-midi au Parc d’expositions Mohammed VI d’El Jadida, la cérémonie de remise du Grand Prix Sa Majesté le Roi Mohammed VI de saut d’obstacles, organisé dans le cadre de la finale de la 14e édition du Morocco Royal Tour CSI 4*W, un concours .', 'size': 5}, {'id': '106', 'title': 'Salon du cheval 2025 : El Habib Merzak dresse un bilan positif de la 16eme édition', 'source': 'lematin.ma', 'link': 'https://lematin.ma/videos/salon-du-cheval-merzak-dresse-un-bilan-positif-de-la-16eme-edition/305818', 'summary': 'Salon du cheval 2025 : El Habib Merzak dresse un bilan positif de la 16eme édition. La 16e édition du Salon du Cheval d’El Jadida, organisée du 30 septembre au 5 octobre sous le Haut Patronage de Sa Majesté le Roi Mohammed VI, a attiré près de 150.000 visiteurs, i.', 'size': 4}, {'id': '118', 'title': 'SAR le Prince Héritier Moulay El Hassan préside à El Jadida la cérémonie de remise du Grand Prix SM le Roi Mohammed VI de saut d’obstacles', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/SAR-le-Prince-Heritier-Moulay-El-Hassan-preside-a-El-Jadida-la-ceremonie-de-remise-du-Grand-Prix-SM-le-Roi-Mohammed-VI_a72512.html', 'summary': "SAR le Prince Héritier Moulay El Hassan préside à El Jadida la cérémonie de remise du Grand Prix SM le Roi Mohammed VI de saut d’obstacles. Son Altesse Royale le Prince Héritier Moulay El Hassan a présidé, dimanche après-midi au Parc d'expositions Mohammed VI d’El Jadida, la cérémonie de remise du Grand Prix Sa Majesté le Roi Mohammed VI de saut d’obstacles, organisé dans le cadre de la finale de la 14e édition du Morocco Royal Tour CSI 4*W, un concours international disputé dans le cadre de la 16e édition du Salon du cheval.", 'size': 6}, {'id': '136', 'title': 'Le Prince Héritier Moulay El Hassan préside la cérémonie de remise du «\xa0GP-SM le Roi Mohammed VI\xa0» de saut d’obstacles', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/le-prince-heritier-moulay-el-hassan-preside-la-ceremonie-de-remise-du-gp-sm-le-roi-mohammed-vi-de-saut-dobstacles/', 'summary': 'Le Prince Héritier Moulay El Hassan préside la cérémonie de remise du « GP-SM le Roi Mohammed VI » de saut d’obstacles. Son Altesse Royale le Prince Héritier Moulay El Hassan a présidé, dimanche après-midi au Parc d’expositions Mohammed VI d’El Jadida, la cérémonie de remise du Grand Prix Sa Majesté le Roi Mohammed VI de saut d’obstacles, organisé dans le cadre de la finale de la 14e édition du Morocco Royal Tour CSI 4*W, un concours ', 'size': 5}], 'main_title': 'Le Prince Héritier Moulay El Hassan préside la cérémonie de remise du Grand Prix SM le Roi Mohammed VI de saut d’obstacles'}, {'community_id': '4', 'articles': [{'id': '2', 'title': 'Équipe nationale A’: deux matchs amicaux à huis clos face à l’Égypte et au koweït', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444013-equipe-nationale-a-deux-matchs-amicaux-a-huis-clos-face-a-legypte-et-au-koweit.html', 'summary': 'Équipe nationale A’: deux matchs amicaux à huis clos face à l’Égypte et au koweït. La sélection nationale A’ disputera deux matchs amicaux, à huis clos, face aux sélections égyptienne et du Koweït en prévision des prochaines échéances, a annoncé, dimanche, la Fédération royale marocaine de football (FRMF). Programmées dans le cadre d’un stage de préparation, ces rencontres se joueront respectivement le 9 octobre au stade El Bachir de Mohammedia . ', 'size': 2}, {'id': '33', 'title': 'Lions de l’Atlas A’ : Deux matchs amicaux prévus à huis clos contre l’Égypte et le Koweït', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Lions-de-l-Atlas-A-Deux-matchs-amicaux-prevus-a-huis-clos-contre-l-Egypte-et-le-Koweit_a72505.html', 'summary': 'Lions de l’Atlas A’ : Deux matchs amicaux prévus à huis clos contre l’Égypte et le Koweït. La sélection nationale A’ disputera deux matchs amicaux face aux sélections égyptienne et du Koweït en prévision des prochaines échéances, a indiqué, ce dimanche, la Fédération Royale Marocaine de Football (FRMF) dans un communiqué.', 'size': 2}], 'main_title': 'Équipe nationale A’: deux matchs amicaux à huis clos face à l’Égypte et au koweït'}, {'community_id': '2', 'articles': [{'id': '6', 'title': 'Le bitcoin bat un nouveau record et dépasse les 125.000 dollars', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444009-le-bitcoin-bat-un-nouveau-record-et-depasse-les-125-000-dollars.html', 'summary': 'Le bitcoin bat un nouveau record et dépasse les 125.000 dollars. Le bitcoin a atteint un nouveau plus haut dimanche, dépassant le seuil des 125.000 dollars, alors que la paralysie budgétaire se poursuit aux Etats-Unis. La star des cryptomonnaies a atteint 125.689 dollars, battant son précédent record du mois d’août autour de 124.500 dollars. Le bitcoin a connu une forte tendance à la hausse, sur fond . ', 'size': 2}, {'id': '54', 'title': 'Le bitcoin établit un record grâce au «\xa0shutdown\xa0» américain', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-bitcoin-etablit-un-record-grace-au-shutdown-americain-310977/', 'summary': 'Le bitcoin établit un record grâce au « shutdown » américain. Le bitcoin a atteint un nouveau plus haut dimanche, dépassant le seuil des 125.000 dollars, alors que la paralysie budgétaire se poursuit aux Etats-Unis. La star des cryptomonnaies', 'size': 2}], 'main_title': 'Le bitcoin bat un nouveau record et dépasse les 125.000 dollars'}, {'community_id': '5', 'articles': [{'id': '27', 'title': 'Salon du Cheval: la Sorba du Moqaddem Abdelghani Benkheda triomphe au GP S.M. le Roi Mohammed VI de Tbourida', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/la-sorba-moqaddem-abdelghani-benkheda-triomphe-au-gp-sm-le-roi-de-tbourida/305663', 'summary': 'Salon du Cheval: la Sorba du Moqaddem Abdelghani Benkheda triomphe au GP S.M. le Roi Mohammed VI de Tbourida. Avec un total de 480,95 points, la Sorba victorieuse a devancé celle de Rachid Sikass (Casablanca-Settat, 466,33 pts) et celle de Mehdi Anjar (Marrakech-Safi, 464,95 pts). Un class.', 'size': 3}, {'id': '90', 'title': 'Grand Prix Roi Mohammed VI de Tbourida: classement final', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/grand-prix-roi-mohammed-vi-de-tbourida-classement-final.html', 'summary': 'Grand Prix Roi Mohammed VI de Tbourida: classement final. Ci-après le classement final du Grand Prix Roi Mohammed VI de Tbourida disputé du 30 octobre au 4 septembre, dans le cadre du 16è Salon du Cheval d’El Jadida. Sorbas Régions pts 1- Benkheda Abdelghani Béni-Mellal-Khénifra 480,95 2- Sikass Rachid Casablanca-Settat 466,33 3 – Anjar Mehdi Marrakech-Safi 464,95 4- Bahraoui Charaf Marrakech-Safi 460,12 5 – . L’article est apparu en premier sur .', 'size': 3}, {'id': '131', 'title': "Salon du Cheval d'El Jadida : La Sorba du Moqaddem Abdelghani Benkheda remporte le GP SM le Roi Mohammed VI de Tbourida", 'source': 'www.libe.ma', 'link': 'https://www.libe.ma/Salon-du-Cheval-d-El-Jadida-La-Sorba-du-Moqaddem-Abdelghani-Benkheda-remporte-le-GP-SM-le-Roi-Mohammed-VI-de-Tbourida_a156498.html', 'summary': "Salon du Cheval d'El Jadida : La Sorba du Moqaddem Abdelghani Benkheda remporte le GP SM le Roi Mohammed VI de Tbourida.", 'size': 4}], 'main_title': "Salon du Cheval d'El Jadida : La Sorba du Moqaddem Abdelghani Benkheda remporte le GP SM le Roi Mohammed VI de Tbourida"}, {'community_id': '9', 'articles': [{'id': '44', 'title': 'Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Inauguration-d-une-nouvelle-ligne-aerienne-reliant-Essaouira-a-Seville_a72496.html', 'summary': 'Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville. \u200bUn avion de la compagnie aérienne espagnole “Vueling” a atterri, samedi à l’aéroport international Essaouira-Mogador, marquant l’inauguration officielle d’une nouvelle ligne aérienne reliant Séville en Espagne à la Cité des Alizés.', 'size': 4}, {'id': '56', 'title': 'Vueling inaugure la ligne aérienne Séville-Essaouira', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/vueling-inaugure-la-ligne-aerienne-seville-essaouira-310971/', 'summary': 'Vueling inaugure la ligne aérienne Séville-Essaouira. Un avion de la compagnie aérienne espagnole Vueling a atterri, samedi à l’aéroport international Essaouira-Mogador, marquant l’inauguration officielle d’une nouvelle ligne aérienne reliant Séville en Espagne à la', 'size': 4}, {'id': '57', 'title': 'Essaouira - Séville : une nouvelle ligne aérienne pour dynamiser le tourisme', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178048/essaouira-seville-nouvelle-ligne-aerienne-pour.html', 'summary': 'Essaouira - Séville : une nouvelle ligne aérienne pour dynamiser le tourisme. La compagnie aérienne espagnole Vueling a inauguré, samedi, une nouvelle ligne reliant Séville à l’aéroport international Essaouira-Mogador, marquant une étape supplémentaire dans le renforcement de la connectivité aérienne de la Cité des Alizés. Désormais assurée chaque samedi, cette desserte hebdomadaire vient consolider la présence d’Essaouira sur la carte touristique européenne et renforcer son attractivité auprès du marché andalou.', 'size': 4}, {'id': '92', 'title': 'Vueling inaugure une nouvelle ligne aérienne direct reliant Essaouira à Séville', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/vueling-inaugure-une-nouvelle-ligne-aerienne-direct-reliant-essaouira-a-seville/', 'summary': 'Vueling inaugure une nouvelle ligne aérienne direct reliant Essaouira à Séville. Un avion de la compagnie aérienne espagnole “Vueling” a atterri, samedi à l’aéroport international Essaouira-Mogador, marquant l’inauguration officielle d’une nouvelle ligne aérienne reliant Séville en Espagne à la Cité des Alizés. Cette nouvelle desserte, assurée à raison d’une fréquence hebdomadaire chaque samedi, vient renforcer la connectivité d’Essaouira et consolider son positionnement sur la carte touristique ', 'size': 4}], 'main_title': 'Inauguration d’une nouvelle ligne aérienne reliant Essaouira à Séville'}, {'community_id': '1', 'articles': [{'id': '49', 'title': 'El Guerguerat : Saisie de 53 kg et 630 grammes de cocaïne', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/El-Guerguerat-Saisie-de-53-kg-et-630-grammes-de-cocaine_a72487.html', 'summary': 'El Guerguerat : Saisie de 53 kg et 630 grammes de cocaïne. Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de source sécuritaire.', 'size': 3}, {'id': '64', 'title': 'El Guerguerat : Mise en échec d’une tentative de trafic international de drogues et saisie de 53,6 kg de cocaïne', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/el-guerguerat-mise-en-echec-dune-tentative-de-trafic-international-de-drogues-et-saisie-de-536-kg-de-cocaine', 'summary': 'El Guerguerat : Mise en échec d’une tentative de trafic international de drogues et saisie de 53,6 kg de cocaïne. Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de .', 'size': 3}, {'id': '91', 'title': 'El Guerguerat : mise en échec d’une tentative de trafic international de drogues et saisie de 53 kg de cocaïne (source sécuritaire)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/el-guerguerat-mise-en-echec-dune-tentative-de-trafic-international-de-drogues-et-saisie-de-53-kg-et-630-grammes-de-cocaine-source-securitaire.html', 'summary': 'El Guerguerat : mise en échec d’une tentative de trafic international de drogues et saisie de 53 kg de cocaïne (source sécuritaire). Une opération sécuritaire menée conjointement par les éléments de la Sûreté nationale et de la Douane au poste-frontière El Guerguerat, au sud de la ville de Dakhla, a permis, samedi soir, de mettre en échec une tentative de trafic international de drogues et de saisir 53 kilogrammes et 630 grammes de cocaïne, a-t-on indiqué de . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'El Guerguerat : Saisie de 53 kg et 630 grammes de cocaïne'}, {'community_id': '3', 'articles': [{'id': '51', 'title': 'GenZ : Le droit de rassemblement respecté durant les manifestations des deux deniers jours (CNDH)', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/GenZ-Le-droit-de-rassemblement-respecte-durant-les-manifestations-des-deux-deniers-jours-CNDH_a72485.html', 'summary': "GenZ : Le droit de rassemblement respecté durant les manifestations des deux deniers jours (CNDH). Le Conseil National des droits de l'Homme (CNDH) a poursuivi son observation des protestations qu'ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau régional qu'au niveau national.", 'size': 4}, {'id': '79', 'title': 'CNDH : Les manifestations se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/cndh-les-manifestations-se-sont-deroulees-sans-aucun-comportement-de-nature-a-transgresser-le-droit-au-rassemblement-pacifique/', 'summary': "CNDH : Les manifestations se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique. Le Conseil National des droits de l'Homme (CNDH) a poursuivi son observation des protestations qu'ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau régional qu'au niveau national.", 'size': 4}, {'id': '88', 'title': 'Les manifestations des deux derniers jours se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/les-manifestations-des-deux-derniers-jours-se-sont-deroulees-sans-aucun-comportement-de-nature-a-transgresser-le-droit-au-rassemblement-pacifique/', 'summary': 'Les manifestations des deux derniers jours se sont déroulées sans aucun comportement de nature à transgresser le droit au rassemblement pacifique. Le Conseil National des droits de l’Homme (CNDH) a poursuivi son observation des protestations qu’ont connues des villes du Maroc et a suivi avec intérêt les manifestations des deux derniers jours qui se sont déroulées dans une atmosphère pacifique sans enregistrer aucun comportement de nature à transgresser le droit au rassemblement pacifique tant au niveau .', 'size': 4}, {'id': '95', 'title': 'Le CNDH rapporte des manifestations pacifiques et un respect du droit de rassemblement', 'source': 'lnt.ma', 'link': 'https://lnt.ma/le-cndh-rapporte-des-manifestations-pacifiques-et-un-respect-du-droit-de-rassemblement/', 'summary': 'Le CNDH rapporte des manifestations pacifiques et un respect du droit de rassemblement. Le Conseil national des droits de l’Homme (CNDH) a indiqué avoir poursuivi l’observation des protestations organisées dans plusieurs villes du Royaume et affirme que les manifestations des deux derniers jours se sont déroulées dans une atmosphère pacifique, sans relever de comportements de nature à transgresser le droit au rassemblement pacifique, tant au niveau régional que . ', 'size': 4}], 'main_title': 'GenZ : Le droit de rassemblement respecté durant les manifestations des deux deniers jours (CNDH)'}, {'community_id': '0', 'articles': [{'id': '58', 'title': 'Mondial U20 : le Maroc s’incline face au Mexique (0-1) mais conserve la tête du groupe C', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178046/mondial-maroc-s-incline-face-mexique.html', 'summary': 'Mondial U20 : le Maroc s’incline face au Mexique (0-1) mais conserve la tête du groupe C. L’équipe nationale marocaine U20 s’est inclinée face au Mexique (0-1) samedi soir au stade Elias Figueroa Brander de Valparaiso, pour la troisième journée de la Coupe du monde des moins de 20 ans. Une défaite sans conséquence puisque les Lionceaux de l’Atlas terminent en tête du groupe C, devant le Mexique, l’Espagne et le Brésil.', 'size': 2}, {'id': '93', 'title': 'Mondial U20 : défaite sans conséquence du Maroc face au Mexique', 'source': 'lnt.ma', 'link': 'https://lnt.ma/mondial-u20-defaite-sans-consequence-du-maroc-face-au-mexique/', 'summary': 'Mondial U20 : défaite sans conséquence du Maroc face au Mexique. L’équipe nationale marocaine U20 s’est inclinée (0-1) face au Mexique, samedi au stade Elias Figueroa Brander, pour la 3e journée du groupe C de la Coupe du monde Chili-2025. Malgré ce revers, les Lionceaux de l’Atlas bouclent la phase de groupes à la première place avec 6 points, devant le Mexique (5 pts), l’Espagne (4 . ', 'size': 2}], 'main_title': 'Mondial U20 : le Maroc s’incline face au Mexique (0-1) mais conserve la tête du groupe C'}, {'community_id': '6', 'articles': [{'id': '89', 'title': 'Province de Sidi Kacem : Neuf morts dans un accident de la route', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/province-de-sidi-kacem-neuf-morts-dans-un-accident-de-la-route/', 'summary': 'Province de Sidi Kacem : Neuf morts dans un accident de la route. Neuf personnes ont trouvé la mort et 6 autres ont été grièvement blessées dans un accident de la route survenu, samedi, au niveau de la route provinciale N 4042 près de Douar Taâouniat El Haouch Ouahed, commune de Chbanate, caïdat de Zirara relevant de la province de Sidi Kacem. Le drame s’est produit à 18H .', 'size': 2}, {'id': '94', 'title': 'Province de Sidi Kacem : neuf morts et six blessés graves dans une collision sur la RP 4042', 'source': 'lnt.ma', 'link': 'https://lnt.ma/province-de-sidi-kacem-neuf-morts-et-six-blesses-graves-dans-une-collision-sur-la-rp-4042/', 'summary': 'Province de Sidi Kacem : neuf morts et six blessés graves dans une collision sur la RP 4042. Neuf personnes ont perdu la vie et six autres ont été grièvement blessées, samedi vers 18h00, lors d’un accident de la route survenu au niveau de la route provinciale n°4042, à proximité de Douar Taâouniat El Haouch Ouahed, commune de Chbanate, caïdat de Zirara (province de Sidi Kacem), ont indiqué les autorités locales. Selon la . ', 'size': 2}], 'main_title': 'Province de Sidi Kacem : Neuf morts dans un accident de la route'}, {'community_id': '7', 'articles': [{'id': '104', 'title': 'La franco-marocaine Naima Moutchou au gouvernement de Lecornu', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/444055-la-franco-marocaine-naima-moutchou-au-gouvernement-de-lecornu.html', 'summary': 'La franco-marocaine Naima Moutchou au gouvernement de Lecornu. La députée franco-marocaine Naima Moutchou, qui était vice-présidente de l’Assemblée nationale, a été nommée, dimanche, ministre de la Transformation et de la Fonction publique, de l’Intelligence artificielle et du numérique dans le nouveau gouvernement dirigé par Sébastien Lecornu. Née au Val d’Oise, au nord de Paris de parents originaires de Ouarzazate, Mme Moutchou était également . ', 'size': 3}, {'id': '127', 'title': 'France : Naima Moutchou et Rachida Dati au gouvernement de Lecornu', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/178062/france-naima-moutchou-rachida-dati.html', 'summary': 'France : Naima Moutchou et Rachida Dati au gouvernement de Lecornu. La députée franco-marocaine Naima Moutchou, qui était vice-présidente de l’Assemblée nationale, a été nommée, dimanche, ministre de la Transformation et de la fonction publique, de l’Intelligence artificielle et du numérique dans le nouveau gouvernement dirigé par Sébastien Lecornu.', 'size': 3}, {'id': '133', 'title': 'Naima Moutchou, une voix franco-marocaine au cœur du gouvernement Lecornu', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/naima-moutchou-une-voix-franco-marocaine-au-coeur-du-gouvernement-lecornu/', 'summary': 'Naima Moutchou, une voix franco-marocaine au cœur du gouvernement Lecornu. La députée franco-marocaine Naima Moutchou fait son entrée au gouvernement français. Dimanche, elle a été nommée ministre de la Transformation et de la Fonction publique, de l’Intelligence artificielle et du Numérique au sein de l’équipe dirigée par Sébastien Lecornu, marquant ainsi la continuité d’une trajectoire politique ascendante entamée il y a près d’une décennie. Née .', 'size': 3}], 'main_title': 'La franco-marocaine Naima Moutchou au gouvernement de Lecornu'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
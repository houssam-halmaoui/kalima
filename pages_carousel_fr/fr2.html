<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 08/07/2025 - 06h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Mercato: Nayef Aguerd, cible prioritaire de l'Olympique de Marseille", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/432233-mercato-nayef-aguerd-cible-prioritaire-de-lolympique-de-marseille.html', 'summary': "Mercato: Nayef Aguerd, cible prioritaire de l'Olympique de Marseille. Nayef Aguerd est « la cible prioritaire » de l’Olympique de Marseille (OM) en défense centrale durant ce mercato estival, rapporte, lundi, la presse française. Selon « L’Équipe », le défenseur marocain de West Ham est « le choix numéro un » de Mehdi Benatia, directeur du football de l’OM, et de son entraîneur Roberto De Zerbi pour ce poste. L’international . ", 'size': 2}, {'id': '74', 'title': "Foot : Nayef Aguerd, cible prioritaire de l'Olympique de Marseille", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/07/foot-nayef-aguerd-cible-prioritaire-de-lolympique-de-marseille_1941315/', 'summary': "Foot : Nayef Aguerd, cible prioritaire de l'Olympique de Marseille. Nayef Aguerd est « la cible prioritaire » de l’Olympique de Marseille (OM) en défense centrale durant ce mercato estival, rapporte, lundi, la presse française. Selon L’Équipe, le défenseur marocain de West Ham est « le choix numéro un » de Medhi Benatia, directeur du football de l’OM, et de son entraîneur Roberto De Zerbi pour ce poste. L’international.", 'size': 2}], 'main_title': "Mercato: Nayef Aguerd, cible prioritaire de l'Olympique de Marseille"}, {'community_id': '1', 'articles': [{'id': '13', 'title': 'La protection des animaux errants au menu du Conseil de gouvernement', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/la-protection-des-animaux-errants-au-menu-du-conseil-de-gouvernement/289754', 'summary': 'La protection des animaux errants au menu du Conseil de gouvernement. Au début de ses travaux, le Conseil de gouvernement examinera trois projets de loi, dont le premier porte modification de la loi relative à l’état civil, le deuxième concerne la pr.', 'size': 2}, {'id': '119', 'title': 'Trois projets de loi au menu du Conseil de gouvernement de jeudi', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/trois-projets-de-loi-au-menu-du-conseil-de-gouvernement-de-jeudi', 'summary': 'Trois projets de loi au menu du Conseil de gouvernement de jeudi. Un Conseil de gouvernement se tiendra jeudi sous la présidence du Chef du gouvernement Aziz Akhannouch, indique un communiqué de son Département. Au début de ses travaux, le Conseil examinera trois projets de loi, dont le premier porte modification de la loi relative à l’état civil, le deuxième concerne la protection des animaux errants et .', 'size': 3}, {'id': '224', 'title': 'Les animaux errants au menu du prochain Conseil du Gouvernement', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Les-animaux-errants-au-menu-du-prochain-Conseil-du-Gouvernement_a69575.html', 'summary': 'Les animaux errants au menu du prochain Conseil du Gouvernement. Un Conseil de gouvernement se tiendra jeudi sous la présidence du Chef du gouvernement Aziz Akhannouch, indique un communiqué de son Département.', 'size': 2}], 'main_title': 'Trois projets de loi au menu du Conseil de gouvernement de jeudi'}, {'community_id': '2', 'articles': [{'id': '23', 'title': 'Tennis : Reda Bennani sacré champion du tournoi international WTT M15', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/tennis-reda-bennani-sacre-champion-du-tournoi-international-wtt-m15/289708', 'summary': 'Tennis : Reda Bennani sacré champion du tournoi international WTT M15. Dans une finale 100% marocaine, Reda Bennani a dû recourir à un jeu décisif pour arracher le premier set, avant de conclure la rencontre dans la seconde manche, plus maîtrisée.**re.', 'size': 2}, {'id': '81', 'title': 'Tennis : le Marocain Reda Bennani sacré champion du tournoi international WTT M15 à Tanger', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/07/tennis-le-marocain-reda-bennani-sacre-champion-du-tournoi-international-wtt-m15-a-tanger_1941177/', 'summary': 'Tennis : le Marocain Reda Bennani sacré champion du tournoi international WTT M15 à Tanger. Le Marocain Reda Bennani a remporté, dimanche, le tournoi international WTT M15, disputé sur les courts du Tennis Club Municipal de Tanger (TCMT), en s’imposant en finale face à son compatriote Yassine Dlimi, sur le score de 7-6, 6-4. Dans une finale 100% marocaine, Reda Bennani a dû recourir à un jeu décisif pour arracher.', 'size': 2}], 'main_title': 'Tennis : Reda Bennani sacré champion du tournoi international WTT M15'}, {'community_id': '3', 'articles': [{'id': '29', 'title': 'Aéroport Mohammed V-Casablanca : début des travaux de terrassements pour le nouveau terminal', 'source': 'lematin.ma', 'link': 'https://lematin.ma/regions/aeroport-mohammed-v-debut-des-terrassements-pour-le-nouveau-terminal/289605', 'summary': 'Aéroport Mohammed V-Casablanca : début des travaux de terrassements pour le nouveau terminal. Le chantier du futur terminal de l’aéroport Mohammed V de Casablanca entre dans sa phase concrète. Les travaux de terrassement ont officiellement démarré, donnant le coup d’envoi à.', 'size': 5}, {'id': '60', 'title': 'Aéroport Mohammed V: Lancement des travaux de terrassement du futur terminal estimé à 15 MMDH', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Aeroport-Mohammed-V-Lancement-des-travaux-de-terrassement-du-futur-terminal-estime-a-15-MMDH_a69553.html', 'summary': 'Aéroport Mohammed V: Lancement des travaux de terrassement du futur terminal estimé à 15 MMDH. \u200bL’Office National des Aéroports (ONDA) annonce le lancement officiel des travaux de terrassement du chantier du nouveau terminal de l’aéroport Mohammed V de Casablanca, première phase concrète pour l’un des projets d’infrastructure les plus ambitieux du Maroc à l’horizon 2030.', 'size': 5}, {'id': '97', 'title': 'Aéroport Mohammed V : coup d’envoi des travaux du nouveau terminal', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/aeroport-mohammed-v-coup-denvoi-des-travaux-du-nouveau-terminal-306220/', 'summary': 'Aéroport Mohammed V : coup d’envoi des travaux du nouveau terminal. L’Office National des Aéroports (ONDA) annonce le lancement officiel des travaux de terrassement du chantier du nouveau terminal de l’aéroport Mohammed V de Casablanca, première phase concrète pour l’un des projets d’infrastructure les plus ambitieux du Maroc à l’horizon 2030. Avec un investissement global estimé à 15 milliards de dirhams,', 'size': 5}, {'id': '103', 'title': 'Aéroport Mohammed V : Coup d’envoi des travaux du nouveau terminal (ONDA)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171063/aeroport-mohammed-coup-d-envoi-travaux.html', 'summary': 'Aéroport Mohammed V : Coup d’envoi des travaux du nouveau terminal (ONDA). LOffice national des aéroports (ONDA) annonce le lancement officiel des travaux de terrassement du chantier du nouveau terminal de laéroport Mohammed V de Casablanca, première phase concrète pour l’un des projets d’infrastructure les plus ambitieux du Maroc à l’horizon 2030.', 'size': 5}, {'id': '190', 'title': 'Lancement des travaux du nouveau terminal de l’Aéroport Mohammed V de Casablanca', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/lancement-des-travaux-du-nouveau-terminal-de-laeroport-mohammed-v-de-casablanca/', 'summary': 'Lancement des travaux du nouveau terminal de l’Aéroport Mohammed V de Casablanca. L’Office National des Aéroports (ONDA) annonce le lancement officiel des travaux de terrassement du chantier du nouveau terminal de l’aéroport Mohammed V de Casablanca, première phase concrète pour l’un des projets d’infrastructure les plus ambitieux du Maroc à l’horizon 2030. Avec un investissement global estimé à 15 milliards de dirhams, ce nouveau terminal, conçu pour ', 'size': 5}], 'main_title': 'Aéroport Mohammed V-Casablanca : début des travaux de terrassements pour le nouveau terminal'}, {'community_id': '4', 'articles': [{'id': '31', 'title': 'M2T lance son offre « Chaabi Payment »', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/la-banque-populaire-accelere-la-digitalisation-des-paiements/289627', 'summary': 'M2T lance son offre « Chaabi Payment ». Destinée aux professionnels de tous horizons (commerçants de proximité, artisans, professions libérales, TPE, PME et grandes entreprises), l’offre « Chaabi Payment » permet l’accep.', 'size': 2}, {'id': '140', 'title': 'Paiement multicanal : M2T lance son offre «Chaabi Payment»', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/argent/paiement-multicanal-m2t-lance-son-offre-chaabi-payment/', 'summary': 'Paiement multicanal : M2T lance son offre «Chaabi Payment». Destinée aux professionnels (commerçants de proximité, artisans, professions libérales, TPE, PME et grandes entreprises), l’offre permet l’acceptation des paiements par carte ou via mobile, que ce soit sur un terminal de paiement électronique (TPE) ou en ligne.', 'size': 2}], 'main_title': 'M2T lance son offre « Chaabi Payment »'}, {'community_id': '5', 'articles': [{'id': '34', 'title': 'Etats-Unis : Entrée en vigueur le 1er août des nouveaux tarifs douaniers', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/etats-unis-entree-en-vigueur-le-1er-aout-des-nouveaux-tarifs-douaniers/289598', 'summary': 'Etats-Unis : Entrée en vigueur le 1er août des nouveaux tarifs douaniers. Le président Trump va envoyer des lettres à certains de nos partenaires commerciaux pour leur dire que si vous ne faites pas avancer les choses alors ils retourneront, le 1er.', 'size': 3}, {'id': '88', 'title': 'États-Unis : entrée en vigueur des nouveaux tarifs douaniers le 1er août', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/07/etats-unis-entree-en-vigueur-des-nouveaux-tarifs-douaniers-le-1er-aout_1941175/', 'summary': 'États-Unis : entrée en vigueur des nouveaux tarifs douaniers le 1er août. Annoncés en avril dernier avant d’être suspendus, le secrétaire américain au Trésor a annoncé que les nouveaux tarifs douaniers — pouvant atteindre 50 % — entreront finalement en vigueur le 1er août. Les droits de douane annoncés en avril avant d’être suspendus entreront en vigueur le 1er août en l’absence d’accords commerciaux avec les Etats-Unis, a.', 'size': 3}, {'id': '186', 'title': 'USA : entrée en vigueur le 1er août des nouveaux tarifs douaniers', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/usa-entree-en-vigueur-le-1er-aout-des-nouveaux-tarifs-douaniers.html', 'summary': 'USA : entrée en vigueur le 1er août des nouveaux tarifs douaniers. Les droits de douane annoncés en avril avant d’être suspendus entreront en vigueur le 1er août en l’absence d’accords commerciaux avec les Etats-Unis, a indiqué dimanche le secrétaire américain au Trésor, Scott Bessent. « Le président Trump va envoyer des lettres à certains de nos partenaires commerciaux pour leur dire que si vous ne faites pas . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Etats-Unis : Entrée en vigueur le 1er août des nouveaux tarifs douaniers'}, {'community_id': '6', 'articles': [{'id': '57', 'title': 'Rabat accueille le 5ᵉ Forum Mondial de Sociologie sous le Haut Patronage Royal', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Rabat-accueille-le-5ᵉ-Forum-Mondial-de-Sociologie-sous-le-Haut-Patronage-Royal_a69556.html', 'summary': 'Rabat accueille le 5ᵉ Forum Mondial de Sociologie sous le Haut Patronage Royal. Sous le Haut Patronage de Sa Majesté le Roi Mohammed VI, l’Université Mohammed V de Rabat accueille, du 6 au 11 juillet 2025, la 5ᵉ édition du Forum Mondial de Sociologie. Organisé pour la première fois en terre africaine et arabe, cet événement réunit plus de 5 000 chercheurs venus de plus de 100 pays autour du thème : "Connaître la justice à l’ère de l’Anthropocène". Un rendez-vous scientifique mondial d’exception, marquant le rayonnement du Maroc en tant que plateforme de dialogue académique et de coopération Sud-Nord.', 'size': 2}, {'id': '115', 'title': 'Le 5e Forum mondial de sociologie s’ouvre au Maroc', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171011/forum-mondial-sociologie-s-ouvre-maroc.html', 'summary': 'Le 5e Forum mondial de sociologie s’ouvre au Maroc. Le cinquième Forum mondial de sociologie a ouvert ses travaux, dimanche à Rabat, sous le thème «Connaître la justice à l’ère de l’Anthropocène», avec la participation de quelque 5 000 chercheurs représentant plus de 100 pays.', 'size': 2}, {'id': '188', 'title': 'Rabat : ouverture du 5e Forum mondial de sociologie avec la participation d’une centaine de pays', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/rabat-ouverture-du-5e-forum-mondial-de-sociologie-avec-la-participation-dune-centaine-de-pays.html', 'summary': 'Rabat : ouverture du 5e Forum mondial de sociologie avec la participation d’une centaine de pays. Le 5ème Forum mondial de sociologie, placé sous le Haut Patronage du Roi Mohammed VI, a ouvert ses travaux, dimanche à Rabat, sous le thème "Connaître la justice à l’ère de l’Anthropocène", avec la participation de quelque 5.000 chercheurs représentant plus de 100 pays. L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Rabat : ouverture du 5e Forum mondial de sociologie avec la participation d’une centaine de pays'}, {'community_id': '7', 'articles': [{'id': '72', 'title': 'Propriété intellectuelle : un accord pour la protection juridique du patrimoine culturel marocain', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/07/propriete-intellectuelle-un-accord-pour-la-protection-juridique-du-patrimoine-culturel-marocain_1941312/', 'summary': 'Propriété intellectuelle : un accord pour la protection juridique du patrimoine culturel marocain. Le Maroc franchit une étape historique dans la protection de son patrimoine culturel en signant un accord de coopération avec l’Organisation mondiale de la propriété intellectuelle (OMPI). Le ministre de la Jeunesse, de la Culture et de la Communication, Mohammed Mehdi Bensaid, a signé, lundi à Genève, un protocole d’accord avec le directeur général de.', 'size': 3}, {'id': '92', 'title': 'Signature à Genève d’un protocole d’accord entre le Maroc et l’OMPI pour la protection juridique du patrimoine culturel marocain', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/signature-a-geneve-dun-protocole-daccord-entre-le-maroc-et-lompi-pour-la-protection-juridique-du-patrimoine-culturel-marocain-306245/', 'summary': 'Signature à Genève d’un protocole d’accord entre le Maroc et l’OMPI pour la protection juridique du patrimoine culturel marocain. Le ministre de la Jeunesse, de la Culture et de la Communication, M. Mohammed Mehdi Bensaid, a signé, lundi à Genève, un protocole d’accord avec le Directeur général de l’Organisation Mondiale de la Propriété Intellectuelle (OMPI), M. Daren Tang. Cet accord vise à renforcer la coopération bilatérale dans le domaine', 'size': 3}, {'id': '261', 'title': 'Le Maroc et l’OMPI signent un accord pour la protection juridique du patrimoine culturel marocain', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/le-maroc-et-lompi-signent-un-accord-pour-la-protection-juridique-du-patrimoine-culturel-marocain/', 'summary': 'Le Maroc et l’OMPI signent un accord pour la protection juridique du patrimoine culturel marocain. Le ministre de la Jeunesse, de la Culture et de la Communication, M. Mohammed Mehdi Bensaid, a signé, lundi à Genève, un protocole d’accord avec le Directeur général de l’Organisation Mondiale de la Propriété Intellectuelle (OMPI), M. Daren Tang. Cet accord vise à renforcer la coopération bilatérale dans le domaine de la propriété intellectuelle, notamment ', 'size': 3}], 'main_title': 'Propriété intellectuelle : un accord pour la protection juridique du patrimoine culturel marocain'}, {'community_id': '8', 'articles': [{'id': '80', 'title': "Une députée dénonce l'exportation d'avocats marocains vers le Canada en pleine crise hydrique", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/07/une-deputee-denonce-lexportation-davocats-marocains-vers-le-canada-en-pleine-crise-hydrique_1941188/', 'summary': "Une députée dénonce l'exportation d'avocats marocains vers le Canada en pleine crise hydrique. Alors que le Maroc traverse une crise hydrique sans précédent, la députée Fatima Tamni interpelle le ministre de l’Agriculture sur l’exportation record d’avocats vers le Canada. Ces exportations représentent l’équivalent de plus d’un milliard de litres d’eau transférés vers l’un des pays les plus riches en ressources hydriques au monde. La députée Fatima Tamni, représentante.", 'size': 2}, {'id': '110', 'title': 'Exportation d’avocats vers le Canada : Une députée interpelle le gouvernement en pleine crise de l’eau', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171024/exportation-d-avocats-vers-canada-deputee.html', 'summary': 'Exportation d’avocats vers le Canada : Une députée interpelle le gouvernement en pleine crise de l’eau. La députée de la Fédération de la gauche démocratique (FGD), Fatima Zohra Tamni, a adressé une question écrite au ministre de l’Agriculture, de la pêche, du développement rural, de l’eau et des forêts au sujet des exportations continues d’avocats vers le Canada, malgré la grave sécheresse que traverse le Maroc.', 'size': 2}], 'main_title': "Une députée dénonce l'exportation d'avocats marocains vers le Canada en pleine crise hydrique"}, {'community_id': '9', 'articles': [{'id': '94', 'title': 'Bank of Africa UK doublement primée aux Business Chamber Awards', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/bank-of-africa-uk-doublement-primee-aux-business-chamber-awards-306236/', 'summary': 'Bank of Africa UK doublement primée aux Business Chamber Awards. Bank of Africa UK a été distinguée par deux prix prestigieux lors de la cérémonie des Business Chamber Awards, organisée récemment à Londres, indique la banque mère à Casablanca. La cérémonie s’est tenue en présence de plusieurs ambassadeurs africains, de hauts responsables britanniques, de maires d’origine africaine ainsi que de', 'size': 3}, {'id': '153', 'title': 'Bank Of Africa UK doublement primée aux Business Chamber Awards à Londres', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/bank-of-africa-uk-doublement-primee-aux-business-chamber-awards-a-londres/', 'summary': 'Bank Of Africa UK doublement primée aux Business Chamber Awards à Londres. Lors de la prestigieuse cérémonie des Business Chamber Awards, tenue le 3 juillet 2025 à l’hôtel Millennium à Londres, BANK OF AFRICA UK s’est illustrée en recevant deux distinctions majeures, en présence de plusieurs ambassadeurs africains, de hauts responsables britanniques, de maires d’origine africaine ainsi que de figures influentes du monde des affaires et de .', 'size': 3}, {'id': '163', 'title': 'BANK OF AFRICA UK doublement primée aux Business Chamber Awards à Londres', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/bank-of-africa-uk-doublement-primee-aux-business-chamber-awards-a-londres.html', 'summary': 'BANK OF AFRICA UK doublement primée aux Business Chamber Awards à Londres. Lors de la prestigieuse cérémonie des Business Chamber Awards, tenue le 3 juillet 2025 à l’hôtel Millennium à Londres, BANK OF AFRICA UK s’est illustrée en recevant deux distinctions majeures, en présence de plusieurs ambassadeurs africains, de hauts responsables britanniques, de maires d’origine africaine ainsi que de figures influentes du monde des affaires et de la culture africaine. ', 'size': 3}], 'main_title': 'Bank of Africa UK doublement primée aux Business Chamber Awards'}, {'community_id': '10', 'articles': [{'id': '101', 'title': 'Les prévisions du lundi 7 juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-lundi-7-juillet-306203/', 'summary': 'Les prévisions du lundi 7 juillet. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 7 juillet 2025 : – Temps assez chaud sur le Sud-Est, l’Est des provinces sahariennes, l’Oriental, le Sud du Rif et les plaines à l’Ouest du Haut Atlas. – Nuages bas assez nombreux avec bruines', 'size': 3}, {'id': '155', 'title': 'Prévisions météorologiques pour mardi 8 juillet 2025', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/previsions-meteorologiques-pour-mardi-8-juillet-2025/', 'summary': 'Prévisions météorologiques pour mardi 8 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour mardi 8 juillet 2025 : – Temps assez chaud à chaud sur les plaines de Tadla, Rhamna, l’Oriental, le Sud-Est et l’Est des Provinces Sahariennes. – Nuages bas assez nombreux avec bruines possibles sur le Nord-Ouest des provinces Sud. – Formations brumeuses .', 'size': 3}, {'id': '199', 'title': "Le temps qu'il fera ce mardi 8 juillet 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/430420-le-temps-quil-fera-ce-mardi-8-juillet-2025.html', 'summary': "Le temps qu'il fera ce mardi 8 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le mardi 8 juillet 2025 – Temps assez chaud à chaud sur les plaines de Tadla, Rhamna, l’Oriental, le Sud-Est et l’Est des Provinces Sahariennes. – Nuages bas assez nombreux avec bruines possibles sur le Nord-Ouest des provinces Sud. – Formations brumeuses . ", 'size': 3}], 'main_title': 'Les prévisions du lundi 7 juillet'}, {'community_id': '11', 'articles': [{'id': '121', 'title': 'Renforcement des relations sino-arabes : L’ Université Tsinghua en Chine lance sa première bourse aux étudiants arabes', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/societe/renforcement-des-relations-sino-arabes-l-universite-tsinghua-en-chine-lance-sa-premiere-bourse-aux-etudiants-arabes', 'summary': 'Renforcement des relations sino-arabes : L’ Université Tsinghua en Chine lance sa première bourse aux étudiants arabes. Ce programme financera chaque année, pendant : cinq ans, jusqu’à 15 étudiants suivant un cursus de premier ou deuxième cycle à l’Université Tsinghua en Chine. Programme : Le programme de bourses Hazem Ben-Gacem destiné aux étudiants arabes débutera lors de l’année universitaire 2025-2026 . Cette bourse renforce les liens entre les États arabes et la .', 'size': 2}, {'id': '194', 'title': 'Une première bourse destinée aux étudiants arabes de l’université Tsinghua en Chine', 'source': 'lnt.ma', 'link': 'https://lnt.ma/une-premiere-bourse-destinee-aux-etudiants-arabes-de-luniversite-tsinghua-en-chine/', 'summary': 'Une première bourse destinée aux étudiants arabes de l’université Tsinghua en Chine. D’éminents ambassadeurs, dignitaires et responsables universitaires se sont réunis le jeudi 26 juin dernier, à l’université Tsinghua en Chine pour marquer le lancement officiel du programme de bourses Hazem Ben-Gacem destiné aux étudiants arabes, une initiative historique visant à faire bénéficier à des étudiants des pays de la Ligue Arabe d’un enseignement mondialement reconnu, tout . ', 'size': 2}], 'main_title': 'Renforcement des relations sino-arabes : L’ Université Tsinghua en Chine lance sa première bourse aux étudiants arabes'}, {'community_id': '12', 'articles': [{'id': '158', 'title': 'Rozalla : “«Everybody’s Free» a pris son envol et, 34 ans plus tard, elle continue de vivre” :', 'source': 'leseco.ma', 'link': 'https://leseco.ma/culture/rozalla-everybodys-free-a-pris-son-envol-et-34-ans-plus-tard-elle-continue-de-vivre.html', 'summary': 'Rozalla : “«Everybody’s Free» a pris son envol et, 34 ans plus tard, elle continue de vivre” :. Au Vélodrome de Casablanca, le Nostalgia Lovers Festival a transformé le bitume en piste de danse intergénérationnelle. Du 3 au 6 juillet, les icônes des années 80, 90 et 2000 ont enflammé les cœurs et les corps dans une ambiance électrique. ', 'size': 2}, {'id': '192', 'title': 'Nostalgia Lovers Festival : trois nuits de folie au Go Vélodrome !', 'source': 'lnt.ma', 'link': 'https://lnt.ma/nostalgia-lovers-festival-trois-nuits-de-folie-au-go-velodrome/', 'summary': 'Nostalgia Lovers Festival : trois nuits de folie au Go Vélodrome !. Casablanca vient de vibrer au rythme du Nostalgia Lovers Festival, de retour pour une 2ᵉ édition inoubliable qui a tenu toutes ses promesses et bien plus encore. Du 3 au 5 juillet 2025, l’emblématique Go Vélodrome s’est transformé en temple vivant de la pop culture, attirant plus de 25 000 festivaliers venus célébrer la musique, . ', 'size': 2}], 'main_title': 'Rozalla : “«Everybody’s Free» a pris son envol et, 34 ans plus tard, elle continue de vivre” :'}, {'community_id': '13', 'articles': [{'id': '211', 'title': 'Réhabilitation de plus de 1.400 centres de santé de nouvelle génération pour plus de 6,4 milliards de dirhams', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/rehabilitation-de-plus-de-1400-centres-de-sante-de-nouvelle-generation/289801', 'summary': 'Réhabilitation de plus de 1.400 centres de santé de nouvelle génération pour plus de 6,4 milliards de dirhams. Intervenant à la séance plénière consacrée aux questions adressées au Chef du gouvernement sur la politique générale, axée sur «Le système national de santé, entre les réalisations.', 'size': 2}, {'id': '235', 'title': 'Le personnel de santé sera porté à plus de 90.000 d’ici à 2026, promet Akhannouch', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-personnel-de-sante-sera-porte-a-plus-de-90-000-dici-a-2026-promet-akhannouch-306268/', 'summary': 'Le personnel de santé sera porté à plus de 90.000 d’ici à 2026, promet Akhannouch. Le gouvernement œuvre à augmenter progressivement le nombre du personnel de santé à plus de 90.000 à l’horizon 2026, a affirmé le chef du gouvernement, Aziz Akhannouch, lors d’une séance de politique générale à la Chambre des représentants, lundi 7 juillet. Pour ce faire, l’exécutif a mis au point un', 'size': 3}, {'id': '244', 'title': 'Le gouvernement veille au renforcement de l’offre de soins et à la consolidation des infrastructures sanitaires', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-gouvernement-veille-au-renforcement-de-loffre-de-soins-et-a-la-consolidation-des-infrastructures-sanitaires', 'summary': 'Le gouvernement veille au renforcement de l’offre de soins et à la consolidation des infrastructures sanitaires. Le gouvernement veille au renforcement de l’offre de soins et à la consolidation des infrastructures sanitaires selon une vision ambitieuse, a affirmé, lundi à la Chambre de Représentants, le Chef du gouvernement, Aziz Akhannouch. Intervenant à la séance plénière consacrée aux questions adressées au Chef du gouvernement sur la politique générale et axée sur « Le .', 'size': 3}, {'id': '249', 'title': 'Personnel de la santé : Plus de 90.000 à l’horizon 2026', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/au-royaume/personnel-de-la-sante-plus-de-90-000-a-lhorizon-2026/', 'summary': 'Personnel de la santé : Plus de 90.000 à l’horizon 2026. Le gouvernement vise à augmenter graduellement le nombre du personnel de santé à plus de 90.000 à l’horizon 2026, a affirmé, lundi, le chef du gouvernement, Aziz Akhannouch.', 'size': 2}], 'main_title': 'Le personnel de santé sera porté à plus de 90.000 d’ici à 2026, promet Akhannouch'}, {'community_id': '14', 'articles': [{'id': '240', 'title': 'Maroc-Allemagne : Premier entretien entre Nasser Bourita et  Johann Wadephul', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/171074/maroc-allemagne-premier-entretien-entre-nasser.html', 'summary': 'Maroc-Allemagne : Premier entretien entre Nasser Bourita et Johann Wadephul. Le ministre des Affaires étrangères, Nasser Bourita, a échangé ce lundi 7 juillet par téléphone avec son nouvel homologue allemand, Johann David Wadephul, récemment nommé le 6 mai. «Cet entretien inaugural a permis de souligner lexcellence des relations entre le Royaume du Maroc et la République Fédérale dAllemagne, tout en réaffirmant lengagement des deux nations à maintenir la dynamique positive de leur coopération bilatérale», indique la diplomatie marocaine dans un communiqué.', 'size': 2}, {'id': '247', 'title': 'Rabat et Berlin se projettent vers un partenariat stratégique tourné vers l’avenir', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/rabat-et-berlin-se-projettent-vers-un-partenariat-strategique-tourne-vers-lavenir/', 'summary': "Rabat et Berlin se projettent vers un partenariat stratégique tourné vers l’avenir. Dans un entretien téléphonique, le premier du genre du nouveau Chef de la diplomatie allemande, avec le ministre des Affaires étrangères, Naser Bourita, les deux parties ont salué l'excellence des relations bilatérales, tout en réaffirmant l'engagement des deux pays à poursuivre la dynamique positive qui caractérise leur relation bilatérale.", 'size': 2}, {'id': '255', 'title': 'Diplomatie : Le nouveau ministre allemand salue le partenariat maroco-allemand', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/diplomatie-le-nouveau-ministre-allemand-salue-le-partenariat-maroco-allemand/', 'summary': 'Diplomatie : Le nouveau ministre allemand salue le partenariat maroco-allemand. Le nouveau ministre allemand des Affaires étrangères, Johann David Wadephul, a salué, lundi, la collaboration étroite entre son pays et le Royaume du Maroc dans divers domaines tels que, l’économie, l’énergie et l’emploi. Dans un entretien téléphonique, le premier du genre du nouveau Chef de la diplomatie allemande, avec le ministre des Affaires étrangères, de .', 'size': 3}], 'main_title': 'Diplomatie : Le nouveau ministre allemand salue le partenariat maroco-allemand'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
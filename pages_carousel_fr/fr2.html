<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 13/06/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '4', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce vendredi 13 juin 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427964-le-temps-quil-fera-ce-vendredi-13-juin-2025.html', 'summary': "Le temps qu'il fera ce vendredi 13 juin 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 13 juin 2025 – Temps assez chaud sur le Sud de l’Oriental, le Sud-Est et sur le Sud et l’Est des provinces Sahariennes. – Nuages instables avec gouttes de pluies éparses et orages isolés sur l’Oriental. – Nuages bas fréquents . ", 'size': 2}, {'id': '240', 'title': 'Les prévisions du vendredi 13 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-vendredi-13-juin-304605/', 'summary': 'Les prévisions du vendredi 13 juin. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le vendredi 13 juin 2025 : – Temps assez chaud sur le Sud de l’Oriental, le Sud-Est et sur le Sud et l’Est des provinces Sahariennes. – Nuages instables avec gouttes de pluies éparses et orages isolés', 'size': 2}], 'main_title': "Le temps qu'il fera ce vendredi 13 juin 2025"}, {'community_id': '1', 'articles': [{'id': '8', 'title': 'Maroc : un déficit budgétaire de 22,9 MMDH à fin mai', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/428427-maroc-un-deficit-budgetaire-de-229-mmdh-a-fin-mai.html', 'summary': 'Maroc : un déficit budgétaire de 22,9 MMDH à fin mai. La situation des charges et ressources du Trésor dégage un déficit budgétaire de 22,9 milliards de dirhams (MMDH) à fin mai 2025, contre un déficit de 11,2 MMDH un an auparavant, selon la Trésorerie Générale du Royaume (TGR). Ce déficit tient compte d’un solde positif de 14,1 MMDH dégagé par les comptes spéciaux du Trésor . ', 'size': 3}, {'id': '77', 'title': 'Le Maroc enregistre un déficit budgétaire de 22,9 MMDH à fin mai', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/12/le-maroc-enregistre-un-deficit-budgetaire-de-229-mmdh-a-fin-mai_1937369/', 'summary': 'Le Maroc enregistre un déficit budgétaire de 22,9 MMDH à fin mai. La situation des charges et ressources du Trésor dégage un déficit budgétaire de 22,9 milliards de dirhams (MMDH) à fin mai 2025, contre un déficit de 11,2 MMDH un an auparavant, selon la Trésorerie Générale du Royaume (TGR). Ce déficit tient compte d’un solde positif de 14,1 MMDH dégagé par les comptes spéciaux du Trésor.', 'size': 3}, {'id': '99', 'title': 'Les recettes douanières s’apprécient de 6% à fin mai', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-recettes-douanieres-sapprecient-de-6-a-fin-mai-304563/', 'summary': 'Les recettes douanières s’apprécient de 6% à fin mai. Les recettes douanières nettes se sont établies à près de 39,1 milliards de dirhams (MMDH) à fin mai 2025, en hausse de 6,1% par rapport à la même période de l’année précédente, indique la Trésorerie Générale du Royaume (TGR). Ces recettes, qui proviennent des droits de douane, de la taxe', 'size': 3}], 'main_title': 'Maroc : un déficit budgétaire de 22,9 MMDH à fin mai'}, {'community_id': '14', 'articles': [{'id': '15', 'title': 'Universités à accès régulé : ce qui va changer pour les étudiants', 'source': 'lematin.ma', 'link': 'https://lematin.ma/enseignement/universites-a-acces-regule-ce-qui-va-changer-pour-les-etudiants/285099', 'summary': 'Universités à accès régulé : ce qui va changer pour les étudiants. Le Conseil de gouvernement a approuvé jeudi un projet de décret relatif à la vocation des établissements universitaires, les cycles des études supérieures et les diplômes nationaux.', 'size': 2}, {'id': '66', 'title': 'Le gouvernement approuve un décret sur l’organisation des universités et des diplômes', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Le-gouvernement-approuve-un-decret-sur-l-organisation-des-universites-et-des-diplomes_a68589.html', 'summary': 'Le gouvernement approuve un décret sur l’organisation des universités et des diplômes. Le Conseil de gouvernement approuve un projet de décret sur la vocation des établissements universitaires, les cycles des études supérieures et les diplômes nationaux correspondants.', 'size': 2}], 'main_title': 'Universités à accès régulé : ce qui va changer pour les étudiants'}, {'community_id': '3', 'articles': [{'id': '20', 'title': 'Le gouvernement s’allie à la BAD pour booster l’agriculture solidaire et inclusive', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/le-gouvernement-sallie-a-la-bad-pour-booster-lagriculture-solidaire/285084', 'summary': 'Le gouvernement s’allie à la BAD pour booster l’agriculture solidaire et inclusive. À la demande du ministère marocain de l’Agriculture, la Banque africaine de développement (BAD) prépare un appui financier et technique à un ambitieux projet visant à transformer.', 'size': 2}, {'id': '204', 'title': 'Revue de presse de ce vendredi 13 juin 2025', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/428564-revue-de-presse-de-ce-vendredi-13-juin-2025.html', 'summary': 'Revue de presse de ce vendredi 13 juin 2025. Voici les principaux titres développés par la presse nationale de ce vendredi 13 juin 2025 Le Matin Le gouvernement s’allie à la BAD pour booster l’agriculture solidaire et inclusive À la demande du ministère de l’Agriculture, la Banque africaine de développement (BAD) s’apprête à financer un nouveau Programme structurant destiné à transformer l’agriculture solidaire inclusive . ', 'size': 2}], 'main_title': 'Le gouvernement s’allie à la BAD pour booster l’agriculture solidaire et inclusive'}, {'community_id': '10', 'articles': [{'id': '24', 'title': "La rhétorique sélective et fallacieuse de l'Algérie sur le Sahara marocain mise à nu devant le C24 de l'ONU", 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/la-rhetorique-selective-de-lalgerie-sur-le-sahara-mise-a-nu-devant-le-c24/285071', 'summary': "La rhétorique sélective et fallacieuse de l'Algérie sur le Sahara marocain mise à nu devant le C24 de l'ONU. Faisant usage du droit de réponse lors de la session ordinaire de ce Comité qui se tient du 9 au 20 juin, Majda Moutchou a relevé que l'Algérie en ce faisant tente vainement de.", 'size': 2}, {'id': '61', 'title': "ONU: La rhétorique sélective et fallacieuse de l'Algérie sur le Sahara marocain mise à nu devant le C24", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/ONU-La-rhetorique-selective-et-fallacieuse-de-l-Algerie-sur-le-Sahara-marocain-mise-a-nu-devant-le-C24_a68595.html', 'summary': "ONU: La rhétorique sélective et fallacieuse de l'Algérie sur le Sahara marocain mise à nu devant le C24. La Représentante permanente adjointe du Maroc auprès de l’ONU, Majda Moutchou, a épinglé, devant le Comité des 24 de l’ONU (C24), la rhétorique sélective et fallacieuse à laquelle recourt l’Algérie pour masquer sa responsabilité historique et sans équivoque dans le différend régional autour du Sahara marocain.", 'size': 2}, {'id': '291', 'title': 'Devant l’ONU, le Maroc mis à nu la rhétorique sélective de l’Algérie sur le Sahara', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/devant-lonu-le-maroc-mis-a-nu-la-rhetorique-selective-de-lalgerie-sur-le-sahara.html', 'summary': 'Devant l’ONU, le Maroc mis à nu la rhétorique sélective de l’Algérie sur le Sahara. La Représentante permanente adjointe du Maroc auprès de l’ONU, Majda Moutchou, a épinglé, devant le Comité des 24 de l’ONU (C24), la rhétorique sélective et fallacieuse à laquelle recourt l’Algérie pour masquer sa responsabilité historique et sans équivoque dans le différend régional autour du Sahara marocain. Faisant usage du droit de réponse lors de la . L’article est apparu en premier sur .', 'size': 3}], 'main_title': 'Devant l’ONU, le Maroc mis à nu la rhétorique sélective de l’Algérie sur le Sahara'}, {'community_id': '16', 'articles': [{'id': '39', 'title': 'Crash d’un avion d’Air India après son départ vers Londres avec 242 personnes à bord', 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/crash-dun-avion-dair-india-apres-son-depart-vers-londres/284965', 'summary': 'Crash d’un avion d’Air India après son départ vers Londres avec 242 personnes à bord. Le vol AI 171, reliant Ahmedabad à Londres Gatwick, a été impliqué dans un accident le 12 juin 2025. Nous rassemblons actuellement les faits et communiquerons dès que possibl.', 'size': 2}, {'id': '87', 'title': "Inde : un avion d'Air India à destination de Londres s’écrase après son décollage", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/12/inde-un-avion-dair-india-a-destination-de-londres-secrase-apres-son-decollage_1937315/', 'summary': "Inde : un avion d'Air India à destination de Londres s’écrase après son décollage. Un avion de la compagnie Air India, opérant un vol au départ d’Ahmedabad (nord-ouest de l’Inde) vers Londres Gatwick, s’est écrasé jeudi peu après son décollage. Le vol AI 171, reliant Ahmedabad à Londres Gatwick, a été impliqué dans un accident le 12 juin 2025. Nous rassemblons actuellement les faits et communiquerons dès que possible »,.", 'size': 2}], 'main_title': 'Crash d’un avion d’Air India après son départ vers Londres avec 242 personnes à bord'}, {'community_id': '6', 'articles': [{'id': '41', 'title': 'Classement féminin FIFA : le Maroc se maintient au 60e rang mondial, 3e en Afrique', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/classement-feminin-fifa-le-maroc-se-maintient-au-60e-rang-mondial/284937', 'summary': 'Classement féminin FIFA : le Maroc se maintient au 60e rang mondial, 3e en Afrique. Avec une défaite contre le Cameroun (0-1) et une victoire face à la Tunisie (3-1), tous deux disputés en match amical, le Maroc termine le classement FIFA de juin avec 1419,63 poin.', 'size': 2}, {'id': '187', 'title': 'Classement féminin FIFA | Le Maroc se maintient au 60e rang mondial', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/classement-feminin-fifa-le-maroc-se-maintient-au-60e-rang-mondial/', 'summary': 'Classement féminin FIFA | Le Maroc se maintient au 60e rang mondial. La sélection nationale féminine de football s’est maintenue au 60e rang mondial du classement de la Fédération internationale de football (FIFA), publié jeudi, et reste installée à la troisième place au niveau africain. Avec une défaite contre le Cameroun (0-1) et une victoire face à la Tunisie (3-1), tous deux disputés en match amical, le ', 'size': 2}], 'main_title': 'Classement féminin FIFA : le Maroc se maintient au 60e rang mondial, 3e en Afrique'}, {'community_id': '7', 'articles': [{'id': '47', 'title': 'Festival du film arabe de Casablanca : 31 films en compétition', 'source': 'lematin.ma', 'link': 'https://lematin.ma/culture/festival-du-film-arabe-de-casablanca-31-films-en-competition/284910', 'summary': 'Festival du film arabe de Casablanca : 31 films en compétition. Un total de 12 films participeront à la compétition des longs-métrages de fiction et documentaires, tandis que la compétition des courts-métrages de fiction et documentaires porter.', 'size': 2}, {'id': '142', 'title': 'Festival du film arabe de Casablanca : 31 films en compétition lors de la 6ᵉ édition', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/influences/culture/festival-du-film-arabe-de-casablanca-31-films-en-competition-lors-de-la-6%e1%b5%89-edition/', 'summary': 'Festival du film arabe de Casablanca : 31 films en compétition lors de la 6ᵉ édition. Selon les organisateurs, le jury de la compétition des longs-métrages sera présidé par le réalisateur et producteur marocain Nabil Ayouch.', 'size': 2}], 'main_title': 'Festival du film arabe de Casablanca : 31 films en compétition'}, {'community_id': '5', 'articles': [{'id': '57', 'title': "Christian Cambon en visite au Maroc à la tête d'une délégation de sénateurs français", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Christian-Cambon-en-visite-au-Maroc-a-la-tete-d-une-delegation-de-senateurs-francais_a68601.html', 'summary': "Christian Cambon en visite au Maroc à la tête d'une délégation de sénateurs français. Le ministre des Affaires étrangères, de la Coopération africaine et des Marocains résidant à l'étranger, Nasser Bourita, s'est entretenu, jeudi à Rabat, avec le président du groupe d’amitié France-Maroc au Sénat, Christian Cambon, en visite de travail dans le Royaume à la tête d’une importante délégation.", 'size': 2}, {'id': '125', 'title': 'Diplomatie parlementaire: Bourita s’entretient avec le président du groupe d’amitié France-Maroc au Sénat', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/diplomatie-parlementaire-bourita-sentretientt-avec-le-president-du-groupe-damitie-france-maroc-au-senat/', 'summary': "Diplomatie parlementaire: Bourita s’entretient avec le président du groupe d’amitié France-Maroc au Sénat. Pour consolider cette relation privilégiée entre la France et le Maroc, M. Cambon a appelé à la réactivation du Forum interparlementaire maroco-français, dont la quatrième et dernière édition s'est tenue en décembre 2019 à Paris.", 'size': 2}, {'id': '227', 'title': "Le renforcement de la coopération parlementaire au menu d'entretiens maroco-français à Rabat", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/13/le-renforcement-de-la-cooperation-parlementaire-au-menu-dentretiens-maroco-francais-a-rabat_1937513/', 'summary': "Le renforcement de la coopération parlementaire au menu d'entretiens maroco-français à Rabat. Les entretiens entre le vice-président de la Chambre des conseillers, Yahfadouh Ben-M’barek, et le président du groupe d’amitié France-Maroc, Christian Cambon, jeudi à Rabat, ont été l’occasion de souligner la nécessité de renforcer la coopération bilatérale, particulièrement dans le domaine parlementaire. Lors cette entrevue, l’accent a été mis sur « la profondeur et la solidité des.", 'size': 2}, {'id': '246', 'title': 'Rabat : Nasser Bourita s’entretient avec le président du groupe d’amitié France-Maroc au Sénat', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/168868/rabat-nasser-bourita-s-entretient-avec.html', 'summary': 'Rabat : Nasser Bourita s’entretient avec le président du groupe d’amitié France-Maroc au Sénat. Le ministre des Affaires étrangères, de la coopération africaine et des Marocains résidant à l’étranger, Nasser Bourita, s’est entretenu, jeudi à Rabat, avec le président du groupe d’amitié France-Maroc au Sénat, Christian Cambon, en visite de travail dans le royaume à la tête d’une délégation.', 'size': 4}], 'main_title': 'Rabat : Nasser Bourita s’entretient avec le président du groupe d’amitié France-Maroc au Sénat'}, {'community_id': '9', 'articles': [{'id': '59', 'title': 'C24 : Le CCG réaffirme son soutien à la marocanité du Sahara', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/C24-Le-CCG-reaffirme-son-soutien-a-la-marocanite-du-Sahara_a68599.html', 'summary': "C24 : Le CCG réaffirme son soutien à la marocanité du Sahara. Les six pays du Conseil de coopération du Golfe (GCC) ont réitéré, dans une déclaration lors de la session ordinaire du Comité des 24 de l'ONU (C24) à New York, leurs positions constantes en soutien à la marocanité du Sahara et à l'intégrité territoriale du Royaume.", 'size': 3}, {'id': '93', 'title': 'Sahara marocain: les pays du Golfe confortent la dynamique internationale', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/sahara-marocain-les-pays-du-golfe-confortent-la-dynamique-internationale-304597/', 'summary': 'Sahara marocain: les pays du Golfe confortent la dynamique internationale. Devant le Comité des 24 de l’ONU (C24) à New York, le Conseil de coopération du Golfe (GCC) a réitéré ses positions constantes de soutien à la marocanité du Sahara et à la préservation de la sécurité, de la stabilité et de l’intégrité territoriale du Royaume. Cette position vient conforter', 'size': 3}, {'id': '130', 'title': 'C24: Le Conseil de coopération du Golfe réaffirme ses positions constantes en soutien à la marocanité du Sahara', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/pouvoirs/diplomatie/c24-le-conseil-de-cooperation-du-golfe-reaffirme-ses-positions-constantes-en-soutien-a-la-marocanite-du-sahara/', 'summary': 'C24: Le Conseil de coopération du Golfe réaffirme ses positions constantes en soutien à la marocanité du Sahara. Les Etats du CCG se sont félicités des efforts continus menés sous la supervision du Secrétaire général de l’ONU et son Envoyé personnel pour le Sahara marocain, appelant à reprendre le dialogue dans un esprit de sérieux, de réalisme et de respect mutuel sous l’égide des Nations Unies.', 'size': 3}], 'main_title': 'C24 : Le CCG réaffirme son soutien à la marocanité du Sahara'}, {'community_id': '21', 'articles': [{'id': '62', 'title': 'EEP : Lekjaa prône une gouvernance moteur de transformation', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/EEP-Lekjaa-prone-une-gouvernance-moteur-de-transformation_a68594.html', 'summary': 'EEP : Lekjaa prône une gouvernance moteur de transformation. Le Code des bonnes pratiques de gouvernance des établissements et entreprises publics (EEP) constitue un levier concret d’une transformation structurelle majeure au Maroc, consacrée par la loi-cadre n°50-21 relative à la réforme des EEP, a affirmé, jeudi à Rabat, le ministre délégué chargé du Budget, Fouzi Lekjaa.', 'size': 2}, {'id': '294', 'title': 'Lekjaa : un nouveau code pour moderniser la gouvernance des EEP', 'source': 'lnt.ma', 'link': 'https://lnt.ma/lekjaa-un-nouveau-code-pour-moderniser-la-gouvernance-des-eep/', 'summary': 'Lekjaa : un nouveau code pour moderniser la gouvernance des EEP. Le Code des bonnes pratiques de gouvernance des établissements et entreprises publics (EEP) constitue un levier concret d’une transformation structurelle majeure au Maroc, consacrée par la loi-cadre n°50-21 relative à la réforme des EEP, a affirmé, jeudi à Rabat, le ministre délégué chargé du Budget, Fouzi Lekjaa. Intervenant lors d’une journée d’étude autour du code . ', 'size': 2}], 'main_title': 'EEP : Lekjaa prône une gouvernance moteur de transformation'}, {'community_id': '12', 'articles': [{'id': '63', 'title': 'Gaza : 500 paniers alimentaires distribués par Bayt Mal Al-Qods', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Gaza-500-paniers-alimentaires-distribues-par-Bayt-Mal-Al-Qods_a68593.html', 'summary': 'Gaza : 500 paniers alimentaires distribués par Bayt Mal Al-Qods. Les équipes de secours de l’association Ertiqaa pour le développement communautaire à Gaza ont achevé, mercredi, la distribution de 500 paniers alimentaires au profit des familles les plus démunies dans plusieurs régions de la bande de Gaza, à l’initiative de l’Agence Bayt Mal Al-Qods Acharif, relevant du Comité Al-Qods présidé par Sa Majesté le Roi Mohammed VI.', 'size': 2}, {'id': '274', 'title': 'Bayt Mal Al-Qods : distribution de 500 paniers alimentaires aux familles les plus démunies à Gaza', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/bayt-mal-al-qods-distribution-de-500-paniers-alimentaires-aux-familles/', 'summary': 'Bayt Mal Al-Qods : distribution de 500 paniers alimentaires aux familles les plus démunies à Gaza. Les équipes de secours de l’association Ertiqaa pour le développement communautaire à Gaza ont achevé, mercredi, la distribution de 500 paniers alimentaires au profit des familles les plus démunies dans plusieurs régions de la bande de Gaza, à l’initiative de l’Agence Bayt Mal Al-Qods Acharif, relevant du Comité Al-Qods présidé par Sa Majesté le Roi .', 'size': 2}], 'main_title': 'Gaza : 500 paniers alimentaires distribués par Bayt Mal Al-Qods'}, {'community_id': '13', 'articles': [{'id': '64', 'title': 'Ministère de la Justice : les ingénieurs obtiennent les mêmes indemnités que celles accordées aux greffiers', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Ministere-de-la-Justice-les-ingenieurs-obtiennent-les-memes-indemnites-que-celles-accordees-aux-greffiers_a68592.html', 'summary': 'Ministère de la Justice : les ingénieurs obtiennent les mêmes indemnités que celles accordées aux greffiers. Le Conseil du gouvernement, réuni ce jeudi 12 juin 2025, a approuvé un projet de décret visant à améliorer la situation professionnelle et financière des ingénieurs et des architectes exerçant au sein du ministère de la Justice. Cette décision s’inscrit dans la continuité des efforts de modernisation de l’administration judiciaire et de valorisation de ses ressources humaines.', 'size': 2}, {'id': '229', 'title': 'Ouahbi annonce une nouvelle mesure pour valoriser les compétences des ingénieurs du ministère de la Justice', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/13/ouahbi-annonce-une-nouvelle-mesure-pour-valoriser-les-competences-des-ingenieurs-du-ministere-de-la-justice_1937516/', 'summary': 'Ouahbi annonce une nouvelle mesure pour valoriser les compétences des ingénieurs du ministère de la Justice. Le projet de décret visant à améliorer la situation professionnelle et financière des ingénieurs et architectes exerçant au sein du ministère de la Justice, adopté jeudi par le Conseil du gouvernement, s’inscrit dans la continuité des efforts de modernisation de l’administration judiciaire et de valorisation de ses ressources humaines. Ce décret, présenté par le ministre.', 'size': 2}], 'main_title': 'Ministère de la Justice : les ingénieurs obtiennent les mêmes indemnités que celles accordées aux greffiers'}, {'community_id': '18', 'articles': [{'id': '94', 'title': 'Le gouvernement\xa0valide des propositions de nomination de hauts fonctionnaires', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-gouvernement-valide-des-propositions-de-nomination-de-hauts-fonctionnaires-304593/', 'summary': 'Le gouvernement valide des propositions de nomination de hauts fonctionnaires. Le Conseil de gouvernement a approuvé, jeudi à Rabat, des propositions de nomination à des fonctions supérieures, conformément aux dispositions de l’article 92 de la Constitution. Ainsi, au niveau du ministère de l’Éducation nationale, du Préscolaire et des sports — Département de l’Éducation nationale et du Préscolaire, Mme Mounia Mouzouri', 'size': 2}, {'id': '109', 'title': 'Le Conseil de gouvernement approuve des propositions de nomination à des fonctions supérieures', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-conseil-de-gouvernement-approuve-des-propositions-de-nomination-a-des-fonctions-superieures-33', 'summary': 'Le Conseil de gouvernement approuve des propositions de nomination à des fonctions supérieures. Le Conseil de gouvernement a approuvé, jeudi à Rabat, des propositions de nomination à des fonctions supérieures, conformément aux dispositions de l’article 92 de la Constitution. Ainsi, au niveau du ministère de l’Éducation nationale, du Préscolaire et des sports — Département de l’Éducation nationale et du Préscolaire, Mme Mounia Mouzouri a été nommée directrice de .', 'size': 2}], 'main_title': 'Le gouvernement\xa0valide des propositions de nomination de hauts fonctionnaires'}, {'community_id': '20', 'articles': [{'id': '100', 'title': 'IA et publicité : LinkAI arrive au Maroc pour prédire l’impact des campagnes avant leur diffusion', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/ia-et-publicite-linkai-arrive-au-maroc-pour-predire-limpact-des-campagnes-avant-leur-diffusion-304520/', 'summary': 'IA et publicité : LinkAI arrive au Maroc pour prédire l’impact des campagnes avant leur diffusion. Le cabinet Integrate, partenaire exclusif de Kantar au Maroc, organise le 24 juin un événement dédié à la présentation de LinkAI, une solution d’analyse prédictive fondée sur l’intelligence artificielle. Cet outil promet d’aider les marques à anticiper l’efficacité de leurs publicités avant même leur mise en ligne. L’événement, qui prendra', 'size': 2}, {'id': '180', 'title': 'Publicité : Integrate lance LinkAI pour prédire l’impact avant diffusion', 'source': 'leseco.ma', 'link': 'https://leseco.ma/business/publicite-integrate-lance-linkai-pour-predire-limpact-avant-diffusion.html', 'summary': 'Publicité : Integrate lance LinkAI pour prédire l’impact avant diffusion. Integrate, affilié exclusif de Kantar au Maroc, annonce l’arrivée de LinkAI, une technologie d’analyse prédictive qui permet de tester l’impact d’une publicité avant sa diffusion. ', 'size': 2}], 'main_title': 'IA et publicité : LinkAI arrive au Maroc pour prédire l’impact des campagnes avant leur diffusion'}, {'community_id': '22', 'articles': [{'id': '149', 'title': 'Chine: La réunion des coordonnateurs du FOCAC adopte la Déclaration de Changsha', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/chine-la-reunion-des-coordonnateurs-du-focac-adopte-la-declaration-de-changsha/', 'summary': 'Chine: La réunion des coordonnateurs du FOCAC adopte la Déclaration de Changsha. La Chine et 53 États africains ont adopté mercredi la “Déclaration sino-africaine de Changsha sur la préservation de la solidarité et de la coopération du Sud global”, à l’issue d’une réunion ministérielle de haut niveau consacrée au suivi des recommandations du Forum sur la coopération sino-africaine (FOCAC). Cette déclaration vise à assurer la mise en .', 'size': 2}, {'id': '154', 'title': 'Coopération Chine-Afrique : à Changsha, Pékin réaffirme ses ambitions économiques et stratégiques', 'source': 'leseco.ma', 'link': 'https://leseco.ma/maroc/cooperation-chine-afrique-a-changsha-pekin-reaffirme-ses-ambitions-economiques-et-strategiques.html', 'summary': 'Coopération Chine-Afrique : à Changsha, Pékin réaffirme ses ambitions économiques et stratégiques. La réunion ministérielle de haut niveau du Forum sur la coopération sino-africaine (FOCAC) s’est ouverte mercredi 11 juin à Changsha, dans la province chinoise du Hunan. ', 'size': 2}], 'main_title': 'Chine: La réunion des coordonnateurs du FOCAC adopte la Déclaration de Changsha'}, {'community_id': '19', 'articles': [{'id': '189', 'title': 'Oppo accorde une licence de brevets au groupe Volkswagen pour la technologie 5G', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/oppo-accorde-une-licence-de-brevets-au-groupe-volkswagen-pour-la-technologie-5g/', 'summary': 'Oppo accorde une licence de brevets au groupe Volkswagen pour la technologie 5G. OPPO, acteur majeur des technologies intelligentes, a annoncé, jeudi, la signature d’un accord mondial de licence de brevets avec le groupe Volkswagen, permettant au constructeur automobile d’accéder à son portefeuille de brevets essentiels aux normes cellulaires, incluant la 5G. Cette collaboration vise à renforcer les fonctionnalités des véhicules connectés de Volkswagen à travers l’ensemble de ', 'size': 2}, {'id': '293', 'title': 'Accord de licence technologique entre OPPO et Volkswagen', 'source': 'lnt.ma', 'link': 'https://lnt.ma/accord-de-licence-technologique-entre-oppo-et-volkswagen/', 'summary': 'Accord de licence technologique entre OPPO et Volkswagen. OPPO annonce la signature d’un accord mondial de licence de brevets avec Volkswagen Aktiengesellschaft. Cet accord permet à Volkswagen d’accéder au portefeuille de brevets d’OPPO relatifs aux normes cellulaires, y compris la 5G. Il concerne l’intégration de ces technologies dans les véhicules connectés de Volkswagen à l’échelle internationale. « Nous sommes heureux d’initier cette collaboration . ', 'size': 2}], 'main_title': 'Oppo accorde une licence de brevets au groupe Volkswagen pour la technologie 5G'}, {'community_id': '15', 'articles': [{'id': '191', 'title': 'Visa annonce Lamine Yamal comme ambassadeur mondial pour le Mondial 2026', 'source': 'lnt.ma', 'link': 'https://lnt.ma/visa-annonce-lamine-yamal-comme-ambassadeur-mondial-pour-le-mondial-2026/', 'summary': 'Visa annonce Lamine Yamal comme ambassadeur mondial pour le Mondial 2026. À un an du coup d’envoi de la Coupe du Monde de la FIFA 2026, Visa a annoncé la signature d’un partenariat avec le jeune joueur de football Lamine Yamal, qui devient ainsi ambassadeur mondial de la marque pour la prochaine édition du tournoi. L’événement sportif se déroulera au Canada, au Mexique et aux États-Unis, . ', 'size': 2}, {'id': '276', 'title': 'Visa signe avec Lamine Yamal en tant qu’ambassadeur pour la Coupe du Monde\xa02026', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/visa-signe-avec-lamine-yamal-en-tant-quambassadeur-pour-la-coupe-du-monde-2026/', 'summary': 'Visa signe avec Lamine Yamal en tant qu’ambassadeur pour la Coupe du Monde 2026. À un an jour pour jour du coup d’envoi de la Coupe du Monde de la FIFA 26™, qui se tiendra au Canada, au Mexique et aux États-Unis, Visa— leader mondial des paiements numériques et partenaire historique du football mondial — dévoile son nouvel ambassadeur mondial pour le tournoi : le phénomène du football, Lamine .', 'size': 2}], 'main_title': 'Visa annonce Lamine Yamal comme ambassadeur mondial pour le Mondial 2026'}, {'community_id': '8', 'articles': [{'id': '193', 'title': 'Morocco Gaming Expo 2025: Rabat accueille la vitrine du jeu vidéo marocain', 'source': 'lnt.ma', 'link': 'https://lnt.ma/morocco-gaming-expo-2025-rabat-accueille-la-vitrine-du-jeu-video-marocain/', 'summary': 'Morocco Gaming Expo 2025: Rabat accueille la vitrine du jeu vidéo marocain. Le ministère de la Jeunesse, de la Culture et de la Communication a annoncé l’ouverture des inscriptions pour participer au « Morocco Gaming Expo 2025 », qui se tiendra du 2 au 6 juillet prochain à Rabat. Prévu au Palais des Sports du Complexe sportif Prince Moulay Abdellah, cet événement se présente comme un rendez-vous incontournable pour . ', 'size': 2}, {'id': '251', 'title': 'Morocco Gaming Expo 2025:  Les inscriptions sont ouvertes', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/culture/morocco-gaming-expo-2025-les-inscriptions-sont-ouvertes', 'summary': 'Morocco Gaming Expo 2025: Les inscriptions sont ouvertes. Le ministère de la jeunesse, de la culture et de la communication a annoncé l’ouverture des inscriptions pour participer au «Morocco Gaming Expo 2025», qui se tiendra du 2 au 6 juillet prochain à Rabat. Prévu au Palais des sports du Complexe sportif Prince Moulay Abdellah, cet événement se présente comme un rendez-vous incontournable pour .', 'size': 2}], 'main_title': 'Morocco Gaming Expo 2025: Rabat accueille la vitrine du jeu vidéo marocain'}, {'community_id': '0', 'articles': [{'id': '205', 'title': "Nucléaire: Israël frappe l'Iran qui riposte avec des tirs de drones", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/428550-nucleaire-israel-frappe-liran-qui-riposte-avec-des-tirs-de-drones.html', 'summary': "Nucléaire: Israël frappe l'Iran qui riposte avec des tirs de drones. Israël a mené vendredi une série de frappes aériennes contre l’Iran, disant viser une centaine de cibles dont des sites nucléaires, Téhéran ripostant en lançant des drones vers le territoire israélien. Cette attaque intervient alors qu’Israël et les pays occidentaux soupçonnent l’Iran de vouloir se doter de l’arme atomique, ce que dément Téhéran. Alors qu’un . ", 'size': 2}, {'id': '223', 'title': 'Iran : Israël lance une offensive avant les négociations nucléaires', 'source': 'telquel.ma', 'link': 'https://telquel.ma/2025/06/13/iran-israel-lance-une-offensive-avant-les-negociations-nucleaires_1937580', 'summary': 'Iran : Israël lance une offensive avant les négociations nucléaires. Dans la nuit du 12 au 13 juin, Israël a lancé une attaque aérienne massive contre des sites militaires et nucléaires en Iran, provoquant la mort de plusieurs hauts responsables. En réponse, l’Iran a déployé une centaine de drones vers Israël. À la veille de nouvelles négociations nucléaires, les tensions atteignent un point critique. Les.', 'size': 2}, {'id': '239', 'title': 'Israël bombarde l’Iran et tue de hauts responsables militaires', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/israel-bombarde-liran-et-tue-de-hauts-responsables-militaires-304609/', 'summary': 'Israël bombarde l’Iran et tue de hauts responsables militaires. Israël a mené vendredi des frappes contre l’Iran, soupçonné de vouloir se doter de l’arme atomique, visant un site d’enrichissement d’uranium et tuant de hauts responsables militaires de la République islamique qui a promis de riposter. Cette attaque intervient alors qu’un nouveau cycle de négociations entre les Etats-Unis et l’Iran', 'size': 3}], 'main_title': 'Israël bombarde l’Iran et tue de hauts responsables militaires'}, {'community_id': '17', 'articles': [{'id': '224', 'title': 'CAN féminine : quatre arbitres marocaines désignées', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/13/can-feminine-quatre-arbitres-marocaines-designees_1937524/', 'summary': 'CAN féminine : quatre arbitres marocaines désignées. Quatre arbitres marocaines ont été choisies par la Confédération africaine de football (CAF) pour officier lors de la phase finale de la Coupe d’Afrique des Nations féminine, qui se déroulera du 5 au 26 juillet prochain. Bouchra Karboubi, qui a officié lors de la CAN-2023 masculine en Côte d’Ivoire ainsi qu’aux Jeux Olympiques 2024 de.', 'size': 3}, {'id': '243', 'title': 'CAN 2024 féminine : Quatre arbitres marocaines désignées', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/168888/2024-feminine-quatre-arbitres-marocaines.html', 'summary': 'CAN 2024 féminine : Quatre arbitres marocaines désignées. Quatre arbitres marocaines ont été choisies par la Confédération africaine de football (CAF), pour officier lors de la phase finale de la Coupe d’Afrique des nations féminine (Maroc 2024), qui se déroulera du 5 au 26 juillet prochain.', 'size': 3}, {'id': '277', 'title': 'CAN féminine (Maroc-2024) : quatre arbitres marocaines désignées', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/can-feminine-maroc-2024-quatre-arbitres-marocaines-designees/', 'summary': 'CAN féminine (Maroc-2024) : quatre arbitres marocaines désignées. Quatre arbitres marocaines ont été choisies par la Confédération africaine de football (CAF), pour officier lors de la phase finale de la Coupe d’Afrique des Nations féminine (Maroc-2024), qui se déroulera du 5 au 26 juillet prochain. Bouchra Karboubi, qui a officié lors de la CAN-2023 masculine en Côte d’Ivoire ainsi qu’aux Jeux Olympiques 2024 .', 'size': 3}], 'main_title': 'CAN féminine : quatre arbitres marocaines désignées'}, {'community_id': '2', 'articles': [{'id': '226', 'title': 'Mondial des clubs : liste officielle du Wydad de Casablanca', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/13/mondial-des-clubs-liste-officielle-du-wydad-de-casablanca_1937531/', 'summary': 'Mondial des clubs : liste officielle du Wydad de Casablanca. Voici la liste officielle du Wydad de Casablanca pour la Coupe du monde des clubs de football, prévue du 14 juin au 13 juillet prochains aux États-Unis. Gardiens de But : Youssef El Motie, El Mehdi Benabid, Omar Aqzdaou. Défenseurs : Mohamed Moufid, Abdelmounaim Boutouil, Jamal Harkass, Fahd Moufi, Meijers Bart, Ayoub Boucheta, Guilherme Ferreira..', 'size': 2}, {'id': '238', 'title': 'Mondial des clubs: Voici la liste officielle du Wydad de Casablanca', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/mondial-des-clubs-voici-la-liste-officielle-du-wydad-de-casablanca-304618/', 'summary': 'Mondial des clubs: Voici la liste officielle du Wydad de Casablanca. Voici la liste officielle du Wydad de Casablanca pour la Coupe du monde des clubs de football, prévue du 14 juin au 13 juillet prochains aux États-Unis: Gardiens de But: Youssef El Motie, El Mehdi Benabid, Omar Aqzdaou. Défenseurs: Mohamed Moufid, Abdelmounaim Boutouil, Jamal Harkass, Fahd Moufi, Meijers Bart, Ayoub', 'size': 2}], 'main_title': 'Mondial des clubs : liste officielle du Wydad de Casablanca'}, {'community_id': '11', 'articles': [{'id': '264', 'title': 'IA : Le sud-coréen Naver va construire un data center nouvelle génération au Maroc', 'source': 'www.lavieeco.com', 'link': 'https://www.lavieeco.com/affaires/investissements/ia-le-sud-coreen-naver-va-construire-un-data-center-nouvelle-generation-au-maroc/', 'summary': "IA : Le sud-coréen Naver va construire un data center nouvelle génération au Maroc. Il s'agit d'un centre de données de 500 mégawatts alimenté par des énergies renouvelables qui servira de centre informatique d'IA souverain pour la région Europe, Moyen-Orient et Afrique (EMEA). La première phase du projet devrait débuter au quatrième trimestre de cette année. Les détails.", 'size': 2}, {'id': '275', 'title': 'Le coréen Naver choisit le Maroc pour implanter un Data Center d’IA de nouvelle génération', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/le-coreen-naver-choisit-le-maroc-pour-implanter-un-data-center-dia-de-nouvelle-generation/', 'summary': 'Le coréen Naver choisit le Maroc pour implanter un Data Center d’IA de nouvelle génération. En partenariat avec Nvidia et Taqa Morocco, le géant technologique sud-coréen Naver annonce la construction d’un Data Center d’IA au Maroc, destiné à desservir l’Europe, l’Afrique et le Moyen-Orient. Alimenté par 500 MW d’énergie verte, ce projet marque une étape stratégique dans l’essor numérique du Royaume. Le groupe sud-coréen Naver, acteur majeur de l’Internet et .', 'size': 2}], 'main_title': 'IA : Le sud-coréen Naver va construire un data center nouvelle génération au Maroc'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
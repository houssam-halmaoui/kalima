<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 26/07/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce samedi 26 juillet 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/434590-le-temps-quil-fera-ce-samedi-26-juillet-2025.html', 'summary': "Le temps qu'il fera ce samedi 26 juillet 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 26 juillet 2025 – Temps assez chaud à localement chaud sur les plaines intérieures, le Sud-Est, le Sud de l’Oriental et sur les provinces Sud. – Nuages cumuliformes et faiblement instables sur le Nord du Haut Atlas, ses versants Est . ", 'size': 2}, {'id': '188', 'title': 'Les prévisions du samedi 26 juillet', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-samedi-26-juillet-307436/', 'summary': 'Les prévisions du samedi 26 juillet. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le samedi 26 juillet 2025. -Temps assez chaud à localement chaud sur les plaines intérieures, le Sud-Est, le Sud de l’Oriental et sur les provinces Sud. -Nuages cumuliformes et faiblement instables sur le Nord du Haut Atlas,', 'size': 2}], 'main_title': "Le temps qu'il fera ce samedi 26 juillet 2025"}, {'community_id': '10', 'articles': [{'id': '2', 'title': 'Commerce extérieur : les échanges du Maroc progressent de 6,3 % en 2024', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/434826-commerce-exterieur-les-echanges-du-maroc-progressent-de-63-en-2024.html', 'summary': 'Commerce extérieur : les échanges du Maroc progressent de 6,3 % en 2024. Selon l’Office des Changes, les échanges commerciaux du Maroc avec le reste du monde ont atteint 1 217,6 milliards de dirhams en 2024, en hausse de 6,3 % par rapport à 2023. D’après le rapport annuel sur le commerce extérieur publié par l’Office des Changes, les importations du Maroc ont atteint 761,3 milliards de dirhams . ', 'size': 2}, {'id': '168', 'title': 'Commerce extérieur : le Maroc accentue son excédent avec la France à 15,9 milliards de DH en 2024', 'source': 'lematin.ma', 'link': 'https://lematin.ma/economie/commerce-exterieur-le-maroc-accentue-son-excedent-avec-la-france/293286', 'summary': 'Commerce extérieur : le Maroc accentue son excédent avec la France à 15,9 milliards de DH en 2024. Selon le rapport annuel sur le commerce extérieur publié par l’Office des Changes, en 2024, les échanges commerciaux du Maroc continuent d’être dominés par le continent européen, a.', 'size': 2}], 'main_title': 'Commerce extérieur : les échanges du Maroc progressent de 6,3 % en 2024'}, {'community_id': '2', 'articles': [{'id': '8', 'title': 'Le total-actif cumulé des banques en hausse de 8,7%', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/435024-le-total-actif-cumule-des-banques-en-hausse-de-87.html', 'summary': 'Le total-actif cumulé des banques en hausse de 8,7%. Le total-actif cumulé des banques s’est établi à 1.909 milliards de dirhams (MMDH) en 2024, en hausse de 8,7% par rapport à l’année précédente, selon Bank Al-Maghrib (BAM). Rapporté au PIB, il représente 120%, soit une hausse de 1 point sur une année, explique BAM dans son rapport annuel sur la supervision bancaire. Du côté . ', 'size': 4}, {'id': '48', 'title': "Supervision bancaire : rentabilité en hausse en 2024, accompagnée d'une recrudescence des plaintes (Rapport)", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Supervision-bancaire-rentabilite-en-hausse-en-2024-accompagnee-d-une-recrudescence-des-plaintes-Rapport_a70282.html', 'summary': "Supervision bancaire : rentabilité en hausse en 2024, accompagnée d'une recrudescence des plaintes (Rapport). Dans sa 21ᵉ édition du rapport annuel sur la supervision bancaire, présenté jeudi, Bank Al-Maghrib dresse le bilan de son action pour l’exercice 2024, marquée par une conjoncture économique contrastée mais globalement résiliente.", 'size': 2}, {'id': '80', 'title': 'La concentration de l’activité bancaire quasi-stable en 2024', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/la-concentration-de-lactivite-bancaire-quasi-stable-en-2024-307409/', 'summary': 'La concentration de l’activité bancaire quasi-stable en 2024. La concentration de l’activité bancaire est restée quasi-stable en 2024, ressort-il du rapport annuel sur la supervision bancaire de Bank Al Maghrib (BAM). La part des cinq plus grandes banques dans le total-actif du secteur s’est située à 76% après 75,7% en 2023 et celle des trois premières banques ressort', 'size': 2}, {'id': '114', 'title': 'Banques: Hausse de 38,5% du coût du risque à 13,1 MMDH en 2024', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/banques-hausse-de-385-du-cout-du-risque-a-131-mmdh-en-2024/', 'summary': 'Banques: Hausse de 38,5% du coût du risque à 13,1 MMDH en 2024. Le coût du risque des banques s’est accru de 38,5% pour atteindre 13,1 milliards de dirhams (MMDH) en 2024, selon Bank Al-Maghrib (BAM). Cette progression reflète principalement une augmentation de la couverture des créances sensibles inscrites en watch-list, explique BAM dans son rapport annuel sur la supervision bancaire. Sur ce total, le coût du risque .', 'size': 2}], 'main_title': 'Le total-actif cumulé des banques en hausse de 8,7%'}, {'community_id': '8', 'articles': [{'id': '22', 'title': 'CAN féminine : les Lionnes de l’Atlas défient le Nigeria pour décrocher un premier sacre historique', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/can-feminine-les-lionnes-de-latlas-visent-un-premier-sacre-historique/293274', 'summary': 'CAN féminine : les Lionnes de l’Atlas défient le Nigeria pour décrocher un premier sacre historique. L’heure de vérité a sonné pour les Lionnes de l’Atlas. Après un parcours exemplaire en Coupe d’Afrique 2024, la sélection nationale dispute, ce samedi à 21 h, la finale de la CAN d.', 'size': 2}, {'id': '83', 'title': 'CAN féminine: pour les Lionnes de l’Atlas, une deuxième finale d’affilée et un premier titre en ligne de mire', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/can-feminine-pour-les-lionnes-de-latlas-une-deuxieme-finale-daffilee-et-un-premier-titre-en-ligne-de-mire-307395/', 'summary': 'CAN féminine: pour les Lionnes de l’Atlas, une deuxième finale d’affilée et un premier titre en ligne de mire. La sélection marocaine jouera contre le Nigeria, samedi prochain au stade olympique à Rabat, sa deuxième finale d’affilée en Coupe d’Afrique des nations féminine de football (Maroc-2024), avec en ligne de mire un premier titre continental. Pour les Lionnes de l’Atlas, la mission ne sera pas de tout repos devant', 'size': 4}, {'id': '142', 'title': 'CAN féminine de football: «\xa0avec un moral au beau fixe, la sélection marocaine lorgne le titre\xa0» (Jorge Vilda)', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/can-feminine-de-football-avec-un-moral-au-beau-fixe-la-selection-marocaine-lorgne-le-titre-jorge-vilda.html', 'summary': 'CAN féminine de football: « avec un moral au beau fixe, la sélection marocaine lorgne le titre » (Jorge Vilda). La sélection marocaine féminine de football est déterminée à décrocher le titre de la Coupe d’Afrique des Nations (CAN) qui se tient dans le Royaume, en affrontant le Nigeria, samedi soir (21h00) en finale au stade olympique de Rabat, a indiqué le coach Jorge Vilda. « Avec un moral au beau fixe, la sélection marocaine lorgne . L’article est apparu en premier sur .', 'size': 2}, {'id': '147', 'title': 'CAN Féminine 2024 | Le Maroc affrontera le Nigeria en finale le samedi 26 juillet', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/can-feminine-2024-le-maroc-affrontera-le-nigeria-en-finale-le-samedi-26-juillet/', 'summary': 'CAN Féminine 2024 | Le Maroc affrontera le Nigeria en finale le samedi 26 juillet. La sélection marocaine jouera contre le Nigeria, samedi prochain au stade olympique à Rabat, sa deuxième finale d’affilée en Coupe d’Afrique des nations féminine de football (Maroc-2024), avec en ligne de mire un premier titre continental. Pour les Lionnes de l’Atlas, la mission ne sera pas de tout repos devant des Nigérianes qui sont en ', 'size': 2}], 'main_title': 'CAN féminine: pour les Lionnes de l’Atlas, une deuxième finale d’affilée et un premier titre en ligne de mire'}, {'community_id': '4', 'articles': [{'id': '27', 'title': 'Akhannouch s’entretient avec le Président de l’Assemblée nationale du Vietnam', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/akhannouch-recoit-le-president-de-lassemblee-nationale-du-vietnam/293191', 'summary': 'Akhannouch s’entretient avec le Président de l’Assemblée nationale du Vietnam. Le Chef du gouvernement, Aziz Akhannouch, a reçu, vendredi 25 juillet 2025 à Rabat, Tran Thanh Man, Président de l’Assemblée nationale du Vietnam, avec lequel il a eu des entretien.', 'size': 2}, {'id': '95', 'title': 'M. Akhannouch s’entretient avec le Président de l’Assemblée Nationale du Vietnam', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/m-akhannouch-sentretient-avec-le-president-de-lassemblee-nationale-du-vietnam', 'summary': 'M. Akhannouch s’entretient avec le Président de l’Assemblée Nationale du Vietnam. Le Chef du gouvernement, Aziz Akhannouch a eu, vendredi à Rabat, des entretiens avec le président de l’Assemblée Nationale du Viet Nam, Tran Thanh Man, axés sur les moyens de renforcer la coopération entre le Maroc et le Viet Nam, sous la conduite des deux Chefs d’Etat, SM le Roi Mohammed VI et le Président .', 'size': 2}], 'main_title': 'Akhannouch s’entretient avec le Président de l’Assemblée nationale du Vietnam'}, {'community_id': '9', 'articles': [{'id': '32', 'title': "La France va reconnaître l'État de Palestine en septembre (Emmanuel Macron)", 'source': 'lematin.ma', 'link': 'https://lematin.ma/monde/macron-annonce-la-reconnaissance-prochaine-de-letat-de-palestine/293137', 'summary': "La France va reconnaître l'État de Palestine en septembre (Emmanuel Macron). C’est une phrase qui fera date. Le jeudi 24 juillet, Emmanuel Macron a annoncé sur son compte X que la France reconnaîtra officiellement l’État de Palestine lors de la prochaine As.", 'size': 2}, {'id': '71', 'title': 'La France reconnaîtra l’État de Palestine en septembre, annonce Macron', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/25/la-france-reconnaitra-letat-de-palestine-en-septembre-annonce-macron_1943865/', 'summary': 'La France reconnaîtra l’État de Palestine en septembre, annonce Macron. Le président français a annoncé jeudi sur X sa décision de reconnaître l’État de Palestine, avec une annonce officielle prévue en septembre à l’ONU. Cette initiative, saluée par l’OLP et le Hamas, provoque la colère d’Israël qui y voit une « récompense à la terreur ». La France entend organiser une conférence internationale pour relancer la solution.', 'size': 2}], 'main_title': "La France va reconnaître l'État de Palestine en septembre (Emmanuel Macron)"}, {'community_id': '6', 'articles': [{'id': '45', 'title': '\u200bLa Fondation Mohammed VI ouvre les souscriptions à la subvention du Hajj pour la saison 1447H/2026', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/\u200bLa-Fondation-Mohammed-VI-ouvre-les-souscriptions-a-la-subvention-du-Hajj-pour-la-saison-1447H-2026_a70280.html', 'summary': '\u200bLa Fondation Mohammed VI ouvre les souscriptions à la subvention du Hajj pour la saison 1447H/2026. La Fondation Mohammed VI de Promotion des Œuvres Sociales de l’Éducation-Formation a annoncé, vendredi 11 juillet 2025, le lancement des souscriptions à la subvention financière destinée à ses adhérents éligibles souhaitant accomplir le pèlerinage à La Mecque au titre de la saison 1447H/2026.', 'size': 2}, {'id': '116', 'title': 'La Fondation Mohammed VI : ouverture des souscriptions à la subvention du pèlerinage 1447H/2026', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/la-fondation-mohammed-vi-ouverture-des-souscriptions-a-la-subvention/', 'summary': 'La Fondation Mohammed VI : ouverture des souscriptions à la subvention du pèlerinage 1447H/2026. La Fondation Mohammed VI de Promotion des Œuvres Sociales de l’Éducation-Formation a annoncé, le vendredi 11 juillet 2025, l’ouverture des souscriptions à la subvention financière du Hajj, pour ses adhérents éligibles souhaitant accomplir le rite du pèlerinage au titre de la saison 1447H/2026. Dans ce cadre, les adhérents souhaitant bénéficier de la subvention avant l’accomplissement .', 'size': 2}], 'main_title': '\u200bLa Fondation Mohammed VI ouvre les souscriptions à la subvention du Hajj pour la saison 1447H/2026'}, {'community_id': '1', 'articles': [{'id': '64', 'title': "Micro-crédit : l'encours atteint 9,5 milliards de DH 2024", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/25/micro-credit-lencours-atteint-95-milliards-de-dh-2024_1943958/', 'summary': "Micro-crédit : l'encours atteint 9,5 milliards de DH 2024. L’encours brut des micro-crédits a atteint 9,5 milliards de dirhams (MMDH) en 2024, en progression de 9,4 %, selon le rapport annuel de Bank Al-Maghrib (BAM) sur la supervision bancaire. Ce qu’il s’est passé : Les 4 principales associations concentrent plus de 98 % des crédits distribués, destinés à : 88 % à la micro-entreprise,.", 'size': 2}, {'id': '84', 'title': 'Bank Al-Maghrib publie son rapport 2024 sur la supervision bancaire', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/bank-al-maghrib-publie-son-rapport-2024-sur-la-supervision-bancaire-307386/', 'summary': 'Bank Al-Maghrib publie son rapport 2024 sur la supervision bancaire. Bank Al-Maghrib a présenté la 21e édition de son rapport annuel sur la supervision bancaire, retraçant les principaux développements du secteur au cours de l’exercice 2024. Ce document met en lumière la solidité du système bancaire marocain, dans un contexte économique globalement favorable malgré des incertitudes internationales et des conditions', 'size': 2}], 'main_title': "Micro-crédit : l'encours atteint 9,5 milliards de DH 2024"}, {'community_id': '3', 'articles': [{'id': '72', 'title': "Carburants : le chiffre d'affaires des distributeurs recule de 3% à 77,3 milliards de dirhams", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/25/carburants-le-chiffre-daffaires-des-distributeurs-recule-de-3-a-773-milliards-de-dirhams_1943837/', 'summary': "Carburants : le chiffre d'affaires des distributeurs recule de 3% à 77,3 milliards de dirhams. Le chiffre d’affaires des neuf sociétés de distribution en gros de gasoil et d’essence a atteint 77,3 milliards de dirhams en 2024, marquant un repli de 3 % par rapport à 2023, selon le Conseil de la concurrence. Le gasoil a représenté 85 % du volume et 83 % de la valeur des ventes. Ce.", 'size': 2}, {'id': '87', 'title': 'Prix à la pompe: les distributeurs ont vu leur chiffre d’affaires baisser en 2024', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/prix-a-la-pompe-les-distributeurs-ont-vu-leur-chiffre-daffaires-baisser-en-2024-307373/', 'summary': 'Prix à la pompe: les distributeurs ont vu leur chiffre d’affaires baisser en 2024. Le chiffre d’affaires (CA) des neuf sociétés de distribution en gros du gasoil et d’essence s’est établi à 77,3 milliards de dirhams (MMDH) durant l’année 2024, en baisse de 3% par rapport à 2023, selon le Conseil de la concurrence. Le gasoil a représenté 85% du volume et 83% de', 'size': 2}], 'main_title': "Carburants : le chiffre d'affaires des distributeurs recule de 3% à 77,3 milliards de dirhams"}, {'community_id': '11', 'articles': [{'id': '73', 'title': "Aéroports : le Maroc investit 38 milliards de dirhams pour moderniser ses infrastructures d'ici 2030", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/07/25/aeroports-le-maroc-investit-38-milliards-de-dirhams-pour-moderniser-ses-infrastructures-dici-2030_1943839/', 'summary': "Aéroports : le Maroc investit 38 milliards de dirhams pour moderniser ses infrastructures d'ici 2030. Le Maroc mise gros sur ses aéroports. Le gouvernement et l’Office national des aéroports viennent de signer un accord pour investir 38 milliards de dirhams d’ici 2030 dans la modernisation des infrastructures aéroportuaires du royaume. Ce qu’il s’est passé Le gouvernement marocain et l’Office national des aéroports (ONDA) ont signé, jeudi 24 juillet à Rabat,.", 'size': 2}, {'id': '150', 'title': 'Aéroports 2030: le Maroc investit 38 milliards pour devenir un hub aérien mondial', 'source': 'lnt.ma', 'link': 'https://lnt.ma/aeroports-2030-le-maroc-investit-38-milliards-pour-devenir-un-hub-aerien-mondial/', 'summary': 'Aéroports 2030: le Maroc investit 38 milliards pour devenir un hub aérien mondial. Le Maroc franchit une nouvelle étape stratégique dans le développement de ses infrastructures aéroportuaires. Jeudi à Rabat, un protocole d’accord majeur a été signé entre le gouvernement et l’Office National des Aéroports (ONDA), sous la présidence du chef du gouvernement, Aziz Akhannouch. Ce protocole, qui couvre la période 2025-2030, prévoit un investissement global de 38 . ', 'size': 2}], 'main_title': "Aéroports : le Maroc investit 38 milliards de dirhams pour moderniser ses infrastructures d'ici 2030"}, {'community_id': '13', 'articles': [{'id': '81', 'title': 'Nador West Med: un géant portuaire qui prend forme dans l’Oriental', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/nador-west-med-un-geant-portuaire-qui-prend-forme-dans-loriental-307405/', 'summary': 'Nador West Med: un géant portuaire qui prend forme dans l’Oriental. Nouveau jalon de l’ambition maritime du Maroc, le port de Nador West Med est un mégaprojet qui incarne une initiative stratégique visant à transformer la région de l’Oriental et à renforcer la position du Maroc sur l’échiquier économique mondial. Doté d’infrastructures modernes et de capacités logistiques de pointe, ce port,', 'size': 2}, {'id': '113', 'title': 'Port de Nador West Med: Un projet territorial à vocation mondiale', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/port-de-nador-west-med-un-projet-territorial-a-vocation-mondiale/', 'summary': 'Port de Nador West Med: Un projet territorial à vocation mondiale. Nouveau jalon de l’ambition maritime du Maroc, le port de Nador West Med est un mégaprojet qui incarne une initiative stratégique visant à transformer la région de l’Oriental et à renforcer la position du Maroc sur l’échiquier économique mondial. Doté d’infrastructures modernes et de capacités logistiques de pointe, ce port, qui sera mis en exploitation .', 'size': 2}], 'main_title': 'Nador West Med: un géant portuaire qui prend forme dans l’Oriental'}, {'community_id': '5', 'articles': [{'id': '93', 'title': 'Le Chef du Gouvernement préside le Conseil d’administration de l’ANRT', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/le-chef-du-gouvernement-preside-le-conseil-dadministration-de-lanrt', 'summary': 'Le Chef du Gouvernement préside le Conseil d’administration de l’ANRT. C’est en présence du Chef de Gouvernement Aziz Akhannouch, que l’Agence Nationale de Réglementation des télécommunications (ANRT) a tenu vendredi 25 juillet 2025 son Conseil d’administration. La séance a été en effet consacrée à l’examen de la situation actuelle du secteur des télécommunications et des projets et programmes de l’agence pour les années prochaines. Au .', 'size': 2}, {'id': '187', 'title': 'L’ANRT attribue les licences 5G à trois opérateurs', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/brouilanrt-attribue-les-licences-5g-a-trois-operateursllon-auto-307459/', 'summary': 'L’ANRT attribue les licences 5G à trois opérateurs. À l’issue du Conseil d’Administration de l’Agence Nationale de Réglementation des Télécommunications (ANRT), tenu le 25 juillet courant, Aziz Akhannouch, Chef du Gouvernement, a officiellement validé le rapport d’instruction relatif à l’attribution des licences pour l’établissement et l’exploitation de réseaux mobiles de cinquième génération (5G). Élaboré par l’ANRT, ce rapport', 'size': 2}], 'main_title': 'Le Chef du Gouvernement préside le Conseil d’administration de l’ANRT'}, {'community_id': '7', 'articles': [{'id': '141', 'title': 'La reconnaissance de l’Etat de Palestine par Macron «\xa0pas importante\xa0», selon Donald Trump', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/la-reconnaissance-de-letat-de-palestine-par-macron-pas-importante-selon-donald-trump.html', 'summary': 'La reconnaissance de l’Etat de Palestine par Macron « pas importante », selon Donald Trump. Au lendemain de l’annonce par Emmanuel Macron de la reconnaissance par la France de l’État de Palestine, le président américain Donald Trump a déclaré, ce vendredi , que les propos du président français « n’ont pas d’importance ». « C’est un bon gars, je l’aime bien mais sa déclaration n’a pas de poids », a estimé le dirigeant américain. Le . L’article est apparu en premier sur .', 'size': 2}, {'id': '194', 'title': 'Trump rabaisse Macron : Quand la reconnaissance de la Palestine devient un bras de fer diplomatique', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/trump-rabaisse-macron-quand-la-reconnaissance-de-la-palestine-devient-un-bras-de-fer-diplomatique/', 'summary': 'Trump rabaisse Macron : Quand la reconnaissance de la Palestine devient un bras de fer diplomatique. L’annonce d’Emmanuel Macron sur la reconnaissance de l’État de Palestine a déclenché une réaction cinglante de Donald Trump. Depuis la Maison-Blanche, le président américain a lâché : « C’est un homme bien, je l’aime, mais cela ne change rien. Ce qu’il dit n’a aucun impact. » En une phrase, Trump a résumé sa méthode : .', 'size': 2}], 'main_title': 'La reconnaissance de l’Etat de Palestine par Macron «\xa0pas importante\xa0», selon Donald Trump'}, {'community_id': '12', 'articles': [{'id': '172', 'title': 'Le mois de Safar 1447 débute ce samedi 26 juillet', 'source': 'lematin.ma', 'link': 'https://lematin.ma/nation/le-mois-de-safar-1447-debute-ce-samedi-26-juillet/293351', 'summary': 'Le mois de Safar 1447 débute ce samedi 26 juillet. Dans un communiqué, le ministère des Habous et des Affaires islamiques souligne avoir observé le croissant lunaire annonçant le début du mois de Safar après le coucher du soleil du.', 'size': 2}, {'id': '190', 'title': 'Safar 1447 : Le croissant lunaire aperçu, début du mois fixé au 26 juillet', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/172724/safar-1447-croissant-lunaire-apercu.html', 'summary': 'Safar 1447 : Le croissant lunaire aperçu, début du mois fixé au 26 juillet. Le mois de Safar 1447 de l’hégire débute ce samedi 26 juillet, a annoncé, vendredi, le ministère des Habous et des Affaires islamiques.', 'size': 2}], 'main_title': 'Le mois de Safar 1447 débute ce samedi 26 juillet'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
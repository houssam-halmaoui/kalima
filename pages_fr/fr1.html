<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 100vh;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>


	body, html {margin: 0; padding: 0; height: 100%; overflow: hidden;} 
 	
  	#mynetwork {height: 100vh !important; width: 100% !important;}


 

    .vis-tooltip {
        position: absolute;
        background-color: rgba(255, 241, 200, 1) !important;
        color: black !important;
        border-radius: 8px;
        padding: 12px;
        font-size: 22px;
        font-weight: 700;
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.8);
        white-space: normal !important;
        word-wrap: break-word;
        overflow-wrap: break-word;
        max-width: 80vw;
        
        max-height: 80vh;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch;
        
        direction: ltr;
        text-align: left;
        
        z-index: 9999 !important;
        pointer-events: auto !important;
    }
    
    .scroll-buttons {
        position: absolute;
        right: 50px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        z-index: 10000;
        opacity: 0.8;
    }
    
    .scroll-up, .scroll-down {
        width: 30px;
        height: 30px;
        background: #888;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        margin: 5px 0;
        cursor: pointer;
        user-select: none;
        font-weight: bold;
    }

       


        .controls {
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 999;
            display: flex;
            gap: 10px;
        }
        .control-btn {
            background: rgba(255,255,255,0.8);
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
        }
        @media (max-width: 768px) {
            .control-btn {padding: 8px 12px;}
        }
    </style>
    </head>
    


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"font": {"vadjust": -70.5}, "group": 0, "id": 0, "label": "Deux universitaires japonais plaident pour...", "shape": "dot", "size": 47, "title": "Deux universitaires japonais plaident pour une approche lucide et s\u00e9curitaire du dossier du Sahara \u00e0 l\u2019ONU\nSource: fr.hespress.com", "url": "https://fr.hespress.com/445065-deux-universitaires-japonais-plaident-pour-une-approche-lucide-et-securitaire-du-dossier-du-sahara-a-lonu.html", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 1, "id": 18, "label": "Glory 104 : Tarik Khbabez...", "shape": "dot", "size": 47, "title": "Glory 104 : Tarik Khbabez r\u00e9cup\u00e8re son titre mondial des poids mi-lourds\nSource: lematin.ma", "url": "https://lematin.ma/sports/glory-104-tarik-khbabez-recupere-son-titre-mondial-des-poids-mi-lourds/307125", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 2, "id": 24, "label": "L\u2019\u00c9gypte annonce de nouvelles facilit\u00e9s...", "shape": "dot", "size": 47, "title": "L\u2019\u00c9gypte annonce de nouvelles facilit\u00e9s d\u2019entr\u00e9e pour les Marocains\nSource: lematin.ma", "url": "https://lematin.ma/societe/legypte-annonce-de-nouvelles-facilites-dentree-pour-les-marocains/307028", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 3, "id": 25, "label": "Sommet pour la paix \u00e0...", "shape": "dot", "size": 47, "title": "Sommet pour la paix \u00e0 Gaza lundi en Egypte, pr\u00e9sid\u00e9 par Trump et Al-Sissi\nSource: lematin.ma", "url": "https://lematin.ma/monde/sommet-pour-la-paix-a-gaza-lundi-en-egypte-preside-par-trump-et-al-sissi/307033", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 2, "id": 31, "label": "Visas : L\u2019\u00c9gypte assouplit les...", "shape": "dot", "size": 47, "title": "Visas : L\u2019\u00c9gypte assouplit les conditions d\u2019entr\u00e9e pour les Marocains\nSource: www.lopinion.ma", "url": "https://www.lopinion.ma/Visas-L-Egypte-assouplit-les-conditions-d-entree-pour-les-Marocains_a72755.html", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 1, "id": 47, "label": "Kickboxing : Tarik Khbabez reprend...", "shape": "dot", "size": 47, "title": "Kickboxing : Tarik Khbabez reprend son titre mondial au Glory 104 \u00e0 Rotterdam\nSource: www.yabiladi.com", "url": "https://www.yabiladi.com/articles/details/178594/kickboxing-tarik-khbabez-reprend-titre.html", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 4, "id": 49, "label": "CAN 2025 : Ouverture de...", "shape": "dot", "size": 47, "title": "CAN 2025 : Ouverture de la billetterie \u00e0 partir du 13 octobre (CAF)\nSource: www.yabiladi.com", "url": "https://www.yabiladi.com/articles/details/178589/2025-ouverture-billetterie-partir-octobre.html", "x": 0, "y": 0}, {"font": {"vadjust": -88.5}, "group": 2, "id": 50, "label": "Nouvelles facilit\u00e9s de visa pour...", "shape": "dot", "size": 59, "title": "Nouvelles facilit\u00e9s de visa pour les Marocains voyageant en \u00c9gypte\nSource: www.yabiladi.com", "url": "https://www.yabiladi.com/articles/details/178588/nouvelles-facilites-visa-pour-marocains.html", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 4, "id": 67, "label": "Lancement lundi prochain de l\u2019op\u00e9ration...", "shape": "dot", "size": 47, "title": "Lancement lundi prochain de l\u2019op\u00e9ration de vente des billets pour la CAN Maroc-2025\nSource: maroc-diplomatique.net", "url": "https://maroc-diplomatique.net/lancement-lundi-prochain-de-loperation-de-vente-des-billets-pour-la-can-maroc-2025/", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 3, "id": 68, "label": "Charm el-Cheikh : les pr\u00e9sidents...", "shape": "dot", "size": 47, "title": "Charm el-Cheikh : les pr\u00e9sidents \u00e9gyptien et am\u00e9ricain copr\u00e9sident lundi un sommet international pour mettre fin \u00e0 la guerre \u00e0 Gaza\nSource: maroc-diplomatique.net", "url": "https://maroc-diplomatique.net/charm-el-cheikh-les-presidents-egyptien-et-americain-copresident-lundi-un-sommet-international-pour-mettre/", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 5, "id": 76, "label": "Mondial U20 : les Lionceaux...", "shape": "dot", "size": 47, "title": "Mondial U20 : les Lionceaux de l\u2019Atlas continuent d\u2019\u00e9crire l\u2019histoire et acc\u00e8dent au carr\u00e9 d\u2019As\nSource: fr.hespress.com", "url": "https://fr.hespress.com/445104-mondial-u20-les-lionceaux-de-latlas-continuent-decrire-lhistoire-et-accedent-au-carre-das.html", "x": 0, "y": 0}, {"font": {"vadjust": -88.5}, "group": 5, "id": 81, "label": "(Images) Coupe du monde U20...", "shape": "dot", "size": 59, "title": "(Images) Coupe du monde U20 : le Maroc domine les \u00c9tats-Unis (3-1) et file en demi-finales !\nSource: www.lopinion.ma", "url": "https://www.lopinion.ma/Images-Coupe-du-monde-U20-le-Maroc-domine-les-Etats-Unis-3-1-et-file-en-demi-finales-_a72765.html", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 5, "id": 89, "label": "Coupe du Monde U-20 au...", "shape": "dot", "size": 47, "title": "Coupe du Monde U-20 au Chili : le Maroc s\u2019impose face aux Etats-Unis (3-1) et file demi-finales\nSource: www.yabiladi.com", "url": "https://www.yabiladi.com/articles/details/178609/coupe-monde-u-20-chili-maroc.html", "x": 0, "y": 0}, {"font": {"vadjust": -88.5}, "group": 5, "id": 91, "label": "Coupe du Monde U-20 au...", "shape": "dot", "size": 59, "title": "Coupe du Monde U-20 au Chili : le Maroc s\u2019impose face aux \u00c9tats-Unis et se qualifie pour les demi-finales\nSource: aujourdhui.ma", "url": "https://aujourdhui.ma/une/coupe-du-monde-u-20-au-chili-le-maroc-simpose-face-aux-etats-unis-et-se-qualifie-pour-les-demi-finales", "x": 0, "y": 0}, {"font": {"vadjust": -70.5}, "group": 0, "id": 98, "label": "4\u00e8 Commission de l\u2019AG de...", "shape": "dot", "size": 47, "title": "4\u00e8 Commission de l\u2019AG de l\u2019ONU: deux \u00e9minents professeurs japonais d\u00e9fendent une approche rationnelle et pacifique de la question du Sahara\nSource: atlasinfo.fr", "url": "https://atlasinfo.fr/4e-commission-de-lag-de-lonu-deux-eminents-professeurs-japonais-defendent-une-approche-rationnelle-et-pacifique-de-la-question-du-sahara.html", "x": 0, "y": 0}, {"borderWidth": 3, "fixed": true, "font": {"bold": true, "color": "#000", "size": 26}, "group": 0, "id": "comm_label_0", "label": "Deux professeurs japonais, Kei Nakagawa\net Shoji Matsumoto, ont appel\u00e9,...", "mass": 5, "physics": false, "shape": "box", "title": "Deux professeurs japonais, Kei Nakagawa et Shoji Matsumoto, ont appel\u00e9, devant la 4e Commission de l\u2019Assembl\u00e9e g\u00e9n\u00e9rale des Nations Unies, \u00e0 adopter une lecture rationnelle et d\u00e9passionn\u00e9e de la question du Sahara marocain, rompant avec les discours id\u00e9ologiques et les automatismes diplomatiques h\u00e9rit\u00e9s du pass\u00e9. [fr.hespress.com]\n-------------------------------------------------\nDeux voix japonaises, celles de la professeure Kei Nakagawa et du professeur Shoji Matsumoto, se sont \u00e9lev\u00e9es \u00e0 la 4\u00e8 Commission de l\u2019Assembl\u00e9e g\u00e9n\u00e9rale de l\u2019ONU pour inviter la communaut\u00e9 internationale \u00e0 un regard lucide et d\u00e9passionn\u00e9 sur la question du Sahara. [atlasinfo.fr]"}, {"borderWidth": 3, "fixed": true, "font": {"bold": true, "color": "#000", "size": 26}, "group": 1, "id": "comm_label_1", "label": "La RTM Stage de Rotterdam\na \u00e9t\u00e9 le th\u00e9\u00e2tre d\u0027un...", "mass": 5, "physics": false, "shape": "box", "title": "La RTM Stage de Rotterdam a \u00e9t\u00e9 le th\u00e9\u00e2tre d\u0027un affrontement m\u00e9morable lors du GLORY 104. [lematin.ma]\n-------------------------------------------------\nLe champion marocain Tarik Khbabez a repris son titre mondial dans la cat\u00e9gorie des poids mi-lourds de kickboxing, apr\u00e8s une victoire contre lAzerba\u00efdjanais Bahram Rajabzadeh, lors du Glory 104 qui sest d\u00e9roul\u00e9 \u00e0 Rotterdam, aux Pays-Bas. [www.yabiladi.com]"}, {"borderWidth": 3, "fixed": true, "font": {"bold": true, "color": "#000", "size": 26}, "group": 2, "id": "comm_label_2", "label": "Selon un communiqu\u00e9 de l\u2019ambassade\nd\u2019\u00c9gypte \u00e0 Rabat, les Marocains...", "mass": 5, "physics": false, "shape": "box", "title": "Selon un communiqu\u00e9 de l\u2019ambassade d\u2019\u00c9gypte \u00e0 Rabat, les Marocains titulaires de visas ou de titres de s\u00e9jour valides d\u00e9livr\u00e9s par les pays suivants : les \u00c9tats-Unis, le Royaume-Un. [lematin.ma]\n-------------------------------------------------\nDe nouvelles mesures d\u2019entr\u00e9e en \u00c9gypte sont entr\u00e9es en vigueur afin de permettre aux citoyens marocains, notamment ceux d\u00e9tenteurs d\u2019un titre de s\u00e9jour ou d\u2019un visa pr\u00e9alablement d\u00e9livr\u00e9 par certains pays, d\u2019obtenir un visa \u00e0 leur arriv\u00e9e en Egypte. [www.lopinion.ma]\n-------------------------------------------------\nLambassade d\u00c9gypte \u00e0 Rabat a r\u00e9cemment d\u00e9voil\u00e9 de nouvelles mesures pour faciliter lacc\u00e8s des Marocains au territoire \u00e9gyptien. [www.yabiladi.com]"}, {"borderWidth": 3, "fixed": true, "font": {"bold": true, "color": "#000", "size": 26}, "group": 3, "id": "comm_label_3", "label": "Le sommet se tiendra sous\nla copr\u00e9sidence du pr\u00e9sident \u00e9gyptien...", "mass": 5, "physics": false, "shape": "box", "title": "Le sommet se tiendra sous la copr\u00e9sidence du pr\u00e9sident \u00e9gyptien Abdel Fattah Al-Sissi et du pr\u00e9sident am\u00e9ricain Donald Trump, avec la participation de dirigeants de plus de vingt p. [lematin.ma]\n-------------------------------------------------\nLa pr\u00e9sidence \u00e9gyptienne a annonc\u00e9, samedi soir, la tenue lundi prochain \u00e0 Charm el-Cheikh d\u2019un sommet international intitul\u00e9 \u00ab Sommet de Charm el-Cheikh pour la paix \u00bb, visant \u00e0 mettre fin \u00e0 la guerre dans la bande de Gaza. [maroc-diplomatique.net]"}, {"borderWidth": 3, "fixed": true, "font": {"bold": true, "color": "#000", "size": 26}, "group": 4, "id": "comm_label_4", "label": "La vente des billets pour\nla Coupe d\u2019Afrique des nations...", "mass": 5, "physics": false, "shape": "box", "title": "La vente des billets pour la Coupe d\u2019Afrique des nations (CAN Maroc 2025) d\u00e9butera lundi 13 octobre 2025 \u00e0 partir de 9h00 (8h00 GMT), a annonc\u00e9 samedi la Conf\u00e9d\u00e9ration Africaine de Football (CAF). [www.yabiladi.com]\n-------------------------------------------------\nLa vente des billets pour la Coupe d\u2019Afrique des Nations (CAN) Maroc-2025, plus grand \u00e9v\u00e9nement sportif du continent, d\u00e9butera lundi 13 octobre 2025, a annonc\u00e9 samedi la Conf\u00e9d\u00e9ration Africaine de Football (CAF). [maroc-diplomatique.net]"}, {"borderWidth": 3, "fixed": true, "font": {"bold": true, "color": "#000", "size": 26}, "group": 5, "id": "comm_label_5", "label": "Les lionceaux ont valid\u00e9 leur\nticket pour le carr\u00e9 d\u2019as...", "mass": 5, "physics": false, "shape": "box", "title": "Les lionceaux ont valid\u00e9 leur ticket pour le carr\u00e9 d\u2019as de la Coupe du monde de la cat\u00e9gorie, en battant une solide \u00e9quipe des USA (3-1) ce dimanche au stade El Teniente, \u00e0 Rancagua. [fr.hespress.com]\n-------------------------------------------------\nLa s\u00e9lection marocaine des moins de 20 ans de football s\u2019est qualifi\u00e9e pour les demi-finales de la Coupe du Monde U-20, qui se d\u00e9roule actuellement au Chili, apr\u00e8s avoir battu son homologue am\u00e9ricaine (3-1) en quart de finale, disput\u00e9 dimanche soir au stade El Teniente de Rancagua (87 km au sud de Santiago). [www.lopinion.ma]\n-------------------------------------------------\nLa s\u00e9lection marocaine des moins de 20 ans sest qualifi\u00e9e pour les demi-finales de la Coupe du Monde U-20 au Chili apr\u00e8s une victoire convaincante contre les \u00c9tats-Unis, avec un score de 3-1. [www.yabiladi.com]\n-------------------------------------------------\nLa s\u00e9lection marocaine des moins de 20 ans de football s\u2019est qualifi\u00e9e pour les demi-finales de la Coupe du Monde U-20, qui se d\u00e9roule actuellement au Chili, apr\u00e8s avoir battu son homologue am\u00e9ricaine (3-1) en quart de finale, disput\u00e9 dimanche soir au stade El Teniente de Rancagua (87 km au sud de Santiago). [aujourdhui.ma]"}]);
                  edges = new vis.DataSet([{"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 0, "length": 250, "title": "d\u00e9passionner, professeure, id\u00e9ologique, commission, professeur", "to": 98, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 18, "length": 250, "title": "rajabzadeh, rotterdam, khbabez, mondial, bahram", "to": 47, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 24, "length": 250, "title": "facilit\u00e9, marocain, nouveau, \u00e9gypte, rabat", "to": 50, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 25, "length": 250, "title": "copr\u00e9sidence, pr\u00e9sident, am\u00e9ricain, \u00e9gyptien, sommet", "to": 68, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 31, "length": 250, "title": "marocain, nouveau, \u00e9gypte, mesure, visa", "to": 50, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 49, "length": 250, "title": "conf\u00e9d\u00e9ration, communiqu\u00e9, annoncer, africain, football", "to": 67, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 76, "length": 250, "title": "s\u00e9lection, dimanche, marocain, rancagua, battre", "to": 81, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 81, "length": 250, "title": "actuellement, am\u00e9ricain, qualifier, homologue, s\u00e9lection", "to": 91, "width": 5}, {"font": {"align": "middle", "color": "#555555", "size": 18}, "from": 89, "length": 250, "title": "s\u00e9lection, marocain, imposer, coupe, maroc", "to": 91, "width": 5}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"font": {"size": 16, "align": "middle"}, "scaling": {"min": 10, "max": 30}}, "edges": {"color": {"inherit": true}, "smooth": {"type": "continuous"}, "font": {"size": 10, "align": "middle"}, "label": {"enabled": true}}, "physics": {"solver": "forceAtlas2Based", "forceAtlas2Based": {"gravitationalConstant": -150, "centralGravity": 0.008, "springLength": 100, "springConstant": 0.08, "damping": 1.0, "avoidOverlap": 1.0}, "minVelocity": 0.75, "stabilization": {"enabled": true, "iterations": 200}}, "interaction": {"hover": true, "navigationButtons": false, "multiselect": true, "tooltipDelay": 300, "dragNodes": true}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    
<style>
    #info-icon {
        position: fixed;
        top: 10px;
        left: 10px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background-color: #cccccc;
        color: white;
        font-weight: bold;
        font-family: Arial, sans-serif;
        text-align: center;
        line-height: 24px;
        cursor: pointer;
        z-index: 10000;
    }

    #tooltip {
        display: none;
        position: fixed;
        top: 10px;
        left: 45px;
        background-color: rgba(50,50,50,0.95);
        color: white;
        padding: 10px 14px;
        border-radius: 8px;
        font-size: 14px;
        max-width: 90vw;
        white-space: pre-wrap;
        word-wrap: break-word;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        z-index: 10001;
    }

    @media (hover: hover) and (pointer: fine) {
        #info-icon:hover + #tooltip {
            display: block;
        }
    }
</style>

<div id="info-icon" onclick="toggleTooltip()">i</div>
<div id="tooltip">Carte générée par intelligence artificielle le 13/10/2025 à 06h10, à partir d'une analyse automatique de l'actualité. Elle met en évidence les sujets les plus traités par la presse ces dernières 24 heures. Prochaine mise à jour prévue à 12h30.</div>

<script>
    function toggleTooltip() {
        const tooltip = document.getElementById('tooltip');
        tooltip.style.display = (tooltip.style.display === 'block') ? 'none' : 'block';
    }

    // Cacher la tooltip quand on clique ailleurs
    document.addEventListener('click', function(event) {
        const icon = document.getElementById('info-icon');
        const tooltip = document.getElementById('tooltip');
        if (!icon.contains(event.target) && !tooltip.contains(event.target)) {
            tooltip.style.display = 'none';
        }
    });
</script>

    
    
    
    
    
    
    
    
    
    <script type="text/javascript">


        function positionCommunityLabels() {

            var communities = {};

            for (var nodeId in network.body.nodes) {
                var node = network.body.nodes[nodeId];

                if (nodeId.toString().indexOf('comm_label_') === 0) {
                    continue;
                }

                var groupId = node.options.group;
                if (groupId !== undefined) {
                    if (!communities[groupId]) {
                        communities[groupId] = {nodes: [], x: 0, y: 0};
                    }
                    communities[groupId].nodes.push(nodeId);
                    communities[groupId].x += node.x;
                    communities[groupId].y += node.y;
                }
            }


            for (var groupId in communities) {
                var comm = communities[groupId];
                var numNodes = comm.nodes.length;

                if (numNodes > 0) {
                    var centerX = comm.x / numNodes;
                    var centerY = comm.y / numNodes;
                    var labelId = 'comm_label_' + groupId;


                    if (network.body.nodes[labelId]) {
                        network.body.data.nodes.update({
                            id: labelId,
                            x: centerX,
                            y: centerY,
                            fixed: {
                                x: true,
                                y: true
                            }
                        });
                    } 
                }
            }
        }

        network.once("stabilized", function() {
            setTimeout(positionCommunityLabels, 100);
        });

        window.addEventListener('resize', function() {
            setTimeout(positionCommunityLabels, 50);
        });


        network.on("dragEnd", function(params) {
            setTimeout(positionCommunityLabels, 50);
        });

        network.on("afterDrawing", function() {
            if (!window.labelUpdateTimeout) {
                window.labelUpdateTimeout = setTimeout(function() {
                    positionCommunityLabels();
                    window.labelUpdateTimeout = null;
                }, 100);
            }
        });




        network.on("doubleClick", function(params) {
            if (params.nodes.length > 0) {
                var nodeId = params.nodes[0];
                var node = network.body.nodes[nodeId];
                var url = node.options.url;
                if (url && url !== '#') {
                    window.open(url, '_blank');
                }
            }
        });

        network.on("hold", function(params) {
            if (params.nodes.length > 0) {
                var nodeId = params.nodes[0];
                var node = network.body.nodes[nodeId];
                var url = node.options.url;
                if (url && url !== '#') {
                    window.open(url, '_blank');
                }
            }
        });

        function adjustForScreenSize() {
            var isMobile = window.innerWidth < 768;
            var options = {
                nodes: {
                    font: { size: isMobile ? 18 : 20 },
                    scaling: { min: isMobile ? 5 : 10, max: isMobile ? 20 : 30 }
                },
                physics: {
                    barnesHut: {
                        gravitationalConstant: isMobile ? -1000 : -2000,
                        springLength: isMobile ? 80 : 120
                    }
                }
            };
            network.setOptions(options);
        }






    function addScrollButtonsToTooltips() {
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.addedNodes.length) {
                    Array.from(mutation.addedNodes).forEach(function(node) {
                        if (node.classList && node.classList.contains('vis-tooltip')) {
                            if (node.scrollHeight > node.clientHeight) {
                                const scrollButtons = document.createElement('div');
                                scrollButtons.className = 'scroll-buttons';
                                
                                const scrollUp = document.createElement('div');
                                scrollUp.className = 'scroll-up';
                                scrollUp.innerHTML = '▲';
                                scrollUp.onclick = function() {
                                    node.scrollBy(0, -50);
                                };
                                
                                const scrollDown = document.createElement('div');
                                scrollDown.className = 'scroll-down';
                                scrollDown.innerHTML = '▼';
                                scrollDown.onclick = function() {
                                    node.scrollBy(0, 50);
                                };
                                
                                scrollButtons.appendChild(scrollUp);
                                scrollButtons.appendChild(scrollDown);
                                node.appendChild(scrollButtons);
                            }
                        }
                    });
                }
            });
        });
        
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
    }
    
    
    
        window.addEventListener('load', adjustForScreenSize);
        window.addEventListener('resize', adjustForScreenSize);


    
    document.addEventListener('DOMContentLoaded', addScrollButtonsToTooltips);



    </script>
    </body>


    
    
</html>
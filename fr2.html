<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); 
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title"> Les principales actualités des dernières 24 heures

</div>    
        <div class="header-subtitle"> Dernière mise à jour : 09/06/2025 - 12h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"></div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': "Le temps qu'il fera ce lundi 9 juin 2025", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427886-le-temps-quil-fera-ce-lundi-9-juin-2025.html', 'summary': "Le temps qu'il fera ce lundi 9 juin 2025. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 9 juin 2025 – Temps chaud sur le Sud-Est, l’Est des provinces Sahariennes, l’Oriental et les plaines à l’Ouest de l’Atlas. – Nuages bas associés à des formations brumeuses ou bruines locales le matin et la nuit près des côtes . ", 'size': 2}, {'id': '120', 'title': 'Les prévisions du lundi 9 juin', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/les-previsions-du-lundi-9-juin-304311/', 'summary': 'Les prévisions du lundi 9 juin. Voici les prévisions météorologiques établies par la Direction générale de la météorologie pour le lundi 09 juin 2025 : – Temps chaud sur le Sud-Est, l’Est des provinces Sahariennes, l’Oriental et les plaines à l’Ouest de l’Atlas. – Nuages bas associés à des formations brumeuses ou bruines locales le matin', 'size': 2}], 'main_title': "Le temps qu'il fera ce lundi 9 juin 2025"}, {'community_id': '11', 'articles': [{'id': '3', 'title': 'Un chauffard soupçonné de délit de fuite et conduite dangereuse arrêté à Tanger', 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427896-un-chauffard-soupconne-de-delit-de-fuite-et-conduite-dangereuse-arrete-a-tanger.html', 'summary': 'Un chauffard soupçonné de délit de fuite et conduite dangereuse arrêté à Tanger. La police de Tanger a interpellé, samedi soir, un individu soupçonné d’implication dans un accident de la circulation avec délit de fuite et conduite dangereuse mettant en péril la sécurité des usagers de la route, indique un communiqué de la Direction générale de sûreté nationale (DGSN). Les services de sûreté ont interagi en toute célérité . ', 'size': 4}, {'id': '28', 'title': "Tanger : Arrestation d'un conducteur qui a pris la fuite après avoir causé un accident", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Tanger-Arrestation-d-un-conducteur-qui-a-pris-la-fuite-apres-avoir-cause-un-accident_a68454.html', 'summary': "Tanger : Arrestation d'un conducteur qui a pris la fuite après avoir causé un accident. La police de Tanger a interpellé, samedi soir, un individu soupçonné d'implication dans un accident de la circulation avec délit de fuite et conduite dangereuse mettant en péril la sécurité des usagers de la route, indique un communiqué de la Direction générale de sûreté nationale (DGSN).", 'size': 4}, {'id': '48', 'title': 'Tanger : Arrestation après\xa0un accident avec délit de fuite et conduite dangereuse', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/168506/tanger-arrestation-apres-accident-avec.html', 'summary': 'Tanger : Arrestation après un accident avec délit de fuite et conduite dangereuse. La police de Tanger a interpellé, samedi soir, un individu soupçonné d’implication dans un accident de la circulation avec délit de fuite et conduite dangereuse mettant en péril la sécurité des usagers de la route, indique un communiqué de la Direction générale de sûreté nationale (DGSN).', 'size': 4}, {'id': '111', 'title': "Tanger : arrestation d'un chauffard impliqué dans un accident de la route avec délit de fuite", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/09/tanger-arrestation-du-chauffard-implique-dans-un-accident-de-la-route-avec-delit-de-fuite_1936732/', 'summary': "Tanger : arrestation d'un chauffard impliqué dans un accident de la route avec délit de fuite. La police de Tanger a interpellé, samedi soir, un individu soupçonné d’implication dans un accident de la circulation avec délit de fuite et conduite dangereuse mettant en péril la sécurité des usagers de la route, indique un communiqué de la Direction générale de sûreté nationale (DGSN). Les services de sûreté ont interagi en toute célérité.", 'size': 4}], 'main_title': 'Un chauffard soupçonné de délit de fuite et conduite dangereuse arrêté à Tanger'}, {'community_id': '2', 'articles': [{'id': '5', 'title': "Fès: La FRMF organise une réception en l'honneur d'anciens internationaux marocains", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427891-fes-la-frmf-organise-une-reception-en-lhonneur-danciens-internationaux-marocains.html', 'summary': "Fès: La FRMF organise une réception en l'honneur d'anciens internationaux marocains. Une réception a été organisée, dimanche à Fès, par la Fédération royale marocaine de football (FRMF), en l’honneur d’anciens internationaux marocains ayant porté les maillots du COD Meknès et du Maghreb de Fès. Organisé à la résidence des Lions de l’Atlas à Fès, la veille du match amical devant les opposer à leurs homologues béninois . ", 'size': 2}, {'id': '46', 'title': "Fès : La FRMF tient une réception en l'honneur d'anciens internationaux marocains", 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/168515/frmf-tient-reception-l-honneur-d-anciens.html', 'summary': "Fès : La FRMF tient une réception en l'honneur d'anciens internationaux marocains. Une réception a été organisée, dimanche à Fès, par la Fédération royale marocaine de football (FRMF), en lhonneur danciens internationaux marocains ayant porté les maillots du COD Meknès et du Maghreb de Fès.", 'size': 2}], 'main_title': "Fès: La FRMF organise une réception en l'honneur d'anciens internationaux marocains"}, {'community_id': '9', 'articles': [{'id': '6', 'title': "Conférence de l'ONU sur l’Océan: La Princesse Lalla Hasnaa prend part à Nice au dîner offert par le Président français", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427883-conference-de-lonu-sur-locean-la-princesse-lalla-hasnaa-prend-part-a-nice-au-diner-offert-par-le-president-francais.html', 'summary': "Conférence de l'ONU sur l’Océan: La Princesse Lalla Hasnaa prend part à Nice au dîner offert par le Président français. La Princesse Lalla Hasnaa, qui représente le Roi Mohammed VI à la 3e conférence des Nations Unies sur l’Océan, a pris part, dimanche à Nice, au dîner offert par le Président de la République française, Emmanuel Macron et Mme Brigitte Macron en l’honneur des chefs d’Etat et de gouvernement participant à cette Conférence. La Princesse . ", 'size': 4}, {'id': '41', 'title': 'Conférence de l’ONU sur l’Océan: SAR la Princesse Lalla Hasnaa prend part à Nice au dîner offert par le Président français', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/conference-de-lonu-sur-locean-sar-la-princesse-lalla-hasnaa-prend-part-a-nice-au-diner-offert-par-le-president-francais-304306/', 'summary': 'Conférence de l’ONU sur l’Océan: SAR la Princesse Lalla Hasnaa prend part à Nice au dîner offert par le Président français. Son Altesse Royale la Princesse Lalla Hasnaa, qui représente Sa Majesté le Roi Mohammed VI à la 3e conférence des Nations Unies sur l’Océan, a pris part, dimanche à Nice, au dîner offert par le Président de la République française, M. Emmanuel Macron et Mme Brigitte Macron en l’honneur des', 'size': 4}, {'id': '61', 'title': 'Conférence sur l’Océan : S.A.R. la Princesse Lalla Hasnaa au dîner présidentiel à Nice', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/conference-sur-locean-s-a-r-la-princesse-lalla-hasnaa-au-diner-presidentiel-a-nice/', 'summary': 'Conférence sur l’Océan : S.A.R. la Princesse Lalla Hasnaa au dîner présidentiel à Nice. Son Altesse Royale la Princesse Lalla Hasnaa, qui représente Sa Majesté le Roi Mohammed VI à la 3e conférence des Nations Unies sur l’Océan, a pris part, dimanche à Nice, au dîner offert par le Président de la République française, M. Emmanuel Macron et Mme Brigitte Macron en l’honneur des chefs d’Etat et de gouvernement .', 'size': 4}, {'id': '72', 'title': 'Conférence de l’ONU sur l’Océan | La Princesse Lalla Hasnaa prend part au dîner offert par le Président français', 'source': 'www.lereporter.ma', 'link': 'https://www.lereporter.ma/conference-de-lonu-sur-locean-la-princesse-lalla-hasnaa-prend-part-au-diner-offert-par-le-president-francais/', 'summary': 'Conférence de l’ONU sur l’Océan | La Princesse Lalla Hasnaa prend part au dîner offert par le Président français. Son Altesse Royale la Princesse Lalla Hasnaa, qui représente Sa Majesté le Roi Mohammed VI à la 3e conférence des Nations Unies sur l’Océan, a pris part, dimanche à Nice, au dîner offert par le Président de la République française, M. Emmanuel Macron et Mme Brigitte Macron en l’honneur des chefs d’Etat et de gouvernement ', 'size': 4}], 'main_title': "Conférence de l'ONU sur l’Océan: La Princesse Lalla Hasnaa prend part à Nice au dîner offert par le Président français"}, {'community_id': '4', 'articles': [{'id': '7', 'title': "Le Portugal remporte Ligue des nations face à l'Espagne", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427903-le-portugal-remporte-ligue-des-nations-face-a-lespagne.html', 'summary': "Le Portugal remporte Ligue des nations face à l'Espagne. Le Portugal, qui a été mené deux fois au score, a renversé l’Espagne et s’est imposé aux tirs au but (2-2, a.p, 5 tab à 3) dimanche en finale de la Ligue des nations, remportant la compétition pour la deuxième fois de son histoire. Mené par la Roja sur des buts de Martin Zubimendi (21e) . ", 'size': 3}, {'id': '10', 'title': "Le Portugal remporte la Ligue des nations en battant l'Espagne aux tirs au but", 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/le-portugal-bat-lespagne-aux-tirs-au-but-et-remporte-la-ligue-des-nations/284400', 'summary': "Le Portugal remporte la Ligue des nations en battant l'Espagne aux tirs au but. Mené par la Roja sur des buts de Martin Zubimendi (21e) et Mikel Oyarzabal (45e), le Portugal est chaque fois revenu au score grâce à des réalisations de Nuno Mendes (26e) et de l.", 'size': 3}, {'id': '135', 'title': 'Ligue des nations: Nuno Mendes porte le Portugal au sommet en renversant l’Espagne', 'source': 'lnt.ma', 'link': 'https://lnt.ma/ligue-des-nations-nuno-mendes-porte-le-portugal-au-sommet-en-renversant-lespagne/', 'summary': 'Ligue des nations: Nuno Mendes porte le Portugal au sommet en renversant l’Espagne. Porté par un grand Nuno Mendes, le Portugal a renversé l’Espagne pour s’imposer aux tirs au but dimanche en finale de la Ligue des nations après avoir été mené à deux reprises et fait tomber les champions d’Europe de leur piédestal. Le Portugal est la première nation à remporter à deux reprises la Ligue . ', 'size': 3}], 'main_title': "Le Portugal remporte Ligue des nations face à l'Espagne"}, {'community_id': '7', 'articles': [{'id': '8', 'title': "Tennis: Au bout du suspense, Alcaraz renverse Sinner pour s'offrir un 2e Roland-Garros d'affilée", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427880-tennis-au-bout-du-suspense-alcaraz-renverse-sinner-pour-soffrir-un-2e-roland-garros-daffilee.html', 'summary': "Tennis: Au bout du suspense, Alcaraz renverse Sinner pour s'offrir un 2e Roland-Garros d'affilée. Mené deux sets à rien et contraint de sauver trois balles de match, l’Espagnol Carlos Alcaraz a renversé le N.1 mondial Jannik Sinner au bout d’un match haletant pour s’offrir dimanche à 22 ans son deuxième Roland-Garros d’affilée. Au terme de la plus longue finale du tournoi depuis le début de l’ère Open (5h29), le . ", 'size': 2}, {'id': '71', 'title': 'L’Espagnol Carlos Alcaraz remporte la finale de Roland-Garros contre Sinner', 'source': 'atlasinfo.fr', 'link': 'https://atlasinfo.fr/lespagnol-carlos-alcaraz-remporte-la-finale-de-roland-garros-contre-sinner.html', 'summary': 'L’Espagnol Carlos Alcaraz remporte la finale de Roland-Garros contre Sinner. L’Espagnol Carlos Alcaraz, tenant du titre, a remporté, dimanche, la finale masculine de Roland-Garros, en battant l’Italien Jannik Sinner en cinq sets (4-6, 6-7, 6-4, 7-6, 7-6), au terme d’un match d’une rare intensité sur le court Philippe-Chatrier en 5h 30min de jeu, le plus long dans l’histoire des Internationaux de France. Mené deux manches . L’article est apparu en premier sur .', 'size': 2}], 'main_title': "Tennis: Au bout du suspense, Alcaraz renverse Sinner pour s'offrir un 2e Roland-Garros d'affilée"}, {'community_id': '6', 'articles': [{'id': '16', 'title': 'Le match amical Maroc-Bénin à guichets fermés (FRMF)', 'source': 'lematin.ma', 'link': 'https://lematin.ma/sports/le-match-amical-maroc-benin-a-guichets-fermes-frmf/284349', 'summary': "Le match amical Maroc-Bénin à guichets fermés (FRMF). Par ailleurs, le Comité d'organisation invite les supporters qui se rendront au Stade à respecter le dispositif organisationnel et sécuritaire mis en place afin d’assurer.", 'size': 4}, {'id': '49', 'title': 'Match amical : La rencontre Maroc - Bénin se tient à guichets fermés (FRMF)', 'source': 'www.yabiladi.com', 'link': 'https://www.yabiladi.com/articles/details/168503/match-amical-rencontre-maroc-benin-tient.html', 'summary': 'Match amical : La rencontre Maroc - Bénin se tient à guichets fermés (FRMF). Le match amical qui opposera le Maroc et le Bénin, lundi au Complexe sportif de Fès, se jouer à guichets fermés après la vente de tous les billets” a annoncé la Commission d’organisation de cette rencontre.', 'size': 4}, {'id': '52', 'title': 'Amical: Maroc-Bénin à guichets fermés', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/une/amical-maroc-benin-a-guichets-fermes', 'summary': 'Amical: Maroc-Bénin à guichets fermés. Le match amical qui opposera le Maroc et le Bénin, lundi au Complexe sportif de Fès, « se jouera à guichets fermés après la vente de tous les billets », a annoncé la Commission d’organisation de cette rencontre. Par ailleurs, le Comité d’organisation « invite les supporters qui se rendront au Stade à respecter le dispositif organisationnel et .', 'size': 5}, {'id': '68', 'title': 'Amical: Maroc-Bénin à guichets fermés (FRMF)', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/amical-maroc-benin-a-guichets-fermes-frmf/', 'summary': 'Amical: Maroc-Bénin à guichets fermés (FRMF). Le match amical qui opposera le Maroc et le Bénin, lundi au Complexe sportif de Fès, « se jouera à guichets fermés après la vente de tous les billets », a annoncé la Commission d’organisation de cette rencontre. Par ailleurs, le Comité d’organisation « invite les supporters qui se rendront au Stade à respecter le dispositif organisationnel et .', 'size': 5}, {'id': '113', 'title': 'FRMF : le match amical Maroc-Bénin se jouera à guichets fermés', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/09/frmf-le-match-amical-maroc-benin-se-jouera-a-guichets-fermes_1936735/', 'summary': 'FRMF : le match amical Maroc-Bénin se jouera à guichets fermés. Le match amical qui opposera le Maroc et le Bénin, ce lundi au Complexe sportif de Fès, « se jouera à guichets fermés après la vente de tous les billets », a annoncé la Commission d’organisation de cette rencontre. Par ailleurs, le Comité d’organisation « invite les supporters qui se rendront au stade à respecter le dispositif organisationnel.', 'size': 5}], 'main_title': 'Amical: Maroc-Bénin à guichets fermés'}, {'community_id': '8', 'articles': [{'id': '25', 'title': "Sommet sur l'Océan à Nice : le Maroc porte la voix de l’Afrique", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Sommet-sur-l-Ocean-a-Nice-le-Maroc-porte-la-voix-de-l-Afrique_a68458.html', 'summary': "Sommet sur l'Océan à Nice : le Maroc porte la voix de l’Afrique. La capitale azurienne s’apprête à accueillir, du 9 au 13 juin, la 3è Conférence des Nations unies sur l’Océan (UNOC-3), une occasion pour faire entendre la voix africaine pour le développement d'une économie bleue inclusive et durable, au cœur des préoccupations du Maroc, doté d'une feuille de route ambitieuse dans ce domaine.", 'size': 3}, {'id': '43', 'title': 'Le Maroc à Nice en porte-voix de l’Afrique à la Conférence de l’ONU sur l’océan', 'source': 'www.challenge.ma', 'link': 'https://www.challenge.ma/le-maroc-a-nice-en-porte-voix-de-lafrique-a-la-conference-de-lonu-sur-locean-304299/', 'summary': 'Le Maroc à Nice en porte-voix de l’Afrique à la Conférence de l’ONU sur l’océan. La capitale azurienne s’apprête à accueillir, du 9 au 13 juin, la 3è Conférence des Nations unies sur l’Océan (UNOC-3), une occasion pour faire entendre la voix africaine pour le développement d’une économie bleue inclusive et durable, au cœur des préoccupations du Maroc, doté d’une feuille de route ambitieuse dans', 'size': 3}, {'id': '74', 'title': '3ᵉ Conférence des Nations unies sur l’Océan, le Maroc veut porter la voix de l’Afrique', 'source': 'lnt.ma', 'link': 'https://lnt.ma/3%e1%b5%89-conference-des-nations-unies-sur-locean-le-maroc-veut-porter-la-voix-de-lafrique/', 'summary': '3ᵉ Conférence des Nations unies sur l’Océan, le Maroc veut porter la voix de l’Afrique. Le Royaume du Maroc prendra part, du 9 au 13 juin à Nice, à la troisième Conférence des Nations unies sur l’Océan (UNOC-3), en co-présidant, aux côtés de la France, le sommet « Afrique pour l’Océan ». Cette rencontre de haut niveau vise à mettre en avant les perspectives du continent africain en matière de . ', 'size': 3}], 'main_title': "Sommet sur l'Océan à Nice : le Maroc porte la voix de l’Afrique"}, {'community_id': '3', 'articles': [{'id': '26', 'title': "7 morts dans un accident près d'El Kelâa des Sraghna", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/7-morts-dans-un-accident-pres-d-El-Kelaa-des-Sraghna_a68456.html', 'summary': "7 morts dans un accident près d'El Kelâa des Sraghna. Sept personnes ont trouvé la mort dans un accident survenu, dimanche, sur la route nationale N23, au niveau de la commune de Sour El Aaz (Caïdat Sahrij), suite au renversement d’un triporteur avec 14 individus à bord se dirigeant vers un site d'estivage, ont annoncé les autorités locales.", 'size': 3}, {'id': '51', 'title': '7 morts dans un accident sur la route nationale N23 près d’El Kelaa des Sraghna', 'source': 'aujourdhui.ma', 'link': 'https://aujourdhui.ma/actualite/7-morts-dans-un-accident-sur-la-route-nationale-n23-pres-del-kelaa-des-sraghna2', 'summary': '7 morts dans un accident sur la route nationale N23 près d’El Kelaa des Sraghna. Sept personnes ont trouvé la mort dans un accident survenu, dimanche, sur la route nationale N23, au niveau de la commune de Sour El Aaz (Caïdat Sahrij), suite au renversement d’un triporteur avec 14 individus à bord se dirigeant vers un site d’estivage, ont annoncé les autorités locales. Aussitôt alertés, les autorités locales et les .', 'size': 3}, {'id': '65', 'title': 'El Kelâa des Sraghna : 7 morts dans un accident sur la route nationale N23²', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/el-kelaa-des-sraghna-7-morts-dans-un-accident-sur-la-route-nationale-n23%c2%b2/', 'summary': 'El Kelâa des Sraghna : 7 morts dans un accident sur la route nationale N23². Sept personnes ont trouvé la mort dans un accident survenu, dimanche, sur la route nationale N23, au niveau de la commune de Sour El Aaz (Caïdat Sahrij), suite au renversement d’un triporteur avec 14 individus à bord se dirigeant vers un site d’estivage, ont annoncé les autorités locales. Aussitôt alertés, les autorités locales et les .', 'size': 3}], 'main_title': "7 morts dans un accident près d'El Kelâa des Sraghna"}, {'community_id': '5', 'articles': [{'id': '64', 'title': 'El Kelâa des Sraghna: Ouverture d’une enquête sur les circonstances d’un accident ayant coûté la vie à 7 personnes', 'source': 'maroc-diplomatique.net', 'link': 'https://maroc-diplomatique.net/el-kelaa-des-sraghna-ouverture-dune-enquete-sur-les-circonstances-dun-accident-ayant-coute-la-vie-a-7-personnes/', 'summary': 'El Kelâa des Sraghna: Ouverture d’une enquête sur les circonstances d’un accident ayant coûté la vie à 7 personnes. Le procureur général du Roi près le Tribunal de première instance d’El Kelâa des Sraghna a annoncé l’ouverture d’une enquête suite à l’accident survenu, dimanche matin, dans la commune de Sour El Aaz, faisant sept morts et sept blessés. Le parquet a ordonné l’ouverture d’une enquête à ce sujet, le suivi de l’état de santé .', 'size': 3}, {'id': '98', 'title': "El Kelâa des Sraghna: le Parquet ouvre d'une enquête suite à l'accident meurtrier", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/El-Kelaa-des-Sraghna-le-Parquet-ouvre-d-une-enquete-suite-a-l-accident-meurtrier_a68468.html', 'summary': "El Kelâa des Sraghna: le Parquet ouvre d'une enquête suite à l'accident meurtrier. Le procureur général du Roi près le Tribunal de première instance d'El Kelâa des Sraghna a annoncé l'ouverture d'une enquête suite à l'accident survenu, dimanche matin, dans la commune de Sour El Aaz, faisant sept morts et sept blessés.", 'size': 3}, {'id': '112', 'title': 'El Kelâa des Sraghna : enquête ouverte sur un accident ayant coûté la vie à 7 personnes', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/09/el-kelaa-des-sraghna-enquete-ouverte-sur-un-accident-ayant-coute-la-vie-a-7-personnes_1936730/', 'summary': 'El Kelâa des Sraghna : enquête ouverte sur un accident ayant coûté la vie à 7 personnes. Le procureur général du roi près le tribunal de première instance d’El Kelâa des Sraghna a annoncé l’ouverture d’une enquête suite à l’accident survenu, dimanche matin, dans la commune de Sour El Aaz, faisant sept morts et sept blessés. Le parquet a ordonné l’ouverture d’une enquête à ce sujet, le suivi de l’état de santé.', 'size': 3}], 'main_title': 'El Kelâa des Sraghna: Ouverture d’une enquête sur les circonstances d’un accident ayant coûté la vie à 7 personnes'}, {'community_id': '1', 'articles': [{'id': '83', 'title': "Les passagers du 'Bateau pour Gaza' intercepté par Israël invités à retourner chez eux", 'source': 'fr.hespress.com', 'link': 'https://fr.hespress.com/427915-les-passagers-du-bateau-pour-gaza-intercepte-par-israel-invites-a-retourner-chez-eux.html', 'summary': "Les passagers du 'Bateau pour Gaza' intercepté par Israël invités à retourner chez eux. Le bateau humanitaire Madleen qui tentait de rallier Gaza avec à son bord notamment l’activiste suédoise Greta Thunberg a été dérouté dans la nuit de dimanche à lundi par les autorités israéliennes, qui ont invité ses passagers à « retourner dans leurs pays ». Le voilier « fait route en toute sécurité vers les côtes d’Israël. Il est . ", 'size': 4}, {'id': '97', 'title': "Bateau Humanitaire à Gaza : Israël met fin à l'aventure de Rima Hassan et Greta Thunberg", 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Bateau-Humanitaire-a-Gaza-Israel-met-fin-a-l-aventure-de-Rima-Hassan-et-Greta-Thunberg_a68469.html', 'summary': "Bateau Humanitaire à Gaza : Israël met fin à l'aventure de Rima Hassan et Greta Thunberg. La Marine israélienne a intercepté et dérouté lundi le bateau Madleen transportant de l'aide humanitaire pour Gaza qui tentait de rallier le territoire palestinien assiégé avec à son bord des militants parmi lesquels la Suédoise Greta Thunberg.", 'size': 4}, {'id': '115', 'title': "Israël intercepte le bateau humanitaire pour Gaza, l'ONG dénonce une violation des lois internationales", 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/09/israel-intercepte-le-bateau-humanitaire-pour-gaza-long-denonce-une-violation-des-lois-internationales_1936720/', 'summary': "Israël intercepte le bateau humanitaire pour Gaza, l'ONG dénonce une violation des lois internationales. Le bateau humanitaire Madleen qui tentait de rallier Gaza avec à son bord notamment l’activiste suédoise Greta Thunberg a été dérouté dans la nuit de dimanche à lundi par les autorités israéliennes, qui ont invité ses passagers à « retourner dans leurs pays ». Le voilier « fait route en toute sécurité vers les côtes d’Israël. Il est.", 'size': 4}, {'id': '136', 'title': 'Israël a intercepté un bateau pour Gaza, dérouté vers un de ses ports', 'source': 'lnt.ma', 'link': 'https://lnt.ma/israel-a-intercepte-un-bateau-pour-gaza-deroute-vers-un-de-ses-ports/', 'summary': 'Israël a intercepté un bateau pour Gaza, dérouté vers un de ses ports. La marine israélienne a intercepté et dérouté lundi le bateau Madleen transportant de l’aide humanitaire pour Gaza qui tentait de rallier le territoire palestinien assiégé avec à son bord des militants parmi lesquels la Suédoise Greta Thunberg. Le voilier avec à son bord 12 militants français, allemand, brésilien, turc, suédois, espagnol et néerlandais, était parti . ', 'size': 4}], 'main_title': "Les passagers du 'Bateau pour Gaza' intercepté par Israël invités à retourner chez eux"}, {'community_id': '10', 'articles': [{'id': '96', 'title': 'Emeutes à Los Angeles : Donald Trump veut envoyer les troupes', 'source': 'www.lopinion.ma', 'link': 'https://www.lopinion.ma/Emeutes-a-Los-Angeles-Donald-Trump-veut-envoyer-les-troupes_a68470.html', 'summary': "Emeutes à Los Angeles : Donald Trump veut envoyer les troupes. La situation restait tendue dans la nuit de dimanche à lundi à Los Angeles après trois jours d'affrontements entre forces de l'ordre et manifestants contre la politique migratoire de Donald Trump, qui affirme que la situation ne cesse de se détériorer dans la mégalopole démocrate et demande l'envoi des troupes.", 'size': 2}, {'id': '109', 'title': 'Heurts à Los Angeles : centre-ville bouclé, Trump maintient la pression', 'source': 'telquel.ma', 'link': 'https://telquel.ma/instant-t/2025/06/09/heurts-a-los-angeles-centre-ville-boucle-trump-maintient-la-pression_1936759/', 'summary': 'Heurts à Los Angeles : centre-ville bouclé, Trump maintient la pression. La situation restait tendue dans la nuit de dimanche à lundi à Los Angeles après trois jours d’affrontements entre forces de l’ordre et manifestants contre la politique migratoire de Donald Trump, qui affirme que la situation ne cesse de se détériorer dans la mégalopole démocrate et demande l’envoi des troupes. Ca a l’air d’aller vraiment.', 'size': 2}], 'main_title': 'Emeutes à Los Angeles : Donald Trump veut envoyer les troupes'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
                        
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ? d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        // Fonction pour cacher le tooltip
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = '';
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
    
    
</body>




</html>
    
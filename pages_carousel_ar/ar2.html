<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 13/08/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '70', 'title': 'موجة حر مع الشركي من غد الأربعاء إلى السبت المقبل بعدد من مناطق المملكة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/204936', 'summary': 'موجة حر مع الشركي من غد الأربعاء إلى السبت المقبل بعدد من مناطق المملكة.  تتوقع المديرية العامة للأرصاد الجوية تسجيل موجة حر مع الشركي، من يوم غد الأربعاء إلى يوم السبت المقبل، بدرجات حرارة تتراوح ما بين 38 و 47 درجة مئوية بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه يرتقب تسجيل درجات حرارة تتراوح ما بين 44 و47 درجة، من', 'size': 5}, {'id': '155', 'title': 'موجة حر مع الشركي تجتاح المغرب من الأربعاء إلى السبت', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/320895/', 'summary': 'موجة حر مع الشركي تجتاح المغرب من الأربعاء إلى السبت. تتوقع المديرية العامة للأرصاد الجوية تسجيل موجة حر مع الشركي، من يوم غد الأربعاء إلى يوم السبت المقبل، بدرجات حرارة تتراوح ما بين 38 و 47 درجة مئوية بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه يرتقب تسجيل درجات حرارة تتراوح ما بين 44 و47 درجة، من غد الأربعاء', 'size': 2}, {'id': '194', 'title': 'نشرة إنذارية/ موجة حر شديد من الأربعاء إلى السبت بعدد من مناطق المملكة', 'source': 'rue20.com', 'link': 'https://rue20.com/928160.html', 'summary': 'نشرة إنذارية/ موجة حر شديد من الأربعاء إلى السبت بعدد من مناطق المملكة.  | الرباط تتوقع المديرية العامة للأرصاد الجوية تسجيل موجة حر مع الشركي، من يوم غد الأربعاء إلى يوم السبت المقبل، بدرجات حرارة تتراوح ما بين 38 و 47 درجة مئوية بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه يرتقب تسجيل درجات حرارة تتراوح ما بين 44 و47 الخبر نشرة إنذارية/ موجة حر شديد من الأربعاء إلى السبت بعدد من مناطق المملكة  .', 'size': 3}, {'id': '204', 'title': 'موجة حر مع الشركي من غد الأربعاء إلى السبت المقبل', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/472436.html', 'summary': 'موجة حر مع الشركي من غد الأربعاء إلى السبت المقبل. تتوقع المديرية العامة للأرصاد الجوية تسجيل موجة حر مع الشركي، من يوم غد الأربعاء إلى يوم السبت المقبل، بدرجات حرارة تتراوح ما بين 38 و 47 درجة مئوية بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه يرتقب تسجيل درجات حرارة تتراوح ما بين 44 و47 درجة، من غد الأربعاء …', 'size': 3}, {'id': '251', 'title': 'نشرة إنذارية.. موجة حر مع الشركي من غدٍ الأربعاء إلى السبت المقبل بعدد من مناطق المملكة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%86%d8%b4%d8%b1%d8%a9-%d8%a5%d9%86%d8%b0%d8%a7%d8%b1%d9%8a%d8%a9-%d9%85%d9%88%d8%ac%d8%a9-%d8%ad%d8%b1-%d9%85%d8%b9-%d8%a7%d9%84%d8%b4%d8%b1%d9%83%d9%8a-%d9%85%d9%86-%d8%ba%d8%af%d9%8d-%d8%a7/', 'summary': 'نشرة إنذارية.. موجة حر مع الشركي من غدٍ الأربعاء إلى السبت المقبل بعدد من مناطق المملكة. تتوقع المديرية العامة للأرصاد الجوية تسجيل موجة حر مع الشركي، من يوم غد الأربعاء إلى يوم السبت المقبل، بدرجات حرارة تتراوح ما بين 38 و 47 درجة مئوية بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه يرتقب تسجيل درجات حرارة تتراوح ما بين 44 و47 درجة، من …  نشرة إنذارية.. موجة حر مع الشركي من غدٍ الأربعاء إلى السبت المقبل بعدد من مناطق المملكة     .', 'size': 4}], 'main_title': 'موجة حر مع الشركي من غد الأربعاء إلى السبت المقبل بعدد من مناطق المملكة'}, {'community_id': '1', 'articles': [{'id': '99', 'title': 'وكالة الأدوية توضح حقيقة نقص أكثر من 600 دواء مخصص لعلاج الأمراض المزمنة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/410942.html', 'summary': 'وكالة الأدوية توضح حقيقة نقص أكثر من 600 دواء مخصص لعلاج الأمراض المزمنة. نفت الوكالة المغربية للأدوية والمنتجات الصحية صحة ما نشرته بعض المنابر الإعلامية بخصوص ادعاء وجود ندرة تمس أزيد من 600 دواء موجها لعلاج أمراض مزمنة. وأوضحت', 'size': 3}, {'id': '157', 'title': 'وكالة الأدوية تكشف حقيقة انقطاع أزيد من 600 دواء للأمراض المزمنة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/320892/', 'summary': 'وكالة الأدوية تكشف حقيقة انقطاع أزيد من 600 دواء للأمراض المزمنة. نفت الوكالة المغربية للأدوية والمنتجات الصحية صحة ما نشرته بعض المنابر الإعلامية بخصوص ادعاء وجود ندرة تمس أزيد من 600 دواء موجها لعلاج أمراض مزمنة. وأوضحت الوكالة المغربية للأدوية والمنتجات الصحية في بلاغ لها، أنها “باعتبارها السلطة الوطنية المختصة بتنظيم ومراقبة القطاع الدوائي، تعرب عن استغرابها من الأرقام المتداولة، والتي لو كانت صحيحة لكان لذلك', 'size': 4}, {'id': '208', 'title': 'هيئة تكشف مستجدات المنتجات الصحية وتغطية السوق الدوائي الوطني', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/472422.html', 'summary': 'هيئة تكشف مستجدات المنتجات الصحية وتغطية السوق الدوائي الوطني. ردت الوكالة المغربية للأدوية والمنتجات الصحية، عن ندرة أزيد من 600 دواء موجه لعلاج أمراض مزمنة. وأوضحت الوكالة المغربية للأدوية أنه بخصوص إدعاء وجود ندرة تمس أكثر من 600 دواء مستعمل في علاج أمراض مزمنة، فإنها باعتبارها السلطة الوطنية المختصة بتنظيم ومراقبة القطاع الدوائي، تعرب عن استغرابها من الأرقام المتداولة، والتي لو كانت صحيحة لكان …', 'size': 3}, {'id': '239', 'title': 'الوكالة المغربية للأدوية تنفي  ندرة 600 دواء مخصص لأمراض مزمنة', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a7%d9%84%d9%88%d9%83%d8%a7%d9%84%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a%d8%a9-%d9%84%d9%84%d8%a3%d8%af%d9%88%d9%8a%d8%a9-%d8%aa%d9%86%d9%81%d9%8a-%d9%86%d8%af%d8%b1%d8%a9-600-%d8%af/', 'summary': 'الوكالة المغربية للأدوية تنفي ندرة 600 دواء مخصص لأمراض مزمنة. المساء اليوم – الرباط: نفت الوكالة المغربية للأدوية والمنتجات الصحية ما تم تداوله مؤخرا وجود ندرة تمس أكثر من 600 دواء مستعمل في علاج أمراض مزمنة. وقالت الوكالة في بيان لها إنها “باعتبارها السلطة الوطنية', 'size': 2}, {'id': '263', 'title': 'الوكالة المغربية للأدوية تخرج عن صمتها حول ندرة أزيد من 600 دواء موجه لعلاج أمراض مزمنة', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/الوكالة-المغربية-للأدوية-تخرج-عن-صمتها-حول-ندرة-أزيد-من-600-دواء_a29136.html', 'summary': 'الوكالة المغربية للأدوية تخرج عن صمتها حول ندرة أزيد من 600 دواء موجه لعلاج أمراض مزمنة. *العلم الإلكترونية* على إثر ما نشرته بعض المنابر الإعلامية بخصوص ادعاء وجود ندرة تمس أكثر من 60...', 'size': 3}], 'main_title': 'وكالة الأدوية تكشف حقيقة انقطاع أزيد من 600 دواء للأمراض المزمنة'}, {'community_id': '5', 'articles': [{'id': '106', 'title': 'النيابة العامة بالرباط تقرر متابعة ابتسام لشكر في حالة اعتقال وإحالتها على المحاكمة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/410949.html', 'summary': 'النيابة العامة بالرباط تقرر متابعة ابتسام لشكر في حالة اعتقال وإحالتها على المحاكمة. قررت النيابة العامة بالمحكمة الابتدائية بالرباط متابعة الناشطة ابتسام لشكر في حالة اعتقال، وأمرت بإحالتها إلى جلسة المحاكمة. وكانت لشكر قد مثلت أمام النيابة العامة صباح', 'size': 3}, {'id': '150', 'title': 'لشكر خلف قضبان العرجات بتهمة الإساءة للدين الإسلامي', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/non-classes/320912/', 'summary': 'لشكر خلف قضبان العرجات بتهمة الإساءة للدين الإسلامي. أودعت المحكمة الابتدائية بالرباط، اليوم الثلاثاء، الناشطة النسوية ابتسام لشكر سجن العرجات، بعد قرار متابعتها بتهمة الإساءة إلى الدين الإسلامي عن طريق نشر صور عبر وسائل إلكترونية. ومن المرتقب أن تواصل المحكمة يوم غد الأربعاء، النظر في القضية، التي أثارت منذ لحظة الكشف عنها جدلًا واسعًا في الأوساط الحقوقية والإعلامية وعلى منصات التواصل الاجتماعي. وكانت', 'size': 2}, {'id': '171', 'title': 'متابعة ابتسام لشكر في حالة اعتقال وإحالتها مباشرة على الجلسة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1092473.html', 'summary': 'متابعة ابتسام لشكر في حالة اعتقال وإحالتها مباشرة على الجلسة. قررت النيابة العامة لدى المحكمة الابتدائية بالرباط، اليوم الثلاثاء، متابعة الناشطة ابتسام لشكر في حالة اعتقال، وإحالتها مباشرة على الجلسة للمحاكمة. وكان وكيل الملك لدى المحكمة الابتدائية بالرباط، قد أعلن في وقت سابق عن فتح بحث إثر قيام سيدة بنشر صورة لها بحسابها على إحدى منصات التواصل الاجتماعي تظهر فيها وهي ترتدي قميصا مكتوب عليه ظهرت المقالة متابعة ابتسام لشكر في حالة اعتقال وإحالتها مباشرة على الجلسة  .', 'size': 3}, {'id': '231', 'title': 'النيابة العامة ترفض السراح لابتسام لشكر وتحيلها في حالة اعتقال على المحاكمة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225849/', 'summary': 'النيابة العامة ترفض السراح لابتسام لشكر وتحيلها في حالة اعتقال على المحاكمة. النيابة العامة بالرباط تتابع الناشطة ابتسام لشكر في حالة اعتقال وتحيلها مباشرة على المحاكمة بتهم تتعلق بالإساءة للدين الإسلامي.', 'size': 2}], 'main_title': 'النيابة العامة بالرباط تقرر متابعة ابتسام لشكر في حالة اعتقال وإحالتها على المحاكمة'}, {'community_id': '3', 'articles': [{'id': '132', 'title': 'نجاح طبي غير مسبوق في إفريقيا.. مؤسسة محمد السادس للعلوم والصحة تجري أول عملية زراعة كلية رغم اختلاف فصائل الدم', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%86%d8%ac%d8%a7%d8%ad-%d8%b7%d8%a8%d9%8a-%d8%ba%d9%8a%d8%b1-%d9%85%d8%b3%d8%a8%d9%88%d9%82-%d9%81%d9%8a-%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-%d9%85%d8%a4%d8%b3%d8%b3%d8%a9-%d9%85%d8%ad/', 'summary': 'نجاح طبي غير مسبوق في إفريقيا.. مؤسسة محمد السادس للعلوم والصحة تجري أول عملية زراعة كلية رغم اختلاف فصائل الدم. أعلنت مؤسسة محمد السادس للعلوم والصحة، اليوم الثلاثاء (12 غشت) بالدار البيضاء، عن إجراء بنجاح، أول عملية زراعة كلية مع عدم توافق فصائل الدم ABO على مستوى القارة الإفريقية. ويعد هذا التدخل الجراحي الهام، الذي مكن من زراعة كلية بين متبرع ومتلق غير متطابقين في فصيلة الدم، تقدما طبيا كبيرا، وثمرة تنسيق وثيق بين مصالح', 'size': 3}, {'id': '380', 'title': 'فريق طبي مغربي ينجز أول عملية زراعة كلية مع عدم توافق فصائل الدم ABO على المستوى القاري', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/472474.html', 'summary': 'فريق طبي مغربي ينجز أول عملية زراعة كلية مع عدم توافق فصائل الدم ABO على المستوى القاري. أعلنت مؤسسة محمد السادس للعلوم والصحة، أمس الثلاثاء بالدار البيضاء، عن إجراء بنجاح، أول عملية زراعة كلية مع عدم توافق فصائل الدم ABO على مستوى القارة الإفريقية.', 'size': 3}, {'id': '399', 'title': 'مؤسسة محمد السادس للعلوم والصحة تنجح في أول عملية زراعة كِلية مع عدم توافق فصائل الدم', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d8%a4%d8%b3%d8%b3%d8%a9-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%84%d9%84%d8%b9%d9%84%d9%88%d9%85-%d9%88%d8%a7%d9%84%d8%b5%d8%ad%d8%a9-%d8%aa%d9%86%d8%ac%d8%ad-%d9%81/', 'summary': 'مؤسسة محمد السادس للعلوم والصحة تنجح في أول عملية زراعة كِلية مع عدم توافق فصائل الدم. كشفت مؤسسة محمد السادس للعلوم والصحة، يوم أمس الثلاثاء بالدار البيضاء، عن إجراء بنجاح، أول عملية زراعة كلية مع عدم توافق فصائل الدم ABO على مستوى القارة الإفريقية. ويعتبر هذا التدخل الجراحي الهام ، الذي مكّن من زراعة كِلية بين متبرع ومتلق غير متطابقين في فصيلة الدم، تقدما طبيا كبيرا، وثمرة تنسيق وثيق …  مؤسسة محمد السادس للعلوم والصحة تنجح في أول عملية زراعة كِلية مع عدم توافق فصائل الدم     .', 'size': 3}], 'main_title': 'نجاح طبي غير مسبوق في إفريقيا.. مؤسسة محمد السادس للعلوم والصحة تجري أول عملية زراعة كلية رغم اختلاف فصائل الدم'}, {'community_id': '4', 'articles': [{'id': '135', 'title': 'الرباط.. إيداع ابتسام لشكر السجن ومتابعتها بتهمة الإساءة للدين', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b1%d8%a8%d8%a7%d8%b7-%d8%a5%d9%8a%d8%af%d8%a7%d8%b9-%d8%a7%d8%a8%d8%aa%d8%b3%d8%a7%d9%85-%d9%84%d8%b4%d9%83%d8%b1-%d8%a7%d9%84%d8%b3%d8%ac%d9%86-%d9%88%d9%85%d8%aa%d8%a7%d8%a8%d8%b9/', 'summary': 'الرباط.. إيداع ابتسام لشكر السجن ومتابعتها بتهمة الإساءة للدين. قرر وكيل للملك، اليوم الثلاثاء (12 غشت)، محاكمة الناشطة المغربية المدافعة عن الحريات الفردية ابتسام لشكر في حالة اعتقال بتهمة “الإساءة للدين الإسلامي”، بسبب صورة على مواقع التواصل الاجتماعي اعتبرت مسيئة، وفق ما أفاد مصدر في النيابة العامة. جاء ذلك بعد الاستماع إلى لشكر الموقوفة منذ الأحد من جانب وكيل الملك بالمحكمة الابتدائية بالرباط، ليقرر', 'size': 2}, {'id': '252', 'title': 'النيابة العامة تتابع المدعوة ابتسام لشكر في حالة اعتقال', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%86%d9%8a%d8%a7%d8%a8%d8%a9-%d8%a7%d9%84%d8%b9%d8%a7%d9%85%d8%a9-%d8%aa%d8%aa%d8%a7%d8%a8%d8%b9-%d8%a7%d9%84%d9%85%d8%af%d8%b9%d9%88%d8%a9-%d8%a7%d8%a8%d8%aa%d8%b3%d8%a7%d9%85-%d9%84/', 'summary': 'النيابة العامة تتابع المدعوة ابتسام لشكر في حالة اعتقال. قررت النيابة العامة لدى المحكمة الابتدائية بمدينة الرباط، اليوم الثلاثاء 12 غشت الجاري، متابعة المدعوة ابتسام لشكر في حالة اعتقال، وإحالتها مباشرة على الجلسة للمحاكمة. وكانت النيابة العامة المختصة قد أمرت بوضع ابتسام لشكر رهن تدابير الحراسة النظرية، في انتظار إحالتها عليها، وذلك على خلفية تورطها في الإساءة للذات الإلهية عبر محتوى رقمي …  النيابة العامة تتابع المدعوة ابتسام لشكر في حالة اعتقال     .', 'size': 2}], 'main_title': 'الرباط.. إيداع ابتسام لشكر السجن ومتابعتها بتهمة الإساءة للدين'}, {'community_id': '6', 'articles': [{'id': '156', 'title': 'إدارية البيضاء تطيح ببرلماني الاستقلال بعد 17 سنة على رأس بوسكورة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/320883/', 'summary': 'إدارية البيضاء تطيح ببرلماني الاستقلال بعد 17 سنة على رأس بوسكورة. شهدت جماعة بوسكورة، التابعة لإقليم النواصر، تطوراً سياسياً وإدارياً لافتاً، بعد أن أسدل القضاء الستار على واحد من أكثر الملفات إثارة للجدل في المنطقة، بإصدار حكم نهائي يقضي بعزل رئيس المجلس الجماعي بوشعيب طه، رفقة ثلاثة من المستشارين وسبعة موظفين جماعيين، على خلفية ما وُصف باختلالات جسيمة في تدبير الشأن المحلي. القرار، الصادر عن المحكمة', 'size': 2}, {'id': '173', 'title': 'المحكمة الإدارية تعزل رئيس جماعة بوسكورة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1092462.html', 'summary': 'المحكمة الإدارية تعزل رئيس جماعة بوسكورة. أصدرت المحكمة الإدارية بمدينة الدار البيضاء، بتاريخ 12 غشت 2025، حكما ابتدائيا يقضي بعزل رئيس المجلس الجماعي بوشعيب طه، وذلك على خلفية ما اعتبرته المحكمة “اختلالات جسيمة” في تدبير الشأن المحلي. القرار القضائي، الصادر تحت رقم 2025/7107/6284، جاء مشمولا بـ”التنفيذ المعجل”، ما يعني دخوله حيز التنفيذ فورا ودون إمكانية الطعن أو طلب التأجيل، وهو ما ظهرت المقالة المحكمة الإدارية تعزل رئيس جماعة بوسكورة  .', 'size': 2}], 'main_title': 'إدارية البيضاء تطيح ببرلماني الاستقلال بعد 17 سنة على رأس بوسكورة'}, {'community_id': '7', 'articles': [{'id': '183', 'title': 'إيرادات الجمارك تتجاوز 54,7 مليار درهم حتى يوليوز… ونمو لافت في ضرائب المنتجات الطاقية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a5%d9%8a%d8%b1%d8%a7%d8%af%d8%a7%d8%aa-%d8%a7%d9%84%d8%ac%d9%85%d8%a7%d8%b1%d9%83-%d8%aa%d8%aa%d8%ac%d8%a7%d9%88%d8%b2-547-%d9%85%d9%84%d9%8a%d8%a7%d8%b1-%d8%af%d8%b1%d9%87%d9%85-%d8%ad%d8%aa/', 'summary': 'إيرادات الجمارك تتجاوز 54,7 مليار درهم حتى يوليوز… ونمو لافت في ضرائب المنتجات الطاقية. أفادت الخزينة العامة للمملكة أن المداخيل الجمركية الصافية بلغت عند متم يوليوز 2025، أزيد من 54,79 مليار درهم، بزيادة قدرها 5,8 في المائة مقارنة بالفترة نفسها من السنة الماضية. وأوضحت الخزينة في نشرتها الشهرية الأخيرة حول إحصائيات المالية العمومية، أن هذه المداخيل التي تشمل الرسوم الجمركية وضريبة القيمة المضافة على الواردات، وضريبة الاستهلاك الداخلي على  إيرادات الجمارك تتجاوز 54,7 مليار درهم حتى يوليوز… ونمو لافت في ضرائب المنتجات الطاقية     .', 'size': 2}, {'id': '324', 'title': 'منتوجات الفخار الأكثر مبيعا.. ارتفاع صادرات الصناعة التقليدية بنسبة 14 في المائة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%85%d9%86%d8%aa%d9%88%d8%ac%d8%a7%d8%aa-%d8%a7%d9%84%d9%81%d8%ae%d8%a7%d8%b1-%d8%a7%d9%84%d8%a3%d9%83%d8%ab%d8%b1-%d9%85%d8%a8%d9%8a%d8%b9%d8%a7-%d8%a7%d8%b1%d8%aa%d9%81%d8%a7%d8%b9-%d8%b5%d8%a7/', 'summary': 'منتوجات الفخار الأكثر مبيعا.. ارتفاع صادرات الصناعة التقليدية بنسبة 14 في المائة. أفادت كتابة الدولة المكلفة بالصناعة التقليدية والاقتصاد الاجتماعي والتضامني بأن صادرات منتجات الصناعة التقليدية بلغت 737 مليون درهم متم يوليوز، أي بزيادة قدرها 14 في المائة على أساس سنوي. وأوردت كتابة الدولة، في بلاغ، أن منتجات الصناعة التقليدية حققت أداء ملحوظا خلال يوليوز الجاري، حيث ارتفعت بنسبة 34 في المائة مقارنة بالفترة نفسها من السنة', 'size': 2}], 'main_title': 'إيرادات الجمارك تتجاوز 54,7 مليار درهم حتى يوليوز… ونمو لافت في ضرائب المنتجات الطاقية'}, {'community_id': '8', 'articles': [{'id': '186', 'title': 'أساتذة الزنزانة 10: برادة يحسم في ملف الترقية ويؤكد الالتزام باتفاق الحوار الاجتماعي', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a3%d8%b3%d8%a7%d8%aa%d8%b0%d8%a9-%d8%a7%d9%84%d8%b2%d9%86%d8%b2%d8%a7%d9%86%d8%a9-10-%d8%a8%d8%b1%d8%a7%d8%af%d8%a9-%d9%8a%d8%ad%d8%b3%d9%85-%d9%81%d9%8a-%d9%85%d9%84%d9%81-%d8%a7%d9%84%d8%aa/', 'summary': 'أساتذة الزنزانة 10: برادة يحسم في ملف الترقية ويؤكد الالتزام باتفاق الحوار الاجتماعي. قال وزير التربية الوطنية والتعليم الأولي، محمد سعد برادة، إن ملف بعض فئات الموظفين المرتبين في الدرجة 2 السلم (10) حظي باهتمام خاص خلال جولات الحوار القطاعي الاجتماعي التي توجت بالتوقيع على اتفاقي 10 و 26 دجنبر 2023 بين اللجنة الثلاثية الوزارية والنقابات التعليمية الأكثر تمثيلية تحت إشراف رئيس الحكومة. وأشار الوزير، في جوابه عن  أساتذة الزنزانة 10: برادة يحسم في ملف الترقية ويؤكد الالتزام باتفاق الحوار الاجتماعي     .', 'size': 2}, {'id': '290', 'title': 'وزير التربية يؤكد العناية بالمتصرفين', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%aa%d8%b1%d8%a8%d9%8a%d8%a9-%d9%8a%d8%a4%d9%83%d8%af-%d8%a7%d9%84%d8%b9%d9%86%d8%a7%d9%8a%d8%a9-%d8%a8%d8%a7%d9%84%d9%85%d8%aa%d8%b5%d8%b1%d9%81%d9%8a%d9%86-1607811.html', 'summary': 'وزير التربية يؤكد العناية بالمتصرفين. كشف محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة، عن وجود نقاش مع قطاعات حكومية أخرى من أجل منح الموظفين الذين ترتب عن إدماجهم، بصفة متصرفين تربويين، أو تغيير إطارهم، تعويضا تكميليا في حالة وجود نقص في الأجرة التي كانوا يتقاضونها في درجتهم الأصلية في تاريخ الإدماج أو التغيير، طبقا لمقتضيات المادة 89 من  وزير التربية يؤكد العناية بالمتصرفين     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}], 'main_title': 'أساتذة الزنزانة 10: برادة يحسم في ملف الترقية ويؤكد الالتزام باتفاق الحوار الاجتماعي'}, {'community_id': '9', 'articles': [{'id': '202', 'title': 'طنجة.. افتتاح فعاليات الدورة الـ 16 للمخيم الصيفي السنوي لأطفال القدس', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/472438.html', 'summary': 'طنجة.. افتتاح فعاليات الدورة الـ 16 للمخيم الصيفي السنوي لأطفال القدس. و.م.ع افتتحت، اليوم الثلاثاء بطنجة، فعاليات الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس، دورة “حارة المغاربة”، الذي تنظمه وكالة بيت مال القدس الشريف، تحت الرعاية السامية للملك محمد السادس، رئيس لجنة القدس. و قد افتتح المخيم، الذي سيستمر إلى غاية 26 من غشت الجاري بمشاركة 50 طفلة وطفلا من القدس الشريف تتراوح أعمارهم ما …', 'size': 2}, {'id': '394', 'title': 'طنجة تحتضن افتتاح الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%b7%d9%86%d8%ac%d8%a9-%d8%aa%d8%ad%d8%aa%d8%b6%d9%86-%d8%a7%d9%81%d8%aa%d8%aa%d8%a7%d8%ad-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d8%a9-%d8%a7%d9%84%d9%80-16-%d9%84%d9%84%d9%85%d8%ae%d9%8a%d9%85-%d8%a7/', 'summary': 'طنجة تحتضن افتتاح الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس. المساء اليوم – طنجة: افتتحت بطنجة، فعاليات الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس، دورة “حارة المغاربة”، الذي تنظمه وكالة بيت مال القدس الشريف، تحت رعاية الملك محمد السادس، رئيس لجنة القدس. و قد', 'size': 2}], 'main_title': 'طنجة.. افتتاح فعاليات الدورة الـ 16 للمخيم الصيفي السنوي لأطفال القدس'}, {'community_id': '2', 'articles': [{'id': '282', 'title': 'الكاف تعاقب المنتخب المحلي المغربي', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d8%aa%d8%b9%d8%a7%d9%82%d8%a8-%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ad%d9%84%d9%8a-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-1608288.html', 'summary': 'الكاف تعاقب المنتخب المحلي المغربي. أصدرت لجنة الانضباط بالكنفدرالية الإفريقية لكرة القدم “كاف” قرارات تأديبية جديدة مرتبطة ببطولة إفريقيا للاعبين المحليين “شان 2024″، شملت الجامعة الملكية المغربية لكرة القدم، إضافة إلى اتحاديْ كينيا وزامبيا. وأشار بلاغ للجهاز الوصي على كرة القدم بالقارة السمراء أن اللجنة قررت تغريم الجامعة الملكية المغربية للعبة ذاتها مبلغ 5 آلاف دولار، نصفها مع وقف التنفيذ،  الكاف تعاقب المنتخب المحلي المغربي     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '320', 'title': 'في “شان 2024”.  الكاف تُصدر عقوبات تأديبية ضد الجامعة الملكية المغربية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%81%d9%8a-%d8%b4%d8%a7%d9%86-2024-%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d8%aa%d9%8f%d8%b5%d8%af%d8%b1-%d8%b9%d9%82%d9%88%d8%a8%d8%a7%d8%aa-%d8%aa%d8%a3%d8%af%d9%8a%d8%a8%d9%8a%d8%a9/', 'summary': 'في “شان 2024”. الكاف تُصدر عقوبات تأديبية ضد الجامعة الملكية المغربية. أعلنت لجنة الانضباط التابعة للكونفدرالية الإفريقية لكرة القدم “كاف” عن حزمة قرارات تأديبية جديدة مرتبطة ببطولة إفريقيا للاعبين المحليين “شان 2024”، طالت الجامعة الملكية المغربية لكرة القدم واتحادي كينيا وزامبيا. وحسب بلاغ رسمي للكاف، فقد تقرر تغريم الجامعة الملكية المغربية مبلغ 5 آلاف دولار، مع تعليق نصف الغرامة، بسبب ما وُصف بـ“سلوك غير لائق” من', 'size': 2}], 'main_title': 'الكاف تعاقب المنتخب المحلي المغربي'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
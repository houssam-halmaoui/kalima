<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 27/09/2025 - 06h12</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '1', 'articles': [{'id': '5', 'title': 'المغرب يطلق بنيويورك "القطب الرقمي"', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b7%d9%84%d9%82-%d8%a8%d9%86%d9%8a%d9%88%d9%8a%d9%88%d8%b1%d9%83-%d8%a7%d9%84%d9%82%d8%b7%d8%a8-%d8%a7%d9%84%d8%b1%d9%82%d9%85%d9%8a-1630748.html', 'summary': 'المغرب يطلق بنيويورك "القطب الرقمي". انسجاما مع الرؤية المستنيرة للملك محمد السادس، أطلق المغرب رسميا، اليوم الجمعة بنيويورك، “قطب المغرب الرقمي من أجل التنمية المستدامة”، بهدف تسريع وتيرة التحول الرقمي بإفريقيا والمنطقة العربية. جرى إطلاق هذا القطب بمبادرة من وزارة الانتقال الرقمي وإصلاح الإدارة، بشراكة مع برنامج الأمم المتحدة الإنمائي، خلال حفل تم تنظيمه على هامش أشغال الدورة الـ80 للجمعية  المغرب يطلق بنيويورك "القطب الرقمي"     - هسبريس جريدة إلكترونية مغربية .', 'size': 4}, {'id': '23', 'title': 'المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة”(صور)', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-660987.html', 'summary': 'المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة”(صور). انسجاما مع الرؤية المستنيرة للملك محمد السادس، أطلق المغرب رسميا، اليوم الجمعة بنيويورك، “قطب المغرب الرقمي من أجل التنمية المستدامة”، بهدف تسريع وتيرة التحول الرقمي بإفريقيا والمنطقة العربية. وجرى إطلاق هذا القطب بمبادرة من وزارة الانتقال الرقمي وإصلاح الإدارة، بشراكة مع برنامج الأمم المتحدة الإنمائي، خلال حفل تم تنظيمه على هامش أشغال الدورة الـ80 للجمعية', 'size': 5}, {'id': '133', 'title': 'لتسريع التحول الرقمي بإفريقيا والمنطقة العربية.. المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة”', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%84%d8%aa%d8%b3%d8%b1%d9%8a%d8%b9-%d8%a7%d9%84%d8%aa%d8%ad%d9%88%d9%84-%d8%a7%d9%84%d8%b1%d9%82%d9%85%d9%8a-%d8%a8%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-%d9%88%d8%a7%d9%84%d9%85%d9%86%d8%b7/', 'summary': 'لتسريع التحول الرقمي بإفريقيا والمنطقة العربية.. المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة”. انسجاما مع الرؤية المستنيرة لصاحب الجلالة الملك محمد السادس، أطلق المغرب رسميا، اليوم الجمعة (26 شتنبر) بنيويورك، “قطب المغرب الرقمي من أجل التنمية المستدامة”، بهدف تسريع وتيرة التحول الرقمي بإفريقيا والمنطقة العربية. وجرى إطلاق هذا القطب بمبادرة من وزارة الانتقال الرقمي وإصلاح الإدارة، بشراكة مع برنامج الأمم المتحدة الإنمائي، خلال حفل تم تنظيمه على هامش', 'size': 5}, {'id': '195', 'title': 'لتسريع التحول الرقمي بإفريقيا والمنطقة العربية.. المغرب يطلق بنيويورك “قطب المغرب الرقمي للتنمية المستدامة”', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/476919.html', 'summary': 'لتسريع التحول الرقمي بإفريقيا والمنطقة العربية.. المغرب يطلق بنيويورك “قطب المغرب الرقمي للتنمية المستدامة”. انسجاما مع الرؤية المستنيرة للملك محمد السادس، أطلق المغرب رسميا، الجمعة بنيويورك، "قطب المغرب الرقمي من أجل التنمية المستدامة"، بهدف تسريع وتيرة التحول الرقمي بإفريقيا والمنطقة العربية.', 'size': 4}, {'id': '246', 'title': 'المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة” لتسريع التحول الرقمي بإفريقيا والمنطقة العربية (صورة)', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b7%d9%84%d9%82-%d8%a8%d9%86%d9%8a%d9%88%d9%8a%d9%88%d8%b1%d9%83-%d9%82%d8%b7%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%a7%d9%84%d8%b1%d9%82%d9%85/', 'summary': 'المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة” لتسريع التحول الرقمي بإفريقيا والمنطقة العربية (صورة). أعطى المغرب رسميا، اليوم الجمعة بنيويورك، انسجاما مع الرؤية المستنيرة للملك محمد السادس، انطلاقة قطب المغرب الرقمي من أجل التنمية المستدامة”، بهدف تسريع وتيرة التحول الرقمي بإفريقيا والمنطقة العربية. وتم إطلاق هذا القطب بمبادرة من وزارة الانتقال الرقمي وإصلاح الإدارة، بشراكة مع برنامج الأمم المتحدة الإنمائي، خلال حفل تم تنظيمه على هامش أشغال …  المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة” لتسريع التحول الرقمي بإفريقيا والمنطقة العربية (صورة)     .', 'size': 5}], 'main_title': 'المغرب يطلق بنيويورك “قطب المغرب الرقمي من أجل التنمية المستدامة”(صور)'}, {'community_id': '8', 'articles': [{'id': '21', 'title': 'الطقس غدا السبت.. الحرارة نسبياً مرتفعة مع ضباب وأمطار خفيفة بالسواحل', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-660996.html', 'summary': 'الطقس غدا السبت.. الحرارة نسبياً مرتفعة مع ضباب وأمطار خفيفة بالسواحل. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد السبت، أن يظل الطقس حارا نسبيا بكل من أقصى الجنوب والجنوب-الشرقي للمملكة. كما يرتقب تشكل سحب منخفضة، خلال الصباح والليل، بالقرب من سواحل المحيط الأطلسي الشمالية والوسطى، وكذا بسواحل البحر الأبيض المتوسط، حيث ستكون مصحوبة بكتل من الضباب أو ببعض الأمطار الجد خفيفة محليا. وسيلاحظ تسجيل هبات', 'size': 2}, {'id': '325', 'title': 'طقس السبت: حرارة ورياح قوية وتطاير غبار بهذه الأقاليم المغربية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-591182.html', 'summary': 'طقس السبت: حرارة ورياح قوية وتطاير غبار بهذه الأقاليم المغربية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد السبت، أن يظل الطقس حارا نسبيا بكل من أقصى الجنوب والجنوب-الشرقي للمملكة. كما يرتقب تشكل سحب منخفضة، خلال الصباح والليل، بالقرب من سواحل المحيط الأطلسي الشمالية والوسطى، وكذا بسواحل البحر الأبيض المتوسط، حيث ستكون مصحوبة بكتل من الضباب أو ببعض الأمطار الجد خفيفة محليا.', 'size': 2}], 'main_title': 'الطقس غدا السبت.. الحرارة نسبياً مرتفعة مع ضباب وأمطار خفيفة بالسواحل'}, {'community_id': '5', 'articles': [{'id': '43', 'title': 'البيضاء.. أمن مولاي رشيد يوقف متهماً بتخريب سيارات في الشارع العام', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-660931.html', 'summary': 'البيضاء.. أمن مولاي رشيد يوقف متهماً بتخريب سيارات في الشارع العام. هبة بريس تمكنت عناصر الشرطة بمنطقة أمن مولاي رشيد بمدينة الدار البيضاء، صباح يومه الجمعة 26 شتنبر الجاري، من توقيف شخص يبلغ من العمر 22 سنة، من ذوي السوابق القضائية، وذلك للاشتباه في تورطه في قضية تتعلق بإلحاق خسائر مادية بممتلكات خاصة. وكانت مصالح الشرطة بمدينة الدار البيضاء قد توصلت بإشعار حول تورط شخص في', 'size': 3}, {'id': '106', 'title': 'الدار البيضاء..توقيف شاب من ذوي السوابق بعد تخريب سيارات بالشارع العام', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/413423.html', 'summary': 'الدار البيضاء..توقيف شاب من ذوي السوابق بعد تخريب سيارات بالشارع العام. تمكنت عناصر الشرطة بمنطقة أمن مولاي رشيد بمدينة الدار البيضاء، صباح يومه الجمعة 26 شتنبر الجاري، من توقيف شخص يبلغ من العمر 22 سنة، من', 'size': 3}, {'id': '152', 'title': 'أمن مولاي رشيد يوقف عشرينيا خرب سيارات بالدار البيضاء', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/324506/', 'summary': 'أمن مولاي رشيد يوقف عشرينيا خرب سيارات بالدار البيضاء. تمكنت عناصر الشرطة بمنطقة أمن مولاي رشيد بمدينة الدار البيضاء، صباح يومه الجمعة 26 شتنبر الجاري، من توقيف شخص يبلغ من العمر 22 سنة، من ذوي السوابق القضائية، وذلك للاشتباه في تورطه في قضية تتعلق بإلحاق خسائر مادية بممتلكات خاصة. وكانت مصالح الشرطة بمدينة الدار البيضاء قد توصلت بإشعار حول تورط شخص في حالة غير', 'size': 3}], 'main_title': 'البيضاء.. أمن مولاي رشيد يوقف متهماً بتخريب سيارات في الشارع العام'}, {'community_id': '4', 'articles': [{'id': '87', 'title': 'افتتاح نهائيات الدورة السادسة من مسابقة مؤسسة محمد السادس للعلماء الأفارقة في فاس', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/divers/413404.html', 'summary': 'افتتاح نهائيات الدورة السادسة من مسابقة مؤسسة محمد السادس للعلماء الأفارقة في فاس. افتتحت اليوم الجمعة، انطلاقا من مدينة فاس، نهائيات الدورة السادسة من مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله وتجويده، بمشاركة فروع', 'size': 2}, {'id': '224', 'title': 'انطلاق مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله وتجويده', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%86%d8%b7%d9%84%d8%a7%d9%82-%d9%85%d8%b3%d8%a7%d8%a8%d9%82%d8%a9-%d9%85%d8%a4%d8%b3%d8%b3%d8%a9-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%84%d9%84%d8%b9%d9%84%d9%85/', 'summary': 'انطلاق مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله وتجويده. افتتحت اليوم الجمعة، انطلاقا من مدينة فاس، نهائيات الدورة السادسة من مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله وتجويده،  انطلاق مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله وتجويده     .', 'size': 2}], 'main_title': 'افتتاح نهائيات الدورة السادسة من مسابقة مؤسسة محمد السادس للعلماء الأفارقة في فاس'}, {'community_id': '2', 'articles': [{'id': '109', 'title': 'ملف الصحراء المغربية..عطاف يخرج خالي الوفاض من لقاء نيويورك', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/413427.html', 'summary': 'ملف الصحراء المغربية..عطاف يخرج خالي الوفاض من لقاء نيويورك. على هامش اجتماعات الدورة الـ80 للجمعية العامة للأمم المتحدة في نيويورك، التقى نائب وزير الخارجية الأمريكي، كريستوفر لانداو، الخميس، بوزير الشؤون الخارجية الجزائري، أحمد عطاف،', 'size': 2}, {'id': '198', 'title': 'قضية الصحراء المغربية.. عطاف يعود بخفي حنين من نيويورك!', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/476909.html', 'summary': 'قضية الصحراء المغربية.. عطاف يعود بخفي حنين من نيويورك!. فشل وزير الشؤون الخارجية الجزائري، أحمد عطاف، على هامش اجتماعات الدورة الـ80 للجمعية العامة للأمم المتحدة، في انتزاع موقف من الولايات المتحدة يتماشى مع تصور الجزائر للنزاع المفتعل حول الصحراء المغربية.', 'size': 2}], 'main_title': 'ملف الصحراء المغربية..عطاف يخرج خالي الوفاض من لقاء نيويورك'}, {'community_id': '7', 'articles': [{'id': '130', 'title': 'الصحراء المغربية.. المستشار الخاص للرئيس الأمريكي يجدد تأكيد دعم بلاده لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b5%d8%ad%d8%b1%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d9%85%d8%b3%d8%aa%d8%b4%d8%a7%d8%b1-%d8%a7%d9%84%d8%ae%d8%a7%d8%b5-%d9%84%d9%84%d8%b1%d8%a6/', 'summary': 'الصحراء المغربية.. المستشار الخاص للرئيس الأمريكي يجدد تأكيد دعم بلاده لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي. جدد المستشار الخاص للرئيس الأمريكي للشؤون الإفريقية، مسعد بولس، اليوم الجمعة (26 شتنبر)، تأكيد دعم واشنطن لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي كـ”أساس وحيد من أجل حل عادل ودائم” لهذا النزاع الإقليمي. وفي منشور على منصة “إكس” عقب لقاء عقده بنيويورك مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، أبرز المستشار', 'size': 3}, {'id': '186', 'title': 'مستشار ترامب يجدد التأكيد لبوريطة دعم واشنطن سيادة المغرب الكاملة على الصحراء ومخطط الحكم الذاتي', 'source': 'rue20.com', 'link': 'https://rue20.com/940216.html', 'summary': 'مستشار ترامب يجدد التأكيد لبوريطة دعم واشنطن سيادة المغرب الكاملة على الصحراء ومخطط الحكم الذاتي. . الرباط جدد المستشار الخاص للرئيس الأمريكي للشؤون الإفريقية، مسعد بولس، اليوم الجمعة، تأكيد دعم واشنطن لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي كـ”أساس وحيد من أجل حل عادل ودائم” لهذا النزاع الإقليمي. وفي منشور على منصة “إكس” عقب لقاء عقده بنيويورك مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، أبرز الخبر مستشار ترامب يجدد التأكيد لبوريطة دعم واشنطن سيادة المغرب الكاملة على الصحراء ومخطط الحكم الذاتي  .', 'size': 3}, {'id': '291', 'title': 'المستشار الخاص لترامب يجدد تأكيد دعم الولايات المتحدة لسيادة المغرب على صحرائه', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-661034.html', 'summary': 'المستشار الخاص لترامب يجدد تأكيد دعم الولايات المتحدة لسيادة المغرب على صحرائه. جدد المستشار الخاص للرئيس الأمريكي للشؤون الإفريقية، مسعد بولس، اليوم الجمعة، تأكيد دعم واشنطن لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي كـ”أساس وحيد من أجل حل عادل ودائم” لهذا النزاع الإقليمي. وفي منشور على منصة “إكس” عقب لقاء عقده بنيويورك مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، أبرز المستشار الأمريكي أنه', 'size': 3}], 'main_title': 'الصحراء المغربية.. المستشار الخاص للرئيس الأمريكي يجدد تأكيد دعم بلاده لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي'}, {'community_id': '9', 'articles': [{'id': '145', 'title': 'بنسعيد: الشباب المغربي ليس فقط طاقة احتجاج بل قوة بناء وتغيير', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/324551/', 'summary': 'بنسعيد: الشباب المغربي ليس فقط طاقة احتجاج بل قوة بناء وتغيير. شهدت مدينة بوزنيقة، اليوم الجمعة، انعقاد أشغال المؤتمر الوطني الثاني لمنظمة شباب حزب الأصالة والمعاصرة، وسط حضور لافت لقيادات الحزب وأطره، وفي مقدمتهم محمد المهدي بنسعيد، عضو القيادة الجماعية ووزير الشباب والثقافة والتواصل، الذي وجّه خطاباً قوياً أكد فيه أن الشباب المغربي ليس مجرد طاقة احتجاج، بل قوة اقتراح وتغيير قادرة على صياغة مستقبل البلاد.', 'size': 2}, {'id': '179', 'title': 'وزير الثقافة لا يعتبر "الأصوات العالية" للشباب "تهديدا" لكنه حذر من مواجهتها بـ"التجاهل"', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%ab%d9%82%d8%a7%d9%81%d8%a9-%d9%84%d8%a7-%d9%8a%d8%b9%d8%aa%d8%a8%d8%b1-%d8%a7%d9%84%d8%a3%d8%b5%d9%88%d8%a7%d8%aa-%d8%a7%d9%84%d8%b9%d8%a7%d9%84%d9%8a%d8%a9/', 'summary': 'وزير الثقافة لا يعتبر "الأصوات العالية" للشباب "تهديدا" لكنه حذر من مواجهتها بـ"التجاهل". قال المهدي بنسعيد، عضو القيادة الجماعية لحزب الأصالة والمعاصرة ووزير الشباب والثقافة، الجمعة، خلال افتتاح المؤتمر الوطني الثاني لمنظمة شباب الحزب، إن حزبه ينظر إلى الأصوات العالية للشباب المغربي على أنها نداء صادق من أجل العدالة الاجتماعية والكرامة، وليس تهديدا، مشيرا بذلك إلى دعوات إلى الاحتجاجات نهاية هذا الشهر. في كلمته أمام الحضور الذي ضم  وزير الثقافة لا يعتبر "الأصوات العالية" للشباب "تهديدا" لكنه حذر من مواجهتها بـ"التجاهل"     .', 'size': 2}], 'main_title': 'بنسعيد: الشباب المغربي ليس فقط طاقة احتجاج بل قوة بناء وتغيير'}, {'community_id': '0', 'articles': [{'id': '177', 'title': 'اكتشافات أثرية مبهرة تكشف أسرار “المدينة الغربية” المنسية في سيدي بنور', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%83%d8%aa%d8%b4%d8%a7%d9%81%d8%a7%d8%aa-%d8%a3%d8%ab%d8%b1%d9%8a%d8%a9-%d9%85%d8%a8%d9%87%d8%b1%d8%a9-%d8%aa%d9%83%d8%b4%d9%81-%d8%a3%d8%b3%d8%b1%d8%a7%d8%b1-%d8%a7%d9%84%d9%85%d8%af/', 'summary': 'اكتشافات أثرية مبهرة تكشف أسرار “المدينة الغربية” المنسية في سيدي بنور. في كشف أثري يَعِد بإعادة كتابة تاريخ منطقة دكالة، أعلن المعهد الوطني لعلوم الآثار والتراث عن نتائج أولية مذهلة توصل إليها فريق بحث مغربي خلال حفريات استكشافية نُفذت ما بين 1 و15 شتنبر في موقع المدينة الغربية بدوار أولاد بوعشة، جماعة الغربية، إقليم سيدي بنور. الفرق العلمية، بقيادة الأستاذ الجامعي محمد بلعتيق وبتعاون أساتذة وباحثين  اكتشافات أثرية مبهرة تكشف أسرار “المدينة الغربية” المنسية في سيدي بنور     .', 'size': 2}, {'id': '328', 'title': 'علماء مغاربة يعثرون على شواهد تاريخية نادرة في مدينة منسية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-591179.html', 'summary': 'علماء مغاربة يعثرون على شواهد تاريخية نادرة في مدينة منسية. أعلن المعهد الوطني لعلوم الآثار والتراث أن فريقا علميا مغربيا تمكن مؤخرا من تحقيق اكتشافات أثرية بموقع المدينة الغربية بإقليم سيدي بنور. وذكر المعهد في بلاغ أنه نظم خلال الفترة الممتدة من 1 إلى 15 شتنبر الجاري، وبدعم من فعاليات محلية، حفريات أثرية بموقع المدينة الغربية الواقعة بدوار أولاد بوعشة جماعة الغربية،', 'size': 2}], 'main_title': 'اكتشافات أثرية مبهرة تكشف أسرار “المدينة الغربية” المنسية في سيدي بنور'}, {'community_id': '10', 'articles': [{'id': '185', 'title': 'تنظيم المونديال والنظرة المستقبلية لقيادة جلالة الملك يُعيدان التصنيف السيادي للمغرب ضمن فئة درجة الإستثمار', 'source': 'rue20.com', 'link': 'https://rue20.com/940223.html', 'summary': 'تنظيم المونديال والنظرة المستقبلية لقيادة جلالة الملك يُعيدان التصنيف السيادي للمغرب ضمن فئة درجة الإستثمار. . الرباط إستعاد المغرب مكانته في التصنيف الإئتماني السيادي الأحدث لوكالة التصنيف الأمريكية “ستاندرد آند بورز”، ضمن “درجة الاستثمار” الذي فقدته في سنة 2021 بعد قضاء كبار خبرائها لعدة أيام بالمملكة قاموا خلالها بتقييمات دقيقة وتمحيص عالي الدقة للتوجهات الكبرى للإقتصاد المغربي فضلاً عن النظرة المستقبلية الإيجابية لإستضافة المملكة لتظاهرات عالمية على رأسها مونديال الخبر تنظيم المونديال والنظرة المستقبلية لقيادة جلالة الملك يُعيدان التصنيف السيادي للمغرب ضمن فئة درجة الإستثمار  .', 'size': 2}, {'id': '295', 'title': 'وكالة التنقيط “ستاندرد آند بورز”: التصنيف الائتماني السيادي للمغرب يرتقي إلى BBB-/A-3', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-661023.html', 'summary': 'وكالة التنقيط “ستاندرد آند بورز”: التصنيف الائتماني السيادي للمغرب يرتقي إلى BBB-/A-3. حسنت وكالة التصنيف الأمريكية “ستاندرد آند بورز” مجددا التصنيف الائتماني السيادي للمغرب، والذي ارتقى إلى BBB-/A-3 بدلا من التنصيف السابق +B/BB، مبرزة نجاح المغرب في استعادة تصنيف “درجة الاستثمار” الذي فقده في عام 2021. وذكرت الوكالة في بلاغ لها الجمعة، أن تقدم المملكة في التصنيف الحالي يعزز نظيره الصادر في مارس من سنة 2024، حيث', 'size': 2}, {'id': '298', 'title': 'بفضل الإصلاحات الحكومية.. وكالة "ستاندرد آند بورز" ترفع التصنيف الائتماني السيادي للمغرب', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/413450.html', 'summary': 'بفضل الإصلاحات الحكومية.. وكالة "ستاندرد آند بورز" ترفع التصنيف الائتماني السيادي للمغرب. رفعت وكالة التصنيف الأمريكية "ستاندرد آند بورز" التصنيف الائتماني السيادي للمغرب إلى BBB-/A-3 بدلا من التنصيف السابق +B/BB، كاشفة نجاح المملكة في استعادة تصنيف "درجة', 'size': 2}, {'id': '331', 'title': '“ستاندرد آند بورز” تكشف تقدم التصنيف الائتماني للمغرب للمرة الثانية خلال 4 سنوات', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1103288.html', 'summary': '“ستاندرد آند بورز” تكشف تقدم التصنيف الائتماني للمغرب للمرة الثانية خلال 4 سنوات. كشفت وكالة التصنيف الأمريكية “ستاندرد آند بورز”، عن رفع التصنيف الائتماني السيادي للمغرب إلى BBB-/A-3 بدلا من التنصيف السابق +B/BB، مشيرة إلى أن بلادنا نجحت في استعادة تصنيف “درجة الاستثمار” الذي فقدته في سنة 2021. وأوردت الوكالة في بلاغ أصدرته أمس، بأن تقدم المغرب في التصنيف الحالي يأتي ليعزز مثيله الصادر في مارس 2024، والذي ظهرت المقالة “ستاندرد آند بورز” تكشف تقدم التصنيف الائتماني للمغرب للمرة الثانية خلال 4 سنوات  .', 'size': 4}], 'main_title': '“ستاندرد آند بورز” تكشف تقدم التصنيف الائتماني للمغرب للمرة الثانية خلال 4 سنوات'}, {'community_id': '3', 'articles': [{'id': '197', 'title': 'الإعلان عن اكتشافات أثرية بإقليم سيدي بنور', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/476912.html', 'summary': 'الإعلان عن اكتشافات أثرية بإقليم سيدي بنور. أعلن المعهد الوطني لعلوم الآثار والتراث أن فريقا علميا مغربيا تمكن مؤخرا من تحقيق اكتشافات أثرية بموقع المدينة الغربية بإقليم سيدي بنور.', 'size': 2}, {'id': '205', 'title': 'الإعلان عن اكتشافات أثرية بموقع المدينة الغربية بإقليم سيدي بنور', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d8%a5%d8%b9%d9%84%d8%a7%d9%86-%d8%b9%d9%86-%d8%a7%d9%83%d8%aa%d8%b4%d8%a7%d9%81%d8%a7%d8%aa-%d8%a3%d8%ab%d8%b1%d9%8a%d8%a9-%d8%a8%d9%85%d9%88%d9%82%d8%b9-%d8%a7%d9%84%d9%85%d8%af%d9%8a/', 'summary': 'الإعلان عن اكتشافات أثرية بموقع المدينة الغربية بإقليم سيدي بنور. أعلن المعهد الوطني لعلوم الآثار والتراث أن فريقا علميا مغربيا تمكن مؤخرا من تحقيق اكتشافات أثرية بموقع المدينة الغربية بإقليم سيدي بنور. وذكر المعهد في بلاغ أنه  الإعلان عن اكتشافات أثرية بموقع المدينة الغربية بإقليم سيدي بنور     .', 'size': 2}], 'main_title': 'الإعلان عن اكتشافات أثرية بإقليم سيدي بنور'}, {'community_id': '6', 'articles': [{'id': '219', 'title': 'رفقي: مسابقة حفظ وتجويد القرآن الكريم تهدف إلى ربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%b1%d9%81%d9%82%d9%8a-%d9%85%d8%b3%d8%a7%d8%a8%d9%82%d8%a9-%d8%ad%d9%81%d8%b8-%d9%88%d8%aa%d8%ac%d9%88%d9%8a%d8%af-%d8%a7%d9%84%d9%82%d8%b1%d8%a2%d9%86-%d8%a7%d9%84%d9%83%d8%b1%d9%8a%d9%85-%d8%aa/', 'summary': 'رفقي: مسابقة حفظ وتجويد القرآن الكريم تهدف إلى ربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز. أكد الأمين العام لمؤسسة محمد السادس للعلماء الأفارقة، محمد رفقي، أن مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله  رفقي: مسابقة حفظ وتجويد القرآن الكريم تهدف إلى ربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز     .', 'size': 2}, {'id': '225', 'title': 'مسابقة محمد السادس لحفظ وتجويد القرآن تربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227630/', 'summary': 'مسابقة محمد السادس لحفظ وتجويد القرآن تربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز. أكد الأمين العام لمؤسسة محمد السادس للعلماء الأفارقة، محمد رفقي، أن مسابقة مؤسسة محمد السادس للعلماء الأفارقة في حفظ القرآن الكريم وترتيله وتجويده، التي تم إطلاق نهائيات نسختها السادسة اليوم الجمعة بفاس، تهدف بالدرجة الأولى إلى ربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز، وتشجيعهم على حفظه وترتيله وتجويده. وأضاف السيد رفقي، في كلمة خلال', 'size': 2}], 'main_title': 'رفقي: مسابقة حفظ وتجويد القرآن الكريم تهدف إلى ربط الناشئة والشباب الإفريقي المسلم بكتاب الله العزيز'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
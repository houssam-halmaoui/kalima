<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 04/08/2025 - 18h34</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '3', 'articles': [{'id': '92', 'title': 'المضحك المبكي.. الجزائر تسن قانونا يسمح بسجن كل من لم يصرح بوجود شخص مغربي في بيته', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/world/410450.html', 'summary': 'المضحك المبكي.. الجزائر تسن قانونا يسمح بسجن كل من لم يصرح بوجود شخص مغربي في بيته. صادقت السلطات الجزائرية على قانون جديد للتعبئة العامة دخل حيز التنفيذ بعد نشره في الجريدة الرسمية بتاريخ 27 يوليو 2025، في خطوة تعكس التصعيد الممنهج', 'size': 2}, {'id': '132', 'title': 'عيش نهار تسمع خبار.. نظام الكابرانات يفرض التبليغ عن تواجد أجانب من دول يعاديها في أراضيه', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%b9%d9%8a%d8%b4-%d9%86%d9%87%d8%a7%d8%b1-%d8%aa%d8%b3%d9%85%d8%b9-%d8%ae%d8%a8%d8%a7%d8%b1-%d9%86%d8%b8%d8%a7%d9%85-%d8%a7%d9%84%d9%83%d8%a7%d8%a8%d8%b1%d8%a7%d9%86%d8%a7%d8%aa-%d9%8a%d9%81%d8%b1/', 'summary': 'عيش نهار تسمع خبار.. نظام الكابرانات يفرض التبليغ عن تواجد أجانب من دول يعاديها في أراضيه. في خطوة تعكس الممنهج الذي يدأب الكابرانات في الجزائر على ممارساته إزاء كل ما هو مغربي، صادقت السلطات الجزائرية على قانون جديد يعاقب الجزائريين في حال امتنعوا عن التبليغ عن أجانب من دول يعاديها نظام العسكر. ويتعلق القانون بالتعبئة العامة دخل حيز التنفيذ بعد نشره في الجريدة الرسمية بتاريخ 27 يوليو 2025، يجرم المواطنين في', 'size': 2}], 'main_title': 'المضحك المبكي.. الجزائر تسن قانونا يسمح بسجن كل من لم يصرح بوجود شخص مغربي في بيته'}, {'community_id': '9', 'articles': [{'id': '95', 'title': 'تصريح السكتيوي وحريمات بعد الفوز الهام للمنتخب المحلي على أنغولا', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/lionatlas/410453.html', 'summary': 'تصريح السكتيوي وحريمات بعد الفوز الهام للمنتخب المحلي على أنغولا. أكد الناخب الوطني، طارق السكتيوي، اليوم الأحد بنيروبي، أن الفوز على أنغولا بهدفين دون رد، برسم الجولة الأولى من المجموعة الأولى لكأس أمم إفريقيا للاعبين', 'size': 2}, {'id': '228', 'title': 'طارق السكتيوي: الفوز على أنغولا بهدفين ثمرة النضج التكتيكي النموذجي للاعبي المنتخب الوطني', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225616/', 'summary': 'طارق السكتيوي: الفوز على أنغولا بهدفين ثمرة النضج التكتيكي النموذجي للاعبي المنتخب الوطني. محمد بنمسعود (ومع): أكد الناخب الوطني، طارق السكتيوي، اليوم الأحد بنيروبي، أن الفوز على أنغولا بهدفين دون رد، برسم الجولة الأولى من المجموعة الأولى لكأس أمم إفريقيا للاعبين المحليين 2024، هو ثمرة النضج التكتيكي النموذجي للاعبي المنتخب الوطني. وفي ندوة صحافية أعقبت المباراة التي احتضنها ملعب نيايو الوطني، قال السكتيوي “كنا نعلم أن المباراة ستكون', 'size': 2}], 'main_title': 'تصريح السكتيوي وحريمات بعد الفوز الهام للمنتخب المحلي على أنغولا'}, {'community_id': '7', 'articles': [{'id': '102', 'title': 'رغم الطقس الحار.. زخات مطرية وعواصف رعدية منتظرة اليوم بهذه المناطق المغربية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/410463.html', 'summary': 'رغم الطقس الحار.. زخات مطرية وعواصف رعدية منتظرة اليوم بهذه المناطق المغربية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا بكل من جنوب الريف والمناطق المتواجدة غرب الأطلس الكبير وواد ملوية والجنوب الشرقي،', 'size': 5}, {'id': '152', 'title': 'توقعات طقس اليوم الاثنين بالبلاد', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/320163/', 'summary': 'توقعات طقس اليوم الاثنين بالبلاد. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا بكل من جنوب الريف والمناطق المتواجدة غرب الأطلس الكبير وواد ملوية والجنوب الشرقي، وداخل الأقاليم الصحراوية للمملكة. ويرتقب نزول قطرات مطرية أو زخات رعدية مصحوبة بهبات الرياح تحت العواصف الرعدية، مع احتمال تساقط البرد محليا فوق مرتفعات الأطلس والهضاب العليا الشرقية والجنوب الشرقي', 'size': 5}, {'id': '180', 'title': 'طقس حار مع زخات رعدية متوقع اليوم الاثنين', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%aa%d9%88%d9%82%d8%b9-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%a7%d8%ab-2/', 'summary': 'طقس حار مع زخات رعدية متوقع اليوم الاثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا بكل من جنوب الريف والمناطق المتواجدة غرب الأطلس الكبير وواد ملوية والجنوب الشرقي، وداخل الأقاليم الصحراوية للمملكة. ويرتقب نزول قطرات مطرية أو زخات رعدية مصحوبة بهبات الرياح تحت العواصف الرعدية، مع احتمال تساقط البرد محليا فوق مرتفعات الأطلس والهضاب العليا الشرقية والجنوب الشرقي  طقس حار مع زخات رعدية متوقع اليوم الاثنين     .', 'size': 5}, {'id': '184', 'title': 'طقس اليوم: استمرار الأجواء الحارة بهذه المناطق', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357580.html', 'summary': 'طقس اليوم: استمرار الأجواء الحارة بهذه المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا بكل من جنوب الريف والمناطق المتواجدة غرب الأطلس الكبير وواد ملوية والجنوب الشرقي، وداخل الأقاليم الصحراوية للمملكة. ويرتقب نزول قطرات مطرية أو زخات رعدية مصحوبة بهبات الرياح تحت العواصف الرعدية، مع احتمال تساقط البرد محليا فوق مرتفعات الأطلس والهضاب العليا الشرقية والجنوب الشرقي', 'size': 5}, {'id': '249', 'title': 'توقعات أحوال الطقس لليوم الإثنين', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d9%84%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%a5%d8%ab%d9%86%d9%8a%d9%86-8/', 'summary': 'توقعات أحوال الطقس لليوم الإثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا بكل من جنوب الريف والمناطق المتواجدة غرب الأطلس الكبير وواد ملوية والجنوب الشرقي، وداخل الأقاليم الصحراوية للمملكة. ويرتقب نزول قطرات مطرية أو زخات رعدية مصحوبة بهبات الرياح تحت العواصف الرعدية، مع احتمال تساقط البرد محليا فوق مرتفعات الأطلس والهضاب العليا الشرقية …  توقعات أحوال الطقس لليوم الإثنين     .', 'size': 5}], 'main_title': 'رغم الطقس الحار.. زخات مطرية وعواصف رعدية منتظرة اليوم بهذه المناطق المغربية'}, {'community_id': '5', 'articles': [{'id': '155', 'title': 'نشرة إنذارية تحذر من موجة حر وزخات رعدية بعدد من مناطق المملكة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1090478.html', 'summary': 'نشرة إنذارية تحذر من موجة حر وزخات رعدية بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل موجة حر من اليوم الاثنين إلى يوم الجمعة المقبل، وزخات رعدية مصحوبة بتساقط البر د وبهبات رياح اليوم الإثنين، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 40 و44 درجة اليوم الاثنين بعمالات ظهرت المقالة نشرة إنذارية تحذر من موجة حر وزخات رعدية بعدد من مناطق المملكة  .', 'size': 5}, {'id': '240', 'title': 'موجة حر وزخات رعدية حتى الجمعة بعدد من المناطق', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%85%d9%88%d8%ac%d8%a9-%d8%ad%d8%b1-%d9%88%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d8%ad%d8%aa%d9%89-%d8%a7%d9%84%d8%ac%d9%85%d8%b9%d8%a9-%d8%a8%d8%b9%d8%af%d8%af-%d9%85%d9%86-%d8%a7/', 'summary': 'موجة حر وزخات رعدية حتى الجمعة بعدد من المناطق. المساء اليوم: أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل موجة حر من الأحد إلى الجمعة، وكذا زخات رعدية مصحوبة بتساقط البرد وبهبات رياح اليوم الأحد بعدد من مناطق المملكة. وأوضحت المديرية في نشرة إنذارية', 'size': 5}, {'id': '318', 'title': 'موجة حر وزخات رعدية مصحوبة بالبرَد وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/204635', 'summary': 'موجة حر وزخات رعدية مصحوبة بالبرَد وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة.  أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل موجة حر من اليوم الاثنين إلى يوم الجمعة المقبل، وزخات رعدية مصحوبة بتساقط البرَد وبهبات رياح اليوم الإثنين، بعدد من مناطق المملكة. وأوضحت المديرية،في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 40 و44 درجة اليوم الاثنين بعمالات', 'size': 5}, {'id': '325', 'title': 'نشرة إنذارية: موجة حر وزخات رعدية مصحوبة بالبر د وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/410493.html', 'summary': 'نشرة إنذارية: موجة حر وزخات رعدية مصحوبة بالبر د وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل موجة حر من اليوم الاثنين إلى يوم الجمعة المقبل، وزخات رعدية مصحوبة بتساقط البر د وبهبات رياح', 'size': 5}, {'id': '428', 'title': 'نشرة إنذارية: موجة حر وزخات رعدية مصحوبة بالبرَد وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%86%d8%b4%d8%b1%d8%a9-%d8%a5%d9%86%d8%b0%d8%a7%d8%b1%d9%8a%d8%a9-%d9%85%d9%88%d8%ac%d8%a9-%d8%ad%d8%b1-%d9%88%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%b5%d8%ad%d9%88%d8%a8-3/', 'summary': 'نشرة إنذارية: موجة حر وزخات رعدية مصحوبة بالبرَد وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية، بأنه يرتقب تسجيل موجة حر من اليوم الاثنين إلى يوم الجمعة المقبل، وزخات رعدية مصحوبة بتساقط البرَد وبهبات رياح اليوم الإثنين، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 40 و44 درجة اليوم الاثنين …  نشرة إنذارية: موجة حر وزخات رعدية مصحوبة بالبرَد وبهبات رياح مرتقبة من الإثنين إلى الجمعة بعدد من مناطق المملكة     .', 'size': 5}], 'main_title': 'نشرة إنذارية تحذر من موجة حر وزخات رعدية بعدد من مناطق المملكة'}, {'community_id': '8', 'articles': [{'id': '204', 'title': 'غزة..  أزمة تعطيش شديدة وسط ارتفاع أعداد ضحايا التجويع', 'source': 'machahid24.com', 'link': 'https://machahid24.com/international/471492.html', 'summary': 'غزة.. أزمة تعطيش شديدة وسط ارتفاع أعداد ضحايا التجويع. في اليوم الـ668 من حرب الإبادة على غزة، حذرت الأمم المتحدة اليوم الاثنين من أن الأغلبية الساحقة من أهالي قطاع غزة غير قادرين على الوصول إلى مياه الشرب وخدمات الصرف الصحي،', 'size': 2}, {'id': '234', 'title': 'عالم بلا إنسانية: التجويع والتعطيش سلاح لإفناء سكان غزة', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%b9%d8%a7%d9%84%d9%85-%d8%a8%d9%84%d8%a7-%d8%a5%d9%86%d8%b3%d8%a7%d9%86%d9%8a%d8%a9-%d8%a7%d9%84%d8%aa%d8%ac%d9%88%d9%8a%d8%b9-%d9%88%d8%a7%d9%84%d8%aa%d8%b9%d8%b7%d9%8a%d8%b4-%d8%b3%d9%84%d8%a7/', 'summary': 'عالم بلا إنسانية: التجويع والتعطيش سلاح لإفناء سكان غزة. المساء اليوم – وكالات: حذرت الأمم المتحدة، اليوم الاثنين، من أن الأغلبية الساحقة من أهالي قطاع غزة غير قادرين على الوصول إلى مياه الشرب وخدمات الصرف الصحي، في حين يشتد التجويع جراء حصار الاحتلال مع', 'size': 2}], 'main_title': 'غزة..  أزمة تعطيش شديدة وسط ارتفاع أعداد ضحايا التجويع'}, {'community_id': '0', 'articles': [{'id': '232', 'title': 'شخصيات مقدسية تشيد بمبادرة جلالة الملك إرسال مساعدة إنسانية وطبية عاجلة لسكان قطاع غزة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225606/', 'summary': 'شخصيات مقدسية تشيد بمبادرة جلالة الملك إرسال مساعدة إنسانية وطبية عاجلة لسكان قطاع غزة. أشادت شخصيات مقدسية بمبادرة صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، إرسال مساعدة إنسانية وطبية عاجلة إلى الشعب الفلسطيني وخاصة ساكنة غزة. وثمنت في تصريحات لوكالة المغرب العربي للأنباء، الجهود الكبيرة التي ما فتئ يقوم بها جلالة الملك لدعم صمود الشعب الفلسطيني ونصرة قضاياه العادلة. وفي هذه الصدد، أكد عضو المجلس الوطني الفلسطيني فضل', 'size': 3}, {'id': '340', 'title': 'المساعدة الإنسانية المغربية العاجلة لساكنة غزة.. شخصيات فلسطينية تشيد بنبل المبادرة الملكية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d9%85%d8%b3%d8%a7%d8%b9%d8%af%d8%a9-%d8%a7%d9%84%d8%a5%d9%86%d8%b3%d8%a7%d9%86%d9%8a%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d8%b9%d8%a7%d8%ac%d9%84%d8%a9/', 'summary': 'المساعدة الإنسانية المغربية العاجلة لساكنة غزة.. شخصيات فلسطينية تشيد بنبل المبادرة الملكية. أشادت شخصيات فلسطينية بالمبادرة الإنسانية التي أطلقها صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، والقاضية بإرسال مساعدة انسانية وطبية عاجلة إلى الشعب الفلسطيني وخاصة إلى ساكنة قطاع غزة، معتبرة أن هذه المبادرة رسالة تضامن أخوي تجسد التزاما تاريخيا موصولا تجاه القضية الفلسطينية. واعتبرت في تصريحات لوكالة المغرب العربي للأنباء، أن هذه الالتفاتة الكريمة، بما', 'size': 3}, {'id': '421', 'title': 'شخصيات فلسطينية تشيد بالمبادرة الإنسانية التي أطلقها الملك محمد السادس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b4%d8%ae%d8%b5%d9%8a%d8%a7%d8%aa-%d9%81%d9%84%d8%b3%d8%b7%d9%8a%d9%86%d9%8a%d8%a9-%d8%aa%d8%b4%d9%8a%d8%af-%d8%a8%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d8%a5%d9%86%d8%b3/', 'summary': 'شخصيات فلسطينية تشيد بالمبادرة الإنسانية التي أطلقها الملك محمد السادس. أشادت شخصيات فلسطينية بالمبادرة الإنسانية التي أطلقها الملك محمد السادس، رئيس لجنة القدس، والقاضية بإرسال مساعدة إنسانية وطبية عاجلة إلى الشعب الفلسطيني وخاصة إلى ساكنة قطاع غزة، معتبرة أن هذه المبادرة رسالة تضامن أخوي تجسد التزاما تاريخيا موصولا تجاه القضية الفلسطينية. واعتبرت في تصريحات لوكالة المغرب العربي للأنباء، أن هذه الالتفاتة الكريمة، بما …  شخصيات فلسطينية تشيد بالمبادرة الإنسانية التي أطلقها الملك محمد السادس     .', 'size': 3}], 'main_title': 'شخصيات مقدسية تشيد بمبادرة جلالة الملك إرسال مساعدة إنسانية وطبية عاجلة لسكان قطاع غزة'}, {'community_id': '2', 'articles': [{'id': '243', 'title': 'المندوبية السامية للتخطيط ترصد تراجع معدلات النشاط والشغل خلال الفصل الثاني من سنة 2025', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%86%d8%af%d9%88%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d8%b3%d8%a7%d9%85%d9%8a%d8%a9-%d9%84%d9%84%d8%aa%d8%ae%d8%b7%d9%8a%d8%b7-%d8%aa%d8%b1%d8%b5%d8%af-%d8%aa%d8%b1%d8%a7%d8%ac%d8%b9/', 'summary': 'المندوبية السامية للتخطيط ترصد تراجع معدلات النشاط والشغل خلال الفصل الثاني من سنة 2025. كشفت المندوبية السامية للتخطيط في مذكرة إخبارية حديثة عن تسجيل تراجع ملحوظ في معدلات النشاط والشغل بالمغرب خلال الفصل الثاني من سنة 2025، مقارنة بالفترة نفسها من السنة الماضية، ما يعكس دينامية مركبة في سوق العمل الوطني، بين تراجع مساهمة الوسط القروي وارتفاع الشغل بالوسط الحضري. وانخفض معدل النشاط بـ0,8 نقطة، لينتقل من …  المندوبية السامية للتخطيط ترصد تراجع معدلات النشاط والشغل خلال الفصل الثاني من سنة 2025     .', 'size': 2}, {'id': '373', 'title': 'معطيات رسمية.. مليون و595 ألف عاطل وارتفاع البطالة لدى فئة 25-34 سنة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%b9%d8%b7%d9%8a%d8%a7%d8%aa-%d8%b1%d8%b3%d9%85%d9%8a%d8%a9-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d9%88595-%d8%a3%d9%84%d9%81-%d8%b9%d8%a7%d8%b7%d9%84-%d9%88%d8%a7%d8%b1%d8%aa%d9%81%d8%a7%d8%b9/', 'summary': 'معطيات رسمية.. مليون و595 ألف عاطل وارتفاع البطالة لدى فئة 25-34 سنة. أعلنت المندوبية السامية للتخطيط أن عدد العاطلين عن العمل بالمغرب بلغ، خلال الفصل الثاني من سنة 2025، مليونا و595 ألف شخص، مسجلا تراجعا طفيفا بـ38 ألفا مقارنة بالفترة نفسها من السنة الماضية، التي بلغ فيها عدد العاطلين مليونا و633 ألف عاطل، وهو ما يمثل انخفاضا بنسبة 2 في المائة. وأوضحت المندوبية، في مذكرة إخبارية حول  معطيات رسمية.. مليون و595 ألف عاطل وارتفاع البطالة لدى فئة 25-34 سنة     .', 'size': 2}], 'main_title': 'المندوبية السامية للتخطيط ترصد تراجع معدلات النشاط والشغل خلال الفصل الثاني من سنة 2025'}, {'community_id': '4', 'articles': [{'id': '300', 'title': 'بوريطة يجتمع برئيسة بعثة الأمم المتحدة للدعم في ليبيا والأخيرة: “المغرب شريك مهم جدا”', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-646541.html', 'summary': 'بوريطة يجتمع برئيسة بعثة الأمم المتحدة للدعم في ليبيا والأخيرة: “المغرب شريك مهم جدا”. هبة بريس أشادت الممثلة الخاصة للأمين العام للأمم المتحدة في ليبيا ورئيسة بعثة الأمم المتحدة للدعم في هذا البلد، هانا سيروا تيتيه، اليوم الاثنين بالرباط، بالتزام المغرب بتيسير الحوار بين الأطراف الليبية. وأعربت السيدة تيتيه، في تصريح للصحافة عقب لقائها بوزیر الشؤون الخارجیة والتعاون الإفریقي والمغاربة المقیمین بالخارج، ناصر بوريطة، عن “تقديرها العميق” للمملكة للجهود التي تبذلها من أجل الدفع قدما بالعملية السياسية في ليبيا، وكذا لدعمها الموصول لبعثة الأمم المتحدة للدعم في ليبيا. وأضافت المسؤولة الأممية أن المغرب يعد “شريكا مهما جدا” في العملية الرامية للتوصل إلى اتفاق وتوافق بين الأطراف الليبية، مبرزة أن المملكة ساهمت في قطع مراحل “حاسمة” في هذه العملية. من جهة أخرى، توقفت السيدة تيتيه عند “المرحلة الحساسة للغاية” التي تمر بها ليبيا في الوقت الراهن، و”التي اتسمت خلال الأشهر الأخيرة بتوترات في طرابلس، وانتخابات بلدية واجهتها عدة تحديات”، مشيرة إلى أن الأمم المتحدة تعمل مع الفرقاء الليبيين على إرساء خارطة طريق سياسية جديدة. وجددت في هذا الصدد تأكيد عزم بعثة الأمم المتحدة للدعم في ليبيا على مواصلة العمل إلى جانب الليبيين، بدعم المغرب والمجتمع الدولي، من أجل وضع حد لهذا الوضع.', 'size': 2}, {'id': '377', 'title': 'الأمم المتحدة تشيد بدور المغرب الحاسم في إنهاء الأزمة الليبية', 'source': 'rue20.com', 'link': 'https://rue20.com/926478.html', 'summary': 'الأمم المتحدة تشيد بدور المغرب الحاسم في إنهاء الأزمة الليبية.  | الرباط أشادت الممثلة الخاصة للأمين العام للأمم المتحدة في ليبيا ورئيسة بعثة الأمم المتحدة للدعم في هذا البلد، هانا سيروا تيتيه، اليوم الاثنين بالرباط، بالتزام المغرب بتيسير الحوار بين الأطراف الليبية. وأعربت تيتيه، في تصريح للصحافة عقب لقائها بوزیر الشؤون الخارجیة والتعاون الإفریقي والمغاربة المقیمین بالخارج، ناصر بوريطة، عن “تقديرها العميق” للمملكة الخبر الأمم المتحدة تشيد بدور المغرب الحاسم في إنهاء الأزمة الليبية  .', 'size': 4}, {'id': '387', 'title': 'مسؤولة أممية تشيد بالتزام المغرب بتيسير الحوار بين الأطراف الليبية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/471631.html', 'summary': 'مسؤولة أممية تشيد بالتزام المغرب بتيسير الحوار بين الأطراف الليبية. متابعة أشادت الممثلة الخاصة للأمين العام للأمم المتحدة في ليبيا ورئيسة بعثة الأمم المتحدة للدعم في هذا البلد، هانا سيروا تيتيه، اليوم الاثنين بالرباط، بالتزام المغرب بتيسير الحوار بين الأطراف الليبية. وأعربت تيتيه، في تصريح للصحافة عقب لقائها بوزیر الشؤون الخارجیة والتعاون الإفریقي والمغاربة المقیمین بالخارج، ناصر بوريطة، عن “تقديرها العميق” للمملكة للجهود التي تبذلها …', 'size': 3}, {'id': '422', 'title': 'المغرب شريك أساسي في إحلال السلام بليبيا.. مسؤولة أممية تشيد بالتزام المملكة ودعمها للحوار الليبي-الليبي', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%b4%d8%b1%d9%8a%d9%83-%d8%a3%d8%b3%d8%a7%d8%b3%d9%8a-%d9%81%d9%8a-%d8%a5%d8%ad%d9%84%d8%a7%d9%84-%d8%a7%d9%84%d8%b3%d9%84%d8%a7%d9%85-%d8%a8%d9%84%d9%8a%d8%a8/', 'summary': 'المغرب شريك أساسي في إحلال السلام بليبيا.. مسؤولة أممية تشيد بالتزام المملكة ودعمها للحوار الليبي-الليبي. نوهت الممثلة الخاصة للأمين العام للأمم المتحدة في ليبيا ورئيسة بعثة الأمم المتحدة للدعم في هذا البلد، هانا سيروا تيتيه، اليوم الاثنين بالرباط، بالتزام المغرب بتيسير الحوار بين الأطراف الليبية. وفي هذا الصدد، أعربت تيتيه، في تصريح للصحافة عقب لقائها بوزیر الشؤون الخارجیة والتعاون الإفریقي والمغاربة المقیمین بالخارج، ناصر بوريطة، عن “تقديرها العميق” …  المغرب شريك أساسي في إحلال السلام بليبيا.. مسؤولة أممية تشيد بالتزام المملكة ودعمها للحوار الليبي-الليبي     .', 'size': 3}], 'main_title': 'الأمم المتحدة تشيد بدور المغرب الحاسم في إنهاء الأزمة الليبية'}, {'community_id': '6', 'articles': [{'id': '305', 'title': 'مفتي القدس: “المبادرة المغربية الإنسانية ليست غريبة عن جلالة الملك”', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-646524.html', 'summary': 'مفتي القدس: “المبادرة المغربية الإنسانية ليست غريبة عن جلالة الملك”. هبة بريس أكد المفتي العام للقدس والديار الفلسطينية، الشيخ محمد حسين، أن المساعدة الإنسانية والطبية العاجلة التي أعطى صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، تعليماته السامية بإرسالها إلى الشعب الفلسطيني وخاصة ساكنة غزة، تعبر عن دعم ميداني ملموس من شأنه التخفيف من معاناة ساكنة القطاع التي تعيش" ظروفا صعبة في ظل الحصار". وقال الشيخ محمد حسين في تصريح لوكالة المغرب العربي للأنباء، إن هذه الالتفاتة الكريمة من جلالة الملك تجسد عمق التضامن المغربي مع الشعب الفلسطيني في هذه الظروف العصيبة. وأضاف أن هذه المبادرة الإنسانية "ليست غريبة عن جلالة الملك، الذي دأب على اتخاذ مواقف قوية نصرة للقضية الفلسطينية ودعما لحقوق الشعب الفلسطيني المشروعة". وأبرز المفتي العام للقدس أن هذه المبادرة تعكس الالتزام الثابت والمتواصل للمملكة المغربية الشقيقة، بقيادة جلالة الملك رئيس لجنة القدس بدعم صمود الفلسطينيين، وتعزز مكانة المغرب كبلد داعم للقضايا العادلة في الوطن العربي، وفي طليعتها القضية الفلسطينية. وكان صاحب الجلالة الملك محمد السادس، نصره الله، رئيس لجنة القدس، قد أعطى تعليماته السامية من أجل إرسال مساعدة إنسانية وطبية عاجلة لفائدة الشعب الفلسطيني الشقيق، وخاصة ساكنة قطاع غزة. وتتكون هذه المساعدة، التي يبلغ حجمها الإجمالي نحو 180 طنا، من مواد غذائية أساسية، ومن الحليب ومواد موجهة بالخصوص للأطفال، وكذا أدوية ومعدات جراحية لفائدة السكان الأكثر هشاشة.', 'size': 2}, {'id': '337', 'title': 'مفتي القدس: المساعدة الإنسانية المغربية لغزة دعم ميداني ملموس سيخفف من معاناة ساكنة القطاع', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%85%d9%81%d8%aa%d9%8a-%d8%a7%d9%84%d9%82%d8%af%d8%b3-%d8%a7%d9%84%d9%85%d8%b3%d8%a7%d8%b9%d8%af%d8%a9-%d8%a7%d9%84%d8%a5%d9%86%d8%b3%d8%a7%d9%86%d9%8a%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8/', 'summary': 'مفتي القدس: المساعدة الإنسانية المغربية لغزة دعم ميداني ملموس سيخفف من معاناة ساكنة القطاع. أكد المفتي العام للقدس والديار الفلسطينية، الشيخ محمد حسين، أن المساعدة الإنسانية والطبية العاجلة التي أعطى صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، تعليماته السامية بإرسالها إلى الشعب الفلسطيني وخاصة ساكنة غزة، تعبر عن دعم ميداني ملموس من شأنه التخفيف من معاناة ساكنة القطاع التي تعيش” ظروفا صعبة في ظل الحصار”. وقال الشيخ محمد', 'size': 5}, {'id': '395', 'title': 'مفتي القدس .. المساعدات المغربية تعبر عن دعم ميداني ملموس لغزة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/471575.html', 'summary': 'مفتي القدس .. المساعدات المغربية تعبر عن دعم ميداني ملموس لغزة. أكد المفتي العام للقدس والديار الفلسطينية، الشيخ محمد حسين، أن المساعدة الإنسانية والطبية العاجلة التي أعطى الملك محمد السادس، رئيس لجنة القدس، تعليماته السامية بإرسالها إلى الشعب الفلسطيني وخاصة ساكنة غزة،', 'size': 3}, {'id': '416', 'title': 'مفتي القدس: المساعدات التي أرسلها جلالة الملك من شأنها التخفيف من معاناة ساكنة غزة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225629/', 'summary': 'مفتي القدس: المساعدات التي أرسلها جلالة الملك من شأنها التخفيف من معاناة ساكنة غزة. القدس – أكد المفتي العام للقدس والديار الفلسطينية، الشيخ محمد حسين، أن المساعدة الإنسانية والطبية العاجلة التي أعطى صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، تعليماته السامية بإرسالها إلى الشعب الفلسطيني وخاصة ساكنة غزة، تعبر عن دعم ميداني ملموس من شأنه التخفيف من معاناة ساكنة القطاع التي تعيش” ظروفا صعبة في ظل الحصار”. وقال', 'size': 4}, {'id': '424', 'title': 'مفتي القدس: الملك محمد السادس ثابت في نصرة القضية الفلسطينية وداعم لحقوق الشعب الفلسطيني المشروعة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%81%d8%aa%d9%8a-%d8%a7%d9%84%d9%82%d8%af%d8%b3-%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d8%ab%d8%a7%d8%a8%d8%aa-%d9%81%d9%8a-%d9%86%d8%b5/', 'summary': 'مفتي القدس: الملك محمد السادس ثابت في نصرة القضية الفلسطينية وداعم لحقوق الشعب الفلسطيني المشروعة. قال المفتي العام للقدس والديار الفلسطينية، الشيخ محمد حسين، إن المساعدة الإنسانية والطبية العاجلة التي أعطى الملك محمد السادس، رئيس لجنة القدس، تعليماته السامية بإرسالها إلى الشعب الفلسطيني وخاصة ساكنة غزة، تعبر عن دعم ميداني ملموس من شأنه التخفيف من معاناة ساكنة القطاع التي تعيش” ظروفا صعبة في ظل الحصار”. وأضاف الشيخ محمد …  مفتي القدس: الملك محمد السادس ثابت في نصرة القضية الفلسطينية وداعم لحقوق الشعب الفلسطيني المشروعة     .', 'size': 3}], 'main_title': 'مفتي القدس: المساعدة الإنسانية المغربية لغزة دعم ميداني ملموس سيخفف من معاناة ساكنة القطاع'}, {'community_id': '1', 'articles': [{'id': '352', 'title': 'لا مخالفة في البث الرسمي.. “الهاكا” تبرئ راديو مارس من شكاية الوداد', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1090554.html', 'summary': 'لا مخالفة في البث الرسمي.. “الهاكا” تبرئ راديو مارس من شكاية الوداد. قرر المجلس الأعلى للاتصال السمعي البصري حفظ شكاية تقدم بها أحد الأطراف ضد الخدمة الإذاعية “راديو مارس”، بخصوص ما ورد في حلقة برنامج “مارس أطاك” بتاريخ 27 يونيو 2025. وجاء هذا القرار بعد أن توصلت الهيئة العليا للاتصال السمعي البصري بالشكاية المعنية، والتي تضمنت اتهامات بشأن بث عبارات اعتبرت غير لائقة أو مخالفة لميثاق وأخلاقيات ظهرت المقالة لا مخالفة في البث الرسمي.. “الهاكا” تبرئ راديو مارس من شكاية الوداد  .', 'size': 2}, {'id': '379', 'title': 'الهاكا تحفظ شكاية الوداد ضد راديو مارس', 'source': 'rue20.com', 'link': 'https://rue20.com/926470.html', 'summary': 'الهاكا تحفظ شكاية الوداد ضد راديو مارس.  | متابعة قررت الهيئة العليا للاتصال السمعي البصري “الهاكا” حفظ شكاية نادي الوداد بخصوص ما ورد في حلقة برنامج “مارس أطاك” الذي تقدمه إذاعة “راديو مارس”. و قالت الهاكا في قرار لها أن “الحلقة لم تتضمن في صيغتها المقدمة عبر البث الهرتزي للخدمة الإذاعية “راديو مارس”، والذي يبقى هو مجال اختصاص الهيئة العليا الخبر الهاكا تحفظ شكاية الوداد ضد راديو مارس  .', 'size': 2}], 'main_title': 'لا مخالفة في البث الرسمي.. “الهاكا” تبرئ راديو مارس من شكاية الوداد'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
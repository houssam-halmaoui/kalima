<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 23/07/2025 - 06h32</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '0', 'title': 'القضاء الفرنسي يحاكم رشيدة داتي', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%82%d8%b6%d8%a7%d8%a1-%d8%a7%d9%84%d9%81%d8%b1%d9%86%d8%b3%d9%8a-%d9%8a%d8%ad%d8%a7%d9%83%d9%85-%d8%b1%d8%b4%d9%8a%d8%af%d8%a9-%d8%af%d8%a7%d8%aa%d9%8a-1597390.html', 'summary': 'القضاء الفرنسي يحاكم رشيدة داتي. أحال قضاة تحقيق في باريس، اليوم الثلاثاء، وزيرة الثقافة الفرنسية رشيدة داتي، والرئيس السابق لمجموعة رونو-نيسان كارلوس غصن، على المحاكمة بتهم منها الفساد واستغلال النفوذ، وفق إفادة مصدر قضائي لوكالة فرانس برس. وداتي وغصن يحرصان على نفي التهم الموجهة إليهما في القضية؛ التي بدأ التحقيق فيها في باريس عام 2019. وداتي، البالغة 59 عاما، من  القضاء الفرنسي يحاكم رشيدة داتي     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '165', 'title': 'رشيدة داتي الوزيرة الفرنسية من أصل مغربي تُحال على المحاكمة بتهم فساد', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b1%d8%b4%d9%8a%d8%af%d8%a9-%d8%af%d8%a7%d8%aa%d9%8a-%d8%a7%d9%84%d9%88%d8%b2%d9%8a%d8%b1%d8%a9-%d8%a7%d9%84%d9%81%d8%b1%d9%86%d8%b3%d9%8a%d8%a9-%d9%85%d9%86-%d8%a3%d8%b5%d9%84-%d9%85%d8%ba%d8%b1/', 'summary': 'رشيدة داتي الوزيرة الفرنسية من أصل مغربي تُحال على المحاكمة بتهم فساد. أحال قضاة التحقيق في باريس، يوم الثلاثاء، وزيرة الثقافة الفرنسية رشيدة داتي، والرئيس السابق لتحالف "رينو-نيسان"، كارلوس غصن، على المحاكمة بتهم تشمل الفساد واستغلال النفوذ، وفق ما أفاد به مصدر قضائي لوكالة الصحافة الفرنسية (AFP). وتنفي داتي وغصن، الذي يحمل الجنسيات الفرنسية واللبنانية والبرازيلية، كافة التهم الموجهة إليهما، في هذه القضية التي بدأ التحقيق فيها  رشيدة داتي الوزيرة الفرنسية من أصل مغربي تُحال على المحاكمة بتهم فساد     .', 'size': 2}], 'main_title': 'القضاء الفرنسي يحاكم رشيدة داتي'}, {'community_id': '1', 'articles': [{'id': '7', 'title': 'البرتغال تشيد بـ "المبادرات الأطلسية"', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d8%a8%d8%b1%d8%aa%d8%ba%d8%a7%d9%84-%d8%aa%d8%b4%d9%8a%d8%af-%d8%a8%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a7%d8%aa-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3%d9%8a%d8%a9-1597291.html', 'summary': 'البرتغال تشيد بـ "المبادرات الأطلسية". أشادت البرتغال، باعتبارها بلدا أطلسيا، بالمبادرات الأطلسية التي أطلقها الملك محمد السادس لصالح القارة الإفريقية. وعبّر عن هذا الموقف باولو رانجيل، وزير الدولة ووزير الشؤون الخارجية بجمهورية البرتغال، في إعلان مشترك تم اعتماده عقب لقائه اليوم الثلاثاء بلشبونة مع ناصر بوريطة، وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج. وجاء في الإعلان المشترك أن البرتغال،  البرتغال تشيد بـ "المبادرات الأطلسية"     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '163', 'title': 'البرتغال تجدد دعمها الكامل لمبادرة الحكم الذاتي لتسوية نزاع الصحراء', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1087344.html', 'summary': 'البرتغال تجدد دعمها الكامل لمبادرة الحكم الذاتي لتسوية نزاع الصحراء. عبرت الجمهورية البرتغالية عن “دعمها الكامل لمبادرة الحكم الذاتي، باعتبارها الأساس البناء والأكثر جدية ومصداقية من أجل تسوية هذا النزاع”. تم التعبير عن هذا الموقف في الإعلان المشترك الذي اعتمده وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، ووزير الدولة وزير الشؤون الخارجية البرتغالي، باولو رانجيل، عقب لقائهما اليوم الثلاثاء بلشبونة. وجاء في ظهرت المقالة البرتغال تجدد دعمها الكامل لمبادرة الحكم الذاتي لتسوية نزاع الصحراء  .', 'size': 3}, {'id': '222', 'title': 'في إعلان مشترك بلشبونة: البرتغال تدعم مقترح الحكم الذاتي في الصحراء', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%81%d9%8a-%d8%a5%d8%b9%d9%84%d8%a7%d9%86-%d9%85%d8%b4%d8%aa%d8%b1%d9%83-%d8%a8%d9%84%d8%b4%d8%a8%d9%88%d9%86%d8%a9-%d8%a7%d9%84%d8%a8%d8%b1%d8%aa%d8%ba%d8%a7%d9%84-%d8%aa%d8%af%d8%b9%d9%85-%d9%85/', 'summary': 'في إعلان مشترك بلشبونة: البرتغال تدعم مقترح الحكم الذاتي في الصحراء. المساء اليوم: أعلنت البرتغال عن “دعمها الكامل لمبادرة الحكم الذاتي، باعتبارها الأساس البناء والأكثر جدية ومصداقية من أجل تسوية هذا النزاع”. تم التعبير عن هذا الموقف في الإعلان المشترك الذي اعتمده وزير الشؤون الخارجية والتعاون', 'size': 2}, {'id': '235', 'title': 'البرتغال تشيد بالمبادرات الأطلسية التي أطلقها الملك محمد السادس لصالح القارة الإفريقية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d8%a8%d8%b1%d8%aa%d8%ba%d8%a7%d9%84-%d8%aa%d8%b4%d9%8a%d8%af-%d8%a8%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a7%d8%aa-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3%d9%8a%d8%a9-%d8%a7%d9%84/', 'summary': 'البرتغال تشيد بالمبادرات الأطلسية التي أطلقها الملك محمد السادس لصالح القارة الإفريقية. أشادت البرتغال، باعتبارها بلدا أطلسيا، بالمبادرات الأطلسية التي أطلقها الملك محمد السادس، لصالح القارة الإفريقية. وتم التعبير عن هذا الموقف من قبل وزير الدولة ووزير الشؤون الخارجية بجمهورية البرتغال، باولو رانجيل، في إعلان مشترك تم اعتماده عقب لقائه اليوم الثلاثاء، بلشبونة مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وجاء …  البرتغال تشيد بالمبادرات الأطلسية التي أطلقها الملك محمد السادس لصالح القارة الإفريقية     .', 'size': 3}], 'main_title': 'البرتغال تجدد دعمها الكامل لمبادرة الحكم الذاتي لتسوية نزاع الصحراء'}, {'community_id': '2', 'articles': [{'id': '66', 'title': 'جمهورية البرتغال تعبر عن دعمها الكامل للمبادرة المغربية للحكم الذاتي', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/203875', 'summary': 'جمهورية البرتغال تعبر عن دعمها الكامل للمبادرة المغربية للحكم الذاتي.  في إطار الدينامية الدولية التي أُطلقت بقيادة صاحب الجلالة الملك محمد السادس، نصره الله، الداعمة لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي، عبرت الجمهورية البرتغالية عن “دعمها الكامل لمبادرة الحكم الذاتي، باعتبارها الأساس البناء والأكثر جدية ومصداقية من أجل تسوية هذا النزاع”. تم التعبير عن هذا الموقف في الإعلان المشترك الذي اعتمده وزير', 'size': 4}, {'id': '104', 'title': 'صفعة جديدة للأعداء.. البرتغال تعلن عن "دعمها الكامل للمبادرة المغربية للحكم الذاتي باعتبارها الأساس البناء والأكثر جدية ومصداقية لتسوية النزاع"', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/409738.html', 'summary': 'صفعة جديدة للأعداء.. البرتغال تعلن عن "دعمها الكامل للمبادرة المغربية للحكم الذاتي باعتبارها الأساس البناء والأكثر جدية ومصداقية لتسوية النزاع". في إطار الدينامية الدولية التي أ طلقت بقيادة صاحب الجلالة الملك محمد السادس، نصره الله، الداعمة لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي، عبرت الجمهورية', 'size': 3}, {'id': '237', 'title': 'جمهورية البرتغال تعبر عن دعمها الكامل لمبادرة الحكم الذاتي في الصحراء المغربية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d8%a8%d8%b1%d8%aa%d8%ba%d8%a7%d9%84-%d8%aa%d8%b9%d8%a8%d8%b1-%d8%b9%d9%86-%d8%af%d8%b9%d9%85%d9%87%d8%a7-%d8%a7%d9%84%d9%83%d8%a7%d9%85%d9%84/', 'summary': 'جمهورية البرتغال تعبر عن دعمها الكامل لمبادرة الحكم الذاتي في الصحراء المغربية. عبرت الجمهورية البرتغالية، في إطار الدينامية الدولية التي أُطلقت بقيادة الملك محمد السادس، الداعمة لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي، عن “دعمها الكامل لمبادرة الحكم الذاتي، باعتبارها الأساس البناء والأكثر جدية ومصداقية من أجل تسوية هذا النزاع”. وتم التعبير عن هذا الموقف في الإعلان المشترك الذي اعتمده وزير الشؤون الخارجية والتعاون الإفريقي …  جمهورية البرتغال تعبر عن دعمها الكامل لمبادرة الحكم الذاتي في الصحراء المغربية     .', 'size': 2}, {'id': '436', 'title': 'البرتغال تعلن دعمها الكامل للحكم الذاتي باعتباره الأساس البناء والأكثر جدية ومصداقية لتسوية النزاع', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225070/', 'summary': 'البرتغال تعلن دعمها الكامل للحكم الذاتي باعتباره الأساس البناء والأكثر جدية ومصداقية لتسوية النزاع. لشبونة – في إطار الدينامية الدولية التي أُطلقت بقيادة صاحب الجلالة الملك محمد السادس، نصره الله، الداعمة لسيادة المغرب على صحرائه ولمخطط الحكم الذاتي، عبرت الجمهورية البرتغالية عن “دعمها الكامل لمبادرة الحكم الذاتي، باعتبارها الأساس البناء والأكثر جدية ومصداقية من أجل تسوية هذا النزاع”. تم التعبير عن هذا الموقف في الإعلان المشترك الذي اعتمده وزير', 'size': 3}], 'main_title': 'جمهورية البرتغال تعبر عن دعمها الكامل للمبادرة المغربية للحكم الذاتي'}, {'community_id': '3', 'articles': [{'id': '73', 'title': 'المغرب على أعتاب ثورة مالية.. البنك المركزي يطلق تجارب مبتكرة لتحضير العملة الرقمية المستقبلية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/409703.html', 'summary': 'المغرب على أعتاب ثورة مالية.. البنك المركزي يطلق تجارب مبتكرة لتحضير العملة الرقمية المستقبلية. أعلن والي بنك المغرب، عبد اللطيف الجواهري، اليوم الاثنين بالرباط، أن البنك المركزي أجرى أول تجربة همت حالة استخدام الأداء من نظير إلى نظير (Peer-to-Peer)', 'size': 2}, {'id': '220', 'title': 'المغرب يجري أول تجربة لعملة رقمية خاصة به', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225009/', 'summary': 'المغرب يجري أول تجربة لعملة رقمية خاصة به. أعلن والي بنك المغرب، عبد اللطيف الجواهري، اليوم الاثنين بالرباط، أن البنك المركزي أجرى أول تجربة همت حالة استخدام الأداء من نظير إلى نظير (Peer-to-Peer) بالتجزئة. وقال السيد الجواهري، بمناسبة افتتاح الندوة القارية لجمعية البنوك المركزية الإفريقية لسنة 2025، المنعقدة تحت شعار “المخاطر السيبرانية والتكنولوجيات المالية المبتكرة.. تحديات وتدابير إستراتيجية”، “نحن بصدد إجراء تجربة أخرى،', 'size': 2}], 'main_title': 'المغرب على أعتاب ثورة مالية.. البنك المركزي يطلق تجارب مبتكرة لتحضير العملة الرقمية المستقبلية'}, {'community_id': '4', 'articles': [{'id': '107', 'title': 'نهاية صادمة لقضية "مجموعة الخير" بطنجة.. السجن للمتهمين والضحايا بدون تعويض!', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/409743.html', 'summary': 'نهاية صادمة لقضية "مجموعة الخير" بطنجة.. السجن للمتهمين والضحايا بدون تعويض!. أسدل الستار، بشكل شبه نهائي، على واحدة من أكبر قضايا النصب المالي التي هزت مدينة طنجة خلال السنوات الأخيرة، بعدما أيدت محكمة الاستئناف الأحكام الابتدائية', 'size': 2}, {'id': '452', 'title': 'استئنافية طنجة تؤيد الأحكام في ملف "مجموعة الخير" وتُسقط مطالب الضحايا', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/استئنافية-طنجة-تؤيد-الأحكام-في-ملف-مجموعة-الخير-وتُسقط-مطالب_a28827.html', 'summary': 'استئنافية طنجة تؤيد الأحكام في ملف "مجموعة الخير" وتُسقط مطالب الضحايا. العلم الإلكترونية - الرباط أسدلت محكمة الاستئناف بطنجة، الستار على واحدة من أكبر قضايا النصب والاحتيال المالي التي هزت الرأي العام المغربي...', 'size': 2}], 'main_title': 'نهاية صادمة لقضية "مجموعة الخير" بطنجة.. السجن للمتهمين والضحايا بدون تعويض!'}, {'community_id': '5', 'articles': [{'id': '119', 'title': 'بنسعيد مدافعا عن “قانون مجلس الصحافة”: الحكومة ليست لها أجندة أو توجه سياسي معين يخدم طرف على طرف أخر', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d9%86%d8%b3%d8%b9%d9%8a%d8%af-%d9%85%d8%af%d8%a7%d9%81%d8%b9%d8%a7-%d8%b9%d9%86-%d9%82%d8%a7%d9%86%d9%88%d9%86-%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d8%b5%d8%ad%d8%a7%d9%81%d8%a9-%d8%a7/', 'summary': 'بنسعيد مدافعا عن “قانون مجلس الصحافة”: الحكومة ليست لها أجندة أو توجه سياسي معين يخدم طرف على طرف أخر. دافع وزير الشباب والثقافة والتواصل، المهدي بنسعيد، عن مشروع القانون المتعلق بإعادة تنظيم المجلس الوطني للصحافة، خلال الجلسة العامة لمجلس النواب، التي عقدت اليوم الثلاثاء (22 يوليوز)، عقب التصويت على المشروع داخل لجنة الثقافة والتعليم والاتصال. وقال الوزير ضمن كلمته: “ما أريد التأكيد عليه كذلك، هو أن الحكومة ليست لها أجندة، أو توجه سياسي معين،', 'size': 4}, {'id': '124', 'title': 'الحكومة تؤكد التزامها بمبدأ التنظيم الذاتي واستقلالية الصحافة', 'source': 'assabah.ma', 'link': 'https://assabah.ma/861019.html', 'summary': 'الحكومة تؤكد التزامها بمبدأ التنظيم الذاتي واستقلالية الصحافة. في تصريح له خلال الجلسة العامة لمجلس النواب، أكد محمد المهدي بنسعيد، وزير الشباب والثقافة والتواصل، أن الحكومة لا تملك أي أجندة سياسية أو نية للانحياز لطرف دون آخر في ما يتعلق بمشروع قانون إعادة تنظيم المجلس الوطني للصحافة، مشيرا إلى أن الهدف الوحيد منه هو “إخراجأكمل القراءة » المقالة الحكومة تؤكد التزامها بمبدأ التنظيم الذاتي واستقلالية الصحافة  .', 'size': 3}, {'id': '167', 'title': '"لا نخدم طرفا على حساب آخر".. الوزير بنسعيد ينفي وجود أجندة حكومية في تنظيم الصحافة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%84%d8%a7-%d9%86%d8%ae%d8%af%d9%85-%d8%b7%d8%b1%d9%81%d8%a7-%d8%b9%d9%84%d9%89-%d8%ad%d8%b3%d8%a7%d8%a8-%d8%a2%d8%ae%d8%b1-%d8%a7%d9%84%d9%88%d8%b2%d9%8a%d8%b1-%d8%a8%d9%86%d8%b3%d8%b9%d9%8a/', 'summary': '"لا نخدم طرفا على حساب آخر".. الوزير بنسعيد ينفي وجود أجندة حكومية في تنظيم الصحافة. أكد محمد المهدي بنسعيد، وزير الشباب والثقافة والتواصل، أن الحكومة ليست لها أجندة أو توجه سياسي معين يخدم طرفا على حساب طرف آخر، مشددا على أن الهدف الوحيد هو الخروج بمجلس وطني للصحافة يعزز حريتها، ويساهم في ممارسة مهامها السامية، ويقوي استقلالية المهنة. وأوضح بنسعيد، خلال تقديمه لمشروع القانون رقم 26.25 المتعلق بإعادة تنظيم المجلس  "لا نخدم طرفا على حساب آخر".. الوزير بنسعيد ينفي وجود أجندة حكومية في تنظيم الصحافة     .', 'size': 5}, {'id': '368', 'title': 'مجلس النواب يصادق بالأغلبية على إعادة تنظيم مجلس الصحافة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/319019/', 'summary': 'مجلس النواب يصادق بالأغلبية على إعادة تنظيم مجلس الصحافة. صادق مجلس النواب، خلال جلسة تشريعية عقدها مساء اليوم الثلاثاء، بالأغلبية، على مشروع قانون رقم 026.25 المتعلق بإعادة تنظيم المجلس الوطني للصحافة. وحظي مشروع القانون بموافقة 87 نائبا بينما عارضه 25 نائبا، دون تسجيل أي امتناع عن التصويت. وفي كلمة تقديمية لمشروع القانون، أكد وزير الشباب والثقافة والتواصل، محمد المهدي بنسعيد، أن مشروع القانون “ليس', 'size': 4}, {'id': '390', 'title': 'بنسعيد: رقم المعاملات معيار اضطراري لدعم الصحافة في غياب مقياس للمقروئية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1087452.html', 'summary': 'بنسعيد: رقم المعاملات معيار اضطراري لدعم الصحافة في غياب مقياس للمقروئية. أكد وزير الشباب والثقافة والتواصل، محمد المهدي بنسعيد، خلال جلسة برلمانية اليوم الثلاثاء، أن دعم الدولة للصحافة يعد ممارسة متعارفا عليها دوليا، مشددا على أن المعايير المعتمدة حاليا لتوزيعه، وعلى رأسها رقم المعاملات، تمثل اجتهادا ضروريا في ظل غياب آليات دقيقة لقياس مدى مقروئية وتأثير كل منبر إعلامي. أوضح بنسعيد أن الحكومة تلجأ إلى معايير ظهرت المقالة بنسعيد: رقم المعاملات معيار اضطراري لدعم الصحافة في غياب مقياس للمقروئية  .', 'size': 5}], 'main_title': '"لا نخدم طرفا على حساب آخر".. الوزير بنسعيد ينفي وجود أجندة حكومية في تنظيم الصحافة'}, {'community_id': '6', 'articles': [{'id': '158', 'title': 'الحكومة تسرع إدماج الأمازيغية في القوانين وتستعجل تعميمها في التشريعات والإدارة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1087290.html', 'summary': 'الحكومة تسرع إدماج الأمازيغية في القوانين وتستعجل تعميمها في التشريعات والإدارة. أكد الأمين العام للحكومة، محمد حجوي، أن تفعيل الطابع الرسمي للغة الأمازيغية لا يمكن أن يتحقق إلا من خلال نهج أسس عملية لتكريسها كممارسة فعلية داخل الفضاء الإداري والتشريعي والتنظيمي، مشددا على أهمية اتخاذ مبادرات ملموسة في هذا الإطار. ويأتي ضمن هذه المبادرات وفق حجوي، ترجمة النصوص القانونية، وإعداد معجم قانوني وفق اللغة الأمازيغية المعيارية، ظهرت المقالة الحكومة تسرع إدماج الأمازيغية في القوانين وتستعجل تعميمها في التشريعات والإدارة  .', 'size': 2}, {'id': '171', 'title': 'الأمين العام للحكومة: سنتخذ مبادرات ملموسة لترجمة النصوص القانونية إلى الأمازيغية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%a3%d9%85%d9%8a%d9%86-%d8%a7%d9%84%d8%b9%d8%a7%d9%85-%d9%84%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d8%b3%d9%86%d8%aa%d8%ae%d8%b0-%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a7%d8%aa-%d9%85%d9%84/', 'summary': 'الأمين العام للحكومة: سنتخذ مبادرات ملموسة لترجمة النصوص القانونية إلى الأمازيغية. قال محمد حجوي، الأمين العام للحكومة، إن "ورقة الطريق التي سطرتها بلادنا بخصوص تفعيل الطابع الرسمي للأمازيغية في ميدان التعليم وفي مجالات الحياة العامة ذات الأولوية واضحة كل الوضوح". وأضاف، في كلمته الافتتاحية بمناسبة اليوم الدراسي حول الأمازيغية، أن "التشريع والتنظيم، إلى جانب العمل البرلماني، يأتيان في مقدمة مجالات الحياة العامة ذات الأولوية، بعد قطاع  الأمين العام للحكومة: سنتخذ مبادرات ملموسة لترجمة النصوص القانونية إلى الأمازيغية     .', 'size': 2}], 'main_title': 'الحكومة تسرع إدماج الأمازيغية في القوانين وتستعجل تعميمها في التشريعات والإدارة'}, {'community_id': '8', 'articles': [{'id': '201', 'title': 'ترامب يعلن انسحاب الولايات المتحدة من منظمة “اليونسكو”', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%aa%d8%b1%d8%a7%d9%85%d8%a8-%d9%8a%d8%b9%d9%84%d9%86-%d8%a7%d9%86%d8%b3%d8%ad%d8%a7%d8%a8-%d8%a7%d9%84%d9%88%d9%84%d8%a7%d9%8a%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d8%aa%d8%ad%d8%af%d8%a9-%d9%85%d9%86/', 'summary': 'ترامب يعلن انسحاب الولايات المتحدة من منظمة “اليونسكو”. -متابعات أعلن الرئيس الأمريكي دونالد ترامب، اليوم الثلاثاء، انسحاب الولايات المتحدة من منظمة الأمم المتحدة للتربية والعلم والثقافة (اليونسكو)، للمرة الثانية خلال رئاسته، مبررًا القرار بما اعتبره “توجهات معادية...  ترامب يعلن انسحاب الولايات المتحدة من منظمة “اليونسكو”     .', 'size': 2}, {'id': '451', 'title': 'بأمر من ترامب.. الولايات المتحدة تعلن انسحابها من منظمة اليونسكو', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d8%a3%d9%85%d8%b1-%d9%85%d9%86-%d8%aa%d8%b1%d8%a7%d9%85%d8%a8-%d8%a7%d9%84%d9%88%d9%84%d8%a7%d9%8a%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d8%aa%d8%ad%d8%af%d8%a9-%d8%aa%d8%b9%d9%84%d9%86-%d8%a7%d9%86/', 'summary': 'بأمر من ترامب.. الولايات المتحدة تعلن انسحابها من منظمة اليونسكو. أعلنت الولايات المتحدة، اليوم الثلاثاء، نيتها الانسحاب من منظمة الأمم المتحدة للتربية والعلم والثقافة (اليونسكو)، في خطوة جديدة مثيرة للجدل قررها الرئيس الأميركي دونالد ترامب، مبررة القرار بما وصفته “تحيزا ممنهجا ضد إسرائيل”، رغم مرور عامين فقط على عودتها إلى المنظمة بعد انسحاب سابق. أبلغت واشنطن المديرة العامة لليونسكو، أودري أزولاي، بقرار الانسحاب، …  بأمر من ترامب.. الولايات المتحدة تعلن انسحابها من منظمة اليونسكو     .', 'size': 2}], 'main_title': 'ترامب يعلن انسحاب الولايات المتحدة من منظمة “اليونسكو”'}, {'community_id': '9', 'articles': [{'id': '211', 'title': 'كأس إفريقيا للسيدات .. اللبؤات يواجهن غانا وكلهن أمل في بلوغ النهائي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225035/', 'summary': 'كأس إفريقيا للسيدات .. اللبؤات يواجهن غانا وكلهن أمل في بلوغ النهائي. ينتظر عشاق كرة القدم للسيدات بشغف واهتمام كبيرين موعد مباريات نصف نهائي كأس أمم إفريقيا المقامة حاليا بالمغرب، في نسخة تشهد منافسة قوية بين نخبة منتخبات القارة السمراء، حيث يواجه المنتخب الوطني المغربي نظيره الغاني، أما في المباراة الثانية يصطدم منتخبا نيجيريا بجنوب إفريقيا. وستقابل “لبؤات الأطلس” المنتخب الغاني اليوم الثلاثاء 22 يوليوز 2025، انطلاقا', 'size': 2}, {'id': '349', 'title': 'لمواجهة نيجيريا.. المنتخب المغربي النسوي يعبر إلى النهائي بعد مباراة مثيرة ضد غانا', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%84%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a9-%d9%86%d9%8a%d8%ac%d9%8a%d8%b1%d9%8a%d8%a7-%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d8%a7%d9%84%d9%86%d8%b3/', 'summary': 'لمواجهة نيجيريا.. المنتخب المغربي النسوي يعبر إلى النهائي بعد مباراة مثيرة ضد غانا. خاض المنتخب المغربي النسوي، مساء اليوم الثلاثاء (22 يوليوز)، مباراة قوية ومثيرة ضد نظيره الغاني ضمن نصف نهائي كأس أمم إفريقيا للسيدات “WAFCON 2024″، على أرضية الملعب الأولمبي بمدينة الرباط. وانتهى الوقت الأصلي للمباراة بالتعادل الإيجابي 1-1، بعد أداء متوازن من الطرفين طبعته الحيطة التكتيكية والندية الكبيرة، حيث افتتحت غانا التسجيل في الدقيقة 26 عن', 'size': 2}], 'main_title': 'كأس إفريقيا للسيدات .. اللبؤات يواجهن غانا وكلهن أمل في بلوغ النهائي'}, {'community_id': '10', 'articles': [{'id': '339', 'title': 'لفتيت: هجمات إعلامية ممنهجة تستهدف تشويه صورة المغرب عبر ملف الكلاب الضالة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409765.html', 'summary': 'لفتيت: هجمات إعلامية ممنهجة تستهدف تشويه صورة المغرب عبر ملف الكلاب الضالة. أكد وزير الداخلية، عبد الوافي لفتيت، اليوم الثلاثاء خلال جلسة الأسئلة الشفوية بمجلس المستشارين، أن كل العمليات المتعلقة بتدبير ظاهرة الكلاب الضالة تتم في إطار', 'size': 2}, {'id': '415', 'title': 'وزير الداخلية: المغرب يتعرض لهجمات إعلامية ممنهجة مركزة على ملف “الكلاب الضالة”', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/470305.html', 'summary': 'وزير الداخلية: المغرب يتعرض لهجمات إعلامية ممنهجة مركزة على ملف “الكلاب الضالة”. قال وزير الداخلية، عبد الوافي لفتيت، اليوم الثلاثاء بمجلس المستشارين، إن المغرب يتعرض لهجمات إعلامية ممنهجة تسعى إلى تشويه صورة المملكة، مركزة بشكل لافت على موضوع “الكلاب الضالة”. وأضاف لفتيت خلال جلسة الأسئلة الشفوية، أن هذه الحملات تقدم معطيات مغلوطة خارج سياقها الحقيقي. ولفت المتحدث إلى أنه لا يتم استحضار المعطيات الواقعية ولا حجم المجهودات …', 'size': 2}], 'main_title': 'لفتيت: هجمات إعلامية ممنهجة تستهدف تشويه صورة المغرب عبر ملف الكلاب الضالة'}, {'community_id': '11', 'articles': [{'id': '342', 'title': 'أمن أكادير يتفاعل بسرعة مع حادثة دخول سيارة أجنبية إلى شاطئ المدينة ويخضع السائق للتحقيق', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/409768.html', 'summary': 'أمن أكادير يتفاعل بسرعة مع حادثة دخول سيارة أجنبية إلى شاطئ المدينة ويخضع السائق للتحقيق. تفاعلت ولاية أمن أكادير، بسرعة وجدية كبيرة، مع صورة منشورة على صفحات مواقع التواصل الاجتماعي، اليوم الثلاثاء 22 يوليوز الجازي، تظهر تنقل سيارة رباعية الدفع', 'size': 5}, {'id': '351', 'title': 'اقتحم شاطئا في أكادير بسيارة رباعية الدفع.. إخضاع سائق أجنبي للبحث القضائي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%82%d8%aa%d8%ad%d9%85-%d8%b4%d8%a7%d8%b7%d8%a6%d8%a7-%d9%81%d9%8a-%d8%a3%d9%83%d8%a7%d8%af%d9%8a%d8%b1-%d8%a8%d8%b3%d9%8a%d8%a7%d8%b1%d8%a9-%d8%b1%d8%a8%d8%a7%d8%b9%d9%8a%d8%a9-%d8%a7%d9%84/', 'summary': 'اقتحم شاطئا في أكادير بسيارة رباعية الدفع.. إخضاع سائق أجنبي للبحث القضائي. تفاعلت ولاية أمن أكادير، بسرعة وجدية كبيرة، مع صورة منشورة على صفحات مواقع التواصل الاجتماعي، اليوم الثلاثاء (22 يوليوز)، تظهر تنقل سيارة رباعية الدفع وسط رمال الشاطئ، مرفوقة بتعليقات مفادها أن الأمر يتعلق بمركبة تحمل ترقيما أجنبيا اقتحمت شاطئ مدينة أكادير، في ظروف تعرض سلامة المصطافين للخطر. وأوضحت الأبحاث والتحريات المنجزة على ضوء هذه التدوينات،', 'size': 5}, {'id': '364', 'title': 'أمن أكادير يحقق مع سائح أجنبي اقتحم رمال الشاطئ بسيارته', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/319036/', 'summary': 'أمن أكادير يحقق مع سائح أجنبي اقتحم رمال الشاطئ بسيارته. تفاعلت ولاية أمن أكادير، بسرعة وجدية كبيرة، مع صورة منشورة على صفحات مواقع التواصل الاجتماعي، اليوم الثلاثاء 22 يوليوز الجازي، تظهر تنقل سيارة رباعية الدفع وسط رمال الشاطئ، مرفوقة بتعليقات مفادها أن الأمر يتعلق بمركبة تحمل ترقيما أجنبيا اقتحمت شاطئ مدينة أكادير في ظروف تعرض سلامة المصطافين للخطر. وقد أوضحت الأبحاث والتحريات المنجزة على ضوء', 'size': 5}, {'id': '406', 'title': 'الأمن يوقف خليجيا إقتحم شاطئ أكادير بسيارته', 'source': 'rue20.com', 'link': 'https://rue20.com/922705.html', 'summary': 'الأمن يوقف خليجيا إقتحم شاطئ أكادير بسيارته. . الرباط تفاعلت ولاية أمن أكادير، بسرعة وجدية كبيرة، مع صورة منشورة على صفحات مواقع التواصل الاجتماعي، اليوم الثلاثاء 22 يوليوز الجازي، تظهر تنقل سيارة رباعية الدفع وسط رمال الشاطئ، مرفوقة بتعليقات مفادها أن الأمر يتعلق بمركبة تحمل ترقيما أجنبيا اقتحمت شاطئ مدينة أكادير في ظروف تعرض سلامة المصطافين للخطر. وقد أوضحت الأبحاث والتحريات الخبر الأمن يوقف خليجيا إقتحم شاطئ أكادير بسيارته  .', 'size': 5}, {'id': '443', 'title': 'ولاية أمن أكادير: توقيف السائق الأجنبي الذي اقتحم رمال الشاطئ بسيارة رباعية الدفع', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225045/', 'summary': 'ولاية أمن أكادير: توقيف السائق الأجنبي الذي اقتحم رمال الشاطئ بسيارة رباعية الدفع. تفاعلت ولاية أمن أكادير، بسرعة وجدية كبيرة، مع صورة منشورة على صفحات مواقع التواصل الاجتماعي، اليوم الثلاثاء 22 يوليوز الجازي، تظهر تنقل سيارة رباعية الدفع وسط رمال الشاطئ، مرفوقة بتعليقات مفادها أن الأمر يتعلق بمركبة تحمل ترقيما أجنبيا اقتحمت شاطئ مدينة أكادير في ظروف تعرض سلامة المصطافين للخطر. وقد أوضحت الأبحاث والتحريات المنجزة على ضوء', 'size': 5}], 'main_title': 'أمن أكادير يتفاعل بسرعة مع حادثة دخول سيارة أجنبية إلى شاطئ المدينة ويخضع السائق للتحقيق'}, {'community_id': '7', 'articles': [{'id': '343', 'title': 'المنتخب المغربي ينجح في تجاوز غانا بالركلات الترجيحية ويصعد إلى نهائي كأس أمم أفريقيا للسيدات', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/lionatlas/409769.html', 'summary': 'المنتخب المغربي ينجح في تجاوز غانا بالركلات الترجيحية ويصعد إلى نهائي كأس أمم أفريقيا للسيدات. تأهل المنتخب المغربي للسيدات إلى نهائي كأس أمم أفريقيا بعد فوزه المثير على منتخب غانا بركلات الترجيح 4-2، وذلك بعد انتهاء المباراة في الوقتين الأصلي', 'size': 2}, {'id': '442', 'title': 'كأس أمم أفريقيا للسيدات ..المنتخب المغربي يعبر غانا بالضربات الترجيحية ويتأهل إلى النهائي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225044/', 'summary': 'كأس أمم أفريقيا للسيدات ..المنتخب المغربي يعبر غانا بالضربات الترجيحية ويتأهل إلى النهائي. عبر المنتخب المغربي النسوي إلى نهائي كأس أمم أفريقيا للسيدات المقامة حاليا في المغرب، إثر تغلبه على نظيره الغاني بالضربات الترجحية (4-2) ، في مباراة جمعتهما مساء اليوم الثلاثاء 22 يوليوز 2025، في الملعب الأولمبي بالرباط، برسم نصف نهائي المسابقة القارية. وافتتح منتخب غانا التسجيل عبر اللاعبة بونسو كييروا في الدقيقة الـ 26 من عمر', 'size': 2}], 'main_title': 'المنتخب المغربي ينجح في تجاوز غانا بالركلات الترجيحية ويصعد إلى نهائي كأس أمم أفريقيا للسيدات'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 26/08/2025 - 06h14</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '7', 'title': 'انطلاق بيع تذاكر مبارة المغرب والنيجر', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a8%d8%af%d8%a1-%d8%a8%d9%8a%d8%b9-%d8%aa%d8%b0%d8%a7%d9%83%d8%b1-%d9%85%d8%a8%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%88%d8%a7%d9%84%d9%86%d9%8a%d8%ac%d8%b1-1614177.html', 'summary': 'انطلاق بيع تذاكر مبارة المغرب والنيجر. أعلنت اللجنة المنظمة عن انطلاق عملية بيع تذاكر مباراة المنتخب الوطني المغربي أمام منتخب النيجر، المقررة يوم الجمعة 5 شتنبر المقبل بالمجمع الرياضي الأمير مولاي عبد الله بالرباط، ضمن التصفيات الإفريقية المؤهلة إلى كأس العالم 2026، وذلك ابتداء من غدا الثلاثاء على الساعة الثامنة صباحا. وأوضحت الجامعة أن بيع التذاكر سيكون حصريا عبر المنصة الإلكترونية  انطلاق بيع تذاكر مبارة المغرب والنيجر     - هسبريس جريدة إلكترونية مغربية .', 'size': 4}, {'id': '129', 'title': 'ابتداءً من 100 درهم.. انطلاق عملية بيع تذاكر قمة المغرب والنيجر', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d8%a8%d8%aa%d8%af%d8%a7%d8%a1%d9%8b-%d9%85%d9%86-100-%d8%af%d8%b1%d9%87%d9%85-%d8%a7%d9%86%d8%b7%d9%84%d8%a7%d9%82-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d8%a8%d9%8a%d8%b9-%d8%aa%d8%b0%d8%a7%d9%83/', 'summary': 'ابتداءً من 100 درهم.. انطلاق عملية بيع تذاكر قمة المغرب والنيجر. فتحت اللجنة المنظمة باب بيع تذاكر القمة المرتقبة التي ستجمع المنتخب الوطني المغربي بنظيره النيجري، يوم الجمعة 5 شتنبر المقبل، ضمن التصفيات المؤهلة لمونديال 2026، على أرضية المجمع الرياضي الأمير مولاي عبد الله بالرباط. وسيكون بإمكان الجماهير ابتداءً من يوم غد الثلاثاء على الساعة الثامنة صباحًا، اقتناء تذاكرها بشكل حصري عبر المنصة الإلكترونية www.webook.com', 'size': 3}, {'id': '147', 'title': 'رسميا.. انطلاق بيع تذاكر أول مباراة بمركب مولاي عبد الله الجديد', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321671/', 'summary': 'رسميا.. انطلاق بيع تذاكر أول مباراة بمركب مولاي عبد الله الجديد. أعلنت اللجنة المنظمة للمباراة التي ستجمع المنتخب الوطني المغربي لكرة القدم بنظيره من النيجر، يوم الجمعة 5 شتنبر 2025 بالمجمع الرياضي الأمير مولاي عبد الله في الرباط، عن انطلاق عملية بيع التذاكر ابتداء من الثلاثاء 26 غشت الجاري على الساعة الثامنة صباحا، عبر منصة “webook” الإلكترونية. وتكتسي هذه المواجهة طابعا خاصا، إذ ستكون أول لقاء', 'size': 3}, {'id': '166', 'title': 'بيع تذاكر مباراة المغرب والنيجر بين 100 و20 ألف درهم', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095051.html', 'summary': 'بيع تذاكر مباراة المغرب والنيجر بين 100 و20 ألف درهم. أعلنت اللجنة المنظمة للمباراة التي ستجمع بين المنتخب الوطني المغربي ومنتخب النيجر، المقررة يوم الجمعة 5 شتنبر 2025 بالمجمع الرياضي الأمير مولاي عبد الله بمدينة الرباط، عن انطلاق عملية بيع التذاكر ابتداء من الثلاثاء 26 غشت على الساعة الثامنة صباحًا. وتندرج هذه المواجهة التي ستمثل افتتاح المجمع الرياضي الأمير مولاي عبد الله، ضمن التصفيات الإفريقية ظهرت المقالة بيع تذاكر مباراة المغرب والنيجر بين 100 و20 ألف درهم  .', 'size': 5}, {'id': '240', 'title': 'الإعلان عن تاريخ بداية عملية بيع تذاكر مباراة المغرب ضد النيجر', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d8%a5%d8%b9%d9%84%d8%a7%d9%86-%d8%b9%d9%86-%d8%aa%d8%a7%d8%b1%d9%8a%d8%ae-%d8%a8%d8%af%d8%a7%d9%8a%d8%a9-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d8%a8%d9%8a%d8%b9-%d8%aa%d8%b0%d8%a7%d9%83%d8%b1/', 'summary': 'الإعلان عن تاريخ بداية عملية بيع تذاكر مباراة المغرب ضد النيجر. أعلنت اللجنة المنظمة للمباراة التي ستجمع المنتخب الوطني المغربي ومنتخب النيجر، التي ستجرى يوم الجمعة 5 شتنبر 2025 بالمجمع الرياضي الأمير مولاي عبد الله بمدينة الرباط، عن انطلاق عملية بيع التذاكر الخاصة بهذا اللقاء، ابتداءً من يوم الثلاثاء 26 غشت 2025 على الساعة الثامنة صباحًا. وأوضح اللجنة في بلاغها، أنه في إطار حرص …  الإعلان عن تاريخ بداية عملية بيع تذاكر مباراة المغرب ضد النيجر     .', 'size': 4}], 'main_title': 'بيع تذاكر مباراة المغرب والنيجر بين 100 و20 ألف درهم'}, {'community_id': '1', 'articles': [{'id': '97', 'title': 'وفاة الإعلامي علي حسن مقدم برنامج "سينما الخميس"', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/culture/411603.html', 'summary': 'وفاة الإعلامي علي حسن مقدم برنامج "سينما الخميس". فقدت الساحة الإعلامية المغربية، صباح اليوم الإثنين 25 غشت 2025، أحد أبرز أعمدتها برحيل الإعلامي محمد الوالي المعروف باسم "علي حسن"، الذي ترك بصمة فريدة', 'size': 2}, {'id': '202', 'title': 'وفاة الإعلامي علي حسن أيقونة “سينما الخميس”', 'source': 'machahid24.com', 'link': 'https://machahid24.com/panorama/473632.html', 'summary': 'وفاة الإعلامي علي حسن أيقونة “سينما الخميس”. توفي الإعلامي المغربي علي حسن أيقونة البرنامج التلفزيوني "سينما الخميس" على القناة الأولى، والاسم الذي بصم على مسار متميز في الإذاعة أيضا.', 'size': 2}], 'main_title': 'وفاة الإعلامي علي حسن مقدم برنامج "سينما الخميس"'}, {'community_id': '2', 'articles': [{'id': '121', 'title': 'تفاصيل أول مجلس حكومي بعد عودة الوزراء من العطلة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/411630.html', 'summary': 'تفاصيل أول مجلس حكومي بعد عودة الوزراء من العطلة. ينعقد، الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة. وذكر بلاغ لرئاسة الحكومة أن المجلس سيتدارس فى بدايته مشروع قانون يتعلق بالتعليم العالي والبحث العلمي. وأضاف', 'size': 3}, {'id': '168', 'title': 'الحكومة تعود للعمل.. التعليم و”ضريبة التضامن” على طاولة أول اجتماع بعد العطلة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095038.html', 'summary': 'الحكومة تعود للعمل.. التعليم و”ضريبة التضامن” على طاولة أول اجتماع بعد العطلة. ينعقد، الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة. ظهرت المقالة الحكومة تعود للعمل.. التعليم و”ضريبة التضامن” على طاولة أول اجتماع بعد العطلة  .', 'size': 2}, {'id': '177', 'title': 'أول مجلس حكومي بعد انتهاء العطلة الصيفية للوزراء', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a3%d9%88%d9%84-%d9%85%d8%ac%d9%84%d8%b3-%d8%ad%d9%83%d9%88%d9%85%d9%8a-%d8%a8%d8%b9%d8%af-%d8%a7%d9%86%d8%aa%d9%87%d8%a7%d8%a1-%d8%a7%d9%84%d8%b9%d8%b7%d9%84%d8%a9-%d8%a7%d9%84%d8%b5%d9%8a%d9%81/', 'summary': 'أول مجلس حكومي بعد انتهاء العطلة الصيفية للوزراء. ينعقد، الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة. وذكر بلاغ لرئاسة الحكومة أن المجلس سيتدارس فى بدايته مشروع قانون يتعلق بالتعليم العالي والبحث العلمي. وأضاف المصدر ذاته أن المجلس سيتدارس إثر ذلك، مشروعي مرسومين، يتعلق الأول منهما بتغيير وتتميم المرسوم الصادر في شأن إحداث رسم شبه ضريبي يسمى "رسم التضامن ضد الوقائع الكارثية"  أول مجلس حكومي بعد انتهاء العطلة الصيفية للوزراء     .', 'size': 2}, {'id': '200', 'title': 'ضمنها تعويضات الساعات الإضافية للأساتذة.. الحكومة تتدارس ملفات مهمة الخميس', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/473624.html', 'summary': 'ضمنها تعويضات الساعات الإضافية للأساتذة.. الحكومة تتدارس ملفات مهمة الخميس. ينعقد الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة.', 'size': 3}], 'main_title': 'تفاصيل أول مجلس حكومي بعد عودة الوزراء من العطلة'}, {'community_id': '3', 'articles': [{'id': '122', 'title': 'ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين المشاركين بالمخيم الصيفي', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/411631.html', 'summary': 'ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين المشاركين بالمخيم الصيفي. بأمر من صاحب الجلالة الملك محمد السادس، نصره الله، استقبل صاحب السمو الملكي ولي العهد الأمير مولاي الحسن، اليوم الاثنين بالقصر الملكي بتطوان، الأطفال المقدسيين', 'size': 4}, {'id': '132', 'title': 'ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين المشاركين في المخيم الصيفي لوكالة بيت مال القدس الشريف', 'source': 'assabah.ma', 'link': 'https://assabah.ma/867350.html', 'summary': 'ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين المشاركين في المخيم الصيفي لوكالة بيت مال القدس الشريف. بأمر من صاحب الجلالة الملك محمد السادس، نصره الله، استقبل صاحب السمو الملكي ولي العهد الأمير مولاي الحسن، اليوم الاثنين بالقصر الملكي بتطوان، الأطفال المقدسيين المشاركين في الدورة الـ 16 للمخيم الصيفي الذي تنظمه وكالة بيت مال القدس الشريف. وتعكس هذه المبادرة المنظمة تحت الرعاية السامية لصاحبأكمل القراءة » المقالة ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين المشاركين في المخيم الصيفي لوكالة بيت مال القدس الشريف  .', 'size': 5}, {'id': '144', 'title': 'ولي العهد يستقبل الأطفال المقدسيين المشاركين في الدورة الـ 16 للمخيم الصيفي لوكالة بيت مال القدس', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321679/', 'summary': 'ولي العهد يستقبل الأطفال المقدسيين المشاركين في الدورة الـ 16 للمخيم الصيفي لوكالة بيت مال القدس. بأمر من الملك محمد السادس، استقبل ولي العهد الأمير مولاي الحسن، اليوم الإثنين بالقصر الملكي بتطوان، الأطفال المقدسيين المشاركين في الدورة الـ 16 للمخيم الصيفي الذي تنظمه وكالة بيت مال القدس الشريف. وتعكس هذه المبادرة المنظمة تحت الرعاية السامية لملك محمد السادس، رئيس لجنة القدس، والتي تشرف عليها وكالة بيت مال القدس الشريف، العناية الدائمة', 'size': 5}, {'id': '188', 'title': 'ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين في قصر تطوان', 'source': 'rue20.com', 'link': 'https://rue20.com/931212.html', 'summary': 'ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين في قصر تطوان.  | الرباط بأمر من صاحب الجلالة الملك محمد السادس، استقبل صاحب السمو الملكي ولي العهد الأمير مولاي الحسن، اليوم الاثنين بالقصر الملكي بتطوان، الأطفال المقدسيين المشاركين في الدورة الـ 16 للمخيم الصيفي الذي تنظمه وكالة بيت مال القدس الشريف. وتعكس هذه المبادرة المنظمة تحت الرعاية السامية لصاحب الجلالة الملك محمد السادس، رئيس لجنة الخبر ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين في قصر تطوان  .', 'size': 5}, {'id': '196', 'title': 'ولي العهد يستقبل الأطفال المقدسيين المشاركين في المخيم الصيفي لوكالة بيت مال القدس الشريف', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/473659.html', 'summary': 'ولي العهد يستقبل الأطفال المقدسيين المشاركين في المخيم الصيفي لوكالة بيت مال القدس الشريف. بأمر من الملك محمد السادس، استقبل ولي العهد الأمير مولاي الحسن، اليوم الاثنين بالقصر الملكي بتطوان، الأطفال المقدسيين المشاركين في الدورة الـ16 للمخيم الصيفي الذي تنظمه وكالة بيت مال القدس الشريف.', 'size': 6}, {'id': '206', 'title': 'المخيم الصيفي.. ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d9%85%d8%ae%d9%8a%d9%85-%d8%a7%d9%84%d8%b5%d9%8a%d9%81%d9%8a-%d9%88%d9%84%d9%8a-%d8%a7%d9%84%d8%b9%d9%87%d8%af-%d8%a7%d9%84%d8%a3%d9%85%d9%8a%d8%b1-%d9%85%d9%88%d9%84%d8%a7%d9%8a-%d8%a7/', 'summary': 'المخيم الصيفي.. ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين. بأمر من صاحب الجلالة الملك محمد السادس، نصره الله، استقبل صاحب السمو الملكي ولي العهد الأمير مولاي الحسن، اليوم الاثنين بالقصر الملكي بتطوان،  المخيم الصيفي.. ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين     .', 'size': 4}, {'id': '223', 'title': 'ولي العهد مولاي الحسن يستقبل الأطفال المقدسيين', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226320/', 'summary': 'ولي العهد مولاي الحسن يستقبل الأطفال المقدسيين. بأمر من صاحب الجلالة الملك محمد السادس، نصره الله، استقبل صاحب السمو الملكي ولي العهد الأمير مولاي الحسن، اليوم الاثنين بالقصر الملكي بتطوان، الأطفال المقدسيين المشاركين في الدورة الـ 16 للمخيم الصيفي الذي تنظمه وكالة بيت مال القدس الشريف. وتعكس هذه المبادرة المنظمة تحت الرعاية السامية لصاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، والتي', 'size': 7}, {'id': '353', 'title': 'بأمر من الملك.. ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين بتطوان (صور)', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095123.html', 'summary': 'بأمر من الملك.. ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين بتطوان (صور). بأمر من الملك محمد السادس، استقبل ولي العهد الأمير مولاي الحسن ظهرت المقالة بأمر من الملك.. ولي العهد الأمير مولاي الحسن يستقبل الأطفال المقدسيين بتطوان (صور)  .', 'size': 2}], 'main_title': 'ولي العهد مولاي الحسن يستقبل الأطفال المقدسيين'}, {'community_id': '4', 'articles': [{'id': '142', 'title': 'استئناف حركة السير بين سيدي قاسم و باب تيسرا يوم 28 غشت الجاري', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321682/', 'summary': 'استئناف حركة السير بين سيدي قاسم و باب تيسرا يوم 28 غشت الجاري. أعلنت وزارة التجهيز والماء عن استئناف حركة السير على الطريق الوطنية رقم 27 الرابطة بين سيدي قاسم ومكناس، على مستوى المقطع الرابط بين سيدي قاسم و باب تيسرا، يوم 28 غشت الجاري. وأنهت الوزارة، في بلاغ لها، إلى علم مستعملي الطريق أنه سيتم استئناف حركة السير بالمقطع الرابط بين سيدي قاسم و باب تيسرا من', 'size': 2}, {'id': '295', 'title': 'استئناف حركة السير على الطريق الوطنية رقم 27 على مستوى المقطع الرابط بين سيدي قاسم و باب تيسرا يوم 28 غشت الجاري', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205355', 'summary': 'استئناف حركة السير على الطريق الوطنية رقم 27 على مستوى المقطع الرابط بين سيدي قاسم و باب تيسرا يوم 28 غشت الجاري.  أعلنت وزارة التجهيز والماء عن استئناف حركة السير على الطريق الوطنية رقم 27 الرابطة بين سيدي قاسم ومكناس، على مستوى المقطع الرابط بين سيدي قاسم و باب تيسرا، يوم 28 غشت الجاري. وأنهت الوزارة، في بلاغ لها، إلى علم مستعملي الطريق أنه سيتم استئناف حركة السير بالمقطع الرابط بين سيدي قاسم و باب', 'size': 2}], 'main_title': 'استئناف حركة السير بين سيدي قاسم و باب تيسرا يوم 28 غشت الجاري'}, {'community_id': '5', 'articles': [{'id': '153', 'title': 'بتعليمات من الأميرة للا مريم.. مرصد حقوق الطفل يقدم الدعم النفسي لـ”البشير”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095142.html', 'summary': 'بتعليمات من الأميرة للا مريم.. مرصد حقوق الطفل يقدم الدعم النفسي لـ”البشير”. أعلن المرصد الوطني لحقوق الطفل، بتعليمات من رئيسته صاحبة السمو الملكي الأميرة للا مريم، عن تعبئة “الآلية الوطنية للتكفل النفسي بالصدمات النفسية للطفل” لتقديم المساعدة الفورية للطفل الذي وقع ضحية جريمة اغتصاب بمدينة الجديدة. وأوضح المرصد، في بلاغ له، أنه خصص طبيبة نفسية متخصصة في شؤون الأطفال ووضعها رهن الإشارة لتأمين تكفل نفسي عاجل وملائم ظهرت المقالة بتعليمات من الأميرة للا مريم.. مرصد حقوق الطفل يقدم الدعم النفسي لـ”البشير”  .', 'size': 2}, {'id': '173', 'title': 'المرصد الوطني لحقوق الطفل يتدخل للتكفل النفسي بطفل ضحية اغتصاب بالجديدة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d9%85%d8%b1%d8%b5%d8%af-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a-%d9%84%d8%ad%d9%82%d9%88%d9%82-%d8%a7%d9%84%d8%b7%d9%81%d9%84-%d9%8a%d8%aa%d8%af%d8%ae%d9%84-%d9%84%d9%84%d8%aa%d9%83%d9%81/', 'summary': 'المرصد الوطني لحقوق الطفل يتدخل للتكفل النفسي بطفل ضحية اغتصاب بالجديدة. في أعقاب المأساة التي شهدتها مدينة الجديدة، أعلن المرصد الوطني لحقوق الطفل، بتعليمات من الأميرة للا مريم، رئيسة المرصد، عن تعبئة الآلية الوطنية للتكفل النفسي بالصدمات النفسية للطفل من أجل تقديم الدعم النفسي الفوري للطفل الضحية. وأوضح المرصد في بلاغ، الاثنين، أن طبيبة نفسية للأطفال وُضعت رهن الإشارة لتأمين مواكبة نفسية متخصصة وسريعة، قصد الوقاية  المرصد الوطني لحقوق الطفل يتدخل للتكفل النفسي بطفل ضحية اغتصاب بالجديدة     .', 'size': 2}, {'id': '226', 'title': 'عاجل.. الأميرة لالة مريم تأمر بالتكفل بالطفل ضحية الاعتداء الجنسي في الجديدة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226311/', 'summary': 'عاجل.. الأميرة لالة مريم تأمر بالتكفل بالطفل ضحية الاعتداء الجنسي في الجديدة. بتعليمات من صاحبة السمو الملكي الأميرة للا مريم، رئيسة المرصد الوطني لحقوق الطفل، عبأ المرصد الآلية الوطنية للتكفل النفسي بالصدمات النفسية للطفل، بهدف تقديم المساعدة للطفل الذي وقع ضحية هتك هرض في الجديدة. وأوضح المرصد في بلاغ أن هذا الأخير وفر طبيبة نفسية للأطفال رهن الإشارة من أجل تأمين تكفل نفسي ملائم للطفل، في أسرع', 'size': 2}, {'id': '315', 'title': 'إثر مأساة “اغتصاب طفل” في الجديدة.. المرصد الوطني لحقوق الطفل يُعبئ آليته الوطنية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a5%d8%ab%d8%b1-%d9%85%d8%a3%d8%b3%d8%a7%d8%a9-%d8%a7%d8%ba%d8%aa%d8%b5%d8%a7%d8%a8-%d8%b7%d9%81%d9%84-%d9%81%d9%8a-%d8%a7%d9%84%d8%ac%d8%af%d9%8a%d8%af%d8%a9-%d8%a7%d9%84%d9%85%d8%b1%d8%b5/', 'summary': 'إثر مأساة “اغتصاب طفل” في الجديدة.. المرصد الوطني لحقوق الطفل يُعبئ آليته الوطنية. بتعليمات من صاحبة السمو الملكي الأميرة للا مريم، رئيسة المرصد الوطني لحقوق الطفل، عبأ المرصد الآلية الوطنية للتكفل النفسي بالصدمات النفسية للطفل، بهدف تقديم المساعدة للطفل الذي وقع ضحية اغتصاب في الجديدة. وأوضح المرصد في بلاغ أن هذا الأخير وفر طبيبة نفسية للأطفال رهن الإشارة من أجل تأمين تكفل نفسي ملائم للطفل، في أسرع وقت', 'size': 4}], 'main_title': 'إثر مأساة “اغتصاب طفل” في الجديدة.. المرصد الوطني لحقوق الطفل يُعبئ آليته الوطنية'}, {'community_id': '6', 'articles': [{'id': '162', 'title': 'السكتيوي: مباراة السنغال لن تكون سهلة.. وهدفنا تحقيق لقب “الشان”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095075.html', 'summary': 'السكتيوي: مباراة السنغال لن تكون سهلة.. وهدفنا تحقيق لقب “الشان”. أكد الناخب الوطني طارق السكتيوي، مدرب المنتخب الوطني للاعبين المحليين، جاهزية لاعبيه لخوض لقاء نصف النهائي أمام المنتخب السنغالي، مشيرا إلى أن الهدف الحالي هو الظفر بلقب الشان والتأكيد على روح المجموعة التي نجحت في بلوغ المربع الذهبي. وقال السكتيوي زوال يومه الإثنين في المؤتمر الصحفي الذي يسبق المباراة: “صحيح أننا تأهلنا، هذا شيء جيد، ظهرت المقالة السكتيوي: مباراة السنغال لن تكون سهلة.. وهدفنا تحقيق لقب “الشان”  .', 'size': 2}, {'id': '326', 'title': 'السكتيوي: جاهزون لمواجهة السنغال', 'source': 'assabah.ma', 'link': 'https://assabah.ma/867200.html', 'summary': 'السكتيوي: جاهزون لمواجهة السنغال. قال طارق السكتيوي، مدرب المنتخب المحلي، إن اللاعبين في كامل تركيزهم البدني والذهني لمواجهة المنتخب السنغالي (المباراة ستجرى اليوم (الثلاثاء). وأضاف السكتيوي، في حوار مع “الصباح”، أن المنتخب المحلي كان دائما كبيرا في مثل هذه المسابقات القارية، وينافس باستمرار على الألقاب، وهو ما ينبغي أن يكون، بالنظرأكمل القراءة » المقالة السكتيوي: جاهزون لمواجهة السنغال  .', 'size': 2}], 'main_title': 'السكتيوي: مباراة السنغال لن تكون سهلة.. وهدفنا تحقيق لقب “الشان”'}, {'community_id': '8', 'articles': [{'id': '178', 'title': 'موريتانيا تتخذ إجراءات وقائية بعد تسجيل جدري القردة في السنغال', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d9%88%d8%b1%d9%8a%d8%aa%d8%a7%d9%86%d9%8a%d8%a7-%d8%aa%d8%aa%d8%ae%d8%b0-%d8%a5%d8%ac%d8%b1%d8%a7%d8%a1%d8%a7%d8%aa-%d9%88%d9%82%d8%a7%d8%a6%d9%8a%d8%a9-%d8%a8%d8%b9%d8%af-%d8%aa%d8%b3%d8%ac/', 'summary': 'موريتانيا تتخذ إجراءات وقائية بعد تسجيل جدري القردة في السنغال. أعلنت السلطات الصحية في موريتانيا، اليوم الاثنين، عن اتخاذ جملة من الإجراءات الوقائية والاحترازية، إثر الإعلان عن تسجيل حالة إصابة بمرض جدري القردة (Mpox) بالبلد المجاور السنغال. وأوضحت وزارة الصحة الموريتانية أنه تقرر اتخاذ هذه الإجراءات إثر اجتماع طارئ عقدته إدارة الطب الوقائي ومكافحة المرض بحضور الشركاء الفنيين والمؤسساتيين والخبراء، وتم خلاله استعراض الوضعية الوبائية  موريتانيا تتخذ إجراءات وقائية بعد تسجيل جدري القردة في السنغال     .', 'size': 2}, {'id': '400', 'title': 'موريتانيا تتخذ إجراءات وقائية بعد تسجيل حالة إصابة بمرض جدري القردة بالسنغال', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%88%d8%b1%d9%8a%d8%aa%d8%a7%d9%86%d9%8a%d8%a7-%d8%aa%d8%aa%d8%ae%d8%b0-%d8%a5%d8%ac%d8%b1%d8%a7%d8%a1%d8%a7%d8%aa-%d9%88%d9%82%d8%a7%d8%a6%d9%8a%d8%a9-%d8%a8%d8%b9%d8%af-%d8%aa%d8%b3%d8%ac/', 'summary': 'موريتانيا تتخذ إجراءات وقائية بعد تسجيل حالة إصابة بمرض جدري القردة بالسنغال. أعلنت السلطات الصحية في موريتانيا، اليوم الاثنين، عن اتخاذ جملة من الإجراءات الوقائية والاحترازية، إثر الإعلان عن تسجيل حالة إصابة بمرض جدري القردة (Mpox) بالبلد المجاور السنغال. وأوضحت وزارة الصحة الموريتانية، أنه تقرر اتخاذ هذه الإجراءات إثر اجتماع طارئ عقدته إدارة الطب الوقائي ومكافحة المرض بحضور الشركاء الفنيين والمؤسساتيين والخبراء، وتم خلاله استعراض …  موريتانيا تتخذ إجراءات وقائية بعد تسجيل حالة إصابة بمرض جدري القردة بالسنغال     .', 'size': 2}], 'main_title': 'موريتانيا تتخذ إجراءات وقائية بعد تسجيل جدري القردة في السنغال'}, {'community_id': '9', 'articles': [{'id': '203', 'title': 'هفوة “جريدة لوموند” في حق الملك محمد السادس', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d9%87%d9%81%d9%88%d8%a9-%d8%ac%d8%b1%d9%8a%d8%af%d8%a9-%d9%84%d9%88%d9%85%d9%88%d9%86%d8%af-%d9%81%d9%8a-%d8%ad%d9%82-%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3/', 'summary': 'هفوة “جريدة لوموند” في حق الملك محمد السادس. نشرت جريدة لوموند الفرنسية يوم الاثنين 25 غشت مقالاً مطولاً يمثل الجزء الأول من سلسلة من ستة أجزاء مخصصة للملك محمد السادس تحت عنوان:  هفوة “جريدة لوموند” في حق الملك محمد السادس     .', 'size': 2}, {'id': '405', 'title': 'الرأي | هفوة الصحافة الفرنسية في حق الملك محمد السادس', 'source': 'www.alousboue.ma', 'link': 'https://www.alousboue.ma/123401/', 'summary': 'الرأي | هفوة الصحافة الفرنسية في حق الملك محمد السادس. نشرت جريدة لوموند الفرنسية يوم الاثنين 25 غشت مقالاً مطولاً يمثل الجزء الأول من سلسلة من ستة أجزاء مخصصة للملك محمد السادس تحت عنوان: “أجواء نهاية فترة محمد السادس”. وقد جعلت الصحيفة من مرض الملك العمود الفقري للمقال، مع إضافة بعض المعلومات التي سبق أن نُشرت حتى في الصحافة المغربية حول علاقته …  الرأي | هفوة الصحافة الفرنسية في حق الملك محمد السادس     .', 'size': 2}], 'main_title': 'هفوة “جريدة لوموند” في حق الملك محمد السادس'}, {'community_id': '10', 'articles': [{'id': '285', 'title': 'الطقس غدا الثلاثاء.. رياح قوية وأمطار محلية متوقعة على السواحل المغربية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-651906.html', 'summary': 'الطقس غدا الثلاثاء.. رياح قوية وأمطار محلية متوقعة على السواحل المغربية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد الثلاثاء، أن يظل الطقس حارا نسبيا بالجنوب الشرقي للبلاد، مع تمركز سحب ركامية فوق الأطلسين الكبير والمتوسط، والهضاب العليا الشرقية. وسيلاحظ تشكل سحب منخفضة وكثيفة مصحوبة بأمطار خفيفة ومحلية على السواحل الصحراوية الممتدة ما بين تزنيت وبوجدور، وكذا على سواحل البحر الأبيض المتوسط. كما يرتقب تسجيل هبات رياح قوية نوعا ما بكل من السواحل الوسطى، والمنطقة الشرقية، ومرتفعات الأطلس، والجنوب الشرقي وجنوب البلاد، مع تطاير الغبار محليا. وستتراوح درجات الحرارة الدنيا ما بين 23 و28 درجة بالجنوب الشرقي للبلاد، وستكون ما بين 17 و23 درجة في ما تبقى من ربوع المملكة. أما درجات الحرارة خلال النهار، فستكون في ارتفاع بكل من المنطقة الشرقية، والجنوب الشرقي للبلاد والسهول الداخلية، بينما ستشهد بعض الانخفاض الطفيف بباقي الأرجاء. وسيكون البحر هادئا إلى قليل الهيجان بالواجهة المتوسطية، وقليل الهيجان إلى هائج بالبوغاز، وقليل الهيجان إلى هائج ليصبح قوي الهيجان في الصباح الباكر، على السواحل الأطلسية.', 'size': 2}, {'id': '333', 'title': 'طقس الثلاثاء.. رياح قوية وأمطار خفيفة بعدة أقاليم مغربية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-586484.html', 'summary': 'طقس الثلاثاء.. رياح قوية وأمطار خفيفة بعدة أقاليم مغربية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم الثلاثاء، أن يظل الطقس حارا نسبيا بالجنوب الشرقي للبلاد، مع تمركز سحب ركامية فوق الأطلسين الكبير والمتوسط، والهضاب العليا الشرقية. وسيلاحظ تشكل سحب منخفضة وكثيفة مصحوبة بأمطار خفيفة ومحلية على السواحل الصحراوية الممتدة ما بين تزنيت وبوجدور، وكذا على سواحل البحر الأبيض المتوسط.', 'size': 2}], 'main_title': 'الطقس غدا الثلاثاء.. رياح قوية وأمطار محلية متوقعة على السواحل المغربية'}, {'community_id': '7', 'articles': [{'id': '318', 'title': 'الشان.. الأسود في آخر حصة تدريبية قبل مواجهة السنغال', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b4%d8%a7%d9%86-%d8%a7%d9%84%d8%a3%d8%b3%d9%88%d8%af-%d9%81%d9%8a-%d8%a2%d8%ae%d8%b1-%d8%ad%d8%b5%d8%a9-%d8%aa%d8%af%d8%b1%d9%8a%d8%a8%d9%8a%d8%a9-%d9%82%d8%a8%d9%84-%d9%85%d9%88/', 'summary': 'الشان.. الأسود في آخر حصة تدريبية قبل مواجهة السنغال. أجرى المنتخب الوطني للاعبين المحليين اليوم الإثنين 25 غشت آخر حصة تدريبية له، استعداداً للمواجهة التي ستجمعه يوم غد بالمنتخب السنغالي ضمن نصف نهائي بطولة إفريقيا للاعبين المحليين، التي تستضيفها كل من كينيا، أوغندا وتنزانيا بشكل مشترك. وقام طارق السكتيوي، مدرب المنتخب الوطني للاعبين المحلين خلال هذه الحصة التدريبية بوضع اللمسات الأخيرة على الجانبين التكتيكي', 'size': 3}, {'id': '365', 'title': 'الشان..\xa0المنتخب الوطني\xa0يجري آخر حصة تدريبية قبل مواجهة السنغال', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/473672.html', 'summary': 'الشان.. المنتخب الوطني يجري آخر حصة تدريبية قبل مواجهة السنغال. أجرى المنتخب الوطني للاعبين المحليين اليوم الإثنين 25 غشت آخر حصة تدريبية له، استعداداً للمواجهة التي ستجمعه يوم غد بالمنتخب السنغالي ضمن نصف نهائي بطولة إفريقيا للاعبين المحليين، التي تستضيفها كل من كينيا، أوغندا وتنزانيا بشكل مشترك. وقد قام طارق السكتيوي، مدرب المنتخب الوطني للاعبين المحلين خلال هذه الحصة التدريبية بوضع اللمسات الأخيرة على الجانبين التكتيكي …', 'size': 3}, {'id': '398', 'title': 'المنتخب المغربي يجري آخر حصة تدريبية قبل مواجهة السنغال في نصف نهائي “الشان”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%8a%d8%ac%d8%b1%d9%8a-%d8%a2%d8%ae%d8%b1-%d8%ad%d8%b5%d8%a9-%d8%aa%d8%af%d8%b1%d9%8a%d8%a8%d9%8a%d8%a9-%d9%82/', 'summary': 'المنتخب المغربي يجري آخر حصة تدريبية قبل مواجهة السنغال في نصف نهائي “الشان”. خاض المنتخب الوطني للاعبين المحليين، اليوم الإثنين، آخر حصة تدريبية له، استعداداً للمواجهة التي ستجمعه يوم غد بالمنتخب السنغالي ضمن نصف نهائي بطولة إفريقيا للاعبين المحليين، التي تستضيفها كل من كينيا، أوغندا وتنزانيا بشكل مشترك. وقد قام طارق السكتيوي، مدرب المنتخب الوطني للاعبين المحلين خلال هذه الحصة التدريبية بوضع اللمسات الأخيرة على الجانبين التكتيكي …  المنتخب المغربي يجري آخر حصة تدريبية قبل مواجهة السنغال في نصف نهائي “الشان”     .', 'size': 3}], 'main_title': 'الشان.. الأسود في آخر حصة تدريبية قبل مواجهة السنغال'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
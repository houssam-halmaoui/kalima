<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 18/07/2025 - 06h29</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '13', 'articles': [{'id': '5', 'title': 'عملية "مرحبا" تسجل دخول أكثر من 1,5 ملايين مغربي إلى غاية 10 يوليوز', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d9%85%d8%b1%d8%ad%d8%a8%d8%a7-%d8%aa%d8%b3%d8%ac%d9%84-%d8%af%d8%ae%d9%88%d9%84-%d8%a3%d9%83%d8%ab%d8%b1-%d9%85%d9%86-1-5-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d9%85-1594628.html', 'summary': 'عملية "مرحبا" تسجل دخول أكثر من 1,5 ملايين مغربي إلى غاية 10 يوليوز. كشف وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس أمام مجلس الحكومة، أن عملية عبور الجالية المغربية وعودتها إلى أرض الوطن “مرحبا 2025” لهذه السنة قد عرفت “تسجيل أرقام مهمة إلى غاية 10 يوليوز”، مفيدا بأن “الأسبوع الجاري هو أسبوع الذروة من حيث وتيرة الدخول، التي انطلقت فعليا منذ الأسبوع الماضي،  عملية "مرحبا" تسجل دخول أكثر من 1,5 ملايين مغربي إلى غاية 10 يوليوز     - هسبريس جريدة إلكترونية مغربية .', 'size': 3}, {'id': '177', 'title': 'عملية "مرحبا".. أزيد من مليون ونصف مليون مغربي دخلوا البلاد', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d9%85%d8%b1%d8%ad%d8%a8%d8%a7-%d8%a3%d8%b2%d9%8a%d8%af-%d9%85%d9%86-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d9%88%d9%86%d8%b5%d9%81-%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d8%af/', 'summary': 'عملية "مرحبا".. أزيد من مليون ونصف مليون مغربي دخلوا البلاد. أفاد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج، بارتفاع بلغ 13,30 في المائة مقارنة مع نفس الفترة من السنة الماضية. وأضاف بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية عبور "مرحبا  عملية "مرحبا".. أزيد من مليون ونصف مليون مغربي دخلوا البلاد     .', 'size': 3}, {'id': '376', 'title': 'مرحبا 2025″ تنطلق بقوة.. أزيد من 1.5 مليون مغربي عبروا نحو الوطن خلال أسبوعين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/318579/', 'summary': 'مرحبا 2025″ تنطلق بقوة.. أزيد من 1.5 مليون مغربي عبروا نحو الوطن خلال أسبوعين. أفاد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج، وذلك بارتفاع بلغ 13,30 في المائة مقارنة مع نفس الفترة من السنة الماضية. وأضاف بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية عبور', 'size': 3}, {'id': '418', 'title': 'عملية “مرحبا”.. دخول أزيد من مليون و500 ألف من مغاربة العالم إلى غاية 10 يوليوز', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469854.html', 'summary': 'عملية “مرحبا”.. دخول أزيد من مليون و500 ألف من مغاربة العالم إلى غاية 10 يوليوز. و.م.ع أفاد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج، وذلك بارتفاع بلغ 13,30 في المائة مقارنة مع نفس الفترة من السنة الماضية. وأضاف بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية …', 'size': 3}, {'id': '450', 'title': 'بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d9%88%d8%b1%d9%8a%d8%b7%d8%a9-%d8%af%d8%ae%d9%88%d9%84-%d8%a3%d8%b2%d9%8a%d8%af-%d9%85%d9%86-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d9%88500-%d8%a3%d9%84%d9%81-%d9%85%d9%86-%d8%a3%d9%81%d8%b1%d8%a7/', 'summary': 'بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري. أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج. وأوضح ناصر بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية عبور “مرحبا 2025″، أن تم تسجيل ارتفاع بلغ 13,30 في المائة …  بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري     .', 'size': 5}], 'main_title': 'بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري'}, {'community_id': '1', 'articles': [{'id': '6', 'title': 'تعزية ملكية في وفاة عبد الله أزماني', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%aa%d8%b9%d8%b2%d9%8a%d8%a9-%d9%85%d9%84%d9%83%d9%8a%d8%a9-%d9%81%d9%8a-%d9%88%d9%81%d8%a7%d8%a9-%d8%b9%d8%a8%d8%af-%d8%a7%d9%84%d9%84%d9%87-%d8%a3%d8%b2%d9%85%d8%a7%d9%86%d9%8a-1594654.html', 'summary': 'تعزية ملكية في وفاة عبد الله أزماني. بعث الملك محمد السادس برقية تعزية ومواساة إلى أفراد أسرة المرحوم عبد الله أزماني. وقال الملك في هذه البرقية: “علمنا ببالغ التأثر بنبإ وفاة المشمول بعفو الله ورضاه، المرحوم عبد الله أزماني، تغمده الله تعالى بواسع رحمته”. وأضاف الملك: “بهذه المناسبة المحزنة، نعرب لكم، ومن خلالكم لكافة أهل الراحل وذويه، ولأسرته السياسية الوطنية، عن أحر  تعزية ملكية في وفاة عبد الله أزماني     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '124', 'title': 'الملك يعزي في وفاة الوزير والسفير السابق عبد الله أزماني', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409474.html', 'summary': 'الملك يعزي في وفاة الوزير والسفير السابق عبد الله أزماني. بعث صاحب الجلالة الملك محمد السادس برقية تعزية ومواساة إلى أفراد أسرة المرحوم عبد الله أزماني. وقال جلالة الملك، في هذه البرقية "علمنا ببالغ التأثر بنبإ', 'size': 2}], 'main_title': 'تعزية ملكية في وفاة عبد الله أزماني'}, {'community_id': '2', 'articles': [{'id': '66', 'title': 'الرباط: قيادة حزب الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب“أومكونتو وي سيزوي”', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/203631', 'summary': 'الرباط: قيادة حزب الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب“أومكونتو وي سيزوي”.  إستقبلت القيادة الجماعية لحزب الأصالة والمعاصرة، اليوم الخميس بمقر الحزب بالرباط، الرئيس السابق لجنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي”، جاكوب زوما. وتباحثت السيدة فاطمة الزهراء المنصوري،منسقة القيادة الجماعية لحزب الأصالة والمعاصرة،التي تضم أيضا كل من، السيد محمد المهدي بنسعيد،والسيدة فاطمة السعدي،مع السيد زوما،بالخصوص، حول آفاق تقوية التعاون والشراكة بين الحزبين والبلدين في', 'size': 3}, {'id': '117', 'title': 'قيادة "البام" تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي" جاكوب زوما', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/409467.html', 'summary': 'قيادة "البام" تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي" جاكوب زوما. استقبلت القيادة الجماعية لحزب الأصالة والمعاصرة، اليوم الخميس بالرباط، الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي"، جاكوب زوما. وتباحثت فاطمة الزهراء المنصوري، منسقة القيادة', 'size': 3}, {'id': '178', 'title': 'قيادة الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا جاكوب زوما', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%82%d9%8a%d8%a7%d8%af%d8%a9-%d8%a7%d9%84%d8%a3%d8%b5%d8%a7%d9%84%d8%a9-%d9%88%d8%a7%d9%84%d9%85%d8%b9%d8%a7%d8%b5%d8%b1%d8%a9-%d8%aa%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d8%a7%d9%84%d8%b1%d8%a6%d9%8a/', 'summary': 'قيادة الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا جاكوب زوما. استقبلت القيادة الجماعية لحزب الأصالة والمعاصرة، اليوم الخميس بالرباط، الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي"، جاكوب زوما. وتباحثت فاطمة الزهراء المنصوري، منسقة القيادة الجماعية لحزب الأصالة والمعاصرة، التي تضم أيضا محمد المهدي بنسعيد وفاطمة السعدي، مع زوما، بالخصوص، حول آفاق تقوية التعاون والشراكة بين الحزبين والبلدين في عدد من القضايا ذات الاهتمام  قيادة الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا جاكوب زوما     .', 'size': 3}], 'main_title': 'الرباط: قيادة حزب الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب“أومكونتو وي سيزوي”'}, {'community_id': '3', 'articles': [{'id': '70', 'title': 'احتفاءً بعيد العرش المجيد: مكتب جماعة الرباط يُجسد التزامه الوطني بإعداد احتفالات تليق بالمناسبة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/203576', 'summary': 'احتفاءً بعيد العرش المجيد: مكتب جماعة الرباط يُجسد التزامه الوطني بإعداد احتفالات تليق بالمناسبة. الأحداث من الرباط إستعدادا لعيد العرش المجيد ،وفي إطار الإعداد القبلي لهذه المناسبة السعيدة،التي تجسد مشاعر الفرح والاعتزاز التي تملأ قلوب المغاربة ، و تحمل في طياتها معاني الوحدة و التلاحم بين العرش والشعب،عقد مكتب مجلس جماعة الرباط؛ اليوم الأربعاء، اجتماعا خُصص لتدارس مختلف التدابير التنظيمية واللوجستيكية المرتبطة بالاحتفال بهذه المناسبة الوطنية المجيدة. وعرف هذا', 'size': 2}, {'id': '241', 'title': 'تتويج الفائزين بالجائزة الوطنية للدراسات والأبحاث حول العمل البرلماني', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%aa%d8%aa%d9%88%d9%8a%d8%ac-%d8%a7%d9%84%d9%81%d8%a7%d8%a6%d8%b2%d9%8a%d9%86-%d8%a8%d8%a7%d9%84%d8%ac%d8%a7%d8%a6%d8%b2%d8%a9-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a%d8%a9-%d9%84%d9%84%d8%af%d8%b1-2/', 'summary': 'تتويج الفائزين بالجائزة الوطنية للدراسات والأبحاث حول العمل البرلماني. المساء اليوم – الرباط: أقيم، اليوم الأربعاء بمقر مجلس النواب، حفل تتويج الفائزين بالدورة الخامسة للجائزة الوطنية للدراسات والأبحاث حول العمل البرلماني، التي تروم تشجيع الأبحاث العلمية المتميزة المتعلقة بالعمل البرلماني. وتعد هذه الدورة، التي', 'size': 2}], 'main_title': 'احتفاءً بعيد العرش المجيد: مكتب جماعة الرباط يُجسد التزامه الوطني بإعداد احتفالات تليق بالمناسبة'}, {'community_id': '4', 'articles': [{'id': '119', 'title': 'إقليم زاكورة يستعد لاحتضان الدورة الرابعة للملتقى السنوي للجالية المغربية بالخارج', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/culture/409469.html', 'summary': 'إقليم زاكورة يستعد لاحتضان الدورة الرابعة للملتقى السنوي للجالية المغربية بالخارج. تستعد جماعة أيت ولال بإقليم زاكورة لاحتضان فعاليات الدورة الرابعة للملتقى السنوي للجالية المغربية المقيمة بالخارج، الذي تنظمه جمعية زاكورة للمهاجر، خلال الفترة من 25', 'size': 2}, {'id': '256', 'title': 'إقليم زاكورة يستعد لاحتضان الدورة الـ4 للملتقى السنوي للجالية المغربية بالخارج', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/إقليم-زاكورة-يستعد-لاحتضان-الدورة-الـ4-للملتقى-السنوي-للجالية_a28737.html', 'summary': 'إقليم زاكورة يستعد لاحتضان الدورة الـ4 للملتقى السنوي للجالية المغربية بالخارج. *العلم الإلكترونية* تستعد جماعة أيت ولال بإقليم زاكورة لاحتضان فعاليات الدورة الرابعة للملتقى السنوي للجالي...', 'size': 2}], 'main_title': 'إقليم زاكورة يستعد لاحتضان الدورة الرابعة للملتقى السنوي للجالية المغربية بالخارج'}, {'community_id': '5', 'articles': [{'id': '127', 'title': 'هذا اليوم سجل ذروة عودة المغاربة المقيمين بالخارج', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409477.html', 'summary': 'هذا اليوم سجل ذروة عودة المغاربة المقيمين بالخارج. أفاد الوزير المنتدب المكلف بالعلاقات مع البرلمان، الناطق الرسمي باسم الحكومة، مصطفى بايتاس، اليوم الخميس، بأن يوم 14 يوليوز الجاري شهد ذروة عودة المغاربة المقيمين', 'size': 2}, {'id': '432', 'title': 'بايتاس: معالجة أكثر من 734 ألف ملف تكفل صحي إلى حدود يونيو المنصرم', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a8%d8%a7%d9%8a%d8%aa%d8%a7%d8%b3-%d9%85%d8%b9%d8%a7%d9%84%d8%ac%d8%a9-%d8%a3%d9%83%d8%ab%d8%b1-%d9%85%d9%86-734-%d8%a3%d9%84%d9%81-%d9%85%d9%84%d9%81-%d8%aa%d9%83%d9%81%d9%84-%d8%b5%d8%ad%d9%8a/', 'summary': 'بايتاس: معالجة أكثر من 734 ألف ملف تكفل صحي إلى حدود يونيو المنصرم. أفاد الوزير المنتدب المكلف بالعلاقات مع البرلمان، الناطق الرسمي باسم الحكومة، مصطفى بايتاس، اليوم الخميس، بأنه تمت إلى حدود يونيو المنصرم، معالجة أكثر  بايتاس: معالجة أكثر من 734 ألف ملف تكفل صحي إلى حدود يونيو المنصرم     .', 'size': 2}], 'main_title': 'هذا اليوم سجل ذروة عودة المغاربة المقيمين بالخارج'}, {'community_id': '6', 'articles': [{'id': '154', 'title': 'بنعبد الله يزور آيت بوكماز ويصف مطالب “مسيرة الكرامة” بـ”العادلة والمعقولة”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1086178.html', 'summary': 'بنعبد الله يزور آيت بوكماز ويصف مطالب “مسيرة الكرامة” بـ”العادلة والمعقولة”. بعد أقل من أسبوع من تنظيم “مسيرة الكرامة” التي خاضتها ساكنة آيت بوكماز بإقليم أزيلال، عقد نبيل بنعبد الله، الأمين العام لحزب التقدم والاشتراكية، لقاء تواصليا مع ممثلين عن ساكنة الجماعة المذكورة، وذلك في خطوة وصفت بأنها تفاعل مباشر مع مطالب الاحتجاجات الشعبية التي شهدتها المنطقة مؤخرا. وتأتي هذه الزيارة، التي جرت بحضور خالد تيكوكوين، ظهرت المقالة بنعبد الله يزور آيت بوكماز ويصف مطالب “مسيرة الكرامة” بـ”العادلة والمعقولة”  .', 'size': 2}, {'id': '192', 'title': 'بنعبد الله في آيت بوكماز.. زيارة سياسية بذاكرة إخفاقات الحكومات السابقة', 'source': 'rue20.com', 'link': 'https://rue20.com/921288.html', 'summary': 'بنعبد الله في آيت بوكماز.. زيارة سياسية بذاكرة إخفاقات الحكومات السابقة.  | الرباط في أول زيارة سياسية من نوعها بعد “مسيرة الكرامة”، حل نبيل بنعبد الله، الأمين العام لحزب التقدم والاشتراكية، بمنطقة ايت بوكماز اقليم ازيلال، وعقد لقاء مع ممثلين عن الساكنة. وتأتي هذه الزيارة في سياق التفاعل مع الاحتجاجات الشعبية التي شهدتها المنطقة مؤخراً، والتي نادت بفك العزلة وتحقيق العدالة المجالية. وأكد نبيل الخبر بنعبد الله في آيت بوكماز.. زيارة سياسية بذاكرة إخفاقات الحكومات السابقة  .', 'size': 2}], 'main_title': 'بنعبد الله يزور آيت بوكماز ويصف مطالب “مسيرة الكرامة” بـ”العادلة والمعقولة”'}, {'community_id': '7', 'articles': [{'id': '187', 'title': 'البلاوي يقدم المخطط الإستراتيجي الجديد للنيابة العامة لحماية حقوق المواطن ومحاربة الفساد', 'source': 'rue20.com', 'link': 'https://rue20.com/921330.html', 'summary': 'البلاوي يقدم المخطط الإستراتيجي الجديد للنيابة العامة لحماية حقوق المواطن ومحاربة الفساد.  | الرباط ترأس هشام البلاوي، الوكيل العام للملك لدى محكمة النقض رئيس النيابة العامة، اليوم الخميس، بمقر رئاسة النيابة العامة بالرباط، لقاءً تواصليًا مع المسؤولين القضائيين بالنيابات العامة لدى مختلف محاكم المملكة لتقديم المخطط الاستراتيجي لرئاسة النيابة العامة (2026-2029). ويندرج هذا اللقاء في إطار حرص رئاسة النيابة العامة على تعزيز آليات التواصل والتنسيق الخبر البلاوي يقدم المخطط الإستراتيجي الجديد للنيابة العامة لحماية حقوق المواطن ومحاربة الفساد  .', 'size': 2}, {'id': '224', 'title': 'الرباط.. البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة (2026-2029)', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224820/', 'summary': 'الرباط.. البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة (2026-2029). كمال عسو ترأس هشام البلاوي، الوكيل العام للملك لدى محكمة النقض رئيس النيابة العامة، صباح اليوم الخميس 17 يوليوز 2025، بمقر رئاسة النيابة العامة بالرباط، لقاءً تواصليًا مع المسؤولين القضائيين بالنيابات العامة لدى مختلف محاكم المملكة لتقديم المخطط الاستراتيجي لرئاسة النيابة العامة (2026-2029). ويندرج هذا اللقاء في إطار حرص رئاسة النيابة العامة على تعزيز', 'size': 2}], 'main_title': 'البلاوي يقدم المخطط الإستراتيجي الجديد للنيابة العامة لحماية حقوق المواطن ومحاربة الفساد'}, {'community_id': '8', 'articles': [{'id': '195', 'title': 'البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة 2026-2029', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469849.html', 'summary': 'البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة 2026-2029. ترأس هشام البلاوي، الوكيل العام للملك لدى محكمة النقض رئيس النيابة العامة، صباح اليوم الخميس، بمقر رئاسة النيابة العامة بالرباط، لقاءً تواصليًا مع المسؤولين القضائيين بالنيابات العامة لدى مختلف محاكم المملكة لتقديم المخطط الاستراتيجي لرئاسة النيابة العامة (2026-2029). وأكد رئيس النيابة العامة خلال كلمته الافتتاحية على أهمية المرحلة الدقيقة التي تمر بها منظومة العدالة، في …', 'size': 2}, {'id': '207', 'title': 'البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d8%a8%d9%84%d8%a7%d9%88%d9%8a-%d9%8a%d9%82%d8%af%d9%85-%d8%a7%d9%84%d9%85%d8%ae%d8%b7%d8%b7-%d8%a7%d9%84%d8%a7%d8%b3%d8%aa%d8%b1%d8%a7%d8%aa%d9%8a%d8%ac%d9%8a-%d9%84%d8%b1%d8%a6%d8%a7/', 'summary': 'البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة. -متابعات ترأس السيد هشام البلاوي، الوكيل العام للملك لدى محكمة النقض رئيس النيابة العامة، صباح اليوم الخميس 17 يوليوز 2025، بمقر رئاسة النيابة العامة بالرباط، لقاءً تواصليًا مع المسؤولين...  البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة     .', 'size': 2}], 'main_title': 'البلاوي يقدم المخطط الاستراتيجي لرئاسة النيابة العامة 2026-2029'}, {'community_id': '9', 'articles': [{'id': '198', 'title': 'رئيس البنك الإفريقي للتنمية.. الملك يقود المغرب على مسار تحول جريء وريادي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469845.html', 'summary': 'رئيس البنك الإفريقي للتنمية.. الملك يقود المغرب على مسار تحول جريء وريادي. أكد رئيس البنك الإفريقي للتنمية أكينوومي أديسينا أن الملك محمد السادس، منذ توليه العرش، يقود المغرب على مسار تحول جريء وريادي. وقال أديسينا، في حديث لوكالة المغرب العربي للأنباء بمناسبة الذكرى السادسة والعشرين لاعتلاء العاهل عرش أسلافه الميامين،', 'size': 3}, {'id': '225', 'title': 'رئيس البنك الإفريقي للتنمية: جلالة الملك يقود المغرب على مسار تحول جريء وريادي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224817/', 'summary': 'رئيس البنك الإفريقي للتنمية: جلالة الملك يقود المغرب على مسار تحول جريء وريادي. كواليس اليوم أكد رئيس البنك الإفريقي للتنمية أكينوومي أديسينا أن صاحب الجلالة الملك محمد السادس، منذ توليه العرش، يقود المغرب على مسار تحول جريء وريادي. وقال أديسينا، في حديث لوكالة المغرب العربي للأنباء بمناسبة الذكرى السادسة والعشرين لاعتلاء صاحب الجلالة عرش أسلافه الميامين، إن هذا “النهج الخاص لجلالة الملك يتجلى بوضوح من خلال رؤية', 'size': 3}, {'id': '244', 'title': 'رئيس البنك الإفريقي للتنمية: المغرب يؤكد مكانته كقوة اقتصادية صاعدة بقيادة الملك محمد السادس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d8%a8%d9%86%d9%83-%d8%a7%d9%84%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a-%d9%84%d9%84%d8%aa%d9%86%d9%85%d9%8a%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%a4/', 'summary': 'رئيس البنك الإفريقي للتنمية: المغرب يؤكد مكانته كقوة اقتصادية صاعدة بقيادة الملك محمد السادس. قال رئيس البنك الإفريقي للتنمية، أكينوومي أديسينا، إن التقدم الكبير الذي حققه المغرب، بقيادة الملك محمد السادس، مكن المملكة من تعزيز جاذبيتها الدولية ومكانتها كقوة اقتصادية صاعدة. وأضاف أديسينا، في حديث لوكالة المغرب العربي للأنباء بمناسبة الاحتفال بعيد العرش المجيد، أن المغرب، بفضل استقراره السياسي وجاذبيته المتنامية، تمكن من تعبئة رؤوس الأموال بفعالية، …  رئيس البنك الإفريقي للتنمية: المغرب يؤكد مكانته كقوة اقتصادية صاعدة بقيادة الملك محمد السادس     .', 'size': 3}], 'main_title': 'رئيس البنك الإفريقي للتنمية.. الملك يقود المغرب على مسار تحول جريء وريادي'}, {'community_id': '10', 'articles': [{'id': '345', 'title': 'أخنوش يترأس اجتماعا للجنة الوطنية لمتابعة ملف التقاعد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409484.html', 'summary': 'أخنوش يترأس اجتماعا للجنة الوطنية لمتابعة ملف التقاعد. ترأس رئيس الحكومة عزيز أخنوش، يوم الخميس 17 يوليوز 2025 بالرباط، اجتماعا للجنة الوطنية لمتابعة ملف التقاعد، الذي ينعقد تبعا لخلاصات اجتماع دورة أبريل 2025', 'size': 2}, {'id': '356', 'title': 'لمتابعة ملف التقاعد.. أخنوش يترأس اجتماعا للجنة الوطنية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%84%d9%85%d8%aa%d8%a7%d8%a8%d8%b9%d8%a9-%d9%85%d9%84%d9%81-%d8%a7%d9%84%d8%aa%d9%82%d8%a7%d8%b9%d8%af-%d8%a3%d8%ae%d9%86%d9%88%d8%b4-%d9%8a%d8%aa%d8%b1%d8%a3%d8%b3-%d8%a7%d8%ac%d8%aa%d9%85%d8%a7/', 'summary': 'لمتابعة ملف التقاعد.. أخنوش يترأس اجتماعا للجنة الوطنية. ترأس رئيس الحكومة، عزيز أخنوش، اليوم الخميس (17 يوليوز) بالرباط، اجتماعا للجنة الوطنية لمتابعة ملف التقاعد، الذي ينعقد تبعا لخلاصات اجتماع دورة أبريل 2025 للجنة العليا للحوار الاجتماعي. وذكر بلاغ لرئاسة الحكومة أن هذا الاجتماع خصص لمناقشة الوضعية الحالية لأنظمة التقاعد، والاتفاق على آليات الاشتغال والمقاربة التي سيتم اعتمادها بشكل توافقي، من أجل وضع إطار', 'size': 2}], 'main_title': 'أخنوش يترأس اجتماعا للجنة الوطنية لمتابعة ملف التقاعد'}, {'community_id': '11', 'articles': [{'id': '355', 'title': 'فيلدا: لبؤات الأطلس مستعدات لمواجهة مالي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%81%d9%8a%d9%84%d8%af%d8%a7-%d9%84%d8%a8%d8%a4%d8%a7%d8%aa-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3-%d9%85%d8%b3%d8%aa%d8%b9%d8%af%d8%a7%d8%aa-%d9%84%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a9-%d9%85%d8%a7/', 'summary': 'فيلدا: لبؤات الأطلس مستعدات لمواجهة مالي. أكد خورخي فيلدا، مدرب المنتخب الوطني النسوي، جاهزية لبؤات الأطلس لمواجهة منتخب مالي، لحساب ربع نهائي كأس أمم إفريقيا للسيدات، المقررة مساء الجمعة على أرضية المجمع الرياضي الأمير مولاي عبد الله بالرباط. وأوضح فيلدا، خلال ندوة صحفية عقدها يوم الخميس، أن المباراة تحمل طابعًا حاسمًا، مما يفرض ضغطًا إضافيًا، لكنه عبّر عن ثقته في تركيز', 'size': 3}, {'id': '411', 'title': 'فيلدا : لبؤات الأطلس عازمات على الفوز على مالي وحسم التأهل لنصف نهائي كأس أفريقيا', 'source': 'rue20.com', 'link': 'https://rue20.com/921392.html', 'summary': 'فيلدا : لبؤات الأطلس عازمات على الفوز على مالي وحسم التأهل لنصف نهائي كأس أفريقيا. . الرباط أكد مدرب المنتخب الوطني النسوي لكرة القدم، خورخي فيلدا، اليوم الخميس، أن لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات (المغرب-2024)، عندما يواجهن منتخب مالي، مساء غد الجمعة بالرباط. وقال فيلدا، خلال الندوة الصحفية التي عقدها بقاعة الندوات بالملعب الأولمبي، عشية المباراة المرتقبة ضمن ربع نهائي الخبر فيلدا : لبؤات الأطلس عازمات على الفوز على مالي وحسم التأهل لنصف نهائي كأس أفريقيا  .', 'size': 3}, {'id': '447', 'title': 'فيلدا: لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%81%d9%8a%d9%84%d8%af%d8%a7-%d9%84%d8%a8%d8%a4%d8%a7%d8%aa-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3-%d8%b9%d8%a7%d8%b2%d9%85%d8%a7%d8%aa-%d8%b9%d9%84%d9%89-%d8%ad%d8%b3%d9%85-%d8%a8%d8%b7%d8%a7%d9%82/', 'summary': 'فيلدا: لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات. أكد مدرب المنتخب الوطني النسوي لكرة القدم، خورخي فيلدا، اليوم الخميس، أن لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات (المغرب-2024)، عندما يواجهن منتخب مالي، مساء غد الجمعة بالرباط. وقال فيلدا، خلال الندوة الصحفية التي عقدها بقاعة الندوات بالملعب الأولمبي، عشية المباراة المرتقبة ضمن ربع نهائي الكأس، …  فيلدا: لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات     .', 'size': 3}], 'main_title': 'فيلدا: لبؤات الأطلس مستعدات لمواجهة مالي'}, {'community_id': '12', 'articles': [{'id': '372', 'title': 'طنجة.. توقيف فرنسي مبحوث عنه دوليا بتهمة تهريب الكوكايين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/318591/', 'summary': 'طنجة.. توقيف فرنسي مبحوث عنه دوليا بتهمة تهريب الكوكايين. تمكنت عناصر الشرطة بولاية أمن طنجة، زوال اليوم الخميس 17 يوليوز الجاري، من توقيف مواطن فرنسي يبلغ من العمر 25 سنة، وذلك لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية الفرنسية. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أوضحت عملية تنقيطه في قاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 2}, {'id': '441', 'title': 'توقيف فرنسي مطلوب دوليا ضمن شبكة إجرامية للاتجار في الهيروين والكوكايين والحشيش', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224836/', 'summary': 'توقيف فرنسي مطلوب دوليا ضمن شبكة إجرامية للاتجار في الهيروين والكوكايين والحشيش. تمكنت عناصر الشرطة بولاية أمن طنجة، زوال اليوم الخميس 17 يوليوز الجاري، من توقيف مواطن فرنسي يبلغ من العمر 25 سنة، وذلك لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية الفرنسية. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أوضحت عملية تنقيطه في قاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 2}], 'main_title': 'طنجة.. توقيف فرنسي مبحوث عنه دوليا بتهمة تهريب الكوكايين'}, {'community_id': '0', 'articles': [{'id': '414', 'title': 'رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469858.html', 'summary': 'رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا. استقبل رئيس مجلس النواب، راشيد الطالبي العلمي، اليوم الخميس بالرباط، جاكوب زوما، الرئيس السابق لجمهورية جنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي” (رمح الأمة) والوفد المرافق له، الذي يقوم بزيارة للمملكة المغربية. وذكر بلاغ لمجلس النواب أنه تمت خلال هذا اللقاء، الذي حضره رؤساء الفرق والمجموعة النيابية بمجلس النواب، الإشادة بالموقف الصريح الذي عبر عنه …', 'size': 2}, {'id': '443', 'title': 'دعم الوحدة الترابية للمغرب: رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%af%d8%b9%d9%85-%d8%a7%d9%84%d9%88%d8%ad%d8%af%d8%a9-%d8%a7%d9%84%d8%aa%d8%b1%d8%a7%d8%a8%d9%8a%d8%a9-%d9%84%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%b1%d8%a6%d9%8a%d8%b3-%d9%85%d8%ac%d9%84%d8%b3-%d8%a7/', 'summary': 'دعم الوحدة الترابية للمغرب: رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا. المساء اليوم – الرباط: استقبل رئيس مجلس النواب، راشيد الطالبي العلمي، اليوم الخميس بالرباط، جاكوب زوما، الرئيس السابق لجمهورية جنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي” (رمح الأمة) والوفد المرافق له، الذي يقوم بزيارة للمملكة', 'size': 2}], 'main_title': 'رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
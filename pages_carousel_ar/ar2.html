<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 17/10/2025 - 12h25</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '8', 'articles': [{'id': '12', 'title': 'اتفاق لإطلاق برنامج تأهيلي للمدينة العتيقة بتارودانت بعد حريق سوق “جنان الجامع”', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666810.html', 'summary': 'اتفاق لإطلاق برنامج تأهيلي للمدينة العتيقة بتارودانت بعد حريق سوق “جنان الجامع”. هبة بريس – تارودانت في إطار الحد من تداعيات الحريق الذي اندلع صباح اليوم الخميس في سوق “جنان الجامع” بالمدينة العتيقة لتارودانت، تم الاتفاق بين عبد اللطيف وهبي، رئيس المجلس الجماعي لتارودانت، وفاطمة الزهراء المنصوري، وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة، على إطلاق برنامج تأهيلي للمدينة العتيقة، يشمل ترميم سوق “جنان الجامع” خلال', 'size': 2}, {'id': '127', 'title': 'شعلات فيه العافية.. وهبي والمنصوري يتفقان على إعادة تأهيل سوق “جنان الجامع” في تارودانت', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%b4%d8%b9%d9%84%d8%a7%d8%aa-%d9%81%d9%8a%d9%87-%d8%a7%d9%84%d8%b9%d8%a7%d9%81%d9%8a%d8%a9-%d9%88%d9%87%d8%a8%d9%8a-%d9%88%d8%a7%d9%84%d9%85%d9%86%d8%b5%d9%88%d8%b1%d9%8a-%d9%8a%d8%aa%d9%81%d9%82/', 'summary': 'شعلات فيه العافية.. وهبي والمنصوري يتفقان على إعادة تأهيل سوق “جنان الجامع” في تارودانت. في إطار تطويق خسائر الحريق الذي شب، صباح اليوم الخميس (16 أكتوبر)، في سوق “جنان الجامع” بالمدينة العتيقة بتارودانت، اتفق كل من عبد اللطيف وهبي، رئيس المجلس الجماعي لتارودانت، وفاطمة الزهراء المنصوري، وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة، على انطلاق البرنامج التأهيلي للمدينة العتيقة بتارودانت، من إعادة ترميم سوق “جنان الجامع” وذلك خلال', 'size': 3}, {'id': '161', 'title': 'بعد الحريق المدمر.. وهبي والمنصوري يعلنان انطلاق إعادة تأهيل سوق “جنان الجامع” بتارودانت', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108799.html', 'summary': 'بعد الحريق المدمر.. وهبي والمنصوري يعلنان انطلاق إعادة تأهيل سوق “جنان الجامع” بتارودانت. علمت جريدة “العمق” من مصادرها أن وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة، فاطمة الزهراء المنصوري، ورئيس المجلس الجماعي لتارودانت، عبد اللطيف وهبي، اتفقا على إعطاء الانطلاقة الفورية لبرنامج إعادة تأهيل سوق “جنان الجامع” التاريخي خلال الأيام المقبلة. وأوضحت المصادر أن هذا القرار جاء كاستجابة سريعة لتطويق الخسائر الفادحة التي خلفها الحريق الذي شب ظهرت المقالة بعد الحريق المدمر.. وهبي والمنصوري يعلنان انطلاق إعادة تأهيل سوق “جنان الجامع” بتارودانت  .', 'size': 3}, {'id': '175', 'title': 'برنامج "مستعجل" لإعادة ترميم سوق "جنان الجامع" بتارودانت بعد الحريق', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%88%d9%87%d8%a8%d9%8a-%d9%88%d8%a7%d9%84%d9%85%d9%86%d8%b5%d9%88%d8%b1%d9%8a-%d9%8a%d8%b7%d9%84%d9%82%d8%a7%d9%86-%d8%a8%d8%b1%d9%86%d8%a7%d9%85%d8%ac%d8%a7-%d9%84%d8%a5%d8%b9%d8%a7%d8%af%d8%a9/', 'summary': 'برنامج "مستعجل" لإعادة ترميم سوق "جنان الجامع" بتارودانت بعد الحريق. في خطوة تهدف إلى احتواء تداعيات الحريق الذي اندلع صباح اليوم الخميس في أحد أعرق الأسواق بالمدينة العتيقة لتارودانت، أعلن كل من عبد اللطيف وهبي، رئيس المجلس الجماعي للمدينة، وزميلته في الحزب والحكومة، فاطمة الزهراء المنصوري، وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة، عن اتفاقهما على إطلاق برنامج استعجالي لإعادة ترميم وتأهيل سوق "جنان  برنامج "مستعجل" لإعادة ترميم سوق "جنان الجامع" بتارودانت بعد الحريق     .', 'size': 2}], 'main_title': 'شعلات فيه العافية.. وهبي والمنصوري يتفقان على إعادة تأهيل سوق “جنان الجامع” في تارودانت'}, {'community_id': '1', 'articles': [{'id': '16', 'title': 'الملك محمد السادس يعزي رئيس كينيا في وفاة رايلا أودينغا', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666798.html', 'summary': 'الملك محمد السادس يعزي رئيس كينيا في وفاة رايلا أودينغا. هبة بريس بعث صاحب الجلالة الملك محمد السادس برقية تعزية ومواساة إلى رئيس جمهورية كينيا، وليام روتو، على إثر وفاة الوزير الأول السابق رايلا أودينغا. وأكد جلالة الملك، في هذه البرقية، أنه تلقى ببالغ التأثر نبأ وفاة الوزير الأول السابق رايلا أودينغا. ومما جاء في برقية جلالة الملك “على إثر هذا الرزء الأليم، أتقدم إلى', 'size': 2}, {'id': '410', 'title': 'الملك محمد السادس يعزي الرئيس الكيني على إثر وفاة الوزير الأول السابق رايلا أودينغا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d8%b9%d8%b2%d9%8a-%d8%a7%d9%84%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d9%83%d9%8a%d9%86%d9%8a-%d8%b9/', 'summary': 'الملك محمد السادس يعزي الرئيس الكيني على إثر وفاة الوزير الأول السابق رايلا أودينغا. بعث الملك محمد السادس برقية تعزية ومواساة إلى رئيس جمهورية كينيا، وليام روتو، على إثر وفاة الوزير الأول السابق رايلا أودينغا. وأكد الملك محمد السادس، في هذه البرقية، أنه تلقى ببالغ التأثر نبأ وفاة الوزير الأول السابق رايلا أودينغا. ومما جاء في برقية الملك محمد السادس “على إثر هذا الرزء الأليم، أتقدم إلى …  الملك محمد السادس يعزي الرئيس الكيني على إثر وفاة الوزير الأول السابق رايلا أودينغا     .', 'size': 2}], 'main_title': 'الملك محمد السادس يعزي رئيس كينيا في وفاة رايلا أودينغا'}, {'community_id': '2', 'articles': [{'id': '20', 'title': 'روسيا تشيد بدور الملك محمد السادس في دعم القضية الفلسطينية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666785.html', 'summary': 'روسيا تشيد بدور الملك محمد السادس في دعم القضية الفلسطينية. هبة بريس أشادت روسيا الفدرالية، اليوم الخميس، بدور صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، التابعة لمنظمة التعاون الإسلامي، من أجل التسوية السلمية للقضية الفلسطينية. وقال وزير الشؤون الخارجية الروسي، سيرغي لافروف، في ندوة صحفية مع نظيره المغربي ناصر بوريطة عقب مباحثاتهما بموسكو، إن “المغرب يضطلع تقليديا بدور مهم في دعم الجهود الرامية إلى', 'size': 3}, {'id': '131', 'title': 'القضية الفلسطينية.. روسيا تشيد بدور جلالة الملك رئيس لجنة القدس من أجل التسوية السلمية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d9%82%d8%b6%d9%8a%d8%a9-%d8%a7%d9%84%d9%81%d9%84%d8%b3%d8%b7%d9%8a%d9%86%d9%8a%d8%a9-%d8%b1%d9%88%d8%b3%d9%8a%d8%a7-%d8%aa%d8%b4%d9%8a%d8%af-%d8%a8%d8%af%d9%88%d8%b1-%d8%ac%d9%84%d8%a7/', 'summary': 'القضية الفلسطينية.. روسيا تشيد بدور جلالة الملك رئيس لجنة القدس من أجل التسوية السلمية. أشادت روسيا الفدرالية، اليوم الخميس (16 أكتوبر)، بدور صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، التابعة لمنظمة التعاون الإسلامي، من أجل التسوية السلمية للقضية الفلسطينية. وقال وزير الشؤون الخارجية الروسي، سيرغي لافروف، في ندوة صحفية مع نظيره المغربي ناصر بوريطة عقب مباحثاتهما بموسكو، إن “المغرب يضطلع تقليديا بدور مهم في دعم الجهود الرامية إلى', 'size': 3}, {'id': '143', 'title': 'روسيا تشيد بدور الملك محمد السادس في دعم التسوية السلمية للقضية الفلسطينية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/326446/', 'summary': 'روسيا تشيد بدور الملك محمد السادس في دعم التسوية السلمية للقضية الفلسطينية. أشادت روسيا الفدرالية، اليوم الخميس، بدور صاحب الجلالة الملك محمد السادس، رئيس لجنة القدس، التابعة لمنظمة التعاون الإسلامي، من أجل التسوية السلمية للقضية الفلسطينية. وقال وزير الشؤون الخارجية الروسي، سيرغي لافروف، في ندوة صحفية مع نظيره المغربي ناصر بوريطة عقب مباحثاتهما بموسكو، إن “المغرب يضطلع تقليديا بدور مهم في دعم الجهود الرامية إلى التوصل لتسوية', 'size': 3}], 'main_title': 'روسيا تشيد بدور الملك محمد السادس في دعم القضية الفلسطينية'}, {'community_id': '3', 'articles': [{'id': '35', 'title': 'بوريطة: المغرب وروسيا متفقان على عدم تأويل القانون الدولي بما يعرقل حل قضية الصحراء المغربية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666740.html', 'summary': 'بوريطة: المغرب وروسيا متفقان على عدم تأويل القانون الدولي بما يعرقل حل قضية الصحراء المغربية. هبة بريس أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج ناصر بوريطة، اليوم الخميس بموسكو، أن المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون والمبادئ الدولية بشكل يعرقل التقدم نحو تسوية قضية الصحراء المغربية. وقال بوريطة، في ندوة صحفية أعقبت مباحثاته مع نظيره الروسي سيرغي لافروف، أن هذا اللقاء شكل فرصة للتطرق إلى', 'size': 5}, {'id': '113', 'title': 'بوريطة: المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون الدولي بشكل يعرقل تسوية قضية الصحراء المغربية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/414634.html', 'summary': 'بوريطة: المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون الدولي بشكل يعرقل تسوية قضية الصحراء المغربية. أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج ناصر بوريطة، اليوم الخميس بموسكو، أن المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون والمبادئ', 'size': 5}, {'id': '149', 'title': 'بوريطة من روسيا: لا يمكن تأويل القانون الدولي بما يعرقل تسوية قضية الصحراء المغربية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/326437/', 'summary': 'بوريطة من روسيا: لا يمكن تأويل القانون الدولي بما يعرقل تسوية قضية الصحراء المغربية. أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج ناصر بوريطة، اليوم الخميس بموسكو، أن المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون والمبادئ الدولية بشكل يعرقل التقدم نحو تسوية قضية الصحراء المغربية. وقال بوريطة، في ندوة صحفية أعقبت مباحثاته مع نظيره الروسي سيرغي لافروف، أن هذا اللقاء شكل فرصة للتطرق إلى القضايا الإقليمية', 'size': 5}, {'id': '193', 'title': 'بوريطة: المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون الدولي بشكل يعرقل تسوية قضية الصحراء', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/478891.html', 'summary': 'بوريطة: المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون الدولي بشكل يعرقل تسوية قضية الصحراء. و.م.ع أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج ناصر بوريطة، الخميس بموسكو، أن المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون والمبادئ الدولية بشكل يعرقل التقدم نحو تسوية قضية الصحراء المغربية. وقال بوريطة، في ندوة صحفية أعقبت مباحثاته مع نظيره الروسي سيرغي لافروف، أن هذا اللقاء شكل فرصة للتطرق إلى القضايا الإقليمية …', 'size': 5}, {'id': '221', 'title': 'بوريطة: المغرب وروسيا متفقان على أن القانون الدولي لا يمكن تأويله بشكل يعرقل تسوية قضية الصحراء المغربية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228579/', 'summary': 'بوريطة: المغرب وروسيا متفقان على أن القانون الدولي لا يمكن تأويله بشكل يعرقل تسوية قضية الصحراء المغربية. موسكو – أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج ناصر بوريطة، اليوم الخميس بموسكو، أن المغرب وروسيا متفقان على أنه لا يمكن تأويل القانون والمبادئ الدولية بشكل يعرقل التقدم نحو تسوية قضية الصحراء المغربية. وقال السيد بوريطة، في ندوة صحفية أعقبت مباحثاته مع نظيره الروسي سيرغي لافروف، أن هذا اللقاء شكل فرصة للتطرق', 'size': 5}], 'main_title': 'بوريطة: المغرب وروسيا متفقان على عدم تأويل القانون الدولي بما يعرقل حل قضية الصحراء المغربية'}, {'community_id': '4', 'articles': [{'id': '52', 'title': 'بورصة الدار البيضاء تنهي تداولاتها على وقع الارتفاع', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666641.html', 'summary': 'بورصة الدار البيضاء تنهي تداولاتها على وقع الارتفاع. هبة بريس أنهت بورصة الدار البيضاء تداولاتها، اليوم الخميس، على وقع الارتفاع، حيث سجل مؤشرها الرئيسي “مازي” تقدما بنسبة 1,31 في المائة، ليستقر بذلك عند 18.438,26 نقطة. من جانبه، سجل مؤشر “MASI.20″، الذي يعكس أداء 20 مقاولة مدرجة بالبورصة، ارتفاعا بنسبة 1,69 في المائة إلى 1.493,47 نقطة، فيما سجل MASI.ESG، مؤشر الشركات الحاصلة على أفضل', 'size': 2}, {'id': '287', 'title': 'بورصة البيضاء تبدأ اليوم بصعود طفيف', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a8%d9%88%d8%b1%d8%b5%d8%a9-%d8%a7%d9%84%d8%a8%d9%8a%d8%b6%d8%a7%d8%a1-%d8%aa%d8%a8%d8%af%d8%a3-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a8%d8%b5%d8%b9%d9%88%d8%af-%d8%b7%d9%81%d9%8a%d9%81-1641251.html', 'summary': 'بورصة البيضاء تبدأ اليوم بصعود طفيف. استهلت بورصة الدار البيضاء تداولاتها، اليوم الجمعة، على وقع الارتفاع، حيث سجل مؤشرها الرئيسي “مازي” تحسنا بنسبة 0,23 في المائة ليستقر عند 18.480,51 نقطة. وسجل مؤشر “MASI.20″، الذي يعكس أداء 20 مقاولة مدرجة بالبورصة، تقدما بنسبة 0,34 في المائة إلى 1.498,6 نقطة، كما حقق MASI.ESG، مؤشر المقاولات الحاصلة على أفضل تصنيف، ارتفاعا بنسبة 0,18 في  بورصة البيضاء تبدأ اليوم بصعود طفيف     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}], 'main_title': 'بورصة الدار البيضاء تنهي تداولاتها على وقع الارتفاع'}, {'community_id': '5', 'articles': [{'id': '76', 'title': 'هلال أمام الأمم المتحدة: بعد 50 عاما على استرجاعها، الصحراء المغربية أضحت واحة سلام وقطبا للاندماج الإفريقي والتنمية المشتركة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/414593.html', 'summary': 'هلال أمام الأمم المتحدة: بعد 50 عاما على استرجاعها، الصحراء المغربية أضحت واحة سلام وقطبا للاندماج الإفريقي والتنمية المشتركة. أكد السفير الممثل الدائم للمغرب لدى الأمم المتحدة، عمر هلال، الأربعاء بنيويورك، أنه في غمرة استعدادات المغرب لتخليد الذكرى الخمسين للمسيرة الخضراء المظفرة، التي مكنت', 'size': 2}, {'id': '228', 'title': 'عمر هلال أمام الأمم المتحدة: بعد 50 عاما على استرجاعها، الصحراء المغربية أضحت واحة سلام وقطبا للاندماج الإفريقي والتنمية المشتركة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228560/', 'summary': 'عمر هلال أمام الأمم المتحدة: بعد 50 عاما على استرجاعها، الصحراء المغربية أضحت واحة سلام وقطبا للاندماج الإفريقي والتنمية المشتركة. الأمم المتحدة (نيويورك) – أكد السفير الممثل الدائم للمغرب لدى الأمم المتحدة، عمر هلال، الأربعاء بنيويورك، أنه في غمرة استعدادات المغرب لتخليد الذكرى الخمسين للمسيرة الخضراء المظفرة، التي مكنت من استكمال الوحدة الترابية للمملكة، أضحت الصحراء المغربية واحة للسلام والاندماج الإفريقي والتنمية المشتركة. وفي مداخلة أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة، أبرز السيد هلال', 'size': 2}], 'main_title': 'هلال أمام الأمم المتحدة: بعد 50 عاما على استرجاعها، الصحراء المغربية أضحت واحة سلام وقطبا للاندماج الإفريقي والتنمية المشتركة'}, {'community_id': '6', 'articles': [{'id': '147', 'title': 'مربو الدجاج ينددون بالاحتكار وغياب المراقبة ويحملون الحكومة مسؤولية تدهور القطاع', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/326424/', 'summary': 'مربو الدجاج ينددون بالاحتكار وغياب المراقبة ويحملون الحكومة مسؤولية تدهور القطاع. يعيش قطاع الدواجن في المغرب، وتحديدًا قطاع إنتاج دجاج اللحم، واحدة من أسوأ مراحله وفق ما أكدته الجمعية الوطنية لمربي دجاج اللحم، التي عبّرت عن استنكارها العميق لما وصفته بـ”العشوائية والاحتكار وغياب أجهزة الرقابة”، معتبرة أن القطاع أصبح رهينة في يد لوبيات تتحكم في مفاصله دون حسيب أو رقيب. وأشارت الجمعية إلى أن الشركات الكبرى', 'size': 2}, {'id': '329', 'title': 'حملوا الحكومة مسؤولية الوضع.. مربو الدواجن يشتكون “الاحتكار” و”تحكم لوبيات” في القطاع', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%ad%d9%85%d9%84%d9%88%d8%a7-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%85%d8%b3%d8%a4%d9%88%d9%84%d9%8a%d8%a9-%d8%a7%d9%84%d9%88%d8%b6%d8%b9-%d9%85%d8%b1%d8%a8%d9%88-%d8%a7%d9%84%d8%af%d9%88/', 'summary': 'حملوا الحكومة مسؤولية الوضع.. مربو الدواجن يشتكون “الاحتكار” و”تحكم لوبيات” في القطاع. عبرت “الجمعية الوطنية لمربي دجاج اللحم”، عن استنكارها “الشديد” لـ “الوضعية الاحتكارية التي أفرزت اختلالات هيكلية تهدد توازن السوق الوطني”. وأوضحت الجمعية، في بلاغ لها، أن قطاع الدواجن، وتحديدا قطاع إنتاج دجاج اللحم في المغرب، “لازال يعيش وضعية سيئة، بل أسوء، عنوانها العريض العشوائية والاحتكار وغياب تم لأجهزة الرقابة، وذلك نتيجة تحكم لوبيات القطاع في', 'size': 2}], 'main_title': 'مربو الدجاج ينددون بالاحتكار وغياب المراقبة ويحملون الحكومة مسؤولية تدهور القطاع'}, {'community_id': '7', 'articles': [{'id': '151', 'title': '“CNSS” يطبق وعاء الاشتراكات الاجتماعية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/326427/', 'summary': '“CNSS” يطبق وعاء الاشتراكات الاجتماعية. أعلن الصندوق الوطني للضمان الاجتماعي عن الشروع في تطبيق القرار رقم 1314.25 المتعلق بوعاء الاشتراكات الاجتماعية، انطلاقا من فاتح أكتوبر 2025. وأوضح بلاغ للصندوق الوطني للضمان الاجتماعي، أن هذا القرار يهدف إلى توضيح عناصر الأجر والتعويضات التي لا تدرج ضمن وعاء الاشتراك، مع تحديد سقوف وشروط إعفائها، كما يسعى إلى إزالة أي غموض يشوب بعض', 'size': 3}, {'id': '271', 'title': '“CNSS” يشرع في تطبيق القرار الجديد حول وعاء الاشتراكات الاجتماعية', 'source': 'www.alousboue.ma', 'link': 'https://www.alousboue.ma/125243/', 'summary': '“CNSS” يشرع في تطبيق القرار الجديد حول وعاء الاشتراكات الاجتماعية. يعلن الصندوق الوطني للضمان الاجتماعي عن الشروع في تطبيق القرار رقم 1314.25 المتعلق بوعاء الاشتراكات الاجتماعية، انطلاقا من فاتح أكتوبر 2025. ويهدف هذا القرار إلى توضيح عناصر الأجر والتعويضات التي لا تدرج ضمن وعاء الاشتراك، مع تحديد سقوف وشروط إعفائها، كما يسعى إلى إزالة أي غموض يشوب بعض النصوص التنظيمية الحالية، وتوحيد ممارسات …  “CNSS” يشرع في تطبيق القرار الجديد حول وعاء الاشتراكات الاجتماعية     .', 'size': 3}, {'id': '359', 'title': '“الضمان الاجتماعي” يشرع في تطبيق القرار الجديد حول وعاء الاشتراكات الاجتماعية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-594275.html', 'summary': '“الضمان الاجتماعي” يشرع في تطبيق القرار الجديد حول وعاء الاشتراكات الاجتماعية. أعلن الصندوق الوطني للضمان الاجتماعي عن بدء العمل بالقرار رقم 1314.25 المتعلق بوعاء الاشتراكات الاجتماعية، ابتداءً من فاتح أكتوبر 2025، وذلك في إطار تحديث منظومة التصريح بالأجور وتوضيح المقتضيات التنظيمية المرتبطة بها. ويهدف هذا القرار إلى تحديد مكونات الأجر والعلاوات غير الخاضعة للاشتراك، مع وضع سقوف واضحة وشروط دقيقة للإعفاء، بما يضمن إزالة أي لبس', 'size': 3}], 'main_title': '“CNSS” يطبق وعاء الاشتراكات الاجتماعية'}, {'community_id': '9', 'articles': [{'id': '297', 'title': 'البيضاء.. تعويض زبون حمّام شعبي بـ25 مليون سنتيم بعد إصابته بباب', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666859.html', 'summary': 'البيضاء.. تعويض زبون حمّام شعبي بـ25 مليون سنتيم بعد إصابته بباب. هبة بريس – البيضاء قضت محكمة النقض مؤخرًا برفض طعن تقدمت به شركة تأمين وصاحب حمّام تقليدي بالدار البيضاء، لتؤيد بذلك حكمًا سابقًا يقضي بتعويض زبون بمبلغ 25 مليون سنتيم، إثر إصابته داخل الحمّام. وتعود تفاصيل القضية إلى حادث تعرض له أحد المواطنين أثناء استحمامه داخل الحمّام، حيث تسبب باب الحمّام في إصابة على مستوى', 'size': 3}, {'id': '313', 'title': 'في سابقة قضائية.. مواطن بالدار البيضاء يحصل على تعويض بالملايين بعد إصابته داخل حمام شعبي', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/414648.html', 'summary': 'في سابقة قضائية.. مواطن بالدار البيضاء يحصل على تعويض بالملايين بعد إصابته داخل حمام شعبي. في حكم قضائي أثار اهتمام الرأي العام، فرضت محكمة النقض بالدار البيضاء على صاحب حمّام عمومي أداء تعويض قدره 25 مليون سنتيم لزبون تعرّض لإصابة', 'size': 3}, {'id': '406', 'title': 'محكمة النقض تُلزم صاحب حمّام بالدار البيضاء بتعويض زبون بـ25 مليون سنتيم!', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228587/', 'summary': 'محكمة النقض تُلزم صاحب حمّام بالدار البيضاء بتعويض زبون بـ25 مليون سنتيم!. في سابقة لافتة، أصدرت محكمة النقض حكماً نهائياً يقضي بإلزام صاحب حمّام عمومي بالدار البيضاء بدفع تعويض مالي قدره 25 مليون سنتيم لرجل تعرّض لإصابة داخل الحمّام بعد أن صدمه الباب الداخلي، ما تسبب له في جرح خطير على مستوى رجله اليمنى. تفاصيل القضية تعود إلى دعوى مدنية رفعها المتضرر، طالب فيها بتعويض عن', 'size': 3}], 'main_title': 'البيضاء.. تعويض زبون حمّام شعبي بـ25 مليون سنتيم بعد إصابته بباب'}, {'community_id': '10', 'articles': [{'id': '304', 'title': 'طقس الجمعة.. قطرات مطرية متوقعة بعدد من مناطق المملكة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666813.html', 'summary': 'طقس الجمعة.. قطرات مطرية متوقعة بعدد من مناطق المملكة. هبة بريس تتوقع المديرية العامة للأرصاد الجوية، اليوم الجمعة، أن يظل الطقس حارا نسبيا بأقصى الأقاليم الصحراوية للمملكة. وسيلاحظ، خلال الليل والصباح، تشكل سحب منخفضة جوار سواحل المحيط الأطلسي والواجهة المتوسطية، حيث ستكون مرفوقة بكتل ضبابية أو قطرات مطرية جد خفيفة محليا. كما يرتقب تشكل سحب غير مستقرة من المحتمل أن تعطي قطرات متفرقة مع', 'size': 3}, {'id': '360', 'title': 'طقس الجمعة.. سحب منخفضة مرفوقة بكتل ضبابية أو قطرات مطرية خفيفة', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-594273.html', 'summary': 'طقس الجمعة.. سحب منخفضة مرفوقة بكتل ضبابية أو قطرات مطرية خفيفة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الجمعة، أن يظل الطقس حارا نسبيا بأقصى الأقاليم الصحراوية للمملكة. وسيلاحظ، خلال الليل والصباح، تشكل سحب منخفضة جوار سواحل المحيط الأطلسي والواجهة المتوسطية، حيث ستكون مرفوقة بكتل ضبابية أو قطرات مطرية جد خفيفة محليا. كما يرتقب تشكل سحب غير مستقرة من المحتمل أن تعطي قطرات', 'size': 3}, {'id': '378', 'title': 'طقس غير مستقر متوقع اليوم الجمعة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%ba%d9%8a%d8%b1-%d9%85%d8%b3%d8%aa%d9%82%d8%b1-%d9%85%d8%aa%d9%88%d9%82%d8%b9-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ac%d9%85%d8%b9%d8%a9/', 'summary': 'طقس غير مستقر متوقع اليوم الجمعة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الجمعة، أن يظل الطقس حارا نسبيا بأقصى الأقاليم الصحراوية للمملكة. وسيلاحظ، خلال الليل والصباح، تشكل سحب منخفضة جوار سواحل المحيط الأطلسي والواجهة المتوسطية، حيث ستكون مرفوقة بكتل ضبابية أو قطرات مطرية جد خفيفة محليا. كما يرتقب تشكل سحب غير مستقرة من المحتمل أن تعطي قطرات متفرقة مع احتمال  طقس غير مستقر متوقع اليوم الجمعة     .', 'size': 3}], 'main_title': 'طقس الجمعة.. قطرات مطرية متوقعة بعدد من مناطق المملكة'}, {'community_id': '11', 'articles': [{'id': '330', 'title': 'أعز الناس على قلبها.. لطيفة رأفت تفقد والدتها', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a3%d8%b9%d8%b2-%d8%a7%d9%84%d9%86%d8%a7%d8%b3-%d8%b9%d9%84%d9%89-%d9%82%d9%84%d8%a8%d9%87%d8%a7-%d9%84%d8%b7%d9%8a%d9%81%d8%a9-%d8%b1%d8%a3%d9%81%d8%aa-%d8%aa%d9%81%d9%82%d8%af-%d9%88%d8%a7/', 'summary': 'أعز الناس على قلبها.. لطيفة رأفت تفقد والدتها. رحلت فجر اليوم الجمعة (17 أكتوبر)، والدة الفنانة المغربية لطيفة رأفت، إلى دار البقاء، بعد معاناة مع المرض. وأعلنت خبر الوفاة، إدارة الصفحات الرسمية لرأفت على منصات السوشيل ميديا، في منشور تم تقاسمه مع متابعيها على إنستغرام. وكتبت الإدراة: “ببالغ الحزن والأسى، نعلن عن وفاة والدة لطيفة رأفت رأفت الغالية التي انتقلت إلى جوار ربها', 'size': 2}, {'id': '358', 'title': 'الموت يفجع لطيفة رأفت في والدتها', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-594279.html', 'summary': 'الموت يفجع لطيفة رأفت في والدتها. أعلنت الفنانة لطيفة رأفت، صباح اليوم الجمعة 17 أكتوبر الجاري، عن وفاة والدتها بعد صراع طويل مع المرض. وكتبت لطيفة رأفت، عبر حسابها الرسمي على مواقع التواصل الاجتماعي، تدوينة تنعي فيها والدتها، التي وافتها المنية فجر اليوم الجمعة، داعية متابعيها إلى الدعاء لها بالرحمة والمغفرة. وكانت والدة الفنانة تمر بوعكة صحية في', 'size': 3}, {'id': '413', 'title': 'الفنانة لطيفة رأفت تعلن وفاة والدتها', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%81%d9%86%d8%a7%d9%86%d8%a9-%d9%84%d8%b7%d9%8a%d9%81%d8%a9-%d8%b1%d8%a3%d9%81%d8%aa-%d8%aa%d8%b9%d9%84%d9%86-%d9%88%d9%81%d8%a7%d8%a9-%d9%88%d8%a7%d9%84%d8%af%d8%aa%d9%87%d8%a7/', 'summary': 'الفنانة لطيفة رأفت تعلن وفاة والدتها. أعلنت الفنانة المغربية لطيفة رأفت، صباح اليوم الجمعة 17 أكتوبر 2025، عن وفاة والدتها فجر نفس اليوم. وكشفت رأفت الخبر عبر حسابها الرسمي على مواقع التواصل الاجتماعي، حيث نشرت تدوينة مؤثرة نعت فيها والدتها، قائلة: “ببالغ الحزن والأسى، نعلن عن وفاة والدة لطيفة رأفت الغالية التي انتقلت إلى جوار ربها فجر اليوم الجمعة”، …  الفنانة لطيفة رأفت تعلن وفاة والدتها     .', 'size': 2}], 'main_title': 'الموت يفجع لطيفة رأفت في والدتها'}, {'community_id': '0', 'articles': [{'id': '354', 'title': 'الدوحة.. المصباحي وفنو ضمن المتوجين بجائزة كتارا للرواية العربية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-594292.html', 'summary': 'الدوحة.. المصباحي وفنو ضمن المتوجين بجائزة كتارا للرواية العربية. أعلنت المؤسسة العامة للحي الثقافي “كتارا”، مساء الخميس، أسماء الفائزين بجائزة كتارا للرواية العربية في دورتها ال 11، ومن ضمنهم الناقد المغربي عبد الرزاق المصباحي والروائية الشابة نعيمة فنو. وفاز الناقد عبد الرزاق المصباحي في فئة الدراسات التي تعنى بالبحث والنقد الروائي عن دراسته “الرد بالرواية: دراسة في استراتيجيات السرد الثقافي”، فيما فازت', 'size': 2}, {'id': '365', 'title': 'نعيمة فنو وعبد الرزاق المصباحي يرفعان راية المغرب في كتارا للرواية العربية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108854.html', 'summary': 'نعيمة فنو وعبد الرزاق المصباحي يرفعان راية المغرب في كتارا للرواية العربية. أعلنت المؤسسة العامة للحي الثقافي “كتارا”، مساء أمس الخميس، أسماء الفائزين بجائزة كتارا للرواية العربية في دورتها ال 11، ومن ضمنهم الناقد المغربي عبد الرزاق المصباحي والروائية الشابة نعيمة فنو. وفاز الناقد عبد الرزاق المصباحي في فئة الدراسات التي تعنى بالبحث والنقد الروائي عن دراسته “الرد بالرواية: دراسة في استراتيجيات السرد الثقافي”، فيما فازت نعيمة ظهرت المقالة نعيمة فنو وعبد الرزاق المصباحي يرفعان راية المغرب في كتارا للرواية العربية  .', 'size': 2}], 'main_title': 'الدوحة.. المصباحي وفنو ضمن المتوجين بجائزة كتارا للرواية العربية'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
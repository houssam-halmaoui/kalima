<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 13/10/2025 - 18h25</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '38', 'title': 'الطقس غدا الإثنين.. ضباب محلي وأجواء غائمة على السواحل الشمالية والوسطى', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665434.html', 'summary': 'الطقس غدا الإثنين.. ضباب محلي وأجواء غائمة على السواحل الشمالية والوسطى. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد الاثنين، تشكل كتل ضبابية محليا على السواحل الشمالية والوسطى خلال الصباح والليل. كما يرتقب أن تكون السماء غائمة بالواجهة المتوسطية وشمال غرب الأقاليم الصحراوية للمملكة، مع نزول قطرات مطرية جد خفيفة. وستتراوح درجات الحرارة الدنيا، ما بين 08 و 14 درجة بمرتفعات الأطلس، وما بين 14 و', 'size': 4}, {'id': '69', 'title': 'توقعات أحوال الطقس غدا الاثنين', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/207314', 'summary': 'توقعات أحوال الطقس غدا الاثنين.  تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد الاثنين، تشكل كتل ضبابية محليا على السواحل الشمالية والوسطى خلال الصباح والليل. كما يرتقب أن تكون السماء غائمة بالواجهة المتوسطية وشمال غرب الأقاليم الصحراوية للمملكة، مع نزول قطرات مطرية جد خفيفة. وستتراوح درجات الحرارة الدنيا، ما بين 08 و 14 درجة بمرتفعات الأطلس، ومابين 14', 'size': 4}, {'id': '148', 'title': 'طقس الإثنين.. قطرات مطرية مرتقبة بهذه المناطق', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593550.html', 'summary': 'طقس الإثنين.. قطرات مطرية مرتقبة بهذه المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم الاثنين، تشكل كتل ضبابية محليا على السواحل الشمالية والوسطى خلال الصباح والليل. كما يرتقب أن تكون السماء غائمة بالواجهة المتوسطية وشمال غرب الأقاليم الصحراوية للمملكة، مع نزول قطرات مطرية جد خفيفة. وستتراوح درجات الحرارة الدنيا، ما بين 08 و 14 درجة بمرتفعات الأطلس، وما بين', 'size': 4}, {'id': '243', 'title': 'توقعات أحوال الطقس اليوم الإثنين', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%a5%d8%ab%d9%86%d9%8a%d9%86-9/', 'summary': 'توقعات أحوال الطقس اليوم الإثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين 13 أكتوبر 2025، تشكل كتل ضبابية محليا على السواحل الشمالية والوسطى خلال الصباح والليل. كما يرتقب أن تكون السماء غائمة بالواجهة المتوسطية وشمال غرب الأقاليم الصحراوية للمملكة، مع نزول قطرات مطرية جد خفيفة. وستتراوح درجات الحرارة الدنيا، ما بين 08 و 14 درجة بمرتفعات الأطلس، …  توقعات أحوال الطقس اليوم الإثنين     .', 'size': 4}], 'main_title': 'الطقس غدا الإثنين.. ضباب محلي وأجواء غائمة على السواحل الشمالية والوسطى'}, {'community_id': '6', 'articles': [{'id': '117', 'title': 'رقمنة إدارة الحدود.. تطبيق نظام الدخول والخروج الإلكتروني تدريجيا في منطقة “شنغن”', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%b1%d9%82%d9%85%d9%86%d8%a9-%d8%a5%d8%af%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%ad%d8%af%d9%88%d8%af-%d8%aa%d8%b7%d8%a8%d9%8a%d9%82-%d9%86%d8%b8%d8%a7%d9%85-%d8%a7%d9%84%d8%af%d8%ae%d9%88%d9%84-%d9%88/', 'summary': 'رقمنة إدارة الحدود.. تطبيق نظام الدخول والخروج الإلكتروني تدريجيا في منطقة “شنغن”. أعلن الاتحاد الأوروبي، دخول نظام الدخول والخروج الإلكتروني إلى منطقة شنغن، حيز التنفيذ اعتبارا، من أمس الأحد (12 أكتوبر). وذكر بيان صادر عن المفوضية الأوروبية أن النظام الجديد (EES) يهدف إلى رقمنة إدارة الحدود على أن يطبق تدريجيا في 29 بلدا. كما يهدف النظام، بحسب البيان، إلى زيادة فعالية وكفاءة الضوابط على الحدود الخارجية للاتحاد', 'size': 2}, {'id': '207', 'title': 'انطلاق نظام الدخول والخروج الإلكتروني تدريجيا في منطقة شنغن', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%86%d8%b7%d9%84%d8%a7%d9%82-%d9%86%d8%b8%d8%a7%d9%85-%d8%a7%d9%84%d8%af%d8%ae%d9%88%d9%84-%d9%88%d8%a7%d9%84%d8%ae%d8%b1%d9%88%d8%ac-%d8%a7%d9%84%d8%a5%d9%84%d9%83%d8%aa%d8%b1%d9%88%d9%86/', 'summary': 'انطلاق نظام الدخول والخروج الإلكتروني تدريجيا في منطقة شنغن. أعلن الاتحاد الأوروبي، دخول نظام الدخول والخروج الإلكتروني إلى منطقة شنغن، حيز التنفيذ اعتبارا من اليوم الأحد. وذكر بيان صادر عن المفوضية الأوروبية أن النظام  انطلاق نظام الدخول والخروج الإلكتروني تدريجيا في منطقة شنغن     .', 'size': 2}], 'main_title': 'رقمنة إدارة الحدود.. تطبيق نظام الدخول والخروج الإلكتروني تدريجيا في منطقة “شنغن”'}, {'community_id': '4', 'articles': [{'id': '153', 'title': 'ولد الرشيد: الصحافة الحرة والمسؤولة ركيزة للديمقراطية وتعزيز الثقة في المؤسسات', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107720.html', 'summary': 'ولد الرشيد: الصحافة الحرة والمسؤولة ركيزة للديمقراطية وتعزيز الثقة في المؤسسات. أكد رئيس مجلس المستشارين محمد ولد الرشيد، أهمية تطوير الإطار القانوني المنظم للمجلس الوطني للصحافة، مشددا على أن الصحافة الحرة والمسؤولة تعد ركيزة أساسية في ترسيخ الديمقراطية وتعزيز ثقة المواطنين في المؤسسات. وخلال يوم دراسي حول مشروع قانون رقم 19.23 المتعلق بإعادة تنظيم المجلس الوطني للصحافة، احتضنه مجلس المستشارين، الاثنين، عبر ولد الرشيد عن أهمية ظهرت المقالة ولد الرشيد: الصحافة الحرة والمسؤولة ركيزة للديمقراطية وتعزيز الثقة في المؤسسات  .', 'size': 2}, {'id': '285', 'title': 'ولد الرشيد: مشروع قانون مجلس الصحافة يسعى لترسيخ الاستقلالية والشفافية', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%88%d9%84%d8%af-%d8%a7%d9%84%d8%b1%d8%b4%d9%8a%d8%af-%d9%85%d8%b4%d8%b1%d9%88%d8%b9-%d9%82%d8%a7%d9%86%d9%88%d9%86-%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d8%b5%d8%ad%d8%a7%d9%81%d8%a9-%d9%8a%d8%b3-1639189.html', 'summary': 'ولد الرشيد: مشروع قانون مجلس الصحافة يسعى لترسيخ الاستقلالية والشفافية. عبّر محمد ولد الرشيد، رئيس مجلس المستشارين، عن أمانيه بأن تفضي “المقاربة التشاركية” بشأن مشروع القانون رقم 26.25 المتعلق بإعادة تنظيم المجلس الوطني للصحافة إلى “إنتاج نص تشريعي بجودة عالية، يعالج النواقص المسجلة، ويوفر الضمانات القانونية والمؤسساتية التي ترسخ الاستقلالية، والتعددية، والشفافية، وحكامة آليات التنظيم الذاتي، وتضمن حماية حرية الصحافة”. ودعا ولد الرشيد، خلال أشغال  ولد الرشيد: مشروع قانون مجلس الصحافة يسعى لترسيخ الاستقلالية والشفافية     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}], 'main_title': 'ولد الرشيد: الصحافة الحرة والمسؤولة ركيزة للديمقراطية وتعزيز الثقة في المؤسسات'}, {'community_id': '5', 'articles': [{'id': '196', 'title': 'مونديال أقل من 20 سنة.. المغرب يواجه فرنسا في نصف النهائي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/478328.html', 'summary': 'مونديال أقل من 20 سنة.. المغرب يواجه فرنسا في نصف النهائي. عرف المنتخب الوطني المغربي لأقل من 20 سنة على منافسه في الدور نصف النهائي من منافسات كأس العالم التي تحتضنها الشيلي، حيث سيواجه المنتخب الفرنسي يوم الأربعاء 15 أكتوبر 2025', 'size': 2}, {'id': '231', 'title': 'مونديال الشيلي: العناد المغربي يتفوق على الانضباط الأمريكي.. وموعد مع فرنسا في نصف النهائي', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%85%d9%88%d9%86%d8%af%d9%8a%d8%a7%d9%84-%d8%a7%d9%84%d8%b4%d9%8a%d9%84%d9%8a-%d8%a7%d9%84%d8%b9%d9%86%d8%a7%d8%af-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%8a%d8%aa%d9%81%d9%88%d9%82-%d8%b9/', 'summary': 'مونديال الشيلي: العناد المغربي يتفوق على الانضباط الأمريكي.. وموعد مع فرنسا في نصف النهائي. المساء اليوم – و م ع: تأهل المنتخب الوطني المغربي لأقل من 20 سنة إلى نصف نهائي كأس العالم لهذه الفئة الجارية أطوارها في الشيلي، عقب تفوقه البين على نظيره الامريكي بثلاثة أهداف لواحد في', 'size': 2}], 'main_title': 'مونديال أقل من 20 سنة.. المغرب يواجه فرنسا في نصف النهائي'}, {'community_id': '2', 'articles': [{'id': '283', 'title': 'المغرب يسجل عجزاً بـ50,5 مليار درهم', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b3%d8%ac%d9%84-%d8%b9%d8%ac%d8%b2%d8%a7%d9%8b-%d8%a8%d9%80505-%d9%85%d9%84%d9%8a%d8%a7%d8%b1-%d8%af%d8%b1%d9%87%d9%85-1639337.html', 'summary': 'المغرب يسجل عجزاً بـ50,5 مليار درهم. أفادت الخزينة العامة للمملكة بأن وضعية تحملات وموارد الخزينة أفرزت عجزا في الميزانية بقيمة 50,5 مليار درهم عند متم شتنبر 2025، مقابل عجز قدره 26,6 مليار درهم قبل سنة. وأوضحت الخزينة العامة، في نشرتها الشهرية حول إحصائيات المالية العمومية برسم شتنبر، أن هذا العجز يأخذ بعين الاعتبار رصيدا سلبيا قدره 2,8 مليار درهم نتج عن  المغرب يسجل عجزاً بـ50,5 مليار درهم     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '369', 'title': 'المغرب يسجل عجزا بـ50,5 مليار درهم', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593649.html', 'summary': 'المغرب يسجل عجزا بـ50,5 مليار درهم. أفادت الخزينة العامة للمملكة بأن وضعية تحملات وموارد الخزينة أفرزت عجزا في الميزانية بقيمة 50,5 مليار درهم عند متم شتنبر 2025، مقابل عجز قدره 26,6 مليار درهم قبل سنة. وأوضحت الخزينة العامة، في نشرتها الشهرية حول إحصائيات المالية العمومية برسم شتنبر، أن هذا العجز يأخذ بعين الاعتبار رصيدا سلبيا قدره 2,8 مليار درهم', 'size': 2}], 'main_title': 'المغرب يسجل عجزاً بـ50,5 مليار درهم'}, {'community_id': '1', 'articles': [{'id': '286', 'title': 'أخنوش يدعو إلى تعزيز التنسيق بين الإدارات ومؤسسة وسيط المملكة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665707.html', 'summary': 'أخنوش يدعو إلى تعزيز التنسيق بين الإدارات ومؤسسة وسيط المملكة. دعا رئيس الحكومة، عزيز أخنوش، اليوم الاثنين، إلى تعزيز التنسيق والتعاون والتواصل بين كافة المرافق العمومية ومؤسسة وسيط المملكة. وأكد رئيس الحكومة، في منشور موجه إلى الوزراء والوزراء المنتدبين وكتاب الدولة والمندوبيْن السامييْن والمندوب العام، على ضرورة تدعيم الآليات الكفيلة بضمان انتظام هذا التنسيق ونجاعته وفعاليته، بهدف الارتقاء بأداء المرفق العمومي وتعزيز تفاعل الإدارة مع', 'size': 2}, {'id': '355', 'title': 'في توجيه لوزراء الحكومة.. أخنوش يدعو إلى تعزيز التعاون بين المرافق العمومية ووسيط المملكة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%81%d9%8a-%d8%aa%d9%88%d8%ac%d9%8a%d9%87-%d9%84%d9%88%d8%b2%d8%b1%d8%a7%d8%a1-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d8%a3%d8%ae%d9%86%d9%88%d8%b4-%d9%8a%d8%af%d8%b9%d9%88-%d8%a5%d9%84%d9%89/', 'summary': 'في توجيه لوزراء الحكومة.. أخنوش يدعو إلى تعزيز التعاون بين المرافق العمومية ووسيط المملكة. دعا رئيس الحكومة، عزيز أخنوش، إلى تعزيز التنسيق والتعاون والتواصل بين كافة المرافق العمومية ومؤسسة وسيط المملكة. وأكد رئيس الحكومة، في منشور موجه إلى الوزراء والوزراء المنتدبين وكتاب الدولة والمندوبيْن السامييْن والمندوب العام، اليوم الاثنين (13 أكتوبر) على ضرورة تدعيم الآليات الكفيلة بضمان انتظام هذا التنسيق ونجاعته وفعاليته، بهدف الارتقاء بأداء المرفق العمومي وتعزيز تفاعل', 'size': 2}], 'main_title': 'أخنوش يدعو إلى تعزيز التنسيق بين الإدارات ومؤسسة وسيط المملكة'}, {'community_id': '7', 'articles': [{'id': '330', 'title': 'الوزير برادة: محاسبة الحكومة على تراكمات تعود لسنوات أمر مجحف.. وعملية إصلاح التعليم تسير بوتيرة إيجابية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/education/414409.html', 'summary': 'الوزير برادة: محاسبة الحكومة على تراكمات تعود لسنوات أمر مجحف.. وعملية إصلاح التعليم تسير بوتيرة إيجابية. اعتبر محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة، أن محاسبة الحكومة الحالية أو الوزارة على تراكمات تعود لسنوات أمر مجحف، موضحا أن الوتيرة', 'size': 5}, {'id': '357', 'title': 'برادة: مراجعة تسقيف سن الولوج إلى التدريس قيد الدراسة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%b1%d8%a7%d8%af%d8%a9-%d9%85%d8%b1%d8%a7%d8%ac%d8%b9%d8%a9-%d8%aa%d8%b3%d9%82%d9%8a%d9%81-%d8%b3%d9%86-%d8%a7%d9%84%d9%88%d9%84%d9%88%d8%ac-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d8%aa%d8%af%d8%b1/', 'summary': 'برادة: مراجعة تسقيف سن الولوج إلى التدريس قيد الدراسة. أكد محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة، أن مراجعة تسقيف سن الولوج إلى مهنة التدريس في 30 سنة ما يزال قيد الدراسة داخل الوزارة، مشددا على أن القرار سيحسم فيه بشكل نهائي قبل الإعلان عن مباريات التوظيف الجديدة التي ستفتح في وجه 20 ألف خريج جامعي خلال السنة الجارية. وأوضح برادة، في', 'size': 5}, {'id': '378', 'title': 'برادة يلمح لمراجعة سن ولوج التعليم: واع بوجود مشكل حقيقي وسنتخذ القرار المناسب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107882.html', 'summary': 'برادة يلمح لمراجعة سن ولوج التعليم: واع بوجود مشكل حقيقي وسنتخذ القرار المناسب. رغم دفاعه الحثيث عن قرار تحديد سن الولوج إلى مهنة التعليم في 30 سنة، والذي برره بـ”الالتقاء بالمعايير الدولية” وتوفير مسار مهني محفز وطويل الأمد، لم يُغفل وزير التربية الوطنية والتعليم الأولي والرياضة، محمد سعد برادة، الإشارة إلى إمكانية مراجعة هذا القرار المثير للجدل مستقبلا. فقد لمح الوزير، خلال جلسة الأسئلة الشفوية بمجلس النواب، إلى ظهرت المقالة برادة يلمح لمراجعة سن ولوج التعليم: واع بوجود مشكل حقيقي وسنتخذ القرار المناسب  .', 'size': 4}, {'id': '451', 'title': 'مع اقتراب المباريات.. هل تتجه وزارة التربية الوطنية نحو إلغاء تسقيف السن', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%85%d8%b9-%d8%a7%d9%82%d8%aa%d8%b1%d8%a7%d8%a8-%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%b1%d9%8a%d8%a7%d8%aa-%d9%87%d9%84-%d8%aa%d8%aa%d8%ac%d9%87-%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%aa%d8%b1/', 'summary': 'مع اقتراب المباريات.. هل تتجه وزارة التربية الوطنية نحو إلغاء تسقيف السن. المساء اليوم – متابعات تتجه وزارة التربية الوطنية والتعليم الأولي والرياضة، نحو مراجعة قرار تسقيف سن الولوج إلى مباريات التعليم هذه السنة. وأكد محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة، أمس', 'size': 3}, {'id': '460', 'title': 'وزارة التربية تدرس مراجعة قرار تسقيف سن الولوج إلى مباريات التعليم', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%aa%d8%b1%d8%a8%d9%8a%d8%a9-%d8%aa%d8%af%d8%b1%d8%b3-%d9%85%d8%b1%d8%a7%d8%ac%d8%b9%d8%a9-%d9%82%d8%b1%d8%a7%d8%b1-%d8%aa%d8%b3%d9%82%d9%8a%d9%81-%d8%b3/', 'summary': 'وزارة التربية تدرس مراجعة قرار تسقيف سن الولوج إلى مباريات التعليم. أعلن وزير التربية الوطنية والتعليم الأولي والرياضة، محمد سعد برادة، أنه من المرتقب أن تراجع وزارته قرار تسقيف سن الولوج إلى مباريات التعليم هذه السنة. وفي هذا السياق، قال الوزير برادة في حوار صحفي له أمس الأحد 12 أكتوبر 2025، إن الوزارة قررت إخضاع هذا الأمر للمراجعة والدراسة، وأنه سيتم اتخاذ القرار النهائي …  وزارة التربية تدرس مراجعة قرار تسقيف سن الولوج إلى مباريات التعليم     .', 'size': 4}], 'main_title': 'الوزير برادة: محاسبة الحكومة على تراكمات تعود لسنوات أمر مجحف.. وعملية إصلاح التعليم تسير بوتيرة إيجابية'}, {'community_id': '3', 'articles': [{'id': '373', 'title': 'روسيا: الحكم الذاتي يمثل أحد أوجه “تقرير المصير” في الصحراء', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593630.html', 'summary': 'روسيا: الحكم الذاتي يمثل أحد أوجه “تقرير المصير” في الصحراء. قال وزير الخارجية الروسي سيرغي لافروف، إن الحكم الذاتي يمثل تجسيدا عمليا لمفهوم تقرير المصير في الصحراء المغربية، مؤكدا في ندوة صحافية اليوم الإثنين، أن موسكو مستعدة للترحيب به إذا تم ذلك عبر اتفاق جميع الأطراف. وأكد لافروف أن ملف النزاع حول الصحراء المغربية العالق منذ أكثر من خمسين عاما “مازال يفرض', 'size': 2}, {'id': '446', 'title': 'لافروف: الحكم الذاتي تجسيد عملي لتقرير المصير في الصحراء المغربية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228417/', 'summary': 'لافروف: الحكم الذاتي تجسيد عملي لتقرير المصير في الصحراء المغربية. في تصريح دبلوماسي لافت، أكد وزير الخارجية الروسي سيرغي لافروف أن مقترح الحكم الذاتي الذي تقدم به المغرب يشكل تجسيداً عملياً وواقعياً لمبدأ تقرير المصير في الصحراء المغربية، مشيراً إلى أن هذا النزاع الإقليمي الذي عمر لأكثر من خمسين سنة ما زال حاضراً بقوة على الساحة الدولية ويحتاج إلى حلول عملية مبنية على التوافق.', 'size': 2}], 'main_title': 'روسيا: الحكم الذاتي يمثل أحد أوجه “تقرير المصير” في الصحراء'}, {'community_id': '9', 'articles': [{'id': '382', 'title': 'وهبي: 450 حالة استفادت من العقوبات البديلة و9 أعيدوا للسجن بعد رفض التنفيذ', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107852.html', 'summary': 'وهبي: 450 حالة استفادت من العقوبات البديلة و9 أعيدوا للسجن بعد رفض التنفيذ. كشف وزير العدل، عبد اللطيف وهبي، اليوم الاثنين أن عدد العقوبات البديلة بالمغرب وصلت إلى 450 حالة، مبرزا أن 9 حالات لم ينفذوا العقوبة البديلة وتقرر اعتقالهم لتأدية العقوبة السجنية الأصلية. وأوضح وهبي، في جلسة الأسئلة الشفوية بمجلس النواب: “عدد العقوبات البديلة لحدود الساعة بلغت حوالي 450 حالة. بعض الحالات صدرت فيها أحكام بالعقوبات البديلة ظهرت المقالة وهبي: 450 حالة استفادت من العقوبات البديلة و9 أعيدوا للسجن بعد رفض التنفيذ  .', 'size': 3}, {'id': '396', 'title': 'القضاء بصدر 450 حكما بعقوبات بديلة منذ بدء تطبيق القانون الجديد', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d9%82%d8%b6%d8%a7%d8%a1-%d8%a8%d8%b5%d8%af%d8%b1-450-%d8%ad%d9%83%d9%85%d8%a7-%d8%a8%d8%b9%d9%82%d9%88%d8%a8%d8%a7%d8%aa-%d8%a8%d8%af%d9%8a%d9%84%d8%a9-%d9%85%d9%86%d8%b0-%d8%a8%d8%af/', 'summary': 'القضاء بصدر 450 حكما بعقوبات بديلة منذ بدء تطبيق القانون الجديد. أعلن وزير العدل، عبد اللطيف وهبي، أن عدد الأحكام القضائية الصادرة بالعقوبات البديلة بلغ إلى حدود اليوم 450 حكما موزعة على مختلف محاكم المملكة، ما يعكس بداية فعلية لتطبيق العدالة التصالحية في بعدها الإنساني والاجتماعي. وأوضح وهبي، خلال جلسة الأسئلة الشفوية بمجلس النواب الاثنين، أن العقوبات البديلة تشكل تحولا جوهريا في السياسة الجنائية للمغرب، إذ  القضاء بصدر 450 حكما بعقوبات بديلة منذ بدء تطبيق القانون الجديد     .', 'size': 3}, {'id': '414', 'title': 'اعتقال 9 أشخاص تخلفوا عن تنفيذ العقوبات البديلة', 'source': 'rue20.com', 'link': 'https://rue20.com/944746.html', 'summary': 'اعتقال 9 أشخاص تخلفوا عن تنفيذ العقوبات البديلة.  ا الرباط كشف وزير العدل، عبد اللطيف وهبي، أن محاكم المملكة نفذت حوالي 450 عقوبة بديلة منذ انطلاق العمل بهذا النظام، في إطار جهود تقليص العقوبات السجنية في بعض القضايا البسيطة وتعزيز بدائل التأهيل والإدماج. وخلال جلسة عمومية للأسئلة الشفوية، اليوم الإثنين بمجلس النواب، أوضح وهبي أن تجربة العقوبات البديلة تسير في الاتجاه الخبر اعتقال 9 أشخاص تخلفوا عن تنفيذ العقوبات البديلة  .', 'size': 3}], 'main_title': 'وهبي: 450 حالة استفادت من العقوبات البديلة و9 أعيدوا للسجن بعد رفض التنفيذ'}, {'community_id': '8', 'articles': [{'id': '388', 'title': 'ابتدائية زاكورة تدين رئيس جماعة ترناتة بـ4 أشهر حبسا نافذا في ملف سرقة المياه', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107826.html', 'summary': 'ابتدائية زاكورة تدين رئيس جماعة ترناتة بـ4 أشهر حبسا نافذا في ملف سرقة المياه. أصدرت المحكمة الابتدائية بزاكورة، اليوم الإثنين 13 أكتوبر 2025، حكمها في قضية رئيس جماعة ترناتة المتابع بتهم تتعلق بسوء استغلال الموارد المائية العمومية، حيث قضت في حقه بأربعة أشهر حبسا نافذا وغرامة مالية قدرها 2000 درهم، بعد مداولات دامت عدة جلسات. وجاء هذا الحكم بعد متابعة المعني بالأمر بتهم تتعلق بـ”تعييب شيء مخصص للمنفعة العامة”، ظهرت المقالة ابتدائية زاكورة تدين رئيس جماعة ترناتة بـ4 أشهر حبسا نافذا في ملف سرقة المياه  .', 'size': 2}, {'id': '445', 'title': 'زاكورة: أربعة أشهر نافذة في حق رئيس جماعة ترناتة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228420/', 'summary': 'زاكورة: أربعة أشهر نافذة في حق رئيس جماعة ترناتة. السعيد بنلباه أصدرت المحكمة الابتدائية بزاكورة، اليوم الإثنين 13 أكتوبر 2025، حكما بأربعة أشهر حكما نافذا وغرامة مالية قدرها 2000 درهم في حق رئيس جماعة ترناتة الذي تمت متابعته بسرقة مياه عمومية لسقي ضيعته الخاصة . وهي التهمة التي تم تكييفها بـ ”تعييب شيء مخصص للمنفعة العامة” و”اختلاس قوى ذات قيمة اقتصادية” و”تعييب منشأة مائية”،', 'size': 2}], 'main_title': 'ابتدائية زاكورة تدين رئيس جماعة ترناتة بـ4 أشهر حبسا نافذا في ملف سرقة المياه'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
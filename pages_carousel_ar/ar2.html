<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 18/07/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '6', 'title': 'تقرير: الهلال يقنع بونو بتمديد العقد', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%aa%d9%82%d8%b1%d9%8a%d8%b1-%d8%a7%d9%84%d9%87%d9%84%d8%a7%d9%84-%d9%8a%d9%82%d9%86%d8%b9-%d8%a8%d9%88%d9%86%d9%88-%d8%a8%d8%aa%d9%85%d8%af%d9%8a%d8%af-%d8%a7%d9%84%d8%b9%d9%82%d8%af-1594834.html', 'summary': 'تقرير: الهلال يقنع بونو بتمديد العقد. أشار تقرير إعلامي إلى أن إدارة نادي الهلال السعودي لكرة القدم توصلت إلى اتفاق نهائي مع الدولي المغربي ياسين بونو، يقضي بتجديد عقده مع الفريق، باعتباره من بين أبرز نجوم “الكتيبة الزرقاء”. وأكدت صحيفة “الميدان” أن نادي الهلال توصل إلى اتفاق مع الحارس ياسين بونو على تمديد له، بعد الانتهاء من كافة التفاصيل المرتبطة بالعقد  تقرير: الهلال يقنع بونو بتمديد العقد     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '410', 'title': 'الهلال يتوصل إلى اتفاق مع ياسين بونو لتمديد عقده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%87%d9%84%d8%a7%d9%84-%d9%8a%d8%aa%d9%88%d8%b5%d9%84-%d8%a5%d9%84%d9%89-%d8%a7%d8%aa%d9%81%d8%a7%d9%82-%d9%85%d8%b9-%d9%8a%d8%a7%d8%b3%d9%8a%d9%86-%d8%a8%d9%88%d9%86%d9%88-%d9%84%d8%aa/', 'summary': 'الهلال يتوصل إلى اتفاق مع ياسين بونو لتمديد عقده. أفادت مصادر إعلامية أن نادي الهلال السعودي لكرة القدم توصل إلى اتفاق نهائي مع الحارس الدولي المغربي، ياسين بونو لتجديد عقده، حيث يأتي هذا التجديد في ظل تألق بونو واعتباره أحد أبرز نجوم “الكتيبة الزرقاء” منذ انضمامه للفريق. ووفقا لصحيفة “الميدان”، تم الانتهاء من جميع التفاصيل المتعلقة بالعقد الجديد الذي يتضمن تحسينات عدة، فمن المتوقع أن يوقع …  الهلال يتوصل إلى اتفاق مع ياسين بونو لتمديد عقده     .', 'size': 2}], 'main_title': 'تقرير: الهلال يقنع بونو بتمديد العقد'}, {'community_id': '1', 'articles': [{'id': '69', 'title': 'الرباط: قيادة حزب الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب“أومكونتو وي سيزوي”', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/203631', 'summary': 'الرباط: قيادة حزب الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب“أومكونتو وي سيزوي”.  إستقبلت القيادة الجماعية لحزب الأصالة والمعاصرة، اليوم الخميس بمقر الحزب بالرباط، الرئيس السابق لجنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي”، جاكوب زوما. وتباحثت السيدة فاطمة الزهراء المنصوري،منسقة القيادة الجماعية لحزب الأصالة والمعاصرة،التي تضم أيضا كل من، السيد محمد المهدي بنسعيد،والسيدة فاطمة السعدي،مع السيد زوما،بالخصوص، حول آفاق تقوية التعاون والشراكة بين الحزبين والبلدين في', 'size': 2}, {'id': '94', 'title': 'قيادة "البام" تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي" جاكوب زوما', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/409467.html', 'summary': 'قيادة "البام" تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي" جاكوب زوما. استقبلت القيادة الجماعية لحزب الأصالة والمعاصرة، اليوم الخميس بالرباط، الرئيس السابق لجنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي"، جاكوب زوما. وتباحثت فاطمة الزهراء المنصوري، منسقة القيادة', 'size': 2}], 'main_title': 'الرباط: قيادة حزب الأصالة والمعاصرة تستقبل الرئيس السابق لجنوب إفريقيا وزعيم حزب“أومكونتو وي سيزوي”'}, {'community_id': '3', 'articles': [{'id': '96', 'title': 'إقليم زاكورة يستعد لاحتضان الدورة الرابعة للملتقى السنوي للجالية المغربية بالخارج', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/culture/409469.html', 'summary': 'إقليم زاكورة يستعد لاحتضان الدورة الرابعة للملتقى السنوي للجالية المغربية بالخارج. تستعد جماعة أيت ولال بإقليم زاكورة لاحتضان فعاليات الدورة الرابعة للملتقى السنوي للجالية المغربية المقيمة بالخارج، الذي تنظمه جمعية زاكورة للمهاجر، خلال الفترة من 25', 'size': 2}, {'id': '246', 'title': 'إقليم زاكورة يستعد لاحتضان الدورة الـ4 للملتقى السنوي للجالية المغربية بالخارج', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/إقليم-زاكورة-يستعد-لاحتضان-الدورة-الـ4-للملتقى-السنوي-للجالية_a28737.html', 'summary': 'إقليم زاكورة يستعد لاحتضان الدورة الـ4 للملتقى السنوي للجالية المغربية بالخارج. *العلم الإلكترونية* تستعد جماعة أيت ولال بإقليم زاكورة لاحتضان فعاليات الدورة الرابعة للملتقى السنوي للجالي...', 'size': 2}], 'main_title': 'إقليم زاكورة يستعد لاحتضان الدورة الرابعة للملتقى السنوي للجالية المغربية بالخارج'}, {'community_id': '4', 'articles': [{'id': '104', 'title': 'هذا اليوم سجل ذروة عودة المغاربة المقيمين بالخارج', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409477.html', 'summary': 'هذا اليوم سجل ذروة عودة المغاربة المقيمين بالخارج. أفاد الوزير المنتدب المكلف بالعلاقات مع البرلمان، الناطق الرسمي باسم الحكومة، مصطفى بايتاس، اليوم الخميس، بأن يوم 14 يوليوز الجاري شهد ذروة عودة المغاربة المقيمين', 'size': 2}, {'id': '205', 'title': 'بايتاس: معالجة أكثر من 734 ألف ملف تكفل صحي إلى حدود يونيو المنصرم', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a8%d8%a7%d9%8a%d8%aa%d8%a7%d8%b3-%d9%85%d8%b9%d8%a7%d9%84%d8%ac%d8%a9-%d8%a3%d9%83%d8%ab%d8%b1-%d9%85%d9%86-734-%d8%a3%d9%84%d9%81-%d9%85%d9%84%d9%81-%d8%aa%d9%83%d9%81%d9%84-%d8%b5%d8%ad%d9%8a/', 'summary': 'بايتاس: معالجة أكثر من 734 ألف ملف تكفل صحي إلى حدود يونيو المنصرم. أفاد الوزير المنتدب المكلف بالعلاقات مع البرلمان، الناطق الرسمي باسم الحكومة، مصطفى بايتاس، اليوم الخميس، بأنه تمت إلى حدود يونيو المنصرم، معالجة أكثر  بايتاس: معالجة أكثر من 734 ألف ملف تكفل صحي إلى حدود يونيو المنصرم     .', 'size': 2}], 'main_title': 'هذا اليوم سجل ذروة عودة المغاربة المقيمين بالخارج'}, {'community_id': '5', 'articles': [{'id': '110', 'title': 'أخنوش يترأس اجتماعا للجنة الوطنية لمتابعة ملف التقاعد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409484.html', 'summary': 'أخنوش يترأس اجتماعا للجنة الوطنية لمتابعة ملف التقاعد. ترأس رئيس الحكومة عزيز أخنوش، يوم الخميس 17 يوليوز 2025 بالرباط، اجتماعا للجنة الوطنية لمتابعة ملف التقاعد، الذي ينعقد تبعا لخلاصات اجتماع دورة أبريل 2025', 'size': 2}, {'id': '121', 'title': 'لمتابعة ملف التقاعد.. أخنوش يترأس اجتماعا للجنة الوطنية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%84%d9%85%d8%aa%d8%a7%d8%a8%d8%b9%d8%a9-%d9%85%d9%84%d9%81-%d8%a7%d9%84%d8%aa%d9%82%d8%a7%d8%b9%d8%af-%d8%a3%d8%ae%d9%86%d9%88%d8%b4-%d9%8a%d8%aa%d8%b1%d8%a3%d8%b3-%d8%a7%d8%ac%d8%aa%d9%85%d8%a7/', 'summary': 'لمتابعة ملف التقاعد.. أخنوش يترأس اجتماعا للجنة الوطنية. ترأس رئيس الحكومة، عزيز أخنوش، اليوم الخميس (17 يوليوز) بالرباط، اجتماعا للجنة الوطنية لمتابعة ملف التقاعد، الذي ينعقد تبعا لخلاصات اجتماع دورة أبريل 2025 للجنة العليا للحوار الاجتماعي. وذكر بلاغ لرئاسة الحكومة أن هذا الاجتماع خصص لمناقشة الوضعية الحالية لأنظمة التقاعد، والاتفاق على آليات الاشتغال والمقاربة التي سيتم اعتمادها بشكل توافقي، من أجل وضع إطار', 'size': 2}], 'main_title': 'أخنوش يترأس اجتماعا للجنة الوطنية لمتابعة ملف التقاعد'}, {'community_id': '11', 'articles': [{'id': '120', 'title': 'فيلدا: لبؤات الأطلس مستعدات لمواجهة مالي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%81%d9%8a%d9%84%d8%af%d8%a7-%d9%84%d8%a8%d8%a4%d8%a7%d8%aa-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3-%d9%85%d8%b3%d8%aa%d8%b9%d8%af%d8%a7%d8%aa-%d9%84%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a9-%d9%85%d8%a7/', 'summary': 'فيلدا: لبؤات الأطلس مستعدات لمواجهة مالي. أكد خورخي فيلدا، مدرب المنتخب الوطني النسوي، جاهزية لبؤات الأطلس لمواجهة منتخب مالي، لحساب ربع نهائي كأس أمم إفريقيا للسيدات، المقررة مساء الجمعة على أرضية المجمع الرياضي الأمير مولاي عبد الله بالرباط. وأوضح فيلدا، خلال ندوة صحفية عقدها يوم الخميس، أن المباراة تحمل طابعًا حاسمًا، مما يفرض ضغطًا إضافيًا، لكنه عبّر عن ثقته في تركيز', 'size': 3}, {'id': '176', 'title': 'فيلدا : لبؤات الأطلس عازمات على الفوز على مالي وحسم التأهل لنصف نهائي كأس أفريقيا', 'source': 'rue20.com', 'link': 'https://rue20.com/921392.html', 'summary': 'فيلدا : لبؤات الأطلس عازمات على الفوز على مالي وحسم التأهل لنصف نهائي كأس أفريقيا. . الرباط أكد مدرب المنتخب الوطني النسوي لكرة القدم، خورخي فيلدا، اليوم الخميس، أن لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات (المغرب-2024)، عندما يواجهن منتخب مالي، مساء غد الجمعة بالرباط. وقال فيلدا، خلال الندوة الصحفية التي عقدها بقاعة الندوات بالملعب الأولمبي، عشية المباراة المرتقبة ضمن ربع نهائي الخبر فيلدا : لبؤات الأطلس عازمات على الفوز على مالي وحسم التأهل لنصف نهائي كأس أفريقيا  .', 'size': 3}, {'id': '234', 'title': 'فيلدا: لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%81%d9%8a%d9%84%d8%af%d8%a7-%d9%84%d8%a8%d8%a4%d8%a7%d8%aa-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3-%d8%b9%d8%a7%d8%b2%d9%85%d8%a7%d8%aa-%d8%b9%d9%84%d9%89-%d8%ad%d8%b3%d9%85-%d8%a8%d8%b7%d8%a7%d9%82/', 'summary': 'فيلدا: لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات. أكد مدرب المنتخب الوطني النسوي لكرة القدم، خورخي فيلدا، اليوم الخميس، أن لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات (المغرب-2024)، عندما يواجهن منتخب مالي، مساء غد الجمعة بالرباط. وقال فيلدا، خلال الندوة الصحفية التي عقدها بقاعة الندوات بالملعب الأولمبي، عشية المباراة المرتقبة ضمن ربع نهائي الكأس، …  فيلدا: لبؤات الأطلس عازمات على حسم بطاقة التأهل إلى نصف نهائي كأس أمم إفريقيا للسيدات     .', 'size': 3}], 'main_title': 'فيلدا: لبؤات الأطلس مستعدات لمواجهة مالي'}, {'community_id': '15', 'articles': [{'id': '137', 'title': 'طنجة.. توقيف فرنسي مبحوث عنه دوليا بتهمة تهريب الكوكايين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/318591/', 'summary': 'طنجة.. توقيف فرنسي مبحوث عنه دوليا بتهمة تهريب الكوكايين. تمكنت عناصر الشرطة بولاية أمن طنجة، زوال اليوم الخميس 17 يوليوز الجاري، من توقيف مواطن فرنسي يبلغ من العمر 25 سنة، وذلك لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية الفرنسية. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أوضحت عملية تنقيطه في قاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 2}, {'id': '217', 'title': 'توقيف فرنسي مطلوب دوليا ضمن شبكة إجرامية للاتجار في الهيروين والكوكايين والحشيش', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224836/', 'summary': 'توقيف فرنسي مطلوب دوليا ضمن شبكة إجرامية للاتجار في الهيروين والكوكايين والحشيش. تمكنت عناصر الشرطة بولاية أمن طنجة، زوال اليوم الخميس 17 يوليوز الجاري، من توقيف مواطن فرنسي يبلغ من العمر 25 سنة، وذلك لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية الفرنسية. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أوضحت عملية تنقيطه في قاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 2}], 'main_title': 'طنجة.. توقيف فرنسي مبحوث عنه دوليا بتهمة تهريب الكوكايين'}, {'community_id': '13', 'articles': [{'id': '141', 'title': 'مرحبا 2025″ تنطلق بقوة.. أزيد من 1.5 مليون مغربي عبروا نحو الوطن خلال أسبوعين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/318579/', 'summary': 'مرحبا 2025″ تنطلق بقوة.. أزيد من 1.5 مليون مغربي عبروا نحو الوطن خلال أسبوعين. أفاد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج، وذلك بارتفاع بلغ 13,30 في المائة مقارنة مع نفس الفترة من السنة الماضية. وأضاف بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية عبور', 'size': 3}, {'id': '186', 'title': 'عملية “مرحبا”.. دخول أزيد من مليون و500 ألف من مغاربة العالم إلى غاية 10 يوليوز', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469854.html', 'summary': 'عملية “مرحبا”.. دخول أزيد من مليون و500 ألف من مغاربة العالم إلى غاية 10 يوليوز. و.م.ع أفاد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج، وذلك بارتفاع بلغ 13,30 في المائة مقارنة مع نفس الفترة من السنة الماضية. وأضاف بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية …', 'size': 3}, {'id': '237', 'title': 'بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d9%88%d8%b1%d9%8a%d8%b7%d8%a9-%d8%af%d8%ae%d9%88%d9%84-%d8%a3%d8%b2%d9%8a%d8%af-%d9%85%d9%86-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d9%88500-%d8%a3%d9%84%d9%81-%d9%85%d9%86-%d8%a3%d9%81%d8%b1%d8%a7/', 'summary': 'بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري. أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الخميس، بأنه تم، إلى غاية 10 يوليوز الجاري، تسجيل دخول 1.520.951 فردا من الجالية المغربية بالخارج. وأوضح ناصر بوريطة، خلال عرض قدمه أمام مجلس الحكومة حول المعطيات والتدابير المتعلقة بعملية عبور “مرحبا 2025″، أن تم تسجيل ارتفاع بلغ 13,30 في المائة …  بوريطة: دخول أزيد من مليون و500 ألف من أفراد الجالية المغربية بالخارج إلى غاية 10 يوليوز الجاري     .', 'size': 3}], 'main_title': 'مرحبا 2025″ تنطلق بقوة.. أزيد من 1.5 مليون مغربي عبروا نحو الوطن خلال أسبوعين'}, {'community_id': '10', 'articles': [{'id': '173', 'title': 'ولد الرشيد يستقبل الرئيس الجنوب إفريقي السابق جاكوب زوما ويشيد بدعمه لمغربية الصحراء', 'source': 'rue20.com', 'link': 'https://rue20.com/921376.html', 'summary': 'ولد الرشيد يستقبل الرئيس الجنوب إفريقي السابق جاكوب زوما ويشيد بدعمه لمغربية الصحراء.  الرباط استقبل رئيس مجلس المستشارين، محمد ولد الرشيد، يوم الخميس 17 يوليوز 2025 بمقر المجلس، الرئيس السابق لجمهورية جنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي” (رمح الأمة)، جاكوب زوما، الذي يقوم بزيارة رسمية للمملكة المغربية على رأس وفد رفيع المستوى. وحسب بلاغ للمجلس جرت هذه المباحثات بحضور أعضاء مكتب المجلس ورؤساء الفرق واللجن البرلمانية الخبر ولد الرشيد يستقبل الرئيس الجنوب إفريقي السابق جاكوب زوما ويشيد بدعمه لمغربية الصحراء  .', 'size': 2}, {'id': '365', 'title': 'زوما من مجلس المستشارين: ندعم الحكم الذاتي واحترام الوحدة الترابية للمغرب', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b2%d9%88%d9%85%d8%a7-%d9%85%d9%86-%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d9%85%d8%b3%d8%aa%d8%b4%d8%a7%d8%b1%d9%8a%d9%86-%d9%86%d8%af%d8%b9%d9%85-%d8%a7%d9%84%d8%ad%d9%83%d9%85-%d8%a7%d9%84%d8%b0/', 'summary': 'زوما من مجلس المستشارين: ندعم الحكم الذاتي واحترام الوحدة الترابية للمغرب. استقبل محمد ولد الرشيد، رئيس مجلس المستشارين، أمس الخميس، الرئيس السابق لجمهورية جنوب إفريقيا وزعيم حزب "أومكونتو وي سيزوي" رمح الأمة"، جاكوب زوما، الذي يقوم بزيارة رسمية إلى المملكة المغربية على رأس وفد رفيع المستوى. وعرف اللقاء، الذي احتضنه مقر الغرفة الثانية وحضره أعضاء مكتب المجلس ورؤساء الفرق واللجان البرلمانية، إشادة خاصة بالمواقف الواضحة والصريحة  زوما من مجلس المستشارين: ندعم الحكم الذاتي واحترام الوحدة الترابية للمغرب     .', 'size': 2}], 'main_title': 'ولد الرشيد يستقبل الرئيس الجنوب إفريقي السابق جاكوب زوما ويشيد بدعمه لمغربية الصحراء'}, {'community_id': '12', 'articles': [{'id': '182', 'title': 'رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469858.html', 'summary': 'رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا. استقبل رئيس مجلس النواب، راشيد الطالبي العلمي، اليوم الخميس بالرباط، جاكوب زوما، الرئيس السابق لجمهورية جنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي” (رمح الأمة) والوفد المرافق له، الذي يقوم بزيارة للمملكة المغربية. وذكر بلاغ لمجلس النواب أنه تمت خلال هذا اللقاء، الذي حضره رؤساء الفرق والمجموعة النيابية بمجلس النواب، الإشادة بالموقف الصريح الذي عبر عنه …', 'size': 2}, {'id': '221', 'title': 'دعم الوحدة الترابية للمغرب: رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%af%d8%b9%d9%85-%d8%a7%d9%84%d9%88%d8%ad%d8%af%d8%a9-%d8%a7%d9%84%d8%aa%d8%b1%d8%a7%d8%a8%d9%8a%d8%a9-%d9%84%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%b1%d8%a6%d9%8a%d8%b3-%d9%85%d8%ac%d9%84%d8%b3-%d8%a7/', 'summary': 'دعم الوحدة الترابية للمغرب: رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا. المساء اليوم – الرباط: استقبل رئيس مجلس النواب، راشيد الطالبي العلمي، اليوم الخميس بالرباط، جاكوب زوما، الرئيس السابق لجمهورية جنوب إفريقيا وزعيم حزب “أومكونتو وي سيزوي” (رمح الأمة) والوفد المرافق له، الذي يقوم بزيارة للمملكة', 'size': 2}], 'main_title': 'رئيس مجلس النواب يستقبل الرئيس السابق لجنوب إفريقيا'}, {'community_id': '2', 'articles': [{'id': '231', 'title': 'رئيس الفيفا ينعي بأسى وفاة أسطورة الكرة المغربية الراحل أحمد فرس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d9%81%d9%8a%d9%81%d8%a7-%d9%8a%d9%86%d8%b9%d9%8a-%d8%a8%d8%a3%d8%b3%d9%89-%d9%88%d9%81%d8%a7%d8%a9-%d8%a3%d8%b3%d8%b7%d9%88%d8%b1%d8%a9-%d8%a7%d9%84%d9%83%d8%b1/', 'summary': 'رئيس الفيفا ينعي بأسى وفاة أسطورة الكرة المغربية الراحل أحمد فرس. نعى جياني إنفانتينو، رئيس الاتحاد الدولي لكرة القدم، وفاة أحمد فرس، أسطورة الكرة المغربية، الذي وافته المنية يوم أمس الأربعاء. وقال إنفانتينو، في منشور على حسابه على “إنستغرام” يومه الخميس، “ببالغ الحزن والأسى تلقيتُ نبأ وفاة اللاعب المغربي أحمد فراس، الهداف التاريخي لمنتخب بلاده، وأفضل هداف في تاريخ منتخبه، حصل على لقب أفضل لاعب …  رئيس الفيفا ينعي بأسى وفاة أسطورة الكرة المغربية الراحل أحمد فرس     .', 'size': 2}, {'id': '324', 'title': 'إنفانتينو ينعي أسطورة الكرة المغربية أحمد فرس: كان رمزا للمنتخب الوطني وإفريقيا', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a5%d9%86%d9%81%d8%a7%d9%86%d8%aa%d9%8a%d9%86%d9%88-%d9%8a%d9%86%d8%b9%d9%8a-%d8%a3%d8%b3%d8%b7%d9%88%d8%b1%d8%a9-%d8%a7%d9%84%d9%83%d8%b1%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a%d8%a9/', 'summary': 'إنفانتينو ينعي أسطورة الكرة المغربية أحمد فرس: كان رمزا للمنتخب الوطني وإفريقيا. عبّر جياني إنفانتينو، رئيس الاتحاد الدولي لكرة القدم (فيفا)، عن حزنه العميق إثر وفاة أسطورة الكرة المغربية أحمد فرس. ونشر إنفانتينو تدوينة مؤثرة على حسابه الرسمي عبر “إنستغرام”، أشاد فيها بمسيرة اللاعب وأخلاقه، وقدم تعازيه لأسرة الراحل ولعائلة كرة القدم المغربية والأفريقية. وقال إنفانتينو: “لقد بلغني ببالغ الحزن نبأ وفاة اللاعب المغربي أحمد فرس. الهداف', 'size': 2}], 'main_title': 'رئيس الفيفا ينعي بأسى وفاة أسطورة الكرة المغربية الراحل أحمد فرس'}, {'community_id': '6', 'articles': [{'id': '296', 'title': 'البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل” لتسهيل رقمنة وسائل الدفع', 'source': 'www.alakhbar.press.ma', 'link': 'https://www.alakhbar.press.ma/%d8%a7%d9%84%d8%a8%d8%b1%d9%8a%d8%af-%d8%a8%d9%86%d9%83-%d9%88%d8%a8%d8%b1%d9%8a%d8%af-%d9%83%d8%a7%d8%b4-%d9%8a%d8%b7%d9%84%d9%82%d8%a7%d9%86-%d8%a8%d8%b1%d9%8a%d8%af-%d8%a8%d8%a7%d9%8a%d9%85%d9%86-269331.html', 'summary': 'البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل” لتسهيل رقمنة وسائل الدفع. أطلقت البريد بنك وبريد كاش رسميا الحل التكنولوجي الجديد “بريد بايمنت موبيل”، ليصبحا بذلك أول مجموعة بنكية تقدم هذا الابتكار في المغرب، إذ يحول الهاتف الذكي إلى جهاز دفع إلكتروني آمن دون الحاجة إلى أي معدات إضافية. ويهدف هذا الحل إلى تسهيل قبول الأداءات الإلكترونية بواسطة البطاقات البنكية لدى التجار، خاصة الصغار منهم والحرفيين، …  البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل” لتسهيل رقمنة وسائل الدفع     .', 'size': 2}, {'id': '327', 'title': 'البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل”', 'source': 'assabah.ma', 'link': 'https://assabah.ma/860219.html', 'summary': 'البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل”. أطلقت البريد بنك وبريد كاش رسميا الحل التكنولوجي الجديد “بريد بايمنت موبيل”، ليصبحا بذلك أول مجموعة بنكية تقدم هذا الابتكار في المغرب، إذ يحول الهاتف الذكي إلى جهاز دفع إلكتروني آمن دون الحاجة إلى أي معدات إضافية. ويهدف هذا الحل إلى تسهيل قبول الأداءات الإلكترونية بواسطة البطاقاتأكمل القراءة » المقالة البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل”  .', 'size': 2}], 'main_title': 'البريد بنك وبريد كاش يطلقان “بريد بايمنت موبيل” لتسهيل رقمنة وسائل الدفع'}, {'community_id': '7', 'articles': [{'id': '334', 'title': '254 اعتداء من مختلين', 'source': 'assabah.ma', 'link': 'https://assabah.ma/859952.html', 'summary': '254 اعتداء من مختلين. كشف عبد الوافي لفتيت، وزير الداخلية، أن مرتكب جريمة قتل بواسطة حجر بتارودانت، سبق للسلطات المحلية إحالته على مصالح الأمراض العقلية بالمركز الاستشفائي الإقليمي المختار السوسي، في ماي الماضي. وأوضح وزير الداخلية في معرض جوابه عن سؤال كتابي للنائبة البرلمانية خديجة أورهال عن فريق التقدم والاشتراكية، التيأكمل القراءة » المقالة 254 اعتداء من مختلين  .', 'size': 2}, {'id': '363', 'title': 'جرائم المختلين عقليا.. لفتيت: تسجيل 475 قضية وتوقيف 435 في 2024', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%ac%d8%b1%d8%a7%d8%a6%d9%85-%d8%a7%d9%84%d9%85%d8%ae%d8%aa%d9%84%d9%8a%d9%86-%d8%b9%d9%82%d9%84%d9%8a%d8%a7-%d9%84%d9%81%d8%aa%d9%8a%d8%aa-%d8%aa%d8%b3%d8%ac%d9%8a%d9%84-475-%d9%82%d8%b6%d9%8a/', 'summary': 'جرائم المختلين عقليا.. لفتيت: تسجيل 475 قضية وتوقيف 435 في 2024. بلغ عدد القضايا المسجلة من طرف مصالح الأمن الوطني خلال سنة 2024، والمرتبطة بأفعال إجرامية ارتكبها مختلون عقليون في الفضاء العام، 475 قضية، تم بموجبها إيقاف 435 شخصا، بحسب ما أفاد به وزير الداخلية، عبد الوافي لفتيت. وأوضح الوزير، في جوابه عن سؤال كتابي بمجلس النواب وجهته إليه النائبة خديجة أورهال، عضو فريق التقدم والاشتراكية،  جرائم المختلين عقليا.. لفتيت: تسجيل 475 قضية وتوقيف 435 في 2024     .', 'size': 2}], 'main_title': '254 اعتداء من مختلين'}, {'community_id': '14', 'articles': [{'id': '344', 'title': 'توقعات طقس اليوم الجمعة بالبلاد', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/318613/', 'summary': 'توقعات طقس اليوم الجمعة بالبلاد. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لبيوم الجمعة، أن يستمر الطقس الحار بكل من سهول تادلة، وداخل منطقة سوس، والجنوب الشرقي للبلاد و كذا بداخل الأقاليم الصحراوية للمملكة. كما يرتقب تشكل ضباب محلي فوق السواحل الشمالية، فضلا عن نزول قطرات مطرية مصحوبة برعد فوق أقصى جنوب المملكة. وسيلاحظ تسجيل هبات رياح قوية نوعا ما بكل', 'size': 2}, {'id': '401', 'title': 'طقس الجمعة.. حار مصحوب بقطرات مطرية في بعض المناطق', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224857/', 'summary': 'طقس الجمعة.. حار مصحوب بقطرات مطرية في بعض المناطق. كواليس اليوم تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الجمعة، أن يستمر الطقس الحار بكل من سهول تادلة، وداخل منطقة سوس، والجنوب الشرقي للبلاد و كذا بداخل الأقاليم الصحراوية للمملكة. كما يرتقب تشكل ضباب محلي فوق السواحل الشمالية، فضلا عن نزول قطرات مطرية مصحوبة برعد فوق أقصى جنوب المملكة. وسيلاحظ تسجيل هبات رياح قوية', 'size': 2}], 'main_title': 'توقعات طقس اليوم الجمعة بالبلاد'}, {'community_id': '9', 'articles': [{'id': '379', 'title': 'رئيس مجلس الشيوخ الكولومبي.. المشاريع الكبرى المنجزة تحت قيادة الملك غيرت بعمق صورة المغرب إقليميا ودوليا', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469921.html', 'summary': 'رئيس مجلس الشيوخ الكولومبي.. المشاريع الكبرى المنجزة تحت قيادة الملك غيرت بعمق صورة المغرب إقليميا ودوليا. أكد رئيس مجلس الشيوخ الكولومبي، إيفراين سيبيدا، أن المشاريع الكبرى للبنى التحتية المنجزة، تحت قيادة الملك محمد السادس، خلال العقدين الأخيريين، أحدثت تحولا عميقا في صورة المغرب، إن على الصعيد الإقليمي أو الدولي.', 'size': 2}, {'id': '400', 'title': 'المشاريع الكبرى المنجزة تحت قيادة جلالة الملك غيرت بعمق صورة المغرب إقليميا ودوليا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224860/', 'summary': 'المشاريع الكبرى المنجزة تحت قيادة جلالة الملك غيرت بعمق صورة المغرب إقليميا ودوليا. و م ع أكد رئيس مجلس الشيوخ الكولومبي، إيفراين سيبيدا، أن المشاريع الكبرى للبنى التحتية المنجزة، تحت قيادة صاحب الجلالة الملك محمد السادس، خلال العقدين الأخيريين، أحدثت تحولا عميقا في صورة المغرب، إن على الصعيد الإقليمي أو الدولي. وقال سيبيدا الذي قام مؤخرا بزيارة للمغرب، في تصريح لوكالة المغرب العربي للأنباء، بمناسبة الاحتفال بعيد', 'size': 2}], 'main_title': 'رئيس مجلس الشيوخ الكولومبي.. المشاريع الكبرى المنجزة تحت قيادة الملك غيرت بعمق صورة المغرب إقليميا ودوليا'}, {'community_id': '8', 'articles': [{'id': '386', 'title': '6 حكام مغاربة ضمن الطاقم التحكيمي المعتمد لبطولة إفريقيا للمحليين 2024', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/469869.html', 'summary': '6 حكام مغاربة ضمن الطاقم التحكيمي المعتمد لبطولة إفريقيا للمحليين 2024. أعلن الاتحاد الإفريقي لكرة القدم “كاف” عن قائمة الحكام المعينين لإدارة مباريات بطولة أمم إفريقيا للمحليين (شان) – 2024، والمقرر إقامتها في الفترة الممتدة ما بين 2 إلى 30 غشت المقبل في كينيا، تنزانيا وأوغندا. وضمت القائمة ست حكام مغاربة، وفق ما كشف عته الـ”كاف”، في بيان نشره على موقعه الرسمي. ويتعلق الأمر، بضيف المصدر، …', 'size': 2}, {'id': '404', 'title': 'تعيين 6 حكام مغاربة لإدارة مباريات كأس إفريقيا للمحليين', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%aa%d8%b9%d9%8a%d9%8a%d9%86-6-%d8%ad%d9%83%d8%a7%d9%85-%d9%85%d8%ba%d8%a7%d8%b1%d8%a8%d8%a9-%d9%84%d8%a5%d8%af%d8%a7%d8%b1%d8%a9-%d9%85%d8%a8%d8%a7%d8%b1%d9%8a%d8%a7%d8%aa-%d9%83%d8%a3%d8%b3-%d8%a5/', 'summary': 'تعيين 6 حكام مغاربة لإدارة مباريات كأس إفريقيا للمحليين. المساء اليوم: أعلن الاتحاد الإفريقي لكرة القدم (كاف)، عن قائمة الحكام المعينين لإدارة مباريات بطولة أمم إفريقيا للمحليين (شان) –2024، والمقرر إقامتها في الفترة الممتدة ما بين 2 إلى 30 غشت المقبل في كينيا، تنزانيا وأوغندا،', 'size': 2}], 'main_title': '6 حكام مغاربة ضمن الطاقم التحكيمي المعتمد لبطولة إفريقيا للمحليين 2024'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
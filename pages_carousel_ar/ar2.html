<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 10/09/2025 - 06h15</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '4', 'title': 'نتنياهو يبرر ضرب قطر بهجوم القدس', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%86%d8%aa%d8%a7%d9%86%d9%8a%d8%a7%d9%87%d9%88-%d9%87%d8%ac%d9%88%d9%85-%d8%a7%d9%84%d9%82%d8%af%d8%b3-%d9%88%d8%b1%d8%a7%d8%a1-%d8%a7%d9%84%d8%b6%d8%b1%d8%a8%d8%a9-1621400.html', 'summary': 'نتنياهو يبرر ضرب قطر بهجوم القدس. قال رئيس الوزراء الإسرائيلي بنيامين نتانياهو إنه أمر بتنفيذ الغارات التي استهدفت قادة حركة حماس في الدوحة الثلاثاء، وذلك في أعقاب عملية إطلاق النار الدامية التي شهدتها القدس الإثنين وتبنتها الحركة الإسلامية. وجاء في بيان مشترك صادر عن نتانياهو ووزير الدفاع الإسرائيلي يسرائيل كاتس “أمس، وبعد الهجمات الدامية في القدس وغزة، وجّه رئيس الوزراء نتانياهو  نتنياهو يبرر ضرب قطر بهجوم القدس     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '136', 'title': 'نتانياهو: الغارة بالدوحة رد على هجوم القدس أمس', 'source': 'assabah.ma', 'link': 'https://assabah.ma/870089.html', 'summary': 'نتانياهو: الغارة بالدوحة رد على هجوم القدس أمس. قال رئيس الوزراء الإسرائيلي بنيامين نتانياهو إنه أمر بتنفيذ الغارات التي استهدفت قادة حركة حماس في الدوحة، الثلاثاء، وذلك في أعقاب عملية إطلاق النار الدامية التي شهدتها القدس الإثنين، وتبنتها الحركة الإسلامية. وجاء في بيان مشترك صادر عن نتانياهو ووزير الدفاع الإسرائيلي يسرائيل كاتس، “أمس، وبعد الهجماتأكمل القراءة » المقالة نتانياهو: الغارة بالدوحة رد على هجوم القدس أمس  .', 'size': 2}], 'main_title': 'نتنياهو يبرر ضرب قطر بهجوم القدس'}, {'community_id': '7', 'articles': [{'id': '66', 'title': 'المغرب يعرب عن إدانته لإنتهاك سيادة دولة قطر الشقيقة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205958', 'summary': 'المغرب يعرب عن إدانته لإنتهاك سيادة دولة قطر الشقيقة.  أعربت المملكة المغربية عن إدانتها القوية للاعتداء الإسرائيلي السافر واستنكارها الشديد لانتهاك سيادة دولة قطر الشقيقة. وذكر بلاغ لوزارة الشؤون الخارجية والتعاون الافريقي والمغاربة المقيمين بالخارج أن المملكة المغربية تؤكد تضامنها التام مع دولة قطر إزاء كل ما من شأنه أن يمس أمنها وسلامة أراضيها وطمأنينة مواطنيها والمقيمين بها.', 'size': 5}, {'id': '131', 'title': 'بعد الاعتداء الإسرائيلي “السافر”.. المملكة المغربية تدين وتعرب عن استنكارها الشديد لانتهاك سيادة قطر', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%b9%d8%af-%d8%a7%d9%84%d8%a7%d8%b9%d8%aa%d8%af%d8%a7%d8%a1-%d8%a7%d9%84%d8%a5%d8%b3%d8%b1%d8%a7%d8%a6%d9%8a%d9%84%d9%8a-%d8%a7%d9%84%d8%b3%d8%a7%d9%81%d8%b1-%d8%a7%d9%84%d9%85%d9%85/', 'summary': 'بعد الاعتداء الإسرائيلي “السافر”.. المملكة المغربية تدين وتعرب عن استنكارها الشديد لانتهاك سيادة قطر. أعربت المملكة المغربية عن إدانتها القوية للاعتداء الإسرائيلي السافر واستنكارها الشديد لانتهاك سيادة دولة قطر الشقيقة. وذكر بلاغ لوزارة الشؤون الخارجية والتعاون الافريقي والمغاربة المقيمين بالخارج أن المملكة المغربية تؤكد تضامنها التام مع دولة قطر إزاء كل ما من شأنه أن يمس أمنها وسلامة أراضيها وطمأنينة مواطنيها والمقيمين بها.', 'size': 5}, {'id': '144', 'title': 'المغرب يدين الاعتداء الإسرائيلي ويؤكد تضامنه المطلق مع قطر', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322924/', 'summary': 'المغرب يدين الاعتداء الإسرائيلي ويؤكد تضامنه المطلق مع قطر. أعربت المملكة المغربية عن إدانتها القوية للاعتداء الإسرائيلي السافر واستنكارها الشديد لانتهاك سيادة دولة قطر الشقيقة. وذكر بلاغ لوزارة الشؤون الخارجية والتعاون الافريقي والمغاربة المقيمين بالخارج أن المملكة المغربية تؤكد تضامنها التام مع دولة قطر إزاء كل ما من شأنه أن يمس أمنها وسلامة أراضيها وطمأنينة مواطنيها والمقيمين بها.', 'size': 5}, {'id': '175', 'title': 'المغرب يدين القصف الإسرائيلي على مقر لحركة حماس في قطر', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/285013-2/', 'summary': 'المغرب يدين القصف الإسرائيلي على مقر لحركة حماس في قطر. أعرب المغرب عن إدانته القوية للاعتداء الإسرائيلي السافر واستنكاره الشديد لانتهاك سيادة دولة قطر الشقيقة.وذكر بلاغ لوزارة الشؤون الخارجية والتعاون الافريقي والمغاربة المقيمين بالخارج أن المملكة المغربية تؤكد تضامنها التام مع دولة قطر إزاء كل ما من شأنه أن يمس أمنها وسلامة أراضيها وطمأنينة مواطنيها والمقيمين بها.  المغرب يدين القصف الإسرائيلي على مقر لحركة حماس في قطر     .', 'size': 6}, {'id': '191', 'title': 'المغرب يدين بقوة الإعتداء الإسرائيلي على سيادة قطر', 'source': 'rue20.com', 'link': 'https://rue20.com/934873.html', 'summary': 'المغرب يدين بقوة الإعتداء الإسرائيلي على سيادة قطر.  | الرباط أعربت المملكة المغربية عن إدانتها القوية للاعتداء الإسرائيلي السافر واستنكارها الشديد لانتهاك سيادة دولة قطر الشقيقة. وذكر بلاغ لوزارة الشؤون الخارجية والتعاون الافريقي والمغاربة المقيمين بالخارج أن المملكة المغربية تؤكد تضامنها التام مع دولة قطر إزاء كل ما من شأنه أن يمس أمنها وسلامة أراضيها وطمأنينة مواطنيها والمقيمين بها. الخبر المغرب يدين بقوة الإعتداء الإسرائيلي على سيادة قطر  .', 'size': 5}, {'id': '214', 'title': 'المغرب يدخل على خط قصف الاحتلال لقيادة حماس بالدوحة', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%af%d8%ae%d9%84-%d8%b9%d9%84%d9%89-%d8%ae%d8%b7-%d9%82%d8%b5%d9%81-%d8%a7%d9%84%d8%a7%d8%ad%d8%aa%d9%84%d8%a7%d9%84-%d9%84%d9%82%d9%8a%d8%a7%d8%af%d8%a9/', 'summary': 'المغرب يدخل على خط قصف الاحتلال لقيادة حماس بالدوحة. -متابعات أعربت المملكة المغربية عن إدانتها القوية للاعتداء الإسرائيلي السافر على العاصمة القطرية الدوحة، مستنكرة بشدة انتهاك سيادة دولة قطر الشقيقة. وذكر بلاغ لوزارة الشؤون الخارجية والتعاون الافريقي والمغاربة...  المغرب يدخل على خط قصف الاحتلال لقيادة حماس بالدوحة     .', 'size': 2}], 'main_title': 'المغرب يدين القصف الإسرائيلي على مقر لحركة حماس في قطر'}, {'community_id': '8', 'articles': [{'id': '122', 'title': 'تصعيد خطير.. الجيش الإسرائيلي يعلن استهداف قيادات بارزة في "حماس" بقلب العاصمة القطرية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/world/412450.html', 'summary': 'تصعيد خطير.. الجيش الإسرائيلي يعلن استهداف قيادات بارزة في "حماس" بقلب العاصمة القطرية. أعلن المتحدث باسم الجيش الإسرائيلي، أفيخاي أدرعي، عن تنفيذ غارة جوية دقيقة استهدفت قيادات بارزة في حركة "حماس" بالعاصمة القطرية الدوحة، ووصفهم بأنهم قادة مسؤولون', 'size': 2}, {'id': '169', 'title': 'انفجار يهز الدوحة.. إسرائيل تعلن استهداف قادة حماس خلال اجتماع لمناقشة مقترح ترمب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1098326.html', 'summary': 'انفجار يهز الدوحة.. إسرائيل تعلن استهداف قادة حماس خلال اجتماع لمناقشة مقترح ترمب. أعلن المتحدث باسم جيش الاحتلال الإسرائيلي، أفيخاي أدرعي ظهرت المقالة انفجار يهز الدوحة.. إسرائيل تعلن استهداف قادة حماس خلال اجتماع لمناقشة مقترح ترمب  .', 'size': 2}], 'main_title': 'تصعيد خطير.. الجيش الإسرائيلي يعلن استهداف قيادات بارزة في "حماس" بقلب العاصمة القطرية'}, {'community_id': '5', 'articles': [{'id': '137', 'title': 'قطر تدين استهداف قادة حماس بالدوحة', 'source': 'assabah.ma', 'link': 'https://assabah.ma/870080.html', 'summary': 'قطر تدين استهداف قادة حماس بالدوحة. أدانت قطر بأشد العبارات الهجوم الإسرائيلي الذي وصفته بـ”الجبان” والذي استهدف مقرات سكنية يقيم فيها عدد من أعضاء المكتب السياسي لحركة حماس في العاصمة القطرية الدوحة. وقال المتحدث باسم وزارة الخارجية القطرية ماجد الأنصاري، في بيان إن “هذا الاعتداء الإجرامي يشكل انتهاكا صارخا لكافة القوانين والأعراف الدولية،أكمل القراءة » المقالة قطر تدين استهداف قادة حماس بالدوحة  .', 'size': 2}, {'id': '249', 'title': 'قطر: الهجوم الإسرائيلي على الدوحة يشكل تهديدًا لأمن وسلامة البلاد', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%82%d8%b7%d8%b1-%d8%a7%d9%84%d9%87%d8%ac%d9%88%d9%85-%d8%a7%d9%84%d8%a5%d8%b3%d8%b1%d8%a7%d8%a6%d9%8a%d9%84%d9%8a-%d8%b9%d9%84%d9%89-%d8%a7%d9%84%d8%af%d9%88%d8%ad%d8%a9-%d9%8a%d8%b4%d9%83%d9%84/', 'summary': 'قطر: الهجوم الإسرائيلي على الدوحة يشكل تهديدًا لأمن وسلامة البلاد. أعربت دولة قطر، اليوم الثلاثاء 09 ستنبر 2025 عن إدانتها الشديدة للهجوم الإسرائيلي، الذي وصفته بـ”الجبان”، والذي استهدف مقرات سكنية في الدوحة يقيم بها عدد من أعضاء المكتب السياسي لحركة حماس. وفي هذا السياق، قال المتحدث باسم وزارة الخارجية القطرية ماجد الأنصاري، في بيان إن “هذا الاعتداء الإجرامي يشكل انتهاكا صارخا لكافة القوانين والأعراف …  قطر: الهجوم الإسرائيلي على الدوحة يشكل تهديدًا لأمن وسلامة البلاد     .', 'size': 2}], 'main_title': 'قطر تدين استهداف قادة حماس بالدوحة'}, {'community_id': '1', 'articles': [{'id': '138', 'title': 'جلالة الملك يهنئ رئيس طاجيكستان بمناسبة العيد الوطني لبلاده', 'source': 'assabah.ma', 'link': 'https://assabah.ma/869971.html', 'summary': 'جلالة الملك يهنئ رئيس طاجيكستان بمناسبة العيد الوطني لبلاده. بعث صاحب الجلالة الملك محمد السادس برقية تهنئة إلى رئيس جمهورية طاجيكستان، إمام علي رحمان، وذلك بمناسبة العيد الوطني لبلاده. وأعرب جلالة الملك، في هذه البرقية، عن أحر التهاني، وأصدق المتمنيات بوافر الصحة والهناء للرئيس إمام علي رحمان، ولشعب طاجيكستان الشقيق بتحقيق تطلعاته إلى المزيد من التقدمأكمل القراءة » المقالة جلالة الملك يهنئ رئيس طاجيكستان بمناسبة العيد الوطني لبلاده  .', 'size': 2}, {'id': '252', 'title': 'الملك محمد السادس يهنئ رئيس جمهورية طاجيكستان بمناسبة العيد الوطني لبلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d9%87%d9%86%d8%a6-%d8%b1%d8%a6%d9%8a%d8%b3-%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%b7%d8%a7-2/', 'summary': 'الملك محمد السادس يهنئ رئيس جمهورية طاجيكستان بمناسبة العيد الوطني لبلاده. بعث الملك محمد السادس برقية تهنئة إلى رئيس جمهورية طاجيكستان، إمام علي رحمان، وذلك بمناسبة العيد الوطني لبلاده. وأعرب الملك محمد السادس، في هذه البرقية، عن أحر التهاني، وأصدق المتمنيات بوافر الصحة والهناء للرئيس إمام علي رحمان، ولشعب طاجيكستان الشقيق بتحقيق تطلعاته إلى المزيد من التقدم والازدهار. ومما جاء في برقية الملك محمد …  الملك محمد السادس يهنئ رئيس جمهورية طاجيكستان بمناسبة العيد الوطني لبلاده     .', 'size': 2}], 'main_title': 'جلالة الملك يهنئ رئيس طاجيكستان بمناسبة العيد الوطني لبلاده'}, {'community_id': '10', 'articles': [{'id': '189', 'title': 'جامعة محمد السادس التقنية تفتتح فرعاً بنيويورك', 'source': 'rue20.com', 'link': 'https://rue20.com/934840.html', 'summary': 'جامعة محمد السادس التقنية تفتتح فرعاً بنيويورك.  ا الرباط افتتحت جامعة محمد السادس متعددة التخصصات التقنية، مساء أمس الاثنين بنيويورك، فرعا جديدا بالوﻻيات المتحدة اﻷمريكية، يروم تعزيز ربط الكفاءات ومنظومات البحث العلمي اﻹفريقية بالشبكات اﻷكاديمية ورواد اﻷعمال والفاعلين الصناعيين عبر العالم. ويندرج هذا الفرع الجديد، الذي يضم مكاتب في نيويورك وكامبريدج، في إطار مقاربة تهدف إﱃ استفادة طموحات التنمية المستدامة الخبر جامعة محمد السادس التقنية تفتتح فرعاً بنيويورك  .', 'size': 2}, {'id': '237', 'title': 'جامعة محمد السادس متعددة التخصصات التقنية تفتتح فرعا بنيويورك', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%ac%d8%a7%d9%85%d8%b9%d8%a9-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%85%d8%aa%d8%b9%d8%af%d8%af%d8%a9-%d8%a7%d9%84%d8%aa%d8%ae%d8%b5%d8%b5%d8%a7%d8%aa-%d8%a7%d9%84%d8%aa-2/', 'summary': 'جامعة محمد السادس متعددة التخصصات التقنية تفتتح فرعا بنيويورك. المساء اليوم: افتتحت جامعة محمد السادس متعددة التخصصات التقنية، مساء أمس الاثنين بنيويورك، فرعا جديدا بالوﻻيات المتحدة اﻷمريكية. وقال بيان للجامعة إن هذا الافتتاح “يروم تعزيز ربط الكفاءات ومنظومات البحث العلمي اﻹفريقية بالشبكات اﻷكاديمية ورواد', 'size': 2}], 'main_title': 'جامعة محمد السادس التقنية تفتتح فرعاً بنيويورك'}, {'community_id': '4', 'articles': [{'id': '190', 'title': 'تنظيم الشرطة البيئية على طاولة مجلس الحكومة', 'source': 'rue20.com', 'link': 'https://rue20.com/934877.html', 'summary': 'تنظيم الشرطة البيئية على طاولة مجلس الحكومة.  | الرباط ينعقد، الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة. وذكر بلاغ لرئاسة الحكومة أن المجلس سيتدارس في بدايته ثلاثة مشاريع مراسيم، يتعلق الأول منها ببعض معدات رش منتجات حماية النباتات، والثاني بتغيير وتتميم المرسوم الصادر في شأن تنظيم وكيفيات سير الشرطة البيئية، فيما يتعلق الثالث بإعادة تنظيم المندوبية الوزارية المكلفة الخبر تنظيم الشرطة البيئية على طاولة مجلس الحكومة  .', 'size': 3}, {'id': '247', 'title': 'انعقاد مجلس الحكومة يوم الخميس المقبل', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%86%d8%b9%d9%82%d8%a7%d8%af-%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ae%d9%85%d9%8a%d8%b3-%d8%a7%d9%84%d9%85%d9%82%d8%a8%d9%84-22/', 'summary': 'انعقاد مجلس الحكومة يوم الخميس المقبل. ينعقد، الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة. وذكر بلاغ لرئاسة الحكومة أن المجلس سيتدارس في بدايته ثلاثة مشاريع مراسيم، يتعلق الأول منها ببعض معدات رش منتجات حماية النباتات، والثاني بتغيير وتتميم المرسوم الصادر في شأن تنظيم وكيفيات سير الشرطة البيئية، فيما يتعلق الثالث بإعادة تنظيم المندوبية الوزارية المكلفة بحقوق الإنسان …  انعقاد مجلس الحكومة يوم الخميس المقبل     .', 'size': 3}, {'id': '356', 'title': 'الحكومة تتجه نحو تعزيز التعاون العسكري مع الكاميرون وإصلاح المنظومة الحقوقية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322934/', 'summary': 'الحكومة تتجه نحو تعزيز التعاون العسكري مع الكاميرون وإصلاح المنظومة الحقوقية. ينعقد، الخميس المقبل، مجلس للحكومة برئاسة عزيز أخنوش، رئيس الحكومة. وذكر بلاغ لرئاسة الحكومة أن المجلس سيتدارس في بدايته ثلاثة مشاريع مراسيم، يتعلق الأول منها ببعض معدات رش منتجات حماية النباتات، والثاني بتغيير وتتميم المرسوم الصادر في شأن تنظيم وكيفيات سير الشرطة البيئية، فيما يتعلق الثالث بإعادة تنظيم المندوبية الوزارية المكلفة بحقوق الإنسان وتحديد اختصاصاتها.', 'size': 3}], 'main_title': 'تنظيم الشرطة البيئية على طاولة مجلس الحكومة'}, {'community_id': '2', 'articles': [{'id': '262', 'title': 'الكثيري: انتفاضة ماء واد بوفكران انعطافة مفصلية في تاريخ المغرب المعاصر', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/الكثيري-انتفاضة-ماء-واد-بوفكران-انعطافة-مفصلية-في-تاريخ-المغرب_a29420.html', 'summary': 'الكثيري: انتفاضة ماء واد بوفكران انعطافة مفصلية في تاريخ المغرب المعاصر.  أكد المندوب السامي لقدماء المقاومين وأعضاء جيش التحرير، مصطفى الكثيري، أن انتفاضة ماء واد بوفكران التي اندلعت في فاتح وثان...', 'size': 2}, {'id': '412', 'title': 'الكثيري: انتفاضة ماء واد بوفكران 1937 انعطافة مفصلية وفارقة في تاريخ المغرب المعاصر', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d9%83%d8%ab%d9%8a%d8%b1%d9%8a-%d8%a7%d9%86%d8%aa%d9%81%d8%a7%d8%b6%d8%a9-%d9%85%d8%a7%d8%a1-%d9%88%d8%a7%d8%af-%d8%a8%d9%88%d9%81%d9%83%d8%b1%d8%a7%d9%86-1937-%d8%a7%d9%86%d8%b9%d8%b7/', 'summary': 'الكثيري: انتفاضة ماء واد بوفكران 1937 انعطافة مفصلية وفارقة في تاريخ المغرب المعاصر. أكد المندوب السامي لقدماء المقاومين وأعضاء جيش التحرير، مصطفى الكثيري، أن انتفاضة ماء واد بوفكران التي اندلعت في فاتح وثاني شتنبر 1937، تشكل منارة  الكثيري: انتفاضة ماء واد بوفكران 1937 انعطافة مفصلية وفارقة في تاريخ المغرب المعاصر     .', 'size': 2}], 'main_title': 'الكثيري: انتفاضة ماء واد بوفكران انعطافة مفصلية في تاريخ المغرب المعاصر'}, {'community_id': '11', 'articles': [{'id': '334', 'title': 'فرنسا.. ماكرون يعين وزير القوات المسلحة رئيسا جديدا للوزراء', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%81%d8%b1%d9%86%d8%b3%d8%a7-%d9%85%d8%a7%d9%83%d8%b1%d9%88%d9%86-%d9%8a%d8%b9%d9%8a%d9%86-%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d9%82%d9%88%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d8%b3%d9%84%d8%ad%d8%a9/', 'summary': 'فرنسا.. ماكرون يعين وزير القوات المسلحة رئيسا جديدا للوزراء. عيّن الرئيس الفرنسي، إيمانويل ماكرون، اليوم الثلاثاء (9 شتنبر)، وزير القوات المسلّحة، سيباستيان لوكورنو، اليميني الموالي له، رئيسا للوزراء، غداة سقوط حكومة فرنسوا بايرو وعشية تحرّك احتجاجي على مستوى البلاد. بذلك أصبح لوكورنو سابع رئيس للوزراء في عهد ماكرون، والخامس منذ بداية ولايته الثانية في العام 2022. وهذا الأمر غير مسبوق في نظام الجمهورية الخامسة،', 'size': 2}, {'id': '382', 'title': 'ماكرون يعيّن وزير الدفاع لوكورنو رئيسا للوزراء وسط أزمة سياسية واحتجاجات مرتقبة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%a7%d9%83%d8%b1%d9%88%d9%86-%d9%8a%d8%b9%d9%8a%d9%91%d9%86-%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%af%d9%81%d8%a7%d8%b9-%d9%84%d9%88%d9%83%d9%88%d8%b1%d9%86%d9%88-%d8%b1%d8%a6%d9%8a%d8%b3/', 'summary': 'ماكرون يعيّن وزير الدفاع لوكورنو رئيسا للوزراء وسط أزمة سياسية واحتجاجات مرتقبة. في خطوة تعكس عمق الأزمة السياسية التي تعيشها فرنسا، أعلن الرئيس الفرنسي إيمانويل ماكرون، يوم الثلاثاء 9 شتنبر 2025، تعيين وزير القوات المسلحة سيباستيان لوكورنو رئيساً جديداً للوزراء، خلفا لفرنسوا بايرو الذي سقطت حكومته بعد أقل من شهرين على تعيينه. رئيس وزراء خامس في الولاية الثانية لماكرون بهذا التعيين، يصبح لوكورنو، البالغ من العمر  ماكرون يعيّن وزير الدفاع لوكورنو رئيسا للوزراء وسط أزمة سياسية واحتجاجات مرتقبة     .', 'size': 2}], 'main_title': 'فرنسا.. ماكرون يعين وزير القوات المسلحة رئيسا جديدا للوزراء'}, {'community_id': '3', 'articles': [{'id': '349', 'title': 'المغرب يستقبل 13,5 مليون سائح حتى غشت 2025.. صيف استثنائي في الأرقام', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322958/', 'summary': 'المغرب يستقبل 13,5 مليون سائح حتى غشت 2025.. صيف استثنائي في الأرقام. أفادت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني بأن المغرب استقبل إلى غاية متم شهر غشت من السنة الجارية، 13,5 مليون سائح، بزيادة قدرها 15 في المائة مقارنة بسنة 2024. وأبرزت الوزارة، في بلاغ، أن صيف 2025 شهد أداء استثنائيا، حيث استقبل المغرب 4,6 مليون سائح خلال شهري يوليوز وغشت 2025، مما يمثل زيادة بنسبة', 'size': 4}, {'id': '379', 'title': 'مبيعات الإسمنت تتجاوز 9,6 ملايين طن حتى غشت 2025 في ظل تحسن قطاع البناء', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/285062-2/', 'summary': 'مبيعات الإسمنت تتجاوز 9,6 ملايين طن حتى غشت 2025 في ظل تحسن قطاع البناء. سجلت مبيعات الإسمنت في المغرب ارتفاعا ملحوظا عند متم شهر غشت 2025، حيث تجاوزت 9,63 مليون طن، أي بزيادة نسبتها 10,38 في المائة مقارنة بالفترة نفسها من سنة 2024، وفق ما أفادت به وزارة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة. ويعكس هذا التطور الإيجابي دينامية واضحة يشهدها قطاع البناء والأشغال العمومية الذي يواصل تعزيز  مبيعات الإسمنت تتجاوز 9,6 ملايين طن حتى غشت 2025 في ظل تحسن قطاع البناء     .', 'size': 2}, {'id': '390', 'title': 'صيف استثنائي.. المغرب يستقبل 13,5 مليون سائح عند متم غشت', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/474931.html', 'summary': 'صيف استثنائي.. المغرب يستقبل 13,5 مليون سائح عند متم غشت. أفادت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني بأن المغرب استقبل إلى غاية متم شهر غشت من السنة الجارية، 13,5 مليون سائح، بزيادة قدرها 15 في المائة مقارنة بسنة 2024. وأبرزت الوزارة، في بلاغ، أن صيف 2025 شهد أداء استثنائيا، حيث استقبل المغرب 4,6 مليون سائح خلال شهري يوليوز وغشت 2025، مما يمثل زيادة بنسبة …', 'size': 2}, {'id': '399', 'title': 'وزارة السياحة: المغرب يستقبل 13,5 مليون سائح عند متم غشت 2025', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%b3%d9%8a%d8%a7%d8%ad%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-135-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d8%b3%d8%a7/', 'summary': 'وزارة السياحة: المغرب يستقبل 13,5 مليون سائح عند متم غشت 2025. أفادت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني بأن المغرب استقبل إلى غاية متم شهر غشت من السنة الجارية، 13,5 مليون سائح، بزيادة  وزارة السياحة: المغرب يستقبل 13,5 مليون سائح عند متم غشت 2025     .', 'size': 2}], 'main_title': 'المغرب يستقبل 13,5 مليون سائح حتى غشت 2025.. صيف استثنائي في الأرقام'}, {'community_id': '6', 'articles': [{'id': '353', 'title': 'جنيف.. المغرب يسلط الضوء على إصلاحاته الجوهرية في مجال حقوق الإنسان', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322945/', 'summary': 'جنيف.. المغرب يسلط الضوء على إصلاحاته الجوهرية في مجال حقوق الإنسان. جدد المغرب، اليوم الثلاثاء بجنيف، التأكيد على التزامه الثابت لفائدة النهوض بحقوق الإنسان وحمايتها، مسلطا الضوء على الإصلاحات الجوهرية التي قام بها، وذلك بمناسبة الدورة الـ60 لمجلس حقوق الإنسان للأمم المتحدة. وفي كلمة باسم المملكة، في إطار النقطة الثانية من المناقشة العامة، أعرب السفير الممثل الدائم للمغرب لدى الأمم المتحدة بجنيف، عمر زنيبر، عن شكره', 'size': 3}, {'id': '363', 'title': 'المغرب يجدد التزامه لفائدة حقوق الإنسان والإصلاحات الاجتماعية بجنيف', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1098479.html', 'summary': 'المغرب يجدد التزامه لفائدة حقوق الإنسان والإصلاحات الاجتماعية بجنيف. جدد المغرب، اليوم الثلاثاء من جنيف، تأكيده على التزامه الثابت والمبدئي لفائدة النهوض بحقوق الإنسان وحمايتها، مستعرضا أمام المجتمع الدولي الإصلاحات الجوهرية والأوراش الكبرى التي أطلقها كترجمة عملية لهذا الالتزام، وذلك خلال أشغال الدورة الستين لمجلس حقوق الإنسان التابع للأمم المتحدة. أبرز السفير الممثل الدائم للمغرب بجنيف، عمر زنيبر، في كلمة ألقاها باسم المملكة، التقدم ظهرت المقالة المغرب يجدد التزامه لفائدة حقوق الإنسان والإصلاحات الاجتماعية بجنيف  .', 'size': 3}, {'id': '422', 'title': 'المغرب يجدد التزامه بحماية حقوق الإنسان ويعرض إصلاحاته أمام مجلس حقوق الإنسان بجنيف', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%ac%d8%af%d8%af-%d8%a7%d9%84%d8%aa%d8%b2%d8%a7%d9%85%d9%87-%d8%a8%d8%ad%d9%85%d8%a7%d9%8a%d8%a9-%d8%ad%d9%82%d9%88%d9%82-%d8%a7%d9%84%d8%a5%d9%86%d8%b3/', 'summary': 'المغرب يجدد التزامه بحماية حقوق الإنسان ويعرض إصلاحاته أمام مجلس حقوق الإنسان بجنيف. جدد المغرب، اليوم الثلاثاء 9شتنبر 2025 بجنيف، التأكيد على التزامه الثابت لفائدة النهوض بحقوق الإنسان وحمايتها، مسلطا الضوء على الإصلاحات الجوهرية التي قام بها، وذلك بمناسبة الدورة الـ60 لمجلس حقوق الإنسان للأمم المتحدة. وفي كلمة باسم المملكة، في إطار النقطة الثانية من المناقشة العامة، أعرب السفير الممثل الدائم للمغرب لدى الأمم المتحدة بجنيف، …  المغرب يجدد التزامه بحماية حقوق الإنسان ويعرض إصلاحاته أمام مجلس حقوق الإنسان بجنيف     .', 'size': 3}], 'main_title': 'جنيف.. المغرب يسلط الضوء على إصلاحاته الجوهرية في مجال حقوق الإنسان'}, {'community_id': '9', 'articles': [{'id': '367', 'title': 'لأول مرة.. عبارات كهربائية بالكامل ستربط بين المغرب وإسبانيا بحلول 2027', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1098458.html', 'summary': 'لأول مرة.. عبارات كهربائية بالكامل ستربط بين المغرب وإسبانيا بحلول 2027. في خطوة رائدة نحو النقل البحري المستدام، أعلنت شركة “باليريا” الإسبانية عن بدء أشغال بناء أول عبارتين سريعتين في العالم تعملان بالطاقة الكهربائية بنسبة 100%، ومن المقرر أن تربطا بين ميناءي طنجة المدينة وطريفة بحلول عام 2027، ليصبح هذا الخط أول “ممر بحري أخضر” خال من الانبعاثات الكربونية بين القارتين الإفريقية والأوروبية. يجري بناء العبارتين ظهرت المقالة لأول مرة.. عبارات كهربائية بالكامل ستربط بين المغرب وإسبانيا بحلول 2027  .', 'size': 2}, {'id': '377', 'title': '"بالياريا" تبدأ بناء أولى عبّارات كهربائية بالكامل تربط بين المغرب وإسبانيا', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d8%a7%d9%84%d9%8a%d8%a7%d8%b1%d9%8a%d8%a7-%d8%aa%d8%a8%d8%af%d8%a3-%d8%a8%d9%86%d8%a7%d8%a1-%d8%a3%d9%88%d9%84%d9%89-%d8%b9%d8%a8%d9%91%d8%a7%d8%b1%d8%a7%d8%aa-%d9%83%d9%87%d8%b1%d8%a8/', 'summary': '"بالياريا" تبدأ بناء أولى عبّارات كهربائية بالكامل تربط بين المغرب وإسبانيا. أعلنت شركة Baleària الإسبانية للنقل البحري عن انطلاق أشغال بناء أولى العبارات السريعة (Fat Ferrie) التي تعمل بالطاقة الكهربائية بنسبة 100%، مخصصة لربط مدينتي طنجة المدينة وطريفة، ابتداءً من سنة 2027، في خطوة غير مسبوقة نحو إرساء أول ممر بحري أخضر بين المغرب وإسبانيا. المشروع يتم تنفيذه داخل أحواض بناء السفن “آرمون” بمدينة خيخون الإسبانية،  "بالياريا" تبدأ بناء أولى عبّارات كهربائية بالكامل تربط بين المغرب وإسبانيا     .', 'size': 2}], 'main_title': 'لأول مرة.. عبارات كهربائية بالكامل ستربط بين المغرب وإسبانيا بحلول 2027'}, {'community_id': '12', 'articles': [{'id': '386', 'title': 'بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية بين المغرب وروسيا', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d9%88%d8%b1%d9%8a%d8%b7%d8%a9-%d9%88%d9%84%d8%a7%d9%81%d8%b1%d9%88%d9%81-%d9%8a%d8%a8%d8%ad%d8%ab%d8%a7%d9%86-%d8%aa%d8%b9%d8%b2%d9%8a%d8%b2-%d8%a7%d9%84%d8%b4%d8%b1%d8%a7%d9%83%d8%a9-%d8%a7/', 'summary': 'بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية بين المغرب وروسيا. أجرى وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، الثلاثاء، اتصالا هاتفيا مع وزير الخارجية الروسي، سيرغي لافروف، جرى خلاله التباحث حول سبل تعزيز الشراكة الاستراتيجية المعمّقة بين البلدين وتطوير قنوات الحوار السياسي. وبحسب ما أفادت به وزارة الخارجية، فقد تناولت المحادثات الاستحقاقات الثنائية المقبلة، فضلا عن عدد من القضايا الإقليمية والدولية ذات  بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية بين المغرب وروسيا     .', 'size': 2}, {'id': '389', 'title': 'بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية المغربية الروسية', 'source': 'rue20.com', 'link': 'https://rue20.com/934924.html', 'summary': 'بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية المغربية الروسية.  . الرباط أجرى وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الثلاثاء، مباحثات هاتفية مع وزير الشؤون الخارجية لفيدرالية روسيا، سيرغي لافروف. وتوخت هذه المباحثات مواصلة وتعزيز الحوار السياسي والعلاقات الودية التقليدية بين البلدين. وأشاد الوزيران بالتقدم الملحوظ الذي تم إحرازه على صعيد العلاقات الثنائية، بفضل الإرادة المشتركة لصاحب الجلالة الخبر بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية المغربية الروسية  .', 'size': 2}], 'main_title': 'بوريطة ولافروف يبحثان تعزيز الشراكة الاستراتيجية بين المغرب وروسيا'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
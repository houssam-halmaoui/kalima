<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 03/10/2025 - 18h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '20', 'title': 'مجلس بوعياش يؤكد على ضرورة حماية حقوق المواطنين في التظاهر السلمي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-662762.html', 'summary': 'مجلس بوعياش يؤكد على ضرورة حماية حقوق المواطنين في التظاهر السلمي. هبة بريس عقدت رئيسة المجلس الوطني لحقوق الإنسان، آمنة بوعياش، اجتماعا موسعا مع رئيسات ورؤساء اللجان الجهوية لحقوق الإنسان، ومدراء ومكلفين بمهام لدى رئاسة المجلس، خصص للتداول في أشكال تعزيز دعم رصد المجلس وتتبعه وتدخلاته، خاصة في ظل التطورات التي تشهدها احتجاجات بعض الشباب في عدد من المدن المغربية في الأيام الأخيرة. وأوضح المجلس، في', 'size': 2}, {'id': '96', 'title': 'المجلس الوطني لحقوق الإنسان يكشف ملامح دعوات رقمية خطيرة تحرِّض على العنف والتخريب وإحراق المؤسسات العمومية والخاصة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/413825.html', 'summary': 'المجلس الوطني لحقوق الإنسان يكشف ملامح دعوات رقمية خطيرة تحرِّض على العنف والتخريب وإحراق المؤسسات العمومية والخاصة. عقدت رئيسة المجلس الوطني لحقوق الإنسان، السيدة آمنة بوعياش، أمس الأربعاء، اجتماعا موسعا مع رئيسات ورؤساء اللجان الجهوية لحقوق الإنسان، ومدراء ومكلفين بمهام لدى رئاسة', 'size': 2}, {'id': '221', 'title': 'المجلس الوطني لحقوق الإنسان: نعم للاحتجاج السلمي لا للعنف والتخريب', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227962/', 'summary': 'المجلس الوطني لحقوق الإنسان: نعم للاحتجاج السلمي لا للعنف والتخريب. عقدت رئيسة المجلس الوطني لحقوق الإنسان، السيدة آمنة بوعياش، أمس الأربعاء، اجتماعا موسعا مع رئيسات ورؤساء اللجان الجهوية لحقوق الإنسان، ومدراء ومكلفين بمهام لدى رئاسة المجلس، خصص للتداول في أشكال تعزيز دعم رصد المجلس وتتبعه وتدخلاته، خاصة في ظل التطورات التي تشهدها احتجاجات بعض الشباب في عدد من المدن المغربية في الأيام الأخيرة. وأوضح المجلس،', 'size': 4}, {'id': '235', 'title': 'تقرير للمجلس الوطني لحقوق الإنسان حول تداعيات الاحتجاجات وعمليات التخريب', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%aa%d9%82%d8%b1%d9%8a%d8%b1-%d9%84%d9%84%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a-%d9%84%d8%ad%d9%82%d9%88%d9%82-%d8%a7%d9%84%d8%a5%d9%86%d8%b3%d8%a7%d9%86-%d8%ad%d9%88%d9%84/', 'summary': 'تقرير للمجلس الوطني لحقوق الإنسان حول تداعيات الاحتجاجات وعمليات التخريب. المساء اليوم – الرباط: عقدت رئيسة المجلس الوطني لحقوق الإنسان، آمنة بوعياش، اجتماعا موسعا مع رئيسات ورؤساء اللجان الجهوية لحقوق الإنسان، ومدراء ومكلفين بمهام لدى رئاسة المجلس، خصص للتداول في أشكال تعزيز دعم رصد المجلس', 'size': 2}], 'main_title': 'المجلس الوطني لحقوق الإنسان: نعم للاحتجاج السلمي لا للعنف والتخريب'}, {'community_id': '11', 'articles': [{'id': '29', 'title': 'اللجنة الوطنية للاستثمارات تصادق على 12 مشروعاً بأزيد من 45 مليار درهم', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-662737.html', 'summary': 'اللجنة الوطنية للاستثمارات تصادق على 12 مشروعاً بأزيد من 45 مليار درهم. هبة بريس صادقت اللجنة الوطنية للاستثمارات في دورتها التاسعة، اليوم الخميس بالرباط، على 12 مشروعا بقيمة إجمالية تفوق 45 مليار درهم، ستمكن من إحداث أكثر من 12 ألف و500 منصب شغل مباشر وغير مباشر. جاء ذلك خلال ترؤس عزيز أخنوش، رئيس الحكومة، هذه الدورة التاسعة للجنة الوطنية للاستثمارات، المحدثة بموجب ميثاق الاستثمار الجديد الذي دخل', 'size': 2}, {'id': '181', 'title': 'لجنة الإستثمارات تصادق على مشاريع بـ45 مليار درهم توفر أزيد من 12 ألف منصب شغل', 'source': 'rue20.com', 'link': 'https://rue20.com/941854.html', 'summary': 'لجنة الإستثمارات تصادق على مشاريع بـ45 مليار درهم توفر أزيد من 12 ألف منصب شغل.  ا الرباط صادقت اللجنة الوطنية للاستثمارات في دورتها التاسعة، الخميس بالرباط، على 12 مشروعا بقيمة إجمالية تفوق 45 مليار درهم، ستمكن من إحداث أكثر من 12 ألف و500 منصب شغل مباشر وغير مباشر. جاء ذلك خلال ترؤس عزيز أخنوش، رئيس الحكومة، هذه الدورة التاسعة للجنة الوطنية للاستثمارات، المحدثة بموجب ميثاق الاستثمار الجديد الذي الخبر لجنة الإستثمارات تصادق على مشاريع بـ45 مليار درهم توفر أزيد من 12 ألف منصب شغل  .', 'size': 3}, {'id': '211', 'title': 'اللجنة الوطنية للاستثمارات تصادق على 12 مشروعا بقيمة إجمالية تفوق 45 مليار درهم', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d9%84%d8%ac%d9%86%d8%a9-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a%d8%a9-%d9%84%d9%84%d8%a7%d8%b3%d8%aa%d8%ab%d9%85%d8%a7%d8%b1%d8%a7%d8%aa-%d8%aa%d8%b5%d8%a7%d8%af%d9%82-%d8%b9%d9%84%d9%89-12/', 'summary': 'اللجنة الوطنية للاستثمارات تصادق على 12 مشروعا بقيمة إجمالية تفوق 45 مليار درهم. صادقت اللجنة الوطنية للاستثمارات في دورتها التاسعة، اليوم الخميس بالرباط، على 12 مشروعا بقيمة إجمالية تفوق 45 مليار درهم، ستمكن من إحداث أكثر من 12 ألف  اللجنة الوطنية للاستثمارات تصادق على 12 مشروعا بقيمة إجمالية تفوق 45 مليار درهم     .', 'size': 2}], 'main_title': 'لجنة الإستثمارات تصادق على مشاريع بـ45 مليار درهم توفر أزيد من 12 ألف منصب شغل'}, {'community_id': '2', 'articles': [{'id': '47', 'title': 'ولاية طنجة تنفي صحة مراسلة مزعومة بشأن تدابير أمنية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-662682.html', 'summary': 'ولاية طنجة تنفي صحة مراسلة مزعومة بشأن تدابير أمنية. هبة بريس – الرباط نفت ولاية طنجة بشكل قاطع، أن تكون مصدر مراسلة متداولة على شبكات التواصل الاجتماعي، منسوبة لوالي جهة طنجة تطوان الحسيمة، بشأن تدابير أمنية بمدينة طنجة. وأكد المصدر ذاته أن الأمر يتعلق ب “وثيقة زائفة”، داعيا لعدم الانسياق وراء الأخبار المضللة أو تداول هذا النوع من المحتوى الزائف.', 'size': 2}, {'id': '227', 'title': 'خبر زائف: مراسلة لوالي جهة طنجة-تطوان-الحسيمة بشأن تدابير أمنية بطنجة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227943/', 'summary': 'خبر زائف: مراسلة لوالي جهة طنجة-تطوان-الحسيمة بشأن تدابير أمنية بطنجة. طنجة – نفت ولاية طنجة بشكل قاطع، أن تكون مصدر مراسلة متداولة على شبكات التواصل الاجتماعي، منسوبة لوالي جهة طنجة تطوان الحسيمة، بشأن تدابير أمنية بمدينة طنجة. وأكد المصدر ذاته أن الأمر يتعلق ب “وثيقة زائفة”، داعيا لعدم الانسياق وراء الأخبار المضللة أو تداول هذا النوع من المحتوى الزائف.', 'size': 2}], 'main_title': 'ولاية طنجة تنفي صحة مراسلة مزعومة بشأن تدابير أمنية'}, {'community_id': '3', 'articles': [{'id': '53', 'title': 'خبر زائف: الأمر بإغلاق المحال التجارية والإخلاء المبكر لمقرات العمل بالدار البيضاء', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/206952', 'summary': 'خبر زائف: الأمر بإغلاق المحال التجارية والإخلاء المبكر لمقرات العمل بالدار البيضاء.  علم لدى مصالح ولاية جهة الدار البيضاء أنه لم يتم إصدار أي أمر من أي سلطة كانت، سواء من أجل إغلاق المحال التجارية، أو الإخلاء المبكر لمقرات العمل بالدار البيضاء. ووصف المصدر ذاته هذه الأخبار بأنها زائفة، معبرا عن إدانته للترويج لمثل هذه الأخبار المغلوطة على شبكات التواصل الاجتماعي والرامية إلى زعزعة طمأنينة ساكنة', 'size': 2}, {'id': '199', 'title': 'هذه حقيقة الأمر بإغلاق المحال التجارية والإخلاء المبكر لمقرات العمل بالدار البيضاء', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/477425.html', 'summary': 'هذه حقيقة الأمر بإغلاق المحال التجارية والإخلاء المبكر لمقرات العمل بالدار البيضاء. علم لدى مصالح ولاية جهة الدار البيضاء أنه لم يتم إصدار أي أمر من أي سلطة كانت، سواء من أجل إغلاق المحال التجارية، أو الإخلاء المبكر لمقرات العمل بالدار البيضاء. ووصف المصدر ذاته هذه الأخبار بأنها زائفة، معبرا عن إدانته للترويج لمثل هذه الأخبار المغلوطة على شبكات التواصل الاجتماعي والرامية إلى زعزعة طمأنينة ساكنة مدينة …', 'size': 2}], 'main_title': 'خبر زائف: الأمر بإغلاق المحال التجارية والإخلاء المبكر لمقرات العمل بالدار البيضاء'}, {'community_id': '5', 'articles': [{'id': '56', 'title': 'الملك محمد السادس يترأس حفلا دينيا بمناسبة الذكرى 27 لوفاة الملك الحسن الثاني', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/206940', 'summary': 'الملك محمد السادس يترأس حفلا دينيا بمناسبة الذكرى 27 لوفاة الملك الحسن الثاني.  أعلنت وزارة القصور الملكية والتشريفات والأوسمة أن أمير المؤمنين الملك محمد السادس، سيترأس اليوم الخميس 2 أكتوبر 2025 بضريح محمد الخامس بالرباط، الحفل الديني الذي سيقام بمناسبة الذكرى السابعة والعشرين لوفاة جلالة المغفور له الملك الحسن الثاني طيب الله ثراه. وحسب بلاغ الوزارة، فإن هذا الحفل الديني سينطلق ابتداء من الساعة السادسة مساء، وسيتم', 'size': 2}, {'id': '58', 'title': 'أمير المؤمنين يترأس حفلا دينيا إحياء للذكرى ال27 لوفاة جلالة الملك الحسن الثاني', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/413783.html', 'summary': 'أمير المؤمنين يترأس حفلا دينيا إحياء للذكرى ال27 لوفاة جلالة الملك الحسن الثاني. أعلنت وزارة القصور الملكية والتشريفات والأوسمة ، أن أمير المؤمنين صاحب الجلالة الملك محمد السادس نصره الله سيترأس ، اليوم الخميس بضريح محمد الخامس بالرباط،', 'size': 3}, {'id': '264', 'title': 'أمير المؤمنين يترأس اليوم بالرباط حفلا دينيا بمناسبة الذكرى الـ27 لوفاة جلالة المغفور له الملك الحسن الثاني', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/أمير-المؤمنين-يترأس-اليوم-بالرباط-حفلا-دينيا-بمناسبة-الذكرى-الـ27_a29816.html', 'summary': 'أمير المؤمنين يترأس اليوم بالرباط حفلا دينيا بمناسبة الذكرى الـ27 لوفاة جلالة المغفور له الملك الحسن الثاني.  أعلنت وزارة القصور الملكية والتشريفات والأوسمة، أن أمير المؤمنين صاحب الجلالة الملك محمد السادس نصره الله سيترأس، اليو...', 'size': 2}], 'main_title': 'أمير المؤمنين يترأس حفلا دينيا إحياء للذكرى ال27 لوفاة جلالة الملك الحسن الثاني'}, {'community_id': '9', 'articles': [{'id': '63', 'title': 'وزارة الداخلية تكشف معطيات صادمة: القاصرون في واجهة أحداث الشغب الأخيرة بالمملكة ونسبة مشاركتهم فاقت 70 في المئة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/413788.html', 'summary': 'وزارة الداخلية تكشف معطيات صادمة: القاصرون في واجهة أحداث الشغب الأخيرة بالمملكة ونسبة مشاركتهم فاقت 70 في المئة. كشف الناطق الرسمي باسم وزارة الداخلية، رشيد الخلفي، عن معطيات مثيرة للقلق بخصوص الاحتجاجات التي شهدتها بعض مناطق المملكة خلال الأيام الأخيرة، مؤكدا أنها خرجت', 'size': 2}, {'id': '367', 'title': 'وزارة الداخلية تعلن عودة الهدوء وتؤكد: 100% من أعمال التخريب تورط فيها قاصرون', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1105061.html', 'summary': 'وزارة الداخلية تعلن عودة الهدوء وتؤكد: 100% من أعمال التخريب تورط فيها قاصرون. أعلن رشيد الخلفي، الناطق الرسمي باسم وزارة الداخلية، عن استقرار الأوضاع الميدانية وعودة الهدوء إلى شوارع المملكة ليلة أمس الخميس، مؤكدا أن جميع أعمال التخريب التي تم تسجيلها خلال فترة الاضطرابات الأخيرة تورط فيها أطفال قاصرون بنسبة مئة بالمئة، محمّلا الأسر جزءا كبيرا من مسؤولية حفظ النظام العام. وفي مداخلة له خلال نشرة الأخبار الزوالية ظهرت المقالة وزارة الداخلية تعلن عودة الهدوء وتؤكد: 100% من أعمال التخريب تورط فيها قاصرون  .', 'size': 3}, {'id': '389', 'title': 'وزارة الداخلية تؤكد عودة الهدوء الكامل إلى الشارع وتجدد النداء للأسر بمراقبة أبنائها', 'source': 'rue20.com', 'link': 'https://rue20.com/941929.html', 'summary': 'وزارة الداخلية تؤكد عودة الهدوء الكامل إلى الشارع وتجدد النداء للأسر بمراقبة أبنائها.  | الرباط أكد الناطق الرسمي باسم وزارة الداخلية رشيد الخلفي أن الأمور مستقرة ميدانيا ، ولم يتم تسجيل أي استعمال للعنف أو لجوء للتخريب ليلة أمس الخميس ، باستثناء بعض الحالات المعزولة. الخلفي، و خلال حلوله ضيفاً على نشرة الأخبار الزوالية على القناة الثانية، قال أن عودة الإستقرار والهدوء إلى الشارع جاء بفعل الخبر وزارة الداخلية تؤكد عودة الهدوء الكامل إلى الشارع وتجدد النداء للأسر بمراقبة أبنائها  .', 'size': 2}], 'main_title': 'وزارة الداخلية تعلن عودة الهدوء وتؤكد: 100% من أعمال التخريب تورط فيها قاصرون'}, {'community_id': '6', 'articles': [{'id': '81', 'title': 'فتح بحث قضائي تحت إشراف النيابة العامة على خلفية عملية الهجوم واقتحام مركز للدرك الملكي بالقليعة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/413808.html', 'summary': 'فتح بحث قضائي تحت إشراف النيابة العامة على خلفية عملية الهجوم واقتحام مركز للدرك الملكي بالقليعة. أكد الوكيل العام للملك لدى محكمة الاستئناف بأكادير، عبد الرزاق فتاح، أنه تم فتح بحث قضائي، تحت إشراف النيابة العامة، على خلفية عملية الهجوم والاقتحام', 'size': 2}, {'id': '232', 'title': 'الوكيل العام باستئنافية أكادير يعلن فتح بحث قضائي في الهجوم على مركز للدرك', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a7%d9%84%d9%88%d9%83%d9%8a%d9%84-%d8%a7%d9%84%d8%b9%d8%a7%d9%85-%d8%a8%d8%a7%d8%b3%d8%aa%d8%a6%d9%86%d8%a7%d9%81%d9%8a%d8%a9-%d8%a3%d9%83%d8%a7%d8%af%d9%8a%d8%b1-%d9%8a%d8%b9%d9%84%d9%86-%d9%81/', 'summary': 'الوكيل العام باستئنافية أكادير يعلن فتح بحث قضائي في الهجوم على مركز للدرك. المساء اليوم – أكادير: أعلن الوكيل العام للملك لدى محكمة الاستئناف بأكادير، عبد الرزاق فتاح، أنه تم فتح بحث قضائي، تحت إشراف النيابة العامة، على خلفية عملية الهجوم والاقتحام التي استهدفت مركزا للدرك الملكي بالقليعة،', 'size': 2}], 'main_title': 'فتح بحث قضائي تحت إشراف النيابة العامة على خلفية عملية الهجوم واقتحام مركز للدرك الملكي بالقليعة'}, {'community_id': '7', 'articles': [{'id': '122', 'title': 'بسبب قرصنة لوحات إلكترونية إشهارية وإهانة هيئة منظمة.. توقيف 3 أشاص في الفقيه بن صالح', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%b3%d8%a8%d8%a8-%d9%82%d8%b1%d8%b5%d9%86%d8%a9-%d9%84%d9%88%d8%ad%d8%a7%d8%aa-%d8%a5%d9%84%d9%83%d8%aa%d8%b1%d9%88%d9%86%d9%8a%d8%a9-%d8%a5%d8%b4%d9%87%d8%a7%d8%b1%d9%8a%d8%a9-%d9%88%d8%a5/', 'summary': 'بسبب قرصنة لوحات إلكترونية إشهارية وإهانة هيئة منظمة.. توقيف 3 أشاص في الفقيه بن صالح. أوقفت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة الفقيه بن صالح، يوم أمس الخميس (2 أكتوبر)، ثلاثة أشخاص من بينهم قاصر تتراوح أعمارهم ما بين 16 و20 سنة، وذلك للاشتباه في تورطهم في قضية تتعلق بالمس بنظم المعالجة الآلية للمعطيات وقرصنة لوحات إلكترونية إشهارية وإهانة هيئة منظمة. وكان المشتبه فيهم قد أقدموا على قرصنة النظام المعلوماتي', 'size': 5}, {'id': '183', 'title': 'الفقيه بنصالح.. الأمن يوقف متورطين في قرصنة لوحات إلكترونية ونشر عبارات مخلة بالحياء', 'source': 'rue20.com', 'link': 'https://rue20.com/941850.html', 'summary': 'الفقيه بنصالح.. الأمن يوقف متورطين في قرصنة لوحات إلكترونية ونشر عبارات مخلة بالحياء.  ا الرباط تمكنت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة الفقيه بن صالح، أمس الخميس 2 أكتوبر الجاري، من توقيف ثلاثة أشخاص بينهم قاصر تتراوح أعمارهم بين 16 و20 سنة، للاشتباه في تورطهم في قضية تتعلق بالمس بالأنظمة المعلوماتية وقرصنة لوحات إلكترونية وإهانة هيئة منظمة. وحسب التحريات، فقد أقدم المشتبه فيهم على قرصنة النظام الخبر الفقيه بنصالح.. الأمن يوقف متورطين في قرصنة لوحات إلكترونية ونشر عبارات مخلة بالحياء  .', 'size': 4}, {'id': '238', 'title': 'الفقيه بن صالح: توقيف 3 أشخاص بينهم قاصر للاشتباه في قرصنة لوحات إشهارية إلكترونية و”المس بنظم المعالجة الآلية للمعطيات”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%81%d9%82%d9%8a%d9%87-%d8%a8%d9%86-%d8%b5%d8%a7%d9%84%d8%ad-%d8%aa%d9%88%d9%82%d9%8a%d9%81-3-%d8%a3%d8%b4%d8%ae%d8%a7%d8%b5-%d8%a8%d9%8a%d9%86%d9%87%d9%85-%d9%82%d8%a7%d8%b5%d8%b1/', 'summary': 'الفقيه بن صالح: توقيف 3 أشخاص بينهم قاصر للاشتباه في قرصنة لوحات إشهارية إلكترونية و”المس بنظم المعالجة الآلية للمعطيات”. أفاد مصدر أمني أن عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة الفقيه بن صالح، تمكنت يوم أمس الخميس 02 أكتوبر الجاري، من توقيف ثلاثة أشخاص من بينهم قاصر، تتراوح أعمارهم ما بين 16 و20 سنة، وذلك للاشتباه في تورطهم في قضية تتعلق بـالمس بنظم المعالجة الآلية للمعطيات وقرصنة لوحات إلكترونية إشهارية وإهانة هيئة منظمة. …  الفقيه بن صالح: توقيف 3 أشخاص بينهم قاصر للاشتباه في قرصنة لوحات إشهارية إلكترونية و”المس بنظم المعالجة الآلية للمعطيات”     .', 'size': 5}, {'id': '330', 'title': 'توقيف قاصر وراشدين اخترقوا لوحات إلكترونية إشهارية لنشر عبارات خادشة بالحياء', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/413863.html', 'summary': 'توقيف قاصر وراشدين اخترقوا لوحات إلكترونية إشهارية لنشر عبارات خادشة بالحياء. تمكنت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة الفقيه بن صالح، يوم أمس الخميس 02 أكتوبر الجاري، من توقيف ثلاثة أشخاص من بينهم قاصر، تتراوح أعمارهم', 'size': 4}, {'id': '421', 'title': 'توقيف المتورطين في اختراق لوحات إشهارية ووضع كتابات مهينة عليها', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227972/', 'summary': 'توقيف المتورطين في اختراق لوحات إشهارية ووضع كتابات مهينة عليها. تمكنت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة الفقيه بن صالح، يوم أمس الخميس 02 أكتوبر الجاري، من توقيف ثلاثة أشخاص من بينهم قاصر تتراوح أعمارهم ما بين 16 و 20 سنة، وذلك للاشتباه في تورطهم في قضية تتعلق بالمس بنظم المعالجة الآلية للمعطيات وقرصنة لوحات إلكترونية إشهارية وإهانة هيئة منظمة. وكان المشتبه فيهم قد أقدموا', 'size': 5}], 'main_title': 'بسبب قرصنة لوحات إلكترونية إشهارية وإهانة هيئة منظمة.. توقيف 3 أشاص في الفقيه بن صالح'}, {'community_id': '4', 'articles': [{'id': '177', 'title': 'الأميرة للا مريم تترأس حفلا دينيا إحياء للذكرى السابعة والعشرين لوفاة الملك الحسن الثاني', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357919.html', 'summary': 'الأميرة للا مريم تترأس حفلا دينيا إحياء للذكرى السابعة والعشرين لوفاة الملك الحسن الثاني. ترأست صاحبة السمو الملكي الأميرة للا مريم، اليوم الخميس بمسجد السنة بالرباط، حفلا دينيا إحياء للذكرى السابعة والعشرين لوفاة جلالة المغفور له الملك الحسن الثاني طيب الله ثراه. وتميز هذا الحفل الديني بتلاوة آيات بينات من الذكر الحكيم وإنشاد أمداح نبوية. وبهذه المناسبة، رفعت أكف الضراعة إلى العلي القدير بأن يشمل برحمته الواسعة جلالة المغفور', 'size': 2}, {'id': '226', 'title': 'الأميرة للا مريم تترأس حفلا دينيا إحياء لذكرى وفاة الملك الحسن الثاني', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227946/', 'summary': 'الأميرة للا مريم تترأس حفلا دينيا إحياء لذكرى وفاة الملك الحسن الثاني. ترأست صاحبة السمو الملكي الأميرة للا مريم، اليوم الخميس بمسجد السنة بالرباط، حفلا دينيا إحياء للذكرى السابعة والعشرين لوفاة جلالة المغفور له الملك الحسن الثاني طيب الله ثراه. وتميز هذا الحفل الديني بتلاوة آيات بينات من الذكر الحكيم وإنشاد أمداح نبوية. وبهذه المناسبة، رفعت أكف الضراعة إلى العلي القدير بأن يشمل برحمته الواسعة جلالة المغفور', 'size': 2}], 'main_title': 'الأميرة للا مريم تترأس حفلا دينيا إحياء للذكرى السابعة والعشرين لوفاة الملك الحسن الثاني'}, {'community_id': '8', 'articles': [{'id': '296', 'title': 'وهبي: الحكومة استمعت لنبض الشارع وتبحث سبل التجاوب مع مطالبه', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-662900.html', 'summary': 'وهبي: الحكومة استمعت لنبض الشارع وتبحث سبل التجاوب مع مطالبه. هبة بريس أكد عبد اللطيف وهبي، وزير العدل، أن الديمقراطية في جوهرها تقوم على حرية التعبير والاحتجاج السلمي، مبرزًا أن المغرب لا يرى أي إشكال في خروج المواطنين للتظاهر ما دام ذلك يتم في إطار سلمي وقانوني. وأوضح وهبي، في تصريح لقناة العربية، أن “طبيعة الديمقراطية تفرض أن ينتقد الناس ويتظاهروا، لكن خلال هذه التظاهرات', 'size': 2}, {'id': '334', 'title': 'وزير العدل: الحوار مع “جيل زد” ينبغي أن يتم من داخل المؤسسات احتراما للدستور', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%b9%d8%af%d9%84-%d8%a7%d9%84%d8%ad%d9%88%d8%a7%d8%b1-%d9%85%d8%b9-%d8%ac%d9%8a%d9%84-%d8%b2%d8%af-%d9%8a%d9%86%d8%a8%d8%ba%d9%8a-%d8%a3%d9%86-%d9%8a%d8%aa/', 'summary': 'وزير العدل: الحوار مع “جيل زد” ينبغي أن يتم من داخل المؤسسات احتراما للدستور. في تفاعله مع احتجاجات “جيل زد”، قال وزير العدل، عبد اللطيف وهبي، إن الحوار مع هذا الدينامية الشبابية يجب أن يتم من داخل المؤسسات كم هو منصوص عليه في الدستور. وأضاف وهبي، وفي تصريحات لقناة “العربية- المغرب”، أن “أي شخص في موقع مسؤولية وتسير فهو مخطئ في الأصل، ويبقى مصيبا في بعض الأحيان”. وتابع وزير', 'size': 2}], 'main_title': 'وهبي: الحكومة استمعت لنبض الشارع وتبحث سبل التجاوب مع مطالبه'}, {'community_id': '10', 'articles': [{'id': '312', 'title': 'بروكسيل.. التوقيع على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الاوروبي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-662844.html', 'summary': 'بروكسيل.. التوقيع على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الاوروبي. هبة بريس وقعت المملكة المغربية والاتحاد الأوروبي اليوم الجمعة بمقر المفوضية الأوروبية ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي الذي يربط بين الطرفين ، والذي يؤكد متانة شراكتهما القائمة على تعاون موسع ومتعدد الأبعاد. ووقع هذا الاتفاق عن الجانب المغربي سفير جلالة الملك لدى الاتحاد الاوروبي أحمد رضى الشامي. وسيدخل حيز التنفيذ بشكل فوري ،', 'size': 5}, {'id': '376', 'title': 'بروكسيل.. التوقيع على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الأوروبي', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%aa%d9%88%d9%82%d9%8a%d8%b9-%d8%a8%d8%a8%d8%b1%d9%88%d9%83%d8%b3%d9%8a%d9%84-%d8%b9%d9%84%d9%89-%d8%aa%d8%a8%d8%a7%d8%af%d9%84-%d8%a7%d9%84%d8%b1%d8%b3%d8%a7%d8%a6%d9%84-%d8%a7%d9%84/', 'summary': 'بروكسيل.. التوقيع على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الأوروبي. وقعت المملكة المغربية والاتحاد الأوروبي، اليوم الجمعة بمقر المفوضية الأوروبية ببروكسيل، على تبادل الرسائل المعدلة للاتفاق الفلاحي الذي يربط بين الطرفين، والذي يؤكد متانة شراكتهما القائمة على تعاون موسع ومتعدد الأبعاد. ووقع هذا الاتفاق عن الجانب المغربي سفير المغرب لدى الاتحاد الأوروبي أحمد رضى الشامي. وسيدخل حيز التنفيذ بشكل فوري، مؤقتا، في انتظار استكمال الطرفين  بروكسيل.. التوقيع على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الأوروبي     .', 'size': 5}, {'id': '398', 'title': 'التوقيع ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الأوروبي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/477472.html', 'summary': 'التوقيع ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الأوروبي. وقعت المملكة المغربية والاتحاد الأوروبي اليوم الجمعة بمقر المفوضية الأوروبية ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي الذي يربط بين الطرفين ، والذي يؤكد متانة شراكتهما القائمة على تعاون موسع ومتعدد الأبعاد. ووقع هذا الاتفاق عن الجانب المغربي سفير الملك لدى الاتحاد الاوروبي أحمد رضى الشامي. وسيدخل حيز التنفيذ بشكل فوري ، مؤقتا ، في …', 'size': 4}, {'id': '401', 'title': 'التوقيع ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الاوروبي', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d8%aa%d9%88%d9%82%d9%8a%d8%b9-%d8%a8%d8%a8%d8%b1%d9%88%d9%83%d8%b3%d9%8a%d9%84-%d8%b9%d9%84%d9%89-%d8%aa%d8%a8%d8%a7%d8%af%d9%84-%d8%a7%d9%84%d8%b1%d8%b3%d8%a7%d8%a6%d9%84-%d8%a7%d9%84/', 'summary': 'التوقيع ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الاوروبي. وقعت المملكة المغربية والاتحاد الأوروبي اليوم الجمعة بمقر المفوضية الأوروبية ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي الذي يربط بين الطرفين، والذي  التوقيع ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الاوروبي     .', 'size': 3}, {'id': '429', 'title': 'المغرب والاتحاد الأوروبي يوقعان على تبادل الرسائل المعدلة للاتفاق الفلاحي بينهما', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%88%d8%a7%d9%84%d8%a7%d8%aa%d8%ad%d8%a7%d8%af-%d8%a7%d9%84%d8%a3%d9%88%d8%b1%d9%88%d8%a8%d9%8a-%d9%8a%d9%88%d9%82%d8%b9%d8%a7%d9%86-%d8%b9%d9%84%d9%89-%d8%aa-2/', 'summary': 'المغرب والاتحاد الأوروبي يوقعان على تبادل الرسائل المعدلة للاتفاق الفلاحي بينهما. وقعت المملكة المغربية والاتحاد الأوروبي اليوم الجمعة 03 أكتوبر 2025، بمقر المفوضية الأوروبية ببروكسيل على تبادل الرسائل المعدلة للاتفاق الفلاحي الذي يربط بين الطرفين، والذي يؤكد متانة شراكتهما القائمة على تعاون موسع ومتعدد الأبعاد. ووقع هذا الاتفاق عن الجانب المغربي سفير المملكة المغربية لدى الاتحاد الاوروبي أحمد رضى الشامي. وسيدخل حيز التنفيذ بشكل …  المغرب والاتحاد الأوروبي يوقعان على تبادل الرسائل المعدلة للاتفاق الفلاحي بينهما     .', 'size': 4}], 'main_title': 'بروكسيل.. التوقيع على تبادل الرسائل المعدلة للاتفاق الفلاحي بين المغرب والاتحاد الاوروبي'}, {'community_id': '1', 'articles': [{'id': '342', 'title': 'جلالة الملك يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده', 'source': 'assabah.ma', 'link': 'https://assabah.ma/874767.html', 'summary': 'جلالة الملك يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده. بعث صاحب الجلالة الملك محمد السادس برقية تهنئة إلى رئيس جمهورية العراق، فخامة الدكتور عبد اللطيف جمال رشيد، وذلك بمناسبة العيد الوطني لبلاده. ومما جاء في برقية جلالة الملك: “بمناسبة احتفال جمهورية العراق بعيدها الوطني، يطيب لي أن أتوجه إليكم بأحر التهاني، متمنيا لشعبكم الشقيق تحقيق ماأكمل القراءة » المقالة جلالة الملك يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده  .', 'size': 2}, {'id': '425', 'title': 'الملك محمد السادس يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d9%87%d9%86%d8%a6-%d8%b1%d8%a6%d9%8a%d8%b3-%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7-30/', 'summary': 'الملك محمد السادس يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده. بعث الملك محمد السادس برقية تهنئة إلى رئيس جمهورية العراق، عبد اللطيف جمال رشيد، وذلك بمناسبة العيد الوطني لبلاده. ومما جاء في برقية الملك محمد السادس “بمناسبة احتفال جمهورية العراق بعيدها الوطني، يطيب لي أن أتوجه إليكم بأحر التهاني، متمنيا لشعبكم الشقيق تحقيق ما يصبو إليه من تقدم وازدهار”. وأضاف الملك محمد السادس “وإنها …  الملك محمد السادس يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده     .', 'size': 2}], 'main_title': 'جلالة الملك يهنئ رئيس جمهورية العراق بمناسبة العيد الوطني لبلاده'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
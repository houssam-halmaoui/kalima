<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 23/06/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '66', 'title': 'ترامب: الضربات الأمريكية “دمرت بالكامل” المنشآت النووية الإيرانية', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/202365', 'summary': 'ترامب: الضربات الأمريكية “دمرت بالكامل” المنشآت النووية الإيرانية.  صرح الرئيس الأمريكي دونالد ترامب، مساء السبت، أن المنشآت النووية الإيرانية قد “دُمّرت بالكامل” جراء الضربات الأمريكية. وفي تصريح متلفز من البيت الأبيض، شدد الرئيس الأمريكي على أن إيران « يجب أن تذهب إلى السلام الآن », مضيفا: « إذا لم يفعلوا، فإن الهجمات القادمة ستكون أشد بكثير ». وكان ترامب قد أعلن في', 'size': 2}, {'id': '181', 'title': 'الجزائر تسمح بمرور سرب الطائرات الأمريكية الشبح أجواءها لضرب إيران', 'source': 'rue20.com', 'link': 'https://rue20.com/914847.html', 'summary': 'الجزائر تسمح بمرور سرب الطائرات الأمريكية الشبح أجواءها لضرب إيران. . الرباط سمحت السلطات الجزائرية بمرور سرب الطائرات الأمريكية B-2 الشبح وإختراق أجوائها للعبور بإتجاه إيران لتنفيذ الضربات التي صرح الرئيس الأمريكي دونالد ترامب، مساء السبت، أن المنشآت النووية الإيرانية قد “د م رت بالكامل” جراء الضربات الأمريكية. وفي تصريح متلفز من البيت الأبيض، شدد الرئيس الأمريكي على أن إيران “يجب أن تذهب إلى الخبر الجزائر تسمح بمرور سرب الطائرات الأمريكية الشبح أجواءها لضرب إيران  .', 'size': 2}], 'main_title': 'ترامب: الضربات الأمريكية “دمرت بالكامل” المنشآت النووية الإيرانية'}, {'community_id': '1', 'articles': [{'id': '82', 'title': 'ارتفاع حصيلة ضحايا حادث ملعب 5 جويلية في الجزائر', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/worldfoot/408005.html', 'summary': 'ارتفاع حصيلة ضحايا حادث ملعب 5 جويلية في الجزائر. ارتفعت حصيلة حادث سقوط عدد من المناصرين في ملعب 5 جويلية بالجزائر العاصمة إلى ثلاثة قتلى، وفق ما أعلنته وزارة الصحة الجزائرية في بيان رسمي', 'size': 2}, {'id': '229', 'title': 'وفيات وعشرات المصابين في تدافع بملعب لكرة القدم في الجزائر', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%88%d9%81%d9%8a%d8%a7%d8%aa-%d9%88%d8%b9%d8%b4%d8%b1%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d8%b5%d8%a7%d8%a8%d9%8a%d9%86-%d9%81%d9%8a-%d8%aa%d8%af%d8%a7%d9%81%d8%b9-%d8%a8%d9%85%d9%84%d8%b9%d8%a8-%d9%84/', 'summary': 'وفيات وعشرات المصابين في تدافع بملعب لكرة القدم في الجزائر. المساء اليوم: أعلنت وزارة الصحة الجزائرية، الأحد، ارتفاع حصيلة حادث سقوط عدد من مشجعي فريق مولودية الجزائر من مدرجات ملعب “5 جويلية “بالجزائر العاصمة، إلى ثلاث وفيات وإصابة 81 غادر أغلبهم المستشفيات. وجاء في بيان', 'size': 2}], 'main_title': 'ارتفاع حصيلة ضحايا حادث ملعب 5 جويلية في الجزائر'}, {'community_id': '4', 'articles': [{'id': '114', 'title': '"نارسا" تنبّه المسافرين .. لوحة ترقيم المركبات نحو الخارج يجب أن تحترم هذا الشكل (وثيقة)', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/408038.html', 'summary': '"نارسا" تنبّه المسافرين .. لوحة ترقيم المركبات نحو الخارج يجب أن تحترم هذا الشكل (وثيقة). دعت الوكالة الوطنية للسلامة الطرقية "نارسا"، عموم المواطنات والمواطنين الراغبين في السفر خارج أرض الوطن خلال فترة العطلة الصيفية، إلى احترام المقتضيات القانونية الجاري بها', 'size': 2}, {'id': '122', 'title': 'مع اقتراب عطلة الصيف.. نارسا تذكر المواطنين بضوابط السفر إلى الخارج', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%85%d8%b9-%d8%a7%d9%82%d8%aa%d8%b1%d8%a7%d8%a8-%d8%b9%d8%b7%d9%84%d8%a9-%d8%a7%d9%84%d8%b5%d9%8a%d9%81-%d9%86%d8%a7%d8%b1%d8%b3%d8%a7-%d8%aa%d8%b0%d9%83%d8%b1-%d8%a7%d9%84%d9%85%d9%88%d8%a7%d8%b7/', 'summary': 'مع اقتراب عطلة الصيف.. نارسا تذكر المواطنين بضوابط السفر إلى الخارج. دعت الوكالة الوطنية للسلامة الطرقية (نارسا) عموم المواطنات والمواطنين المغاربة، ولاسيما الذين يعتزمون منهم السفر إلى الخارج على متن مركباتهم خلال الصيف، إلى الالتزام بالمقتضيات القانونية الجاري بها العمل، خصوصا تلك المتعلقة بلوحات تسجيل المركبات، المنصوص عليها في المادة 28 من قرار وزير التجهيز والنقل رقم 2711.10 المتعلق بتسجيل المركبات ذات محرك والمقطورات، كما وقع', 'size': 3}, {'id': '151', 'title': '“نارسا” تدعو المغاربة المتجهين للخارج إلى التقيد بمقتضيات لوحة تسجيل المركبات', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1079790.html', 'summary': '“نارسا” تدعو المغاربة المتجهين للخارج إلى التقيد بمقتضيات لوحة تسجيل المركبات. دعت الوكالة الوطنية للسلامة الطرقية “Nara” السائقين المغاربة المتجهين بمركباتهم نحو الخارج، إلى الالتزام بالمقتضيات القانونية الجاري بها العمل، خصوصا تلك المتعلقة بلوحة تسجيل المركبات، المنصوص عليها في المادة 28 من قرار وزير التجهيز والنقل رقم 2711,10 المتعلق بتسجيل المركبات ذات محرك والمقطورات. وحثت “نارسا” اهؤلاء السائقين على ضرورة التأكد من تطابق لوحات تسجيل سياراتهم ظهرت المقالة “نارسا” تدعو المغاربة المتجهين للخارج إلى التقيد بمقتضيات لوحة تسجيل المركبات  .', 'size': 2}], 'main_title': 'مع اقتراب عطلة الصيف.. نارسا تذكر المواطنين بضوابط السفر إلى الخارج'}, {'community_id': '2', 'articles': [{'id': '119', 'title': 'صاعق كهربائي ينهي عربدة مبحوث عنه بسلا هدد المارة بسلاح أبيض', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/408043.html', 'summary': 'صاعق كهربائي ينهي عربدة مبحوث عنه بسلا هدد المارة بسلاح أبيض. تمكنت عناصر الشرطة بمنطقة أمن بطانة بمدينة سلا، اليوم الأحد 22 يونيو الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية', 'size': 3}, {'id': '167', 'title': '"صعصع سلا" يسقط في شباك الأمن', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b5%d8%b9%d8%b5%d8%b9-%d8%b3%d9%84%d8%a7-%d9%8a%d8%b3%d9%82%d8%b7-%d9%81%d9%8a-%d8%b4%d8%a8%d8%a7%d9%83-%d8%a7%d9%84%d8%a3%d9%85%d9%86/', 'summary': '"صعصع سلا" يسقط في شباك الأمن. تمكنت عناصر الشرطة بمنطقة أمن بطانة بمدينة سلا، اليوم الأحد، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية العديدة في الجرائم العنيفة، وذلك للاشتباه في تورطه في حيازة السلاح الأبيض والتهديد به في ظروف تشكل خطرا على أمن وسلامة المواطنين. وكانت مصالح الأمن الوطني قد رصدت شريط فيديو منشور على صفحات  "صعصع سلا" يسقط في شباك الأمن     .', 'size': 2}, {'id': '180', 'title': 'أمن سلا يستخدم جهاز الصعق الكهربائي لتوقيف شخص هائج ومسلح', 'source': 'rue20.com', 'link': 'https://rue20.com/914853.html', 'summary': 'أمن سلا يستخدم جهاز الصعق الكهربائي لتوقيف شخص هائج ومسلح. . الرباط تمكنت عناصر الشرطة بمنطقة أمن بطانة بمدينة سلا، اليوم الأحد 22 يونيو الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية العديدة في الجرائم العنيفة، وذلك للاشتباه في تورطه في حيازة السلاح الأبيض والتهديد به في ظروف تشكل خطرا على أمن وسلامة المواطنين. وكانت مصالح الأمن الوطني قد الخبر أمن سلا يستخدم جهاز الصعق الكهربائي لتوقيف شخص هائج ومسلح  .', 'size': 3}, {'id': '215', 'title': 'الصعق الكهربائي يشل حركة مجرم خطير بسلا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/223272/', 'summary': 'الصعق الكهربائي يشل حركة مجرم خطير بسلا. تمكنت عناصر الشرطة بمنطقة أمن بطانة بمدينة سلا، اليوم الأحد 22 يونيو الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية العديدة في الجرائم العنيفة، وذلك للاشتباه في تورطه في حيازة السلاح الأبيض والتهديد به في ظروف تشكل خطرا على أمن وسلامة المواطنين. وكانت مصالح الأمن الوطني قد رصدت شريط فيديو', 'size': 4}], 'main_title': 'الصعق الكهربائي يشل حركة مجرم خطير بسلا'}, {'community_id': '7', 'articles': [{'id': '123', 'title': 'إسطنبول.. الدورة 51 لمجلس وزراء خارجية منظمة التعاون الإسلامي تبرز جهود جلالة الملك محمد السادس لفائدة القارة الإفريقية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a5%d8%b3%d8%b7%d9%86%d8%a8%d9%88%d9%84-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d8%a9-51-%d9%84%d9%85%d8%ac%d9%84%d8%b3-%d9%88%d8%b2%d8%b1%d8%a7%d8%a1-%d8%ae%d8%a7%d8%b1%d8%ac%d9%8a%d8%a9-%d9%85%d9%86/', 'summary': 'إسطنبول.. الدورة 51 لمجلس وزراء خارجية منظمة التعاون الإسلامي تبرز جهود جلالة الملك محمد السادس لفائدة القارة الإفريقية. ثمن الاجتماع الوزاري لمنظمة التعاون الإسلامي، الذي اختتم أشغاله اليوم الأحد باسطنبول، مبادرة جلالة الملك محمد السادس، الهادفة إلى تمكين دول الساحل من الولوج إلى المحيط الأطلسي. وأكد الاجتماع على الأهمية الاستراتيجية لهذه المبادرة التي تندرج في إطار التضامن الفاعل للمملكة المغربية مع البلدان الإفريقية الشقيقة عموما ومنطقة الساحل على وجه الخصوص. كما نو ه', 'size': 4}, {'id': '148', 'title': '“التعاون الإسلامي” تشيد بفتح المغرب للواجهة الأطلسية في وجه دول الساحل', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1079786.html', 'summary': '“التعاون الإسلامي” تشيد بفتح المغرب للواجهة الأطلسية في وجه دول الساحل. ثمن الاجتماع الوزاري لمنظمة التعاون الإسلامي، الذي اختتم أشغاله اليوم الأحد باسطنبول، مبادرة الملك محمد السادس، الهادفة إلى تمكين دول الساحل من الولوج إلى المحيط الأطلسي. وأكد الاجتماع على الأهمية الاستراتيجية لهذه المبادرة، التي تندرج في إطار التضامن الفاعل للمملكة المغربية مع البلدان الإفريقية الشقيقة عموما ومنطقة الساحل على وجه الخصوص. كما نو ه بمبادرة ظهرت المقالة “التعاون الإسلامي” تشيد بفتح المغرب للواجهة الأطلسية في وجه دول الساحل  .', 'size': 3}, {'id': '185', 'title': 'وزراء خارجية منظمة التعاون الإسلامي يشيدون بالجهود الملكية لفائدة القارة الإفريقية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/467219.html', 'summary': 'وزراء خارجية منظمة التعاون الإسلامي يشيدون بالجهود الملكية لفائدة القارة الإفريقية. ثمن الاجتماع الوزاري لمنظمة التعاون الإسلامي، الذي اختتم أشغاله اليوم الأحد باسطنبول، مبادرة الملك محمد السادس، الهادفة إلى تمكين دول الساحل من الولوج إلى المحيط الأطلسي. وأكد الاجتماع على الأهمية الاستراتيجية لهذه المبادرة، التي تندرج في إطار التضامن الفاعل للمملكة المغربية مع البلدان الإفريقية الشقيقة عموما ومنطقة الساحل على وجه الخصوص. كما نوّه بمبادرة ” …', 'size': 3}, {'id': '236', 'title': 'منظمة التعاون الإسلامي تسلط الضوء على جهود الملك محمد السادس لفائدة القارة الإفريقية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%86%d8%b8%d9%85%d8%a9-%d8%a7%d9%84%d8%aa%d8%b9%d8%a7%d9%88%d9%86-%d8%a7%d9%84%d8%a5%d8%b3%d9%84%d8%a7%d9%85%d9%8a-%d8%aa%d8%b3%d9%84%d8%b7-%d8%a7%d9%84%d8%b6%d9%88%d8%a1-%d8%b9%d9%84%d9%89/', 'summary': 'منظمة التعاون الإسلامي تسلط الضوء على جهود الملك محمد السادس لفائدة القارة الإفريقية. نوّه الاجتماع الوزاري لمنظمة التعاون الإسلامي، الذي اختتم أشغاله اليوم الأحد بإسطنبول، بمبادرة الملك محمد السادس، الهادفة إلى تمكين دول الساحل من الولوج إلى المحيط الأطلسي. وأبرز الاجتماع الأهمية الاستراتيجية لهذه المبادرة التي تندرج في إطار التضامن الفاعل للمملكة المغربية مع البلدان الإفريقية الشقيقة عموما ومنطقة الساحل على وجه الخصوص. وأشاد كذلك بمبادرة …  منظمة التعاون الإسلامي تسلط الضوء على جهود الملك محمد السادس لفائدة القارة الإفريقية     .', 'size': 4}], 'main_title': 'إسطنبول.. الدورة 51 لمجلس وزراء خارجية منظمة التعاون الإسلامي تبرز جهود جلالة الملك محمد السادس لفائدة القارة الإفريقية'}, {'community_id': '6', 'articles': [{'id': '135', 'title': 'الكركرات.. إحباط تهريب 92 كلغ من الكوكايين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/316295/', 'summary': 'الكركرات.. إحباط تهريب 92 كلغ من الكوكايين. أسفرت عملية أمنية مشتركة بين عناصر الأمن الوطني والجمارك العاملة بمعبر الكركرات الحدودي جنوب مدينة الداخلة اليوم الأحد 22 يونيو الجاري، عن إجهاض محاولة للتهريب الدولي للمخدرات، وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين. وقد مكنت عملية المراقبة الحدودية وإجراءات التفتيش من ضبط شحنات المخدرات مخبأة بعناية في تجاويف خزان الوقود بشاحنة خاصة', 'size': 5}, {'id': '166', 'title': 'ضبط كميات مهمة من المخدرات في معبر الكركرات', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b6%d8%a8%d8%b7-%d9%83%d9%85%d9%8a%d8%a7%d8%aa-%d9%85%d9%87%d9%85%d8%a9-%d9%85%d9%86-%d8%a7%d9%84%d9%85%d8%ae%d8%af%d8%b1%d8%a7%d8%aa-%d9%81%d9%8a-%d9%85%d8%b9%d8%a8%d8%b1-%d8%a7%d9%84%d9%83%d8%b1/', 'summary': 'ضبط كميات مهمة من المخدرات في معبر الكركرات. أسفرت عملية أمنية مشتركة بين عناصر الأمن الوطني والجمارك العاملة بمعبر الكركرات الحدودي جنوب مدينة الداخلة، اليوم الأحد، عن إجهاض محاولة للتهريب الدولي للمخدرات، وحجز 92 كيلوغراما و900 غرام من مخدر الكوكايين. وقد مكنت عملية المراقبة الحدودية وإجراءات التفتيش من ضبط شحنات المخدرات مخبأة بعناية في تجاويف خزان الوقود بشاحنة خاصة بالنقل الدولي للبضائع  ضبط كميات مهمة من المخدرات في معبر الكركرات     .', 'size': 5}, {'id': '174', 'title': 'الكركرات…إجهاض محاولة للتهريب الدولي للمخدرات وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين', 'source': 'rue20.com', 'link': 'https://rue20.com/914864.html', 'summary': 'الكركرات…إجهاض محاولة للتهريب الدولي للمخدرات وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين. . العيون أسفرت عملية أمنية مشتركة بين عناصر الأمن الوطني والجمارك العاملة بمعبر الكركرات الحدودي جنوب مدينة الداخلة، اليوم الأحد، عن إجهاض محاولة للتهريب الدولي للمخدرات، وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين. وذكر مصدر أمني أن عملية المراقبة الحدودية وإجراءات التفتيش مكنت من ضبط شحنات المخدرات مخبأة بعناية في تجاويف خزان الخبر الكركرات…إجهاض محاولة للتهريب الدولي للمخدرات وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين  .', 'size': 5}, {'id': '216', 'title': 'عملية نوعية للأمن والجمارك بالكركارات تجهض محاولة تهريب دولي للمخدرات وتحجز 92 كيلو و 900 غرام من الكوكايين', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/223270/', 'summary': 'عملية نوعية للأمن والجمارك بالكركارات تجهض محاولة تهريب دولي للمخدرات وتحجز 92 كيلو و 900 غرام من الكوكايين. أسفرت عملية أمنية مشتركة بين عناصر الأمن الوطني والجمارك العاملة بمعبر الكركرات الحدودي جنوب مدينة الداخلة اليوم الأحد 22 يونيو الجاري، عن إجهاض محاولة للتهريب الدولي للمخدرات، وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين. وقد مكنت عملية المراقبة الحدودية وإجراءات التفتيش من ضبط شحنات المخدرات مخبأة بعناية في تجاويف خزان الوقود بشاحنة خاصة', 'size': 4}, {'id': '230', 'title': 'إجهاض محاولة لتهريب كمية مهمة من مخدر الكوكايين بمعبر الكركرات الحدودي (صورة)', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a5%d8%ac%d9%87%d8%a7%d8%b6-%d9%85%d8%ad%d8%a7%d9%88%d9%84%d8%a9-%d9%84%d8%aa%d9%87%d8%b1%d9%8a%d8%a8-%d9%83%d9%85%d9%8a%d8%a9-%d9%85%d9%87%d9%85%d8%a9-%d9%85%d9%86-%d9%85%d8%ae%d8%af%d8%b1-%d8%a7/', 'summary': 'إجهاض محاولة لتهريب كمية مهمة من مخدر الكوكايين بمعبر الكركرات الحدودي (صورة). أسفرت عملية أمنية مشتركة بين عناصر الأمن الوطني والجمارك العاملة بمعبر الكركرات الحدودي جنوب مدينة الداخلة اليوم الأحد 22 يونيو الجاري، عن إجهاض محاولة للتهريب الدولي للمخدرات، وحجز 92 كيلوغراما و 900 غرام من مخدر الكوكايين. وكشفت مصادر أمنية، أن عملية المراقبة الحدودية وإجراءات التفتيش، مكنت من ضبط شحنات المخدرات مخبأة بعناية في …  إجهاض محاولة لتهريب كمية مهمة من مخدر الكوكايين بمعبر الكركرات الحدودي (صورة)     .', 'size': 4}], 'main_title': 'الكركرات.. إحباط تهريب 92 كلغ من الكوكايين'}, {'community_id': '5', 'articles': [{'id': '143', 'title': 'خبراء: سيادة المغرب على صحرائه ثابتة قانونيا وموثقة تاريخيا', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/316261/', 'summary': 'خبراء: سيادة المغرب على صحرائه ثابتة قانونيا وموثقة تاريخيا. أكد متدخلون في ندوة وطنية حول قضية الصحراء المغربية، نظمت يوم أمس السبت بالعيون تحت عنوان “من شرعية التاريخ إلى رهانات المستقبل”، أن سيادة المغرب على أقاليمه الجنوبية تستند إلى شرعية تاريخية وقانونية راسخة، مبرزين الدينامية التنموية الشاملة التي تعرفها هذه الأقاليم. واستعرض المتدخلون في هذه الندوة المنظمة من طرف مجموعة العمل الموضوعاتية المؤقتة بمجلس', 'size': 2}, {'id': '193', 'title': 'ندوة: سيادة المغرب على أقاليمه الجنوبية تستند إلى شرعية تاريخية وقانونية راسخة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/467195.html', 'summary': 'ندوة: سيادة المغرب على أقاليمه الجنوبية تستند إلى شرعية تاريخية وقانونية راسخة. أكد متدخلون في ندوة وطنية حول قضية الصحراء المغربية، نظمت أمس السبت بالعيون تحت عنوان "من شرعية التاريخ إلى رهانات المستقبل"، أن سيادة المغرب على أقاليمه الجنوبية تستند إلى شرعية تاريخية وقانونية راسخة، مبرزين الدينامية التنموية الشاملة التي تعرفها هذه الأقاليم.', 'size': 2}], 'main_title': 'خبراء: سيادة المغرب على صحرائه ثابتة قانونيا وموثقة تاريخيا'}, {'community_id': '3', 'articles': [{'id': '159', 'title': 'إعلان إسطنبول.. اعتراف دولي بجهود الملك محمد السادس لحماية القدس ودعم التنمية بإفريقيا', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1079746.html', 'summary': 'إعلان إسطنبول.. اعتراف دولي بجهود الملك محمد السادس لحماية القدس ودعم التنمية بإفريقيا. أشادت الدورة 51 لمجلس وزراء خارجية منظمة التعاون الإسلامي، التي التأمت يومي 21 و22 يونيو في إسطنبول، في قرارها المتعلق بـ”عاصمة دولة فلسطين، القدس الشريف” بالجهود المتواصلة التي ما فتئ يبذلها الملك محمد السادس، رئيس لجنة القدس، لحماية المقدسات الإسلامية في القدس الشريف. وثمنت الدور الملموس الذي تضطلع به وكالة بيت مال القدس الشريف، الذراع ظهرت المقالة إعلان إسطنبول.. اعتراف دولي بجهود الملك محمد السادس لحماية القدس ودعم التنمية بإفريقيا  .', 'size': 3}, {'id': '189', 'title': 'منظمة التعاون الإسلامي تشيد بدور الملك رئيس لجنة القدس', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/467210.html', 'summary': 'منظمة التعاون الإسلامي تشيد بدور الملك رئيس لجنة القدس. أشادت الدورة 51 لمجلس وزراء خارجية منظمة التعاون الإسلامي، التي التأمت يومي 21 و22 يونيو في إسطنبول، في قرارها المتعلق ب”عاصمة دولة فلسطين، القدس الشريف” بالجهود المتواصلة التي ما فتئ يبذلها الملك محمد السادس، رئيس لجنة القدس، لحماية المقدسات الإسلامية في القدس الشريف. وثمنت الدور الملموس الذي تضطلع به وكالة بيت مال القدس الشريف، الذراع …', 'size': 3}, {'id': '234', 'title': 'منظمة التعاون الإسلامي تشيد بدور الملك محمد السادس في حماية المقدسات في القدس الشريف', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%86%d8%b8%d9%85%d8%a9-%d8%a7%d9%84%d8%aa%d8%b9%d8%a7%d9%88%d9%86-%d8%a7%d9%84%d8%a5%d8%b3%d9%84%d8%a7%d9%85%d9%8a-%d8%aa%d8%b4%d9%8a%d8%af-%d8%a8%d8%af%d9%88%d8%b1-%d8%a7%d9%84%d9%85%d9%84/', 'summary': 'منظمة التعاون الإسلامي تشيد بدور الملك محمد السادس في حماية المقدسات في القدس الشريف. أشادت الدورة 51 لمجلس وزراء خارجية منظمة التعاون الإسلامي، التي التأمت يومي 21 و22 يونيو في إسطنبول، في قرارها المتعلق ب”عاصمة دولة فلسطين، القدس الشريف” بالجهود المتواصلة التي ما فتئ يبذلها الملك محمد السادس، رئيس لجنة القدس، لحماية المقدسات الإسلامية في القدس الشريف. وثمنت الدور الملموس الذي تضطلع به وكالة بيت مال القدس …  منظمة التعاون الإسلامي تشيد بدور الملك محمد السادس في حماية المقدسات في القدس الشريف     .', 'size': 3}], 'main_title': 'إعلان إسطنبول.. اعتراف دولي بجهود الملك محمد السادس لحماية القدس ودعم التنمية بإفريقيا'}, {'community_id': '9', 'articles': [{'id': '175', 'title': 'نهضة بركان يتأهل لنهائي كأس العرش وعينه على رباعية تاريخية', 'source': 'rue20.com', 'link': 'https://rue20.com/914860.html', 'summary': 'نهضة بركان يتأهل لنهائي كأس العرش وعينه على رباعية تاريخية. . الرباط تأهل فريق نهضة بركان إلى نهائي كأس العرش لكرة القدم برسم موسم 2023 -2024، بفوزه على المغرب التطواني بنتيجة (3-0)، في المباراة التي جمعتهما اليوم الأحد بالمركب الرياضي بفاس، لحساب نصف النهائي. وسجل أهداف الفريق البركاني كل من أسامة المليوي (د 45 + 4)، وماتيوس سانتوس (د 77)، وعماد الرياحي (د 83). الخبر نهضة بركان يتأهل لنهائي كأس العرش وعينه على رباعية تاريخية  .', 'size': 2}, {'id': '343', 'title': 'كأس العرش.. بركان يتأهل إلى النهائي بفوزه على المغرب التطواني', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%83%d8%a3%d8%b3-%d8%a7%d9%84%d8%b9%d8%b1%d8%b4-%d8%a8%d8%b1%d9%83%d8%a7%d9%86-%d9%8a%d8%aa%d8%a3%d9%87%d9%84-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d9%86%d9%87%d8%a7%d8%a6%d9%8a-%d8%a8%d9%81%d9%88%d8%b2/', 'summary': 'كأس العرش.. بركان يتأهل إلى النهائي بفوزه على المغرب التطواني. تأهل فريق نهضة بركان إلى نهائي كأس العرش لكرة القدم برسم موسم 2023 -2024، بفوزه على المغرب التطواني بنتيجة (3-0)، في المباراة التي جمعتهما أمس الأحد بالمركب الرياضي بفاس، لحساب نصف النهائي. وسجل أهداف الفريق البركاني كل من أسامة المليوي (د 45 + 4)، وماتيوس سانتوس (د 77)، وعماد الرياحي (د 83). وسيلاقي نهضة بركان،  كأس العرش.. بركان يتأهل إلى النهائي بفوزه على المغرب التطواني     .', 'size': 2}], 'main_title': 'نهضة بركان يتأهل لنهائي كأس العرش وعينه على رباعية تاريخية'}, {'community_id': '10', 'articles': [{'id': '316', 'title': 'توقعات طقس اليوم الاثنين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/316298/', 'summary': 'توقعات طقس اليوم الاثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، استمرار موجة الحر بالمنطقة الشرقية والجنوب الشرقي وداخل الأقاليم الصحراوية. كما سيلاحظ تشكل كتل ضبابية وسحب منخفضة، خلال الليل والصباح بالسهول الشمالية والوسطى والشمال الغربي للأقاليم الصحراوية. فضلا عن تمركز سحب غير مستقرة مرفوقة بقطرات مطرية رعدية أو زخات رعدية فوق كل من مرتفعات الأطلس الكبير والمتوسط', 'size': 3}, {'id': '346', 'title': 'طقس الاثنين.. استمرار موجة الحرارة بالمناطق الشرقية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d8%b3%d8%aa%d9%85%d8%b1%d8%a7%d8%b1-%d9%85%d9%88%d8%ac%d8%a9-%d8%a7%d9%84%d8%ad%d8%b1%d8%a7%d8%b1%d8%a9-%d8%a8%d8%a7%d9%84%d9%85%d9%86%d8%a7%d8%b7%d9%82-%d8%a7%d9%84%d8%b4%d8%b1%d9%82%d9%8a/', 'summary': 'طقس الاثنين.. استمرار موجة الحرارة بالمناطق الشرقية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، استمرار موجة الحر بالمنطقة الشرقية والجنوب الشرقي وداخل الأقاليم الصحراوية. كما سيلاحظ تشكل كتل ضبابية وسحب منخفضة، خلال الليل والصباح بالسهول الشمالية والوسطى والشمال الغربي للأقاليم الصحراوية. فضلا عن تمركز سحب غير مستقرة مرفوقة بقطرات مطرية رعدية أو زخات رعدية فوق كل من مرتفعات الأطلس الكبير والمتوسط  طقس الاثنين.. استمرار موجة الحرارة بالمناطق الشرقية     .', 'size': 3}, {'id': '347', 'title': 'توقعات أحوال الطقس لليوم الاثنين', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357458.html', 'summary': 'توقعات أحوال الطقس لليوم الاثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، استمرار موجة الحر بالمنطقة الشرقية والجنوب الشرقي وداخل الأقاليم الصحراوية. كما سيلاحظ تشكل كتل ضبابية وسحب منخفضة، خلال الليل والصباح بالسهول الشمالية والوسطى والشمال الغربي للأقاليم الصحراوية. فضلا عن تمركز سحب غير مستقرة مرفوقة بقطرات مطرية رعدية أو زخات رعدية فوق كل من مرتفعات الأطلس الكبير والمتوسط', 'size': 3}], 'main_title': 'توقعات طقس اليوم الاثنين'}, {'community_id': '8', 'articles': [{'id': '319', 'title': 'تدمير حي سكني في تل أبيب بصواريخ إيرانية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-576393.html', 'summary': 'تدمير حي سكني في تل أبيب بصواريخ إيرانية. سقطت صواريخ إيرانية، صباح الأحد، في عدة مواقع داخل إسرائيل، ما تسبب بإصابة 16 شخصا وتدمير عدة مواقع، وذلك عقب الضربات الأمريكية التي استهدفت فجرا منشآت نووية في إيران. وقالت إذاعة الجيش الإسرائيلي، إن إيران أطلقت 27 صاروخا باتجاه البلاد على دفعتين، 22 بالأولى و5 بالثانية، بينما أفادت القناة 13 العبرية بإصابة 16', 'size': 2}, {'id': '324', 'title': 'إسرائيل تستهدف مواقع عسكرية بطهران ورشقات صاروخية إيرانية تضرب\xa0 تل أبيب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1079877.html', 'summary': 'إسرائيل تستهدف مواقع عسكرية بطهران ورشقات صاروخية إيرانية تضرب تل أبيب. أعلن الجيش الإسرائيلي عن تنفيذ عدة غارات اليوم الإثنين على مواقع عسكرية في طهران ومدن إيرانية أخرى، في الوقت الذي دوت فيه صفارات الإنذار قبل ظهر اليوم في مناطق واسعة شمال وجنوب إسرائيل، في أعقاب موجة جديدة من الصواريخ أطلقت من إيران. وقال الجيش الإسرائيلي إنه قصف ستة مطارات في غرب وشرق ووسط إيران، وألحقت ظهرت المقالة إسرائيل تستهدف مواقع عسكرية بطهران ورشقات صاروخية إيرانية تضرب تل أبيب  .', 'size': 2}], 'main_title': 'تدمير حي سكني في تل أبيب بصواريخ إيرانية'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 30/08/2025 - 06h14</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '6', 'articles': [{'id': '2', 'title': 'زياش يقترب من الدوري الإسباني', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%b2%d9%8a%d8%a7%d8%b4-%d9%8a%d9%82%d8%aa%d8%b1%d8%a8-%d9%85%d9%86-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d9%8a-%d8%a7%d9%84%d8%a5%d8%b3%d8%a8%d8%a7%d9%86%d9%8a-1616032.html', 'summary': 'زياش يقترب من الدوري الإسباني. قطع نادي إلتشي الإسباني لكرة القدم، شوطا كبيرا في طريق مفاوضاته مع الدولي المغربي حكيم زياش، للتعاقد معه خلال فترة الانتقالات الصيفية، في صفقة انتقال حر، بعدما ظل بدون ناد، منذ آخر تجربة له بألوان نادي الدحيل، حيث لم يعمر طويلا بدوري نجوم قطر. وأشارت صحيفة “آس” الإسبانية، إلى أن إلتشي بات قريبا جدا من  زياش يقترب من الدوري الإسباني     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '117', 'title': 'الميركاتو الصيفي. حكيم زياش على بعد خطوة من اللعب في إلتشي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d9%85%d9%8a%d8%b1%d9%83%d8%a7%d8%aa%d9%88-%d8%a7%d9%84%d8%b5%d9%8a%d9%81%d9%8a-%d8%ad%d9%83%d9%8a%d9%85-%d8%b2%d9%8a%d8%a7%d8%b4-%d8%b9%d9%84%d9%89-%d8%a8%d8%b9%d8%af-%d8%ae%d8%b7%d9%88/', 'summary': 'الميركاتو الصيفي. حكيم زياش على بعد خطوة من اللعب في إلتشي. أفادت تقارير صحفية إسبانية أن الدولي المغربي حكيم زياش بات قريبًا جدًا من الانضمام إلى صفوف نادي إلتشي، بعد أن أصبح لاعبًا حرًا منذ رحيله عن الدحيل القطري، عقب تجربة قصيرة لم تتجاوز ستة أشهر. وذكرت شبكة “copeelche” أن المفاوضات بين الطرفين وصلت لمراحلها الأخيرة، ولم يتبق سوى بعض التفاصيل البسيطة قبل توقيع العقد', 'size': 2}, {'id': '404', 'title': 'حكيم زياش يقترب من الدوري الإسباني', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%ad%d9%83%d9%8a%d9%85-%d8%b2%d9%8a%d8%a7%d8%b4-%d9%8a%d9%82%d8%aa%d8%b1%d8%a8-%d9%85%d9%86-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d9%8a-%d8%a7%d9%84%d8%a5%d8%b3%d8%a8%d8%a7%d9%86%d9%8a/', 'summary': 'حكيم زياش يقترب من الدوري الإسباني. تقدم نادي إلتشي الإسباني لكرة القدم بشكل كبير في مفاوضاته مع الدولي المغربي حكيم زياش، من أجل ضمه خلال فترة الانتقالات الصيفية الحالية، في صفقة انتقال حر، بعد أن ظل اللاعب بدون فريق منذ نهاية تجربته القصيرة مع نادي الدحيل القطري. وكشفت صحيفة “آس” الإسبانية أن إلتشي بات قريبًا من حسم الصفقة، متفوقًا …  حكيم زياش يقترب من الدوري الإسباني     .', 'size': 3}], 'main_title': 'حكيم زياش يقترب من الدوري الإسباني'}, {'community_id': '1', 'articles': [{'id': '53', 'title': 'عريس يثير القلق بين الضيوف بعد سقوطه أثناء حفل الزفاف (فيديو)', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-652698.html', 'summary': 'عريس يثير القلق بين الضيوف بعد سقوطه أثناء حفل الزفاف (فيديو). شهدت مدينة شيرناك التركية حادثة طريفة خلال إحدى حفلات الزفاف، بعدما فقد العريس وعيه فجأة أثناء مشاركته مع العروس في تقطيع الكعكة، نتيجة إرهاقه الشديد بعد يومين كاملين من السهر وقلة النوم. الفيديو المتداول على منصات التواصل الاجتماعي أظهر العريس وهو يحاول الوقوف بجانب العروس، إلا أن التعب جعله يفقد توازنه بشكل مفاجئ. ولحسن الحظ، تدخلت العروس وعدد من الحضور بسرعة، ما حال دون سقوطه على الكعكة وتمكنوا من الإمساك به قبل أن ينهار أرضًا. Voir cette publicati ur Intagram Une publicati partagée par Haberlercom (@haberlercom) وأكد الحاضرون أن العريس تعافى بسرعة بعد الحادثة، وكانت حالته الصحية مستقرة ولم تستدعي نقله إلى أي جهة طبية، فيما أثار الفيديو موجة من التعليقات المرحة على مواقع التواصل الاجتماعي حول ضغط التحضيرات والإرهاق في حفلات الزفاف.', 'size': 2}, {'id': '94', 'title': 'ليلة العمر تتحول لموقف محرج.. عريس يفقد وعيه في حفل زفافه بسبب الإجهاد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/last/411832.html', 'summary': 'ليلة العمر تتحول لموقف محرج.. عريس يفقد وعيه في حفل زفافه بسبب الإجهاد. شهدت مدينة شيرناك التركية حادثة طريفة خلال أحد حفلات الزفاف، بعدما فقد العريس وعيه أثناء مشاركته في تقطيع الكعكة، إثر يومين كاملين من السهر المتواصل', 'size': 2}], 'main_title': 'عريس يثير القلق بين الضيوف بعد سقوطه أثناء حفل الزفاف (فيديو)'}, {'community_id': '2', 'articles': [{'id': '67', 'title': 'السكر والسياقة المتهورة ينتهيان بتوقيف شخصين في سلا', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205484', 'summary': 'السكر والسياقة المتهورة ينتهيان بتوقيف شخصين في سلا.  تمكنت عناصر الشرطة بالأمن الإقليمي بمدينة سلا، مساء أمس الخميس 28 غشت الجاري، من توقيف شخص يبلغ من العمر 32 سنة، وذلك للاشتباه في تورطه في السكر العلني البين والسياقة بطريقة استعراضية بالشارع العام وتعريض أمن المواطنين وسلامة مستعملي الطريق للخطر. وكان المشتبه فيه قد أقدم على سياقة سيارة نفعية بطريقة استعراضية وخطيرة بالشارع', 'size': 3}, {'id': '215', 'title': 'السكر العلني والسياقة الاستعراضية تقود شخصا إلى الكوميسارية بسلا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226460/', 'summary': 'السكر العلني والسياقة الاستعراضية تقود شخصا إلى الكوميسارية بسلا. تمكنت عناصر الشرطة بالأمن الإقليمي بمدينة سلا، مساء أمس الخميس 28 غشت الجاري، من توقيف شخص يبلغ من العمر 32 سنة، وذلك للاشتباه في تورطه في السكر العلني البين والسياقة بطريقة استعراضية بالشارع العام وتعريض أمن المواطنين وسلامة مستعملي الطريق للخطر. وكان المشتبه فيه قد أقدم على سياقة سيارة نفعية بطريقة استعراضية وخطيرة بالشارع العام', 'size': 2}, {'id': '241', 'title': 'سلا.. توقيف ثلاثيني بعد ظهوره في فيديو يقود سيارة بطريقة استعراضية وخطيرة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b3%d9%84%d8%a7-%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%ab%d9%84%d8%a7%d8%ab%d9%8a%d9%86%d9%8a-%d8%a8%d8%b9%d8%af-%d8%b8%d9%87%d9%88%d8%b1%d9%87-%d9%81%d9%8a-%d9%81%d9%8a%d8%af%d9%8a%d9%88-%d9%8a/', 'summary': 'سلا.. توقيف ثلاثيني بعد ظهوره في فيديو يقود سيارة بطريقة استعراضية وخطيرة. أفاد مصدر أمني أن عناصر الشرطة بالأمن الإقليمي بمدينة سلا، تمكنت مساء أمس الخميس 28 غشت الجاري، من توقيف شخص يبلغ من العمر 32 سنة، وذلك للاشتباه في تورطه في السكر العلني البين والسياقة بطريقة استعراضية بالشارع العام وتعريض أمن المواطنين وسلامة مستعملي الطريق للخطر. وحسب ذات المصدر، كان المشتبه فيه قد أقدم …  سلا.. توقيف ثلاثيني بعد ظهوره في فيديو يقود سيارة بطريقة استعراضية وخطيرة     .', 'size': 2}], 'main_title': 'السكر والسياقة المتهورة ينتهيان بتوقيف شخصين في سلا'}, {'community_id': '10', 'articles': [{'id': '109', 'title': 'تركيا تقطع العلاقات التجارية مع إسرائيل وتغلق المجال الجوي أمام طائراتها', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/world/411847.html', 'summary': 'تركيا تقطع العلاقات التجارية مع إسرائيل وتغلق المجال الجوي أمام طائراتها. أعلن وزير الخارجية التركي هاكان فيدان، الجمعة، أن أنقرة أنهت جميع علاقاتها التجارية مع إسرائيل، في خطوة وصفها بأنها تأتي احتجاجاً على الحرب في غزة. وقال', 'size': 2}, {'id': '153', 'title': 'تركيا تعلن قطع علاقاتها مع إسرائيل وغلق مجالها الجوي أمام طائراتها', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095951.html', 'summary': 'تركيا تعلن قطع علاقاتها مع إسرائيل وغلق مجالها الجوي أمام طائراتها. أعلنت تركيا، اليوم الجمعة، قطع جميع العلاقات الاقتصادية والتجارية مع إسرائيل، وإغلاق مجالها الجوي أمام الطائرات الإسرائيلية. وجاء هذا القرار، بحسب وزير الخارجية التركي هاكان فيدان، ردا على “استمرار المجازر الجماعية” الإسرائيلية في قطاع غزة وتوسع سياساتها العدوانية في المنطقة. وفي مؤتمر صحفي، صرح فيدان أن تركيا قررت قطع العلاقات الاقتصادية والتجارية بشكل كامل مع ظهرت المقالة تركيا تعلن قطع علاقاتها مع إسرائيل وغلق مجالها الجوي أمام طائراتها  .', 'size': 2}], 'main_title': 'تركيا تقطع العلاقات التجارية مع إسرائيل وتغلق المجال الجوي أمام طائراتها'}, {'community_id': '5', 'articles': [{'id': '114', 'title': 'المحكمة الابتدائية بعين السبع تصدر أحكاما في قضية جيراندو', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/411852.html', 'summary': 'المحكمة الابتدائية بعين السبع تصدر أحكاما في قضية جيراندو. أدانت المحكمة الابتدائية الزجرية بعين السبع في الدار البيضاء، هذا الأسبوع، متهمين في ملف مرتبط بالـ”تيكتوكر” هشام جيراندو، المقيم في كندا والفار من العدالة. وقضت المحكمة', 'size': 2}, {'id': '196', 'title': 'قضية جيراندو .. بين أحكام رادعة وجدل شعبي', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d9%82%d8%b6%d9%8a%d8%a9-%d8%ac%d9%8a%d8%b1%d8%a7%d9%86%d8%af%d9%88-%d8%a8%d9%8a%d9%86-%d8%a3%d8%ad%d9%83%d8%a7%d9%85-%d8%b1%d8%a7%d8%af%d8%b9%d8%a9-%d9%88%d8%ac%d8%af%d9%84-%d8%b4%d8%b9%d8%a8%d9%8a/', 'summary': 'قضية جيراندو .. بين أحكام رادعة وجدل شعبي.  – متابعة قضية جيراندو .. بين أحكام رادعة وجدل شعبي أصدرت المحكمة الابتدائية الزجرية بعين السبع في الدار البيضاء، خلال هذا الأسبوع، أحكامًا بالسجن في قضية مرتبطة بالـ”تيكتوكر” هشام...  قضية جيراندو .. بين أحكام رادعة وجدل شعبي     .', 'size': 2}], 'main_title': 'المحكمة الابتدائية بعين السبع تصدر أحكاما في قضية جيراندو'}, {'community_id': '4', 'articles': [{'id': '122', 'title': 'مخرج Parasite يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش', 'source': 'assabah.ma', 'link': 'https://assabah.ma/868061.html', 'summary': 'مخرج Paraite يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش. تستعد مراكش لاحتضان الدورة الثانية والعشرين للمهرجان الدولي للفيلم، في الفترة الممتدة من 28 نونبر إلى 6 دجنبر 2025، حيث سيترأس لجنة تحكيم المسابقة الرسمية المخرج الكوري الجنوبي بونغ جون هو، أحد أبرز السينمائيين العالميين المتوجين بجائزة الأوسكار. وسيكون من مهام لجنة التحكيم التي يرأسها مخرج فيلمأكمل القراءة » المقالة مخرج Paraite يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش  .', 'size': 2}, {'id': '192', 'title': '“بونغ جون هو” يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش', 'source': 'machahid24.com', 'link': 'https://machahid24.com/panorama/474051.html', 'summary': '“بونغ جون هو” يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش. يترأس المخرج الكوري الجنوبي، المتوج بالعديد من الجوائز الدولية المرموقة، لجنة تحكيم الدورة الثانية والعشرين للمهرجان الدولي للفيلم بمراكش، التي ستنظم خلال الفترة من 28 نونبر إلى 6 دجنبر 2025. وحسب بلاغ للمنظمين، فإن لجنة التحكيم ستمنح النجمة الذهبية لأحد الأفلام الطويلة الأربعة عشر، التي تعتبر أفلاما أولى أو ثانية لمخرجيها، والتي ستشارك في المسابقة …', 'size': 2}, {'id': '219', 'title': 'المخرج بونغ جون هو رئيسا للجنة تحكيم الدورة الـ22 للمهرجان الدولي للفيلم بمراكش', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226450/', 'summary': 'المخرج بونغ جون هو رئيسا للجنة تحكيم الدورة الـ22 للمهرجان الدولي للفيلم بمراكش. سيترأس المخرج الكوري الجنوبي، بونغ جون هو، المتوج بالعديد من الجوائز الدولية المرموقة، لجنة تحكيم الدورة الثانية والعشرين للمهرجان الدولي للفيلم بمراكش، التي ستنظم خلال الفترة من 28 نونبر إلى 6 دجنبر 2025. وستمنح لجنة التحكيم جائزة النجمة الذهبية لأحد الأفلام الطويلة الأربعة عشر، التي تعتبر أفلاما أولى أو ثانية لمخرجيها، والتي ستشارك في المسابقة', 'size': 3}], 'main_title': 'المخرج بونغ جون هو رئيسا للجنة تحكيم الدورة الـ22 للمهرجان الدولي للفيلم بمراكش'}, {'community_id': '8', 'articles': [{'id': '144', 'title': 'مجلس المنافسة: التضخم يتراجع بحذر ومكافحة المضاربة والاحتكار شرطان لحماية القدرة الشرائية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095868.html', 'summary': 'مجلس المنافسة: التضخم يتراجع بحذر ومكافحة المضاربة والاحتكار شرطان لحماية القدرة الشرائية. قدم مجلس المنافسة، في تقريره السنوي الشامل لعام 2024، قراءة دقيقة للوضع الاقتصادي الوطني، حيث دق ناقوس الخطر مؤكدا أن معركة كبح جماح التضخم لم تضع أوزارها بعد، على الرغم من التباطؤ الملحوظ في وتيرة ارتفاع الأسعار الذي شهدته البلاد خلال السنة المنصرمة، مشيرا إلى أن التهديدات التضخمية ما تزال كامنة، وقد تعود للظهور إذا ظهرت المقالة مجلس المنافسة: التضخم يتراجع بحذر ومكافحة المضاربة والاحتكار شرطان لحماية القدرة الشرائية  .', 'size': 2}, {'id': '366', 'title': 'مجلس المنافسة: ثماني شركات تستحوذ على 75% من سوق الأعلاف المركبة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d9%85%d9%86%d8%a7%d9%81%d8%b3%d8%a9-%d8%ab%d9%85%d8%a7%d9%86%d9%8a-%d8%b4%d8%b1%d9%83%d8%a7%d8%aa-%d8%aa%d8%b3%d8%aa%d8%ad%d9%88%d8%b0-%d8%b9%d9%84%d9%89-75/', 'summary': 'مجلس المنافسة: ثماني شركات تستحوذ على 75% من سوق الأعلاف المركبة. كشف مجلس المنافسة أن ثماني شركات فقط تستحوذ على 75 في المائة من حصص سوق الأعلاف المركبة ويصاحب هذه الوضعية بروز متزايد للاندماج العمودي، الذي يضعف المنافسة، خاصة بالنسبة إلى الفاعلين الصغار. وأوضح المجلس، في تقريره السنوي برسم 2024، أن ضعف تنوع المنتجات، الذي كرسه إطار تنظيمي متقادم يعود إلى سنة 1948، يكبح من وتيرة  مجلس المنافسة: ثماني شركات تستحوذ على 75% من سوق الأعلاف المركبة     .', 'size': 2}], 'main_title': 'مجلس المنافسة: التضخم يتراجع بحذر ومكافحة المضاربة والاحتكار شرطان لحماية القدرة الشرائية'}, {'community_id': '7', 'articles': [{'id': '152', 'title': 'حكم قضائي مثير للجدل يبرئ أبا وزوجة ابنه من الخيانة والتحرش رغم الاعترافات', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095901.html', 'summary': 'حكم قضائي مثير للجدل يبرئ أبا وزوجة ابنه من الخيانة والتحرش رغم الاعترافات. أصدرت المحكمة الابتدائية بتنغير، يوم الإثنين الماضي (25 غشت 2025) ظهرت المقالة حكم قضائي مثير للجدل يبرئ أبا وزوجة ابنه من الخيانة والتحرش رغم الاعترافات  .', 'size': 2}, {'id': '318', 'title': 'بطلاها سبعيني وزوجة ابنه حصلا على البراءة.. تعاطف كبير مع ضحايا قضية جديدة لزنا المحارم', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/411866.html', 'summary': 'بطلاها سبعيني وزوجة ابنه حصلا على البراءة.. تعاطف كبير مع ضحايا قضية جديدة لزنا المحارم. شهدت المحكمة الابتدائية بتنغير، بداية الأسبوع الجاري، فصول قضية جديدة من قضايا زنا المحارم التي هزت الرأي العام المحلي والوطني، بعدما قضت هيئة الحكم ببراءة', 'size': 2}], 'main_title': 'حكم قضائي مثير للجدل يبرئ أبا وزوجة ابنه من الخيانة والتحرش رغم الاعترافات'}, {'community_id': '11', 'articles': [{'id': '155', 'title': 'قبل نهائي “الشان”.. السكتيوي يوجه رسالة شكر للملك ويعد بـ”التضحية من أجل اللقب”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095943.html', 'summary': 'قبل نهائي “الشان”.. السكتيوي يوجه رسالة شكر للملك ويعد بـ”التضحية من أجل اللقب”. عشية المواجهة الحاسمة أمام مدغشقر في نهائي كأس أمم إفريقيا للمحليين “الشان 2024″، وجه طارق السكتيوي، مدرب المنتخب الوطني، رسالة شكر وعرفان إلى الملك محمد السادس، معتبرا أن رؤيته السديدة هي أساس النهضة التي تعيشها كرة القدم الوطنية، ومؤكدا في الوقت ذاته على الجاهزية الكاملة للعناصر الوطنية لخوض المباراة النهائية. وفي المؤتمر الصحفي الذي سبق ظهرت المقالة قبل نهائي “الشان”.. السكتيوي يوجه رسالة شكر للملك ويعد بـ”التضحية من أجل اللقب”  .', 'size': 2}, {'id': '218', 'title': 'السكتيوي : نحترم منتخب مدغشقر وسنكافح من أجل التتويج بلقب “الشان 2024”', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226454/', 'summary': 'السكتيوي : نحترم منتخب مدغشقر وسنكافح من أجل التتويج بلقب “الشان 2024”. قال طارق السكتيوي مدرب المنتخب الوطني المغربي المحلي لكرة القدم “إن العناصر الوطنية ستخوض نهائي كأس أمم إفريقيا المرتقب زوال السبت 30 غشت 2025، بالجدية والحذر اللازمين، ومشيرا على استعدادها للتضحية بكل ما تملك من قوة داخل المستطيل الأخضر، من أجل تشريف كرة القدم الوطنية”. وأضاف السكتيوي في ندوة صحفية، اليوم الجمعة 29 غشت 2025', 'size': 2}], 'main_title': 'قبل نهائي “الشان”.. السكتيوي يوجه رسالة شكر للملك ويعد بـ”التضحية من أجل اللقب”'}, {'community_id': '3', 'articles': [{'id': '159', 'title': 'ماذا تريد جريدة “لوموند” الفرنسية من المغرب؟', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095933.html', 'summary': 'ماذا تريد جريدة “لوموند” الفرنسية من المغرب؟. في كل مرة تنشر فيها جريدة “لوموند” الفرنسية مقالات مطولة عن المغرب، وبالأخص عن المؤسسة الملكية، يطرح السؤال نفسه بإلحاح: ما الغرض من هذه الكتابات، ولماذا في هذا التوقيت بالذات؟ هذه الصحيفة التي تعتبر من كبريات الجرائد الأوروبية، غالبا ما تحاول من خلال مقالاتها أن تقدم “قراءة نقدية” للشأن المغربي، لكنها في واقع الأمر تنزلق ظهرت المقالة ماذا تريد جريدة “لوموند” الفرنسية من المغرب؟  .', 'size': 3}, {'id': '214', 'title': 'لوموند في مرمى الانتقادات: حملة عدائية تكشف انحراف الصحيفة عن المهنية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226462/', 'summary': 'لوموند في مرمى الانتقادات: حملة عدائية تكشف انحراف الصحيفة عن المهنية. مرة أخرى، يجد الرأي العام الوطني نفسه أمام هجمة مدروسة، تقودها صحيفة لوموند الفرنسية ضد المغرب، من خلال سلسلة مقالات لا تمتّ بصلة إلى العمل الصحفي الرصين، بقدر ما تعكس نزعة عدائية مبيتة تجاه المملكة ومؤسساتها. فمنذ السادس والعشرين من غشت الجاري، نشرت الصحيفة سلسلة من ستة أجزاء حاولت أن ترسم صورة قاتمة ومغلوطة عن', 'size': 2}, {'id': '239', 'title': 'اللجنة المؤقتة لتسيير قطاع الصحافة تكشف زيف مقالات “لوموند” وتتهمها بالافتراء والإثارة على حساب المهنية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%84%d8%ac%d9%86%d8%a9-%d8%a7%d9%84%d9%85%d8%a4%d9%82%d8%aa%d8%a9-%d9%84%d8%aa%d8%b3%d9%8a%d9%8a%d8%b1-%d9%82%d8%b7%d8%a7%d8%b9-%d8%a7%d9%84%d8%b5%d8%ad%d8%a7%d9%81%d8%a9-%d8%aa%d9%83/', 'summary': 'اللجنة المؤقتة لتسيير قطاع الصحافة تكشف زيف مقالات “لوموند” وتتهمها بالافتراء والإثارة على حساب المهنية. أثارت سلسلة مكونة من ستة أجزاء نشرتها جريدة “لوموند” الفرنسية حول الوضع السياسي في المغرب ردود فعل واسعة بين الأوساط السياسية والصحافية المغربية، التي اعتبرتها غير دقيقة ومثيرة للجدل. وفي هذا الإطار، قامت اللجنة المؤقتة لتسيير شؤون قطاع الصحافة والنشر بمتابعة محتوى السلسلة، مع التركيز على مدى التزامها بمعايير وأخلاقيات المهنة، وأسفرت هذه …  اللجنة المؤقتة لتسيير قطاع الصحافة تكشف زيف مقالات “لوموند” وتتهمها بالافتراء والإثارة على حساب المهنية     .', 'size': 2}], 'main_title': 'ماذا تريد جريدة “لوموند” الفرنسية من المغرب؟'}, {'community_id': '13', 'articles': [{'id': '168', 'title': 'قادما من رينجرز الأسكتلندي.. الدولي المغربي حمزة إيكمان ينضم إلى ليل الفرنسي', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%82%d8%a7%d8%af%d9%85%d8%a7-%d9%85%d9%86-%d8%b1%d9%8a%d9%86%d8%ac%d8%b1%d8%b2-%d8%a7%d9%84%d8%a3%d8%b3%d9%83%d8%aa%d9%84%d9%86%d8%af%d9%8a-%d8%a7%d9%84%d8%af%d9%88%d9%84%d9%8a-%d8%a7%d9%84%d9%85/', 'summary': 'قادما من رينجرز الأسكتلندي.. الدولي المغربي حمزة إيكمان ينضم إلى ليل الفرنسي. أعلن نادي ليل الفرنسي، اليوم الجمعة، تعاقده رسميا مع المهاجم الدولي المغربي حمزة إيكمان، قادما من نادي رينجرز الأسكتلندي، بعقد يمتد إلى غاية صيف 2030. وأوضحت إدارة النادي، عبر بيان رسمي، أن إكمان وقع على عقد يمتد حتى صيف 2030، مشيرة إلى أن ضم المهاجم المغربي يدخل ضمن خطة طويلة الأمد تهدف لتعزيز مكانة الفريق  قادما من رينجرز الأسكتلندي.. الدولي المغربي حمزة إيكمان ينضم إلى ليل الفرنسي     .', 'size': 2}, {'id': '185', 'title': 'إيكمان ينضم لليل الفرنسي قادما من رينجرز الإسكتلندي\u200e', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/474076.html', 'summary': 'إيكمان ينضم لليل الفرنسي قادما من رينجرز الإسكتلندي\u200e. أعلن نادي ليل الفرنسي، الجمعة، تعاقده رسميا مع المهاجم الدولي المغربي حمزة إيكمان، قادما من نادي رينجرز الإسكتلندي، بعقد يمتد إلى غاية صيف 2030. وأوضحت إدارة النادي، عبر بيان رسمي، أن إكمان وقع على عقد يمتد حتى صيف 2030، مشيرة إلى أن ضم المهاجم المغربي يدخل ضمن خطة طويلة الأمد تهدف لتعزيز مكانة الفريق على …', 'size': 2}], 'main_title': 'قادما من رينجرز الأسكتلندي.. الدولي المغربي حمزة إيكمان ينضم إلى ليل الفرنسي'}, {'community_id': '0', 'articles': [{'id': '183', 'title': 'السياحة.. عائدات قياسية ب 67 مليار درهم  حتى نهاية يوليوز 2025', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/474080.html', 'summary': 'السياحة.. عائدات قياسية ب 67 مليار درهم حتى نهاية يوليوز 2025. يواصل قطاع السياحة ديناميته التصاعدية خلال عام 202، فحتى نهاية يوليوز، استقبل المغرب 11,6 مليون سائح، بزيادة قدرها 16% مقارنة بسنة 2024. وحسب بلاغ لوزارة السياحة فقد بلغت العائدات السياحية من العملة الصعبة 67 مليار درهم، أي نمواً يقارب 13% مقارنة بالفترة نفسها من 2024، وهو ما يعادل 7,5 مليار درهم إضافية. وشهد شهر يوليوز …', 'size': 2}, {'id': '342', 'title': 'قطاع السياحة.. عائدات قياسية بـ67 مليار درهم', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321975/', 'summary': 'قطاع السياحة.. عائدات قياسية بـ67 مليار درهم. أفادت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني بأن قطاع السياحة سجل عائدات قياسية بـ67 مليار درهم خلال الأشهر السبعة الأولى لسنة 2025، بارتفاع بنسبة 13 في المائة مقارنة بالفترة ذاتها من السنة الماضية. وذكرت الوزارة، في بلاغ لها، أن “قطاع السياحة يواصل ديناميته التصاعدية خلال سنة 2025. فإلى غاية نهاية يوليوز، ومع استقبال المغرب', 'size': 2}], 'main_title': 'السياحة.. عائدات قياسية ب 67 مليار درهم  حتى نهاية يوليوز 2025'}, {'community_id': '9', 'articles': [{'id': '324', 'title': 'الرباط.. أعضاء بالكونغرس الأمريكي يجددون تأكيد اعتراف بلادهم بسيادة المغرب على صحرائه', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b1%d8%a8%d8%a7%d8%b7-%d8%a3%d8%b9%d8%b6%d8%a7%d8%a1-%d8%a8%d8%a7%d9%84%d9%83%d9%88%d9%86%d8%ba%d8%b1%d8%b3-%d8%a7%d9%84%d8%a3%d9%85%d8%b1%d9%8a%d9%83%d9%8a-%d9%8a%d8%ac%d8%af%d8%af/', 'summary': 'الرباط.. أعضاء بالكونغرس الأمريكي يجددون تأكيد اعتراف بلادهم بسيادة المغرب على صحرائه. جدد أعضاء بالكونغرس الأمريكي، اليوم الجمعة (29 غشت 2025) بالرباط، تأكيد اعتراف الولايات المتحدة بسيادة المغرب على صحرائه. وأبرزوا عقب محادثات مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، آفاق التعاون بين المغرب والولايات المتحدة. وقال عضو الكونغرس مايك لولر في هذا الصدد، “نحن سعداء بآفاق التعاون بين المغرب والولايات المتحدة، لا', 'size': 2}, {'id': '344', 'title': 'أعضاء بالكونغرس الأمريكي يجددون تأكيد اعتراف بلادهم بسيادة المغرب على صحرائه', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321947/', 'summary': 'أعضاء بالكونغرس الأمريكي يجددون تأكيد اعتراف بلادهم بسيادة المغرب على صحرائه. جدد أعضاء بالكونغرس الأمريكي، اليوم الجمعة بالرباط، تأكيد اعتراف الولايات المتحدة بسيادة المغرب على صحرائه. وأبرزوا عقب محادثات مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، آفاق التعاون بين المغرب والولايات المتحدة. وقال عضو الكونغرس مايك لولر في هذا الصدد، “نحسن سعداء بآفاق التعاون بين المغرب والولايات المتحدة، لا سيما في الصحراء”،', 'size': 2}], 'main_title': 'الرباط.. أعضاء بالكونغرس الأمريكي يجددون تأكيد اعتراف بلادهم بسيادة المغرب على صحرائه'}, {'community_id': '12', 'articles': [{'id': '383', 'title': 'حادث مروع.. وفاة فلاح بعدما ابتلعته آلة حصاد', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%ad%d8%a7%d8%af%d8%ab-%d9%85%d8%a3%d8%b3%d8%a7%d9%88%d9%8a-%d8%a7%d9%84%d8%ac%d8%af%d9%8a%d8%af%d8%a9/', 'summary': 'حادث مروع.. وفاة فلاح بعدما ابتلعته آلة حصاد.  – متابعات اهتز دوار أولاد سيدي بوعلام بجماعة مكرس في إقليم الجديدة، صباح اليوم الجمعة، على وقع حادث مروع بعدما ابتلعت آلة حصاد فلاحًا في الخمسينات من عمره....  حادث مروع.. وفاة فلاح بعدما ابتلعته آلة حصاد     .', 'size': 2}, {'id': '406', 'title': 'الجديدة.. آلة حصاد تودي بحياة فلاح بدوار أولاد سيدي بوعلام', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d8%ac%d8%af%d9%8a%d8%af%d8%a9-%d8%a2%d9%84%d8%a9-%d8%ad%d8%b5%d8%a7%d8%af-%d8%aa%d9%88%d8%af%d9%8a-%d8%a8%d8%ad%d9%8a%d8%a7%d8%a9-%d9%81%d9%84%d8%a7%d8%ad-%d8%a8%d8%af%d9%88%d8%a7%d8%b1/', 'summary': 'الجديدة.. آلة حصاد تودي بحياة فلاح بدوار أولاد سيدي بوعلام. شهد دوار أولاد سيدي بوعلام بجماعة مكرس، إقليم الجديدة، اليوم الجمعة، حادثا مأساويا خلف حالة من الذهول والحزن في صفوف الساكنة، بعدما لقي فلاح مصرعه في ظروف مؤلمة أثناء مزاولة عمله في الحقول. وبحسب ما أفادت به مصادر محلية، كان الضحية بصدد تشغيل آلة لحصاد الذرة قبل أن تبتلعه بشكل مفاجئ، متسببة في …  الجديدة.. آلة حصاد تودي بحياة فلاح بدوار أولاد سيدي بوعلام     .', 'size': 2}], 'main_title': 'حادث مروع.. وفاة فلاح بعدما ابتلعته آلة حصاد'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
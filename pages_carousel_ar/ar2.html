<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 01/08/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '2', 'articles': [{'id': '62', 'title': 'الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان', 'source': 'www.alakhbar.press.ma', 'link': 'https://www.alakhbar.press.ma/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d8%aa%d8%b1%d8%a3%d8%b3-%d8%ad%d9%81%d9%84-%d8%a7%d9%84%d9%88%d9%84%d8%a7%d8%a1-%d8%a8%d8%a7%d9%84-270281.html', 'summary': 'الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان. الأخبار ترأس أمير المؤمنين الملك محمد السادس مرفوقا بصاحب السمو الملكي ولي العهد الأمير مولاي الحسن، وصاحب السمو الملكي الأمير مولاي رشيد، وصاحب السمو الأمير مولاي أحمد، بعد زوال اليوم الخميس، بساحة المشور بالقصر الملكي بتطوان، حفل الولاء، وذلك تخليدا للذكرى السادسة والعشرين لتربع جلالة الملك على عرش أسلافه المنعمين. وفي مستهل هذا الحفل، قدم …  الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان     .', 'size': 5}, {'id': '68', 'title': 'عيد العرش .. أمير المؤمنين جلالة الملك يترأس حفل الولاء بالقصر الملكي بتطوان', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/204468', 'summary': 'عيد العرش .. أمير المؤمنين جلالة الملك يترأس حفل الولاء بالقصر الملكي بتطوان.  ترأس أمير المؤمنين صاحب الجلالة الملك محمد السادس ، نصره الله ،مرفوقا بصاحب السمو الملكي ولي العهد الأمير مولاي الحسن،وصاحب السمو الملكي الأمير مولاي رشيد، و صاحب السمو الأمير مولاي أحمد ،بعد زوال اليوم الخميس ، بساحة المشور بالقصر الملكي بتطوان، حفل الولاء،وذلك تخليدا للذكرى السادسة والعشرين لتربع جلالة الملك على عرش أسلافه', 'size': 5}, {'id': '200', 'title': 'عيد العرش… الملك يترأس بتطوان حفل أداء القسم للضباط المتخرجين من المدارس العليا العسكرية وشبه العسكرية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/471237.html', 'summary': 'عيد العرش… الملك يترأس بتطوان حفل أداء القسم للضباط المتخرجين من المدارس العليا العسكرية وشبه العسكرية. ترأس الملك محمد السادس، القائد الأعلى ورئيس أركان الحرب العامة للقوات المسلحة الملكية، مرفوقا بولي العهد الأمير مولاي الحسن والأمير مولاي رشيد، بعد ظهر اليوم الخميس، بساحة المشور بالقصر الملكي بتطوان، حفل مراسم أداء القسم من طرف الضباط المتخرجين من مختلف المدارس والمعاهد العسكرية وشبه العسكرية وكذا ضباط الصف الذين تمت ترقيتهم إلى رتبة ضابط، …', 'size': 4}, {'id': '223', 'title': 'أمير المؤمنين جلالة الملك يترأس حفل الولاء بالقصر الملكي بتطوان', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225463/', 'summary': 'أمير المؤمنين جلالة الملك يترأس حفل الولاء بالقصر الملكي بتطوان. تطوان – ترأس أمير المؤمنين صاحب الجلالة الملك محمد السادس، نصره الله، مرفوقا بصاحب السمو الملكي ولي العهد الأمير مولاي الحسن، وصاحب السمو الملكي الأمير مولاي رشيد، وصاحب السمو الأمير مولاي أحمد، بعد زوال اليوم الخميس، بساحة المشور بالقصر الملكي بتطوان، حفل الولاء، وذلك تخليدا للذكرى السادسة والعشرين لتربع جلالة الملك على عرش أسلافه المنعمين.', 'size': 4}, {'id': '241', 'title': 'عيد العرش.. أمير المؤمنين الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b9%d9%8a%d8%af-%d8%a7%d9%84%d8%b9%d8%b1%d8%b4-%d8%a3%d9%85%d9%8a%d8%b1-%d8%a7%d9%84%d9%85%d8%a4%d9%85%d9%86%d9%8a%d9%86-%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3-2/', 'summary': 'عيد العرش.. أمير المؤمنين الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان. ترأس أمير المؤمنين الملك محمد السادس، مرفوقا بصاحب السمو الملكي ولي العهد الأمير مولاي الحسن، وصاحب السمو الملكي الأمير مولاي رشيد، وصاحب السمو الأمير مولاي أحمد، بعد زوال اليوم الخميس 31 يوليوز 2025، بساحة المشور بالقصر الملكي بتطوان، حفل الولاء، وذلك تخليدا للذكرى السادسة والعشرين لتربع جلالة الملك على عرش أسلافه المنعمين. وفي …  عيد العرش.. أمير المؤمنين الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان     .', 'size': 5}], 'main_title': 'الملك محمد السادس يترأس حفل الولاء بالقصر الملكي بتطوان'}, {'community_id': '8', 'articles': [{'id': '63', 'title': 'خطاب المصارحة', 'source': 'www.alakhbar.press.ma', 'link': 'https://www.alakhbar.press.ma/%d8%ae%d8%b7%d8%a7%d8%a8-%d8%a7%d9%84%d9%85%d8%b5%d8%a7%d8%b1%d8%ad%d8%a9-270275.html', 'summary': 'خطاب المصارحة. أكد الملك محمد السادس في خطاب العرش الذي تطرق إلى الإنجازات المحققة والمصارحة بما يحتاجه المغرب لتسريع الوتيرة التنموية، أن ما تحقق من بناء مغرب متقدم، موحد ومتضامن، لم يكن وليد الصدفة، وإنما هو نتيجة رؤية استراتيجية بعيدة المدى، تدعمها مؤشرات الأمن والاستقرار السياسي والمؤسساتي، وصواب الاختيارات التنموية الكبرى بالمملكة الشريفة. ورغم توالي سنوات الجفاف …  خطاب المصارحة     .', 'size': 2}, {'id': '300', 'title': 'خطاب العرش.. عودة العاهل المغربي لسياسة اليد الممدودة تجاه الجزائر', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/410303.html', 'summary': 'خطاب العرش.. عودة العاهل المغربي لسياسة اليد الممدودة تجاه الجزائر. مرة أخرى، يعود عاهل المغرب محمد السادس في خطابه السامي بمناسبة الذكرى السادسة والعشرين لتربعه على عرش أسلافه الميامين، ليس فقط للتأكيد على إيمانه الثابت', 'size': 2}], 'main_title': 'خطاب المصارحة'}, {'community_id': '3', 'articles': [{'id': '69', 'title': 'برقية تهنئة وولاء وإخلاص إلى جلالة الملك من أسرة القوات المسلحة الملكية بمناسبة عيد العرش المجيد', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/204462', 'summary': 'برقية تهنئة وولاء وإخلاص إلى جلالة الملك من أسرة القوات المسلحة الملكية بمناسبة عيد العرش المجيد.  رفعت أسرة القوات المسلحة الملكية برقية تهنئة وولاء وإخلاص إلى صاحب الجلالة الملك محمد السادس،القائد الأعلى ورئيس أركان الحرب العامة للقوات المسلحة الملكية، بمناسبة الذكرى السادسة والعشرين لتربع جلالته عرش أسلافه المنعمين. وفي ما يلي نص البرقية : ”الحمد لله، والصلاة والسلام على رسول الله وآله وصحبه مولاي صاحب الجلالة الملك، القائد الأعلى', 'size': 2}, {'id': '242', 'title': 'برقية تهنئة وولاء وإخلاص إلى الملك محمد السادس من أسرة القوات المسلحة الملكية بمناسبة عيد العرش المجيد', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d8%b1%d9%82%d9%8a%d8%a9-%d8%aa%d9%87%d9%86%d8%a6%d8%a9-%d9%88%d9%88%d9%84%d8%a7%d8%a1-%d9%88%d8%a5%d8%ae%d9%84%d8%a7%d8%b5-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85/', 'summary': 'برقية تهنئة وولاء وإخلاص إلى الملك محمد السادس من أسرة القوات المسلحة الملكية بمناسبة عيد العرش المجيد. رفعت أسرة القوات المسلحة الملكية برقية تهنئة وولاء وإخلاص إلى الملك محمد السادس، القائد الأعلى ورئيس أركان الحرب العامة للقوات المسلحة الملكية، بمناسبة الذكرى السادسة والعشرين لتربع جلالته عرش أسلافه المنعمين. وفي ما يلي نص البرقية: ” الحمد لله، والصلاة والسلام على رسول الله وآله وصحبه مولاي صاحب الجلالة الملك، القائد الأعلى ورئيس …  برقية تهنئة وولاء وإخلاص إلى الملك محمد السادس من أسرة القوات المسلحة الملكية بمناسبة عيد العرش المجيد     .', 'size': 2}], 'main_title': 'برقية تهنئة وولاء وإخلاص إلى جلالة الملك من أسرة القوات المسلحة الملكية بمناسبة عيد العرش المجيد'}, {'community_id': '4', 'articles': [{'id': '76', 'title': 'وجدة.. اعتقال أفراد عصابة لجؤوا إلى حيلة ذكية للسطو على الحسابات البنكية للضحايا', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/410240.html', 'summary': 'وجدة.. اعتقال أفراد عصابة لجؤوا إلى حيلة ذكية للسطو على الحسابات البنكية للضحايا. تمكنت عناصر الشرطة بولاية أمن وجدة بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، مساء أمس الأربعاء 30 يوليوز الجاري، من توقيف ثلاثة أشخاص من', 'size': 3}, {'id': '213', 'title': 'عبر جوائز وهمية.. شبكة نصب إلكتروني تستهدف الحسابات البنكية', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%b9%d8%a8%d8%b1-%d8%ac%d9%88%d8%a7%d8%a6%d8%b2-%d9%88%d9%87%d9%85%d9%8a%d8%a9-%d8%b4%d8%a8%d9%83%d8%a9-%d9%86%d8%b5%d8%a8-%d8%a5%d9%84%d9%83%d8%aa%d8%b1%d9%88%d9%86%d9%8a-%d8%aa%d8%b3%d8%aa%d9%87/', 'summary': 'عبر جوائز وهمية.. شبكة نصب إلكتروني تستهدف الحسابات البنكية.  – متابعات أوقفت عناصر الشرطة بولاية أمن وجدة، بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، مساء الأربعاء 30 يوليوز 2025، ثلاثة أشخاص بينهم قاصر يبلغ من العمر...  عبر جوائز وهمية.. شبكة نصب إلكتروني تستهدف الحسابات البنكية     .', 'size': 2}, {'id': '395', 'title': 'أمن وجدة بتنسيق مع الديستي يطيح بثلاثة أشخاص في أخطر قضية نصب واحتيال وانتحال صفة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225477/', 'summary': 'أمن وجدة بتنسيق مع الديستي يطيح بثلاثة أشخاص في أخطر قضية نصب واحتيال وانتحال صفة. تمكنت عناصر الشرطة بولاية أمن وجدة بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، مساء أمس الأربعاء 30 يوليوز الجاري، من توقيف ثلاثة أشخاص من بينهم قاصر يبلغ من العمر 17 سنة، وذلك للاشتباه في تورطهم في قضية تتعلق بالنصب والاحتيال وانتحال صفة ينظمها القانون. وحسب المعطيات الأولية للبحث، فقد كان المشتبه فيهم يتصلون هاتفيا', 'size': 2}], 'main_title': 'وجدة.. اعتقال أفراد عصابة لجؤوا إلى حيلة ذكية للسطو على الحسابات البنكية للضحايا'}, {'community_id': '5', 'articles': [{'id': '95', 'title': 'الملك يترأس حفل أداء القسم للضباط المتخرجين من مختلف المعاهد والمدارس العسكرية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/videos/410259.html', 'summary': 'الملك يترأس حفل أداء القسم للضباط المتخرجين من مختلف المعاهد والمدارس العسكرية. الملك محمد السادس يترأس حفل أداء القسم للضباط المتخرجين من مختلف المعاهد والمدارس العسكرية', 'size': 2}, {'id': '162', 'title': 'مستشار الرئيس الفلسطيني يعبر عن امتنانه للمساعدات المغربية ويشيد بمبادرات الملك محمد السادس', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1089763.html', 'summary': 'مستشار الرئيس الفلسطيني يعبر عن امتنانه للمساعدات المغربية ويشيد بمبادرات الملك محمد السادس. مستشار الرئيس الفلسطيني يعبر عن امتنانه للمساعدات المغربية ويشيد بمبادرات الملك ظهرت المقالة مستشار الرئيس الفلسطيني يعبر عن امتنانه للمساعدات المغربية ويشيد بمبادرات الملك محمد السادس  .', 'size': 2}], 'main_title': 'الملك يترأس حفل أداء القسم للضباط المتخرجين من مختلف المعاهد والمدارس العسكرية'}, {'community_id': '6', 'articles': [{'id': '112', 'title': 'دكتور وسياسي سابق يدعو لإلغاء اللائحة النسائية في الانتخابات المقبلة وتعويضها بـ"لائحة الكفاءات"', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/410282.html', 'summary': 'دكتور وسياسي سابق يدعو لإلغاء اللائحة النسائية في الانتخابات المقبلة وتعويضها بـ"لائحة الكفاءات". في سياق التحضيرات التي دشنتها الدولة المغربية مبكرا استعدادا للاستحقاقات التشريعية المقبلة، ومع انطلاق مشاورات مراجعة القوانين الانتخابية التي كلف بها الملك محمد السادس وزير', 'size': 2}, {'id': '201', 'title': 'بعد خطاب الملك.. وزارة الداخلية تبدأ مشاورات الاستعداد للانتخابات التشريعية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/471226.html', 'summary': 'بعد خطاب الملك.. وزارة الداخلية تبدأ مشاورات الاستعداد للانتخابات التشريعية. تنطلق بداية من يوم غد الجمعة، مشاورات وزارة الداخلية استعدادا للانتخابات التشريعية المقبلة، وذلك وفقا لتوجيهات الملك محمد السادس.', 'size': 2}], 'main_title': 'دكتور وسياسي سابق يدعو لإلغاء اللائحة النسائية في الانتخابات المقبلة وتعويضها بـ"لائحة الكفاءات"'}, {'community_id': '10', 'articles': [{'id': '145', 'title': 'نائب برلماني عن “البام” في قلب عاصفة من الانتقادات النقابية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/319912/', 'summary': 'نائب برلماني عن “البام” في قلب عاصفة من الانتقادات النقابية. فجرت تصريحات النائب البرلماني هشام المهاجري، المنتمي لحزب الأصالة والمعاصرة، موجة غضب عارمة في صفوف الممرضين والممرضات، بعدما تداول رواد مواقع التواصل الاجتماعي مقطعاً مصوراً يظهر فيه المهاجري خلال لقاء جهوي حزبي، وهو يتحدث بلغة وصفتها هيئات نقابية بـ”البذيئة والمهينة”، موجهاً اتهامات مباشرة لأطر التمريض، لا سيما في المناطق القروية، بالتقصير في أداء واجبهم المهني.', 'size': 2}, {'id': '322', 'title': 'جبد الصداع مع الممرضين.. نقابة تدين تصريحات المهاجري وتطالب بتدخل قيادة البام', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%ac%d8%a8%d8%af-%d8%a7%d9%84%d8%b5%d8%af%d8%a7%d8%b9-%d9%85%d8%b9-%d8%a7%d9%84%d9%85%d9%85%d8%b1%d8%b6%d9%8a%d9%86-%d9%86%d9%82%d8%a7%d8%a8%d8%a9-%d8%aa%d8%af%d9%8a%d9%86-%d8%aa%d8%b5%d8%b1%d9%8a/', 'summary': 'جبد الصداع مع الممرضين.. نقابة تدين تصريحات المهاجري وتطالب بتدخل قيادة البام. أثارت تصريحات النائب البرلماني عن حزب الأصالة والمعاصرة، هشام المهاجري، موجة من الاستياء والغضب في صفوف الممرضين والممرضات، وذلك عقب تداول مقطع مصوّر يظهر فيه خلال لقاء حزبي جهوي، تضمن عبارات اعتبرها مهنيو الصحة “مهينة ومسيئة”. وكان المهاجري قد صرح في المقطع المتداول أن “السياسيين اللي بداو قبل منا كيجي كيقوليهم غنجيب ليكم مستوصف كيحط', 'size': 2}], 'main_title': 'نائب برلماني عن “البام” في قلب عاصفة من الانتقادات النقابية'}, {'community_id': '7', 'articles': [{'id': '146', 'title': 'العنف ضد النساء في المغرب.. ضعف المراكز وغياب التوزيع العادل يؤجّج معاناة الضحايا', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/319905/', 'summary': 'العنف ضد النساء في المغرب.. ضعف المراكز وغياب التوزيع العادل يؤجّج معاناة الضحايا. في ظل تصاعد الأصوات الحقوقية المطالِبة بتعزيز الحماية القانونية والاجتماعية للنساء والفتيات في المغرب، لا تزال ظاهرة العنف ضد النساء تفرض نفسها كإحدى الإشكاليات البنيوية التي تؤرّق المجتمع، وتشكّل تحديًا حقيقيًا أمام السياسات العمومية. ودقت الجمعيات النسائية والحقوقية، في الآونة الأخيرة، ناقوس الخطر مجددًا، مشددة على ضرورة اتخاذ تدابير ملموسة لمواجهة هذا العنف، بمختلف أشكاله،', 'size': 2}, {'id': '263', 'title': 'المنبر الحر | حماية الطفل مدخل لبناء الدولة الاجتماعية', 'source': 'www.alousboue.ma', 'link': 'https://www.alousboue.ma/122933/', 'summary': 'المنبر الحر | حماية الطفل مدخل لبناء الدولة الاجتماعية. رغم التطور المؤسساتي والتشريعي الذي عرفه المغرب خلال العقود الأخيرة، خاصة فيما يتعلق بورش الدولة الاجتماعية، لا تزال قضايا حماية الطفل تثير العديد من التساؤلات الجوهرية حول مدى نجاعة السياسات العمومية، وفعالية الآليات المؤسساتية، ومدى التزام الدولة فعليا بتعهداتها الدستورية والدولية.. فهل استطاع المغرب إدماج حقوق الطفل كأولوية فعلية ضمن تصوره لبناء الدولة …  المنبر الحر | حماية الطفل مدخل لبناء الدولة الاجتماعية     .', 'size': 2}], 'main_title': 'العنف ضد النساء في المغرب.. ضعف المراكز وغياب التوزيع العادل يؤجّج معاناة الضحايا'}, {'community_id': '9', 'articles': [{'id': '150', 'title': 'علي يوسف: الدبلوماسية الاقتصادية المغربية جعلت من المملكة قطبا حقيقيا لإفريقيا', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/319883/', 'summary': 'علي يوسف: الدبلوماسية الاقتصادية المغربية جعلت من المملكة قطبا حقيقيا لإفريقيا. أكد رئيس مفوضية الاتحاد الإفريقي، محمود علي يوسف، أن المغرب تمكن من تطوير دبلوماسية اقتصادية نشطة جعلت من المملكة اليوم قطبا حقيقيا لإفريقيا. وأوضح علي يوسف، في كلمة أُلقِيت باسمه خلال حفل استقبال نظمته، أمس الأربعاء بأديس أبابا، سفارة المغرب بإثيوبيا والبعثة الدائمة للمملكة لدى الاتحاد الإفريقي واللجنة الاقتصادية لإفريقيا، بمناسبة الاحتفال بالذكرى السادسة والعشرين', 'size': 2}, {'id': '244', 'title': 'رئيس مفوضية الاتحاد الإفريقي: الدبلوماسية الاقتصادية المغربية جعلت من المملكة قطبا حقيقيا لإفريقيا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b1%d8%a6%d9%8a%d8%b3-%d9%85%d9%81%d9%88%d8%b6%d9%8a%d8%a9-%d8%a7%d9%84%d8%a7%d8%aa%d8%ad%d8%a7%d8%af-%d8%a7%d9%84%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a-%d8%a7%d9%84%d8%af%d8%a8%d9%84%d9%88%d9%85/', 'summary': 'رئيس مفوضية الاتحاد الإفريقي: الدبلوماسية الاقتصادية المغربية جعلت من المملكة قطبا حقيقيا لإفريقيا. قال رئيس مفوضية الاتحاد الإفريقي، محمود علي يوسف، إن المغرب تمكن من تطوير دبلوماسية اقتصادية نشطة جعلت من المملكة اليوم قطبا حقيقيا لإفريقيا. وأبرز علي يوسف، في كلمة أُلقِيت باسمه خلال حفل استقبال نظمته، أمس الأربعاء بأديس أبابا، سفارة المغرب بإثيوبيا والبعثة الدائمة للمملكة لدى الاتحاد الإفريقي واللجنة الاقتصادية لإفريقيا، بمناسبة الاحتفال بالذكرى …  رئيس مفوضية الاتحاد الإفريقي: الدبلوماسية الاقتصادية المغربية جعلت من المملكة قطبا حقيقيا لإفريقيا     .', 'size': 2}], 'main_title': 'علي يوسف: الدبلوماسية الاقتصادية المغربية جعلت من المملكة قطبا حقيقيا لإفريقيا'}, {'community_id': '1', 'articles': [{'id': '152', 'title': 'المغرب وبريطانيا يتقدمان بثبات نحو شراكة أعمق.. والحكم الذاتي في قلب الرؤية المشتركة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/319889/', 'summary': 'المغرب وبريطانيا يتقدمان بثبات نحو شراكة أعمق.. والحكم الذاتي في قلب الرؤية المشتركة. أكدت وزيرة التنمية الدولية البريطانية، البارونة تشابمان، أمس الأربعاء، أن دعم المملكة المتحدة لمخطط الحكم الذاتي المغربي يشكل “لحظة فارقة” في العلاقات بين الرباط ولندن. وأبرزت البارونة تشابمان، في كلمة ألقتها نيابة عن حكومة المملكة المتحدة خلال حفل استقبال نظمته سفارة المغرب بلندن بمناسبة ذكرى عيد العرش المجيد، أن الزيارة التي قام بها وزير الخارجية', 'size': 2}, {'id': '196', 'title': 'وزيرة بريطانية: دعم المملكة المتحدة لمخطط الحكم الذاتي “لحظة فارقة” في العلاقات بين الرباط ولندن', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/471266.html', 'summary': 'وزيرة بريطانية: دعم المملكة المتحدة لمخطط الحكم الذاتي “لحظة فارقة” في العلاقات بين الرباط ولندن. و.م.ع أكدت وزيرة التنمية الدولية البريطانية، البارونة تشابمان، أمس الأربعاء، أن دعم المملكة المتحدة لمخطط الحكم الذاتي المغربي يشكل “لحظة فارقة” في العلاقات بين الرباط ولندن. وأبرزت البارونة تشابمان، في كلمة ألقتها نيابة عن حكومة المملكة المتحدة خلال حفل استقبال نظمته سفارة المغرب بلندن بمناسبة ذكرى عيد العرش المجيد، أن الزيارة التي قام بها وزير …', 'size': 2}], 'main_title': 'المغرب وبريطانيا يتقدمان بثبات نحو شراكة أعمق.. والحكم الذاتي في قلب الرؤية المشتركة'}, {'community_id': '13', 'articles': [{'id': '155', 'title': 'الديون المتعثرة تتجاوز 97 مليار درهم وتغطي 8.4% من إجمالي القروض البنكية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1089694.html', 'summary': 'الديون المتعثرة تتجاوز 97 مليار درهم وتغطي 8.4% من إجمالي القروض البنكية. أفاد بنك المغرب بأن المبلغ الجاري للائتمان البنكي بلغ 6ر1164 مليار درهم، مسجلا ارتفاعا بنسبة 4,4 في المائة خلال سنة 2024، ما يعادل 72,9 في المائة من الناتج الداخلي الإجمالي. وأوضح بنك المغرب في تقريره السنوي حول الوضعية الاقتصادية والنقدية والمالية برسم السنة المالية 2024، أن هذه الوتيرة متباطئة مقارنة بالسنة السابقة، لكنها أسرع مقارنة ظهرت المقالة الديون المتعثرة تتجاوز 97 مليار درهم وتغطي 8.4% من إجمالي القروض البنكية  .', 'size': 2}, {'id': '179', 'title': 'بنك المغرب يدخل مرحلة "الذكاء السيبراني" بمشاريع لمواجهة الهجمات الإلكترونية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d9%86%d9%83-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%af%d8%ae%d9%84-%d9%85%d8%b1%d8%ad%d9%84%d8%a9-%d8%a7%d9%84%d8%b0%d9%83%d8%a7%d8%a1-%d8%a7%d9%84%d8%b3%d9%8a%d8%a8%d8%b1%d8%a7%d9%86/', 'summary': 'بنك المغرب يدخل مرحلة "الذكاء السيبراني" بمشاريع لمواجهة الهجمات الإلكترونية. كشف تقرير بنك المغرب السنوي حول الوضعية الاقتصادية والنقدية والمالية برسم سنة 2024 أن المؤسسة واصلت، خلال هذه السنة، تكثيف جهودها الرامية إلى تعزيز صمود نظامها المعلوماتي، في ظل تزايد تعقيد الهجمات السيبرانية وتطورها. وأوضح التقرير أن البنك أطلق عدة مشاريع لتعزيز أنظمة الدفاع السيبراني والتحكم بشكل أفضل في المخاطر المرتبطة بهذه الهجمات، كما تم  بنك المغرب يدخل مرحلة "الذكاء السيبراني" بمشاريع لمواجهة الهجمات الإلكترونية     .', 'size': 2}], 'main_title': 'الديون المتعثرة تتجاوز 97 مليار درهم وتغطي 8.4% من إجمالي القروض البنكية'}, {'community_id': '12', 'articles': [{'id': '303', 'title': 'في عملية نوعية.. عشرات الألاف من الأقراص المهلوسة تقع في قبضة المصالح الأمنية قبل مرورها من معبر باب سبتة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/410306.html', 'summary': 'في عملية نوعية.. عشرات الألاف من الأقراص المهلوسة تقع في قبضة المصالح الأمنية قبل مرورها من معبر باب سبتة. أسفرت عملية نوعية باشرتها عناصر الأمن الوطني والجمارك بمركز باب سبتة، مساء يوم الخميس 31 يوليوز المنصرم، عن إجهاض عملية تهريب 54 ألف قرص مخدر', 'size': 4}, {'id': '361', 'title': 'باب سبتة.. إجهاض عملية إدخال 54 ألف قرص طبي مخدر إلى التراب الوطني', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d8%a7%d8%a8-%d8%b3%d8%a8%d8%aa%d8%a9-%d8%a5%d8%ac%d9%87%d8%a7%d8%b6-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d8%a5%d8%af%d8%ae%d8%a7%d9%84-54-%d8%a3%d9%84%d9%81-%d9%82%d8%b1%d8%b5-%d8%b7%d8%a8%d9%8a/', 'summary': 'باب سبتة.. إجهاض عملية إدخال 54 ألف قرص طبي مخدر إلى التراب الوطني. أسفرت عملية نوعية باشرتها عناصر الأمن الوطني والجمارك بمركز باب سبتة، مساء يوم الخميس 31 يوليوز المنصرم، عن إجهاض عملية تهريب 54 ألف قرص مخدر إلى داخل التراب الوطني، وتوقيف شخص يبلغ من العمر 34 سنة، يشتبه في تورطه في قضية تتعلق بالتهريب الدولي للمخدرات والمؤثرات العقلية. وأوضح مصدر أمني أنه جرى توقيف المشتبه فيه  باب سبتة.. إجهاض عملية إدخال 54 ألف قرص طبي مخدر إلى التراب الوطني     .', 'size': 4}, {'id': '393', 'title': 'عملية نوعية للأمن والجمارك: إجهاض عملية تهريب 54 ألف قرص مخدر إلى داخل التراب الوطني', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225482/', 'summary': 'عملية نوعية للأمن والجمارك: إجهاض عملية تهريب 54 ألف قرص مخدر إلى داخل التراب الوطني. أسفرت عملية نوعية باشرتها عناصر الأمن الوطني والجمارك بمركز باب سبتة، مساء يوم الخميس 31 يوليوز المنصرم، عن إجهاض عملية تهريب 54 ألف قرص مخدر إلى داخل التراب الوطني، وتوقيف شخص يبلغ من العمر 34 سنة، يشتبه في تورطه في قضية تتعلق بالتهريب الدولي للمخدرات والمؤثرات العقلية. وقد جرى توقيف المشتبه فيه مباشرة بعد وصوله', 'size': 4}, {'id': '397', 'title': 'توقيف شخص وإجهاض عملية تهريب 54 ألف قرص مخدر بمركز باب سبتة المحتلة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%b4%d8%ae%d8%b5-%d9%88%d8%a5%d8%ac%d9%87%d8%a7%d8%b6-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d8%aa%d9%87%d8%b1%d9%8a%d8%a8-54-%d8%a3%d9%84%d9%81-%d9%82%d8%b1%d8%b5-%d9%85/', 'summary': 'توقيف شخص وإجهاض عملية تهريب 54 ألف قرص مخدر بمركز باب سبتة المحتلة. أسفرت عملية نوعية باشرتها عناصر الأمن الوطني والجمارك بمركز باب سبتة، مساء أمس الخميس، عن إجهاض عملية تهريب 54 ألف قرص مخدر إلى داخل التراب الوطني، وتوقيف شخص يبلغ من العمر 34 سنة، يشتبه في تورطه في قضية تتعلق بالتهريب الدولي للمخدرات والمؤثرات العقلية. وكشفت مصادر أمنية، أنه قد جرى توقيف المشتبه فيه …  توقيف شخص وإجهاض عملية تهريب 54 ألف قرص مخدر بمركز باب سبتة المحتلة     .', 'size': 4}], 'main_title': 'في عملية نوعية.. عشرات الألاف من الأقراص المهلوسة تقع في قبضة المصالح الأمنية قبل مرورها من معبر باب سبتة'}, {'community_id': '0', 'articles': [{'id': '355', 'title': 'نشرة إنذارية.. موجة حر من السبت إلى الأربعاء بعدد من مناطق المملكة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%86%d8%b4%d8%b1%d8%a9-%d8%a5%d9%86%d8%b0%d8%a7%d8%b1%d9%8a%d8%a9-%d9%85%d9%88%d8%ac%d8%a9-%d8%ad%d8%b1-%d9%85%d9%86-%d8%a7%d9%84%d8%b3%d8%a8%d8%aa-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d8%a3%d8%b1%d8%a8/', 'summary': 'نشرة إنذارية.. موجة حر من السبت إلى الأربعاء بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل موجة حر (ما بين 41 و 45 درجة)، ابتداء من يوم غد السبت إلى غاية يوم الأربعاء المقبل بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه يرتقب تسجيل موجة حر، تتراوح ما بين 41 و45 درجة، يوم السبت، بعمالات وأقاليم سيدي  نشرة إنذارية.. موجة حر من السبت إلى الأربعاء بعدد من مناطق المملكة     .', 'size': 2}, {'id': '402', 'title': 'توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الجمعة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d9%81%d9%8a-%d8%a7%d9%84%d8%b9%d8%af%d9%8a%d8%af-%d9%85%d9%86-%d9%85%d9%86%d8%a7%d8%b7%d9%82-96/', 'summary': 'توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الجمعة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الجمعة، أن تتميز الحالة الجوية عامة بطقس نسبيا حار إلى محليا حار مع هبوب الشركي محليا بكل من السهول الداخلية، وجنوب المنطقة الشرقية، والريف الغربي، والجنوب-الشرقي للبلاد، وشرق الأقاليم الصحراوية. كما يرتقب نزول قطرات مطرية مرفوقة برعد محلي بالأطلس المتوسط، والهضاب العليا الشرقية، وستكون السماء غائمة …  توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الجمعة     .', 'size': 2}], 'main_title': 'نشرة إنذارية.. موجة حر من السبت إلى الأربعاء بعدد من مناطق المملكة'}, {'community_id': '11', 'articles': [{'id': '362', 'title': 'طقس حار مع رياح الشركي متوقع اليوم الجمعة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%b1%d9%8a%d8%a7%d8%ad-%d8%a7%d9%84%d8%b4%d8%b1%d9%83%d9%8a-%d9%85%d8%aa%d9%88%d9%82%d8%b9-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ac%d9%85/', 'summary': 'طقس حار مع رياح الشركي متوقع اليوم الجمعة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الجمعة، أن تتميز الحالة الجوية عامة بطقس نسبيا حار إلى حار محليا مع هبوب الشركي محليا بكل من السهول الداخلية، وجنوب المنطقة الشرقية، والريف الغربي، والجنوب-الشرقي للبلاد، وشرق الأقاليم الصحراوية. كما يرتقب نزول قطرات مطرية مرفوقة برعد محلي بالأطلس المتوسط، والهضاب العليا الشرقية. وستكون السماء غائمة جزئيا بالأطلس الكبير،  طقس حار مع رياح الشركي متوقع اليوم الجمعة     .', 'size': 2}, {'id': '363', 'title': 'طقس اليوم: جو حار مع رياح “الشركي” بعدد من المناطق', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357559.html', 'summary': 'طقس اليوم: جو حار مع رياح “الشركي” بعدد من المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الجمعة، أن تتميز الحالة الجوية عامة بطقس نسبيا حار إلى محليا حار مع هبوب الشركي محليا بكل من السهول الداخلية، وجنوب المنطقة الشرقية، والريف الغربي، والجنوب-الشرقي للبلاد، وشرق الأقاليم الصحراوية. كما يرتقب نزول قطرات مطرية مرفوقة برعد محلي بالأطلس المتوسط، والهضاب العليا الشرقية. وستكون السماء غائمة جزئيا بالأطلس', 'size': 2}], 'main_title': 'طقس حار مع رياح الشركي متوقع اليوم الجمعة'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
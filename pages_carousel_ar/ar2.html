<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 23/09/2025 - 06h13</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '10', 'articles': [{'id': '26', 'title': 'لوديي يستقبل وزير الدفاع الهندي ويوقعان اتفاقية تعاون في مجال الدفاع', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659482.html', 'summary': 'لوديي يستقبل وزير الدفاع الهندي ويوقعان اتفاقية تعاون في مجال الدفاع. هبة بريس تنفيذا للتعليمات الملكية السامية، استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الإثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، السيد راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز وتنويع التعاون الثنائي', 'size': 5}, {'id': '175', 'title': 'لوديي يستقبل وزير الدفاع بجمهورية الهند', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%84%d9%88%d8%af%d9%8a%d9%8a-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%af%d9%81%d8%a7%d8%b9-%d8%a8%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d9%87/', 'summary': 'لوديي يستقبل وزير الدفاع بجمهورية الهند. تنفيذا للتعليمات الملكية، استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الاثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز وتنويع التعاون الثنائي بين المملكة المغربية وجمهورية  لوديي يستقبل وزير الدفاع بجمهورية الهند     .', 'size': 4}, {'id': '219', 'title': 'تنفيذا للتعليمات الملكية السامية: لوديي يستقبل وزير الدفاع بجمهورية الهند', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227395/', 'summary': 'تنفيذا للتعليمات الملكية السامية: لوديي يستقبل وزير الدفاع بجمهورية الهند. تنفيذا للتعليمات الملكية السامية، استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الإثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، السيد راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز وتنويع التعاون الثنائي بين المملكة', 'size': 5}, {'id': '243', 'title': 'لوديي يستقبل بالرباط وزير الدفاع بجمهورية الهند', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%84%d9%88%d8%af%d9%8a%d9%8a-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d8%a8%d8%a7%d9%84%d8%b1%d8%a8%d8%a7%d8%b7-%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%af%d9%81%d8%a7%d8%b9-%d8%a8%d8%ac%d9%85%d9%87-2/', 'summary': 'لوديي يستقبل بالرباط وزير الدفاع بجمهورية الهند. استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الإثنين 22 شتنبر 2025، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة، وذلك تنفيذا للتعليمات الملكية السامية. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز …  لوديي يستقبل بالرباط وزير الدفاع بجمهورية الهند     .', 'size': 4}, {'id': '451', 'title': 'وزير الدفاع الهندي في المغرب لتعزيز التعاون العسكري', 'source': 'almassaa.com', 'link': 'https://almassaa.com/114570-2/', 'summary': 'وزير الدفاع الهندي في المغرب لتعزيز التعاون العسكري. المساء اليوم – الرباط: استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، الإثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة.', 'size': 3}], 'main_title': 'لوديي يستقبل وزير الدفاع الهندي ويوقعان اتفاقية تعاون في مجال الدفاع'}, {'community_id': '1', 'articles': [{'id': '34', 'title': 'الملك يبرق الرئيس الانتقالي لجمهورية مالي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659451.html', 'summary': 'الملك يبرق الرئيس الانتقالي لجمهورية مالي. هبة بريس بعث صاحب الجلالة الملك محمد السادس برقية تهنئة إلى فخامة أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها. وأعرب جلالة الملك، بهذه المناسبة، عن تهانئه الخالصة للرئيس أسيمي غويتا وأحر متمنياته بالرفاه والرخاء للشعب المالي الذي تجمعه بالشعب المغربي روابط تاريخية قائمة على الأخوة والتضامن،', 'size': 2}, {'id': '197', 'title': 'الملك لرئيس مالي.. أجدد لكم استعداد المملكة لتعاون وثيق من أجل إفريقيا مستقرة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/476333.html', 'summary': 'الملك لرئيس مالي.. أجدد لكم استعداد المملكة لتعاون وثيق من أجل إفريقيا مستقرة. بعث الملك محمد السادس برقية تهنئة إلى أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها.', 'size': 2}, {'id': '244', 'title': 'الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d9%87%d9%86%d8%a6-%d8%a7%d9%84%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d8%a7%d9%86%d8%aa%d9%82%d8%a7-3/', 'summary': 'الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده. بعث الملك محمد السادس برقية تهنئة إلى أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها. وأعرب الملك محمد السادس، بهذه المناسبة، عن تهانئه الخالصة للرئيس أسيمي غويتا وأحر متمنياته بالرفاه والرخاء للشعب المالي الذي تجمعه بالشعب المغربي روابط تاريخية قائمة على الأخوة والتضامن، مؤكدا جلالته مدى …  الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده     .', 'size': 3}], 'main_title': 'الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده'}, {'community_id': '2', 'articles': [{'id': '46', 'title': 'مؤشر تطور السوق .. المغرب يسجل تقدما بـ 7 درجات', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659409.html', 'summary': 'مؤشر تطور السوق .. المغرب يسجل تقدما بـ 7 درجات. هبة بريس سجل المغرب تقدماً ملموساً في مؤشر تطور السوق، أحد المحاور الأساسية ضمن التقرير السنوي للابتكار الصادر عن المنظمة العالمية للملكية الفكرية (الويبو)، بشراكة مع جامعة كورنيل والمعهد الأوروبي لإدارة الأعمال (إنسياد). ووفقاً للتقرير، ارتقى المغرب سبع مراتب ليحل في المرتبة 81 من أصل 139 دولة شملها التصنيف، محققاً معدل 14.2 نقطة في مؤشر', 'size': 2}, {'id': '454', 'title': 'المغرب يرتقي 7 مراتب في مؤشر تطور السوق', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b1%d8%aa%d9%82%d9%8a-7-%d9%85%d8%b1%d8%a7%d8%aa%d8%a8-%d9%81%d9%8a-%d9%85%d8%a4%d8%b4%d8%b1-%d8%aa%d8%b7%d9%88%d8%b1-%d8%a7%d9%84%d8%b3%d9%88%d9%82/', 'summary': 'المغرب يرتقي 7 مراتب في مؤشر تطور السوق. سجل المغرب تقدما ملحوظا في مؤشر تطور السوق الصادر عن المنظمة العالمية للملكية الفكرية “الويبو”، بتعاون مع جامعة “كورنيل” والمعهد الأوروبي لإدارة الأعمال “الإنسياد”، حيث ارتقى بسبع درجات ليحتل المرتبة 81 من بين 139 دولة شملها التقرير، إذ يعتبر هذا المؤشر أحد المحاور الأساسية التي يعتمد عليها التصنيف السنوي للابتكار. وحصل المغرب، وفق …  المغرب يرتقي 7 مراتب في مؤشر تطور السوق     .', 'size': 2}], 'main_title': 'مؤشر تطور السوق .. المغرب يسجل تقدما بـ 7 درجات'}, {'community_id': '5', 'articles': [{'id': '66', 'title': 'قاضي التحقيق بمحكمة الاستئناف بالرشيدية يأمر بإعادة تشريح جثة “الطفل الراعي”', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/206579', 'summary': 'قاضي التحقيق بمحكمة الاستئناف بالرشيدية يأمر بإعادة تشريح جثة “الطفل الراعي”.  تعرف قضية وفاة الطفل الراعي محمد بوسليخن، المنحدر من جماعة أغبالو أسردان بإقليم ميدلت، مستجدا قضائيا حيث قرر قاضي التحقيق بمحكمة الإستئناف بالرشيدية إخراج جثة الطفل من قبرها وإعادة تشريحها، فضلا عن الإستماع إلى شهود جدد قد تفيد شهادتهم في كشف ملابسات الوفاة التي هزت الرأي العام المحلي والوطني ووصل صداها إلى الصحف العالمية.', 'size': 2}, {'id': '101', 'title': 'تفاصيل جديدة في قضية وفاة الطفل محمد بوسليخن.. القضاء يأمر بإعادة تشريح الجثة واستدعاء شهود جدد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/413177.html', 'summary': 'تفاصيل جديدة في قضية وفاة الطفل محمد بوسليخن.. القضاء يأمر بإعادة تشريح الجثة واستدعاء شهود جدد. عرف ملف وفاة الطفل الراعي محمد بوسليخن، المنحدر من جماعة أغبالو أسردان بإقليم ميدلت، تطورًا قضائيًا جديدًا، بعد قرار قاضي التحقيق بمحكمة الاستئناف بالرشيدية إخراج', 'size': 2}], 'main_title': 'قاضي التحقيق بمحكمة الاستئناف بالرشيدية يأمر بإعادة تشريح جثة “الطفل الراعي”'}, {'community_id': '4', 'articles': [{'id': '73', 'title': 'بتعليمات من الملك محمد السادس.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/413144.html', 'summary': 'بتعليمات من الملك محمد السادس.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة. بتعليمات سامية من صاحب الجلالة الملك محمد السادس، يترأس عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغال الدورة الثمانين للجمعية العامة للأمم المتحدة، التي', 'size': 2}, {'id': '268', 'title': 'بتعليمات سامية.. أخنوش يترأس الوفد المشارك في دورة الجمعية العامة للأمم المتحدة', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/بتعليمات-سامية-أخنوش-يترأس-الوفد-المشارك-في-دورة-الجمعية-العامة_a29637.html', 'summary': 'بتعليمات سامية.. أخنوش يترأس الوفد المشارك في دورة الجمعية العامة للأمم المتحدة.  بتعليمات سامية من صاحب الجلالة الملك محمد السادس، يترأس السيد عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغا...', 'size': 2}], 'main_title': 'بتعليمات من الملك محمد السادس.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة'}, {'community_id': '6', 'articles': [{'id': '102', 'title': 'الرجاء الرياضي يُعلن رسميًا عن التعاقد مع الجنوب أفريقي فادلو دافيدز', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/footmarocain/413178.html', 'summary': 'الرجاء الرياضي يُعلن رسميًا عن التعاقد مع الجنوب أفريقي فادلو دافيدز. أعلن فريق الرجاء الرياضي لكرة القدم، اليوم الاثنين، تعاقده رسميا مع المدرب جنوب الإفريقي، فادلو دافيدز، خلفا للمدرب التونسي لسعد جردة الشابي.وأوضح نادي الرجاء الرياضي،', 'size': 2}, {'id': '189', 'title': 'الرجاء يتعاقد مع المدرب فادلو دافيدز', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/476371.html', 'summary': 'الرجاء يتعاقد مع المدرب فادلو دافيدز. أعلن فريق الرجاء الرياضي لكرة القدم، الاثنين، تعاقده رسميا مع المدرب جنوب الإفريقي، فادلو دافيدز، خلفا للمدرب التونسي لسعد جردة الشابي.', 'size': 2}], 'main_title': 'الرجاء الرياضي يُعلن رسميًا عن التعاقد مع الجنوب أفريقي فادلو دافيدز'}, {'community_id': '3', 'articles': [{'id': '124', 'title': 'بتهم النصب والاحتيال وتبييض الأموال.. أمن مطار محمد الخامس يوقف مبحوثاً عنه دولياً', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%aa%d9%87%d9%85-%d8%a7%d9%84%d9%86%d8%b5%d8%a8-%d9%88%d8%a7%d9%84%d8%a7%d8%ad%d8%aa%d9%8a%d8%a7%d9%84-%d9%88%d8%aa%d8%a8%d9%8a%d9%8a%d8%b6-%d8%a7%d9%84%d8%a3%d9%85%d9%88%d8%a7%d9%84-%d8%a3/', 'summary': 'بتهم النصب والاحتيال وتبييض الأموال.. أمن مطار محمد الخامس يوقف مبحوثاً عنه دولياً. تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي في الدار البيضاء، أمس الأحد (21 شتنبر)، من توقيف مواطن فرنسي من أصول تركية يبلغ من العمر 44 سنة، كان يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية بدولة فرنسا.\u200e وأظهرت عملية تنقيط المعني بالأمر بقاعدة بيانات المنظمة الدولية للشرطة الجنائية “أنتربول”،', 'size': 5}, {'id': '326', 'title': 'مطار محمد الخامس.. توقيف فرنسي من أصول تركية مبحوث عنه دوليًا', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659533.html', 'summary': 'مطار محمد الخامس.. توقيف فرنسي من أصول تركية مبحوث عنه دوليًا. تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي بمدينة الدار البيضاء، أمس الأحد، من توقيف مواطن فرنسي من أصول تركية يبلغ من العمر 44 سنة، كان يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية بدولة فرنسا.\u200e وذكر مصدر أمني أن عملية تنقيط المعني بالأمر بقاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 5}, {'id': '376', 'title': 'مطار محمد الخامس.. توقيف مواطن فرنسي متهم بالاحتيال وتبييض الأموال', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/324099/', 'summary': 'مطار محمد الخامس.. توقيف مواطن فرنسي متهم بالاحتيال وتبييض الأموال. تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي بمدينة الدار البيضاء، أمس الأحد، من توقيف مواطن فرنسي من أصول تركية يبلغ من العمر 44 سنة، كان يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية بدولة فرنسا.\u200e وذكر مصدر أمني أن عملية تنقيط المعني بالأمر بقاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 5}, {'id': '418', 'title': 'توقيف فرنسي من أصول تركية مبحوث عنه دوليا بمطار محمد الخامس الدولي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/476387.html', 'summary': 'توقيف فرنسي من أصول تركية مبحوث عنه دوليا بمطار محمد الخامس الدولي. تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي بمدينة الدار البيضاء، أمس الأحد، من توقيف مواطن فرنسي من أصول تركية يبلغ من العمر 44 سنة، كان يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية بدولة فرنسا.\u200e', 'size': 5}, {'id': '448', 'title': 'توقيف مواطن فرنسي من أصول تركية موضوع أمر دولي بإلقاء القبض', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227397/', 'summary': 'توقيف مواطن فرنسي من أصول تركية موضوع أمر دولي بإلقاء القبض. تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي بمدينة الدار البيضاء، أمس الأحد، من توقيف مواطن فرنسي من أصول تركية يبلغ من العمر 44 سنة، كان يشكل موضوع أمر دولي بإلقاء القبض صادر في حقه من طرف السلطات القضائية بدولة فرنسا.\u200e وذكر مصدر أمني أن عملية تنقيط المعني بالأمر بقاعدة بيانات المنظمة الدولية للشرطة الجنائية', 'size': 5}], 'main_title': 'بتهم النصب والاحتيال وتبييض الأموال.. أمن مطار محمد الخامس يوقف مبحوثاً عنه دولياً'}, {'community_id': '7', 'articles': [{'id': '151', 'title': 'الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1101865.html', 'summary': 'الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير. أعلن الأمير هشام العلوي عن قراره اللجوء إلى القضاء لمقاضاة الناشط محمد رضا الطوجني، وذلك على خلفية شريط فيديو نشره الأخير على منصة “يوتيوب” بتاريخ 11 شتنبر 2025، اعتبره الأمير مسيئا لشخصه ويمس بشرفه واعتباره. وفي بيان رسمي، نشره عبر صفحته بفيسوك، أوضح الأمير هشام أنه اتخذ هذه الخطوة كمواطن يسعى للإنصاف وحماية حقوقه التي ظهرت المقالة الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير  .', 'size': 3}, {'id': '169', 'title': 'الأمير مولاي هشام يقاضي الطاوجني بسبب اتهامات "ماسة بشرفه"', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%a3%d9%85%d9%8a%d8%b1-%d9%85%d9%88%d9%84%d8%a7%d9%8a-%d9%87%d8%b4%d8%a7%d9%85-%d9%8a%d9%84%d8%ac%d8%a3-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d9%82%d8%b6%d8%a7%d8%a1-%d8%b6%d8%af-%d8%a7%d9%84/', 'summary': 'الأمير مولاي هشام يقاضي الطاوجني بسبب اتهامات "ماسة بشرفه". أعلن الأمير مولاي هشام، ابن عم الملك محمد السادس، الاثنين، عن قراره اتخاذ إجراءات قضائية ضد الناشط محمد رضا الطاوجني، على خلفية تصريحات اعتبرها ماسّة بشرفه واعتباره، نشرها الأخير في شريط مصوّر على موقع "يوتيوب" بتاريخ 11 شتنبر 2025. وقال الأمير في تدوينة نشرها على حسابه الرسمي: "على إثر تصريحات السيد محمد رضا الطوجني بتاريخ  الأمير مولاي هشام يقاضي الطاوجني بسبب اتهامات "ماسة بشرفه"     .', 'size': 2}, {'id': '328', 'title': 'بسبب تصريحات “مسيئة”.. الأمير هشام العلوي يلجأ إلى القضاء', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659521.html', 'summary': 'بسبب تصريحات “مسيئة”.. الأمير هشام العلوي يلجأ إلى القضاء. هبة بريس قرر الأمير هشام العلوي اللجوء إلى القضاء، على خلفية تصريحات أدلى بها محمد رضا الطوجني بتاريخ 11 شتنبر 2025، من خلال شريط مصور نشره على موقع “يوتيوب”، تضمّن اتهامات وعبارات اعتبرها تمس بشخصه وشرفه واعتباره. وأوضح الأمير هشام العلوي، في بيان توضيحي، أن هذه الخطوة تأتي من منطلق حقه كمواطن في الإنصاف طبقاً', 'size': 2}], 'main_title': 'الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير'}, {'community_id': '0', 'articles': [{'id': '236', 'title': 'أخنوش في نيويورك لحضور الدورة الثمانين للجمعية العامة للأمم المتحدة', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a3%d8%ae%d9%86%d9%88%d8%b4-%d9%81%d9%8a-%d9%86%d9%8a%d9%88%d9%8a%d9%88%d8%b1%d9%83-%d9%84%d8%ad%d8%b6%d9%88%d8%b1-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d8%a9-%d8%a7%d9%84%d8%ab%d9%85%d8%a7%d9%86%d9%8a/', 'summary': 'أخنوش في نيويورك لحضور الدورة الثمانين للجمعية العامة للأمم المتحدة. المساء اليوم- الرباط: يترأس عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغال الدورة الثمانين للجمعية العامة للأمم المتحدة، التي تنعقد بنيويورك. ويرافق السيد أخنوش خلال هذه الدورة، وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين', 'size': 3}, {'id': '303', 'title': 'أخنوش يمثل المغرب في نيويورك لمؤتمر السلام الفلسطيني', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659613.html', 'summary': 'أخنوش يمثل المغرب في نيويورك لمؤتمر السلام الفلسطيني. شارك المغرب، ممثلاً برئيس الحكومة عزيز أخنوش، يوم الاثنين 22 سبتمبر 2025 في مؤتمر دولي رفيع المستوى بنيويورك حول التسوية السلمية للقضية الفلسطينية وتنفيذ حل الدولتين. ويأتي هذا المؤتمر على هامش الدورة الثمانين للجمعية العامة للأمم المتحدة، في إطار تعزيز الالتزامات الدولية لصالح حل الدولتين وحشد الدعم العالمي لتنفيذه. رافق رئيس الحكومة في هذه المشاركة', 'size': 3}, {'id': '354', 'title': 'الأمم المتحدة.. المغرب يشارك في مؤتمر دولي حول التسوية السلمية للقضية الفلسطينية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%a3%d9%85%d9%85-%d8%a7%d9%84%d9%85%d8%aa%d8%ad%d8%af%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b4%d8%a7%d8%b1%d9%83-%d9%81%d9%8a-%d9%85%d8%a4%d8%aa%d9%85%d8%b1-%d8%af%d9%88/', 'summary': 'الأمم المتحدة.. المغرب يشارك في مؤتمر دولي حول التسوية السلمية للقضية الفلسطينية. شارك المغرب، ممثلا برئيس الحكومة، عزيز أخنوش، اليوم الاثنين (22 شتنبر) بنيويورك، في مؤتمر دولي رفيع المستوى حول التسوية السلمية للقضية الفلسطينية وتنفيذ حل الدولتين. وكان أخنوش مرفوقا، خلال هذا المؤتمر المنعقد على هامش الدورة الثمانين للجمعية العامة للأمم المتحدة، بوزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، والسفير الممثل الدائم للمغرب لدى', 'size': 2}, {'id': '368', 'title': 'أخنوش يمثل المغرب في مؤتمر رفيع المستوى حول القضية الفلسطينية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/324121/', 'summary': 'أخنوش يمثل المغرب في مؤتمر رفيع المستوى حول القضية الفلسطينية. شارك المغرب، ممثلا برئيس الحكومة، عزيز أخنوش، اليوم الاثنين، في مؤتمر دولي رفيع المستوى حول التسوية السلمية للقضية الفلسطينية وتنفيذ حل الدولتين بنيويورك. وكان السيد أخنوش مرفوقا في هذا المؤتمر، الذي نظم على هامش الدورة الثمانين للجمعية العامة للأمم المتحدة، بوزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، والسفير والممثل الدائم للمملكة لدى', 'size': 4}], 'main_title': 'أخنوش يمثل المغرب في مؤتمر رفيع المستوى حول القضية الفلسطينية'}, {'community_id': '8', 'articles': [{'id': '321', 'title': 'نيويورك.. بوريطة يستعرض التقدم المحرز بالمملكة في مجال الهجرة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659549.html', 'summary': 'نيويورك.. بوريطة يستعرض التقدم المحرز بالمملكة في مجال الهجرة. استعرض وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الاثنين بنيويورك، التقدم الذي أحرزته المملكة في مجال الهجرة، وذلك بمناسبة حوار استراتيجي رفيع المستوى بشأن هذه القضية، انعقد على هامش الدورة الـ80 للجمعية العامة للأمم المتحدة. وخلال هذا اللقاء، المنعقد حول موضوع “الهجرة في مفترق الطرق: حوار استراتيجي من أجل عالم يشهد', 'size': 3}, {'id': '374', 'title': 'بوريطة يستعرض التقدم المحرز بالمملكة في مجال الهجرة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/324102/', 'summary': 'بوريطة يستعرض التقدم المحرز بالمملكة في مجال الهجرة. استعرض وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الاثنين بنيويورك، التقدم الذي أحرزته المملكة في مجال الهجرة، وذلك بمناسبة حوار استراتيجي رفيع المستوى بشأن هذه القضية، انعقد على هامش الدورة الـ80 للجمعية العامة للأمم المتحدة. وخلال هذا اللقاء، المنعقد حول موضوع “الهجرة في مفترق الطرق: حوار استراتيجي من أجل عالم يشهد', 'size': 3}, {'id': '412', 'title': 'بوريطة يستعرض بالأمم المتحدة التقدم المحرز بالمملكة في مجال الهجرة', 'source': 'rue20.com', 'link': 'https://rue20.com/938801.html', 'summary': 'بوريطة يستعرض بالأمم المتحدة التقدم المحرز بالمملكة في مجال الهجرة. . الرباط استعرض وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، اليوم الاثنين بنيويورك، التقدم الذي أحرزته المملكة في مجال الهجرة، وذلك بمناسبة حوار استراتيجي رفيع المستوى بشأن هذه القضية، انعقد على هامش الدورة الـ80 للجمعية العامة للأمم المتحدة. وخلال هذا اللقاء، المنعقد حول موضوع “الهجرة في مفترق الطرق: حوار استراتيجي من الخبر بوريطة يستعرض بالأمم المتحدة التقدم المحرز بالمملكة في مجال الهجرة  .', 'size': 3}], 'main_title': 'نيويورك.. بوريطة يستعرض التقدم المحرز بالمملكة في مجال الهجرة'}, {'community_id': '9', 'articles': [{'id': '341', 'title': 'الأوقاف تعلن فاتح شهر ربيع الآخر 1447 هـ بالمغرب بعد غد الأربعاء', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/413208.html', 'summary': 'الأوقاف تعلن فاتح شهر ربيع الآخر 1447 هـ بالمغرب بعد غد الأربعاء. أعلنت وزارة الأوقاف والشؤون الإسلامية أن فاتح شهر ربيع الآخر لعام 1447 هـ هو بعد غد الأربعاء 24 شتنبر 2025 م. وذكرت الوزارة في بلاغ لها،', 'size': 2}, {'id': '389', 'title': 'وزارة الأوقاف تعلن الأربعاء أول أيام شهر ربيع الثاني بالمغرب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1101960.html', 'summary': 'وزارة الأوقاف تعلن الأربعاء أول أيام شهر ربيع الثاني بالمغرب. أعلنت وزارة الأوقاف والشؤون الإسلامية أن فاتح شهر ربيع الآخر لعام 1447 ظهرت المقالة وزارة الأوقاف تعلن الأربعاء أول أيام شهر ربيع الثاني بالمغرب  .', 'size': 2}], 'main_title': 'الأوقاف تعلن فاتح شهر ربيع الآخر 1447 هـ بالمغرب بعد غد الأربعاء'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
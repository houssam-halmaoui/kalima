<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 11/10/2025 - 12h21</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '23', 'title': 'ماكرون يعيد تعيين لوكورنو ويكلفه بتشكيل حكومة جديدة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665012.html', 'summary': 'ماكرون يعيد تعيين لوكورنو ويكلفه بتشكيل حكومة جديدة. أعاد الرئيس الفرنسي إيمانويل ماكرون تعيين سيباستيان لوكورنو رئيسًا للوزراء يوم الجمعة، وكلفه بتشكيل حكومة جديدة، في خطوة تهدف إلى كسر الجمود السياسي الذي تواجهه فرنسا مع برلمان منقسم وصعوبة إقرار ميزانيات تقشفية. وجاء القرار بعد أربعة أيام من استقالة لوكورنو، عقب مفاوضات مطولة مع قادة الأحزاب السياسية الرئيسية في قصر الإليزيه. وأكد لوكورنو عبر', 'size': 3}, {'id': '195', 'title': 'الإليزيه: إعادة تعيين لوكورنو رئيسا للوزراء وتكليفه بتشكيل الحكومة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/international/478207.html', 'summary': 'الإليزيه: إعادة تعيين لوكورنو رئيسا للوزراء وتكليفه بتشكيل الحكومة. متابعة أعلن مكتب الرئيس الفرنسي إيمانويل ماكرون، مساء اليوم الجمعة، إعادة تعيين سيباستيان لوكورنو رئيسا للوزراء، مع تكليفه بتشكيل حكومة جديدة. وقال قصر الإليزيه في بيان “سمى رئيس الجمهورية سيباستيان لوكورنو رئيساً للوزراء وكلفه بتشكيل الحكومة”. يأتي ذلك بعد أيام فقط من استقالة لوكورنو، ما تسبب بأزمة سياسية هي الأسوأ في فرنسا منذ 70 عاما. …', 'size': 2}, {'id': '364', 'title': 'ماكرون يعيد تعيين أوكراني رئيساً للوزراء الفرنسي', 'source': 'rue20.com', 'link': 'https://rue20.com/944237.html', 'summary': 'ماكرون يعيد تعيين أوكراني رئيساً للوزراء الفرنسي. . الرباط أعلن قصر الإليزيه، اليوم الجمعة، عن إعادة تعيين رئيس الوزراء الفرنسي المستقيل سيباستيان لوكورنو في منصبه، مع تكليفه بتشكيل حكومة جديدة. وجاء في بيان صادر عن الإليزيه أن “رئيس الجمهورية عي ن السيد سيباستيان لوكورنو رئيسا للوزراء، وكلفه بتشكيل الحكومة”. وقبل هذا الإعلان، كان الرئيس الفرنسي إيمانويل ماكرون قد عقد اجتماعا مع الخبر ماكرون يعيد تعيين أوكراني رئيساً للوزراء الفرنسي  .', 'size': 2}, {'id': '393', 'title': 'إعادة تعيين لوكورنو رئيسا للوزراء بفرنسا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a5%d8%b9%d8%a7%d8%af%d8%a9-%d8%aa%d8%b9%d9%8a%d9%8a%d9%86-%d9%84%d9%88%d9%83%d9%88%d8%b1%d9%86%d9%88-%d8%b1%d8%a6%d9%8a%d8%b3%d8%a7-%d9%84%d9%84%d9%88%d8%b2%d8%b1%d8%a7%d8%a1-%d8%a8%d9%81%d8%b1/', 'summary': 'إعادة تعيين لوكورنو رئيسا للوزراء بفرنسا. أعلن قصر الإليزيه، أمس الجمعة 10 أكتوبر 2025، عن إعادة تعيين رئيس الوزراء الفرنسي المستقيل سيباستيان لوكورنو في منصبه، مع تكليفه بتشكيل حكومة جديدة. وجاء في بيان صادر عن الإليزيه أن “رئيس الجمهورية عيّن سيباستيان لوكورنو رئيسا للوزراء، وكلفه بتشكيل الحكومة”. وقبل هذا الإعلان، كان الرئيس الفرنسي إيمانويل ماكرون قد عقد اجتماعا مع …  إعادة تعيين لوكورنو رئيسا للوزراء بفرنسا     .', 'size': 3}], 'main_title': 'ماكرون يعيد تعيين لوكورنو ويكلفه بتشكيل حكومة جديدة'}, {'community_id': '1', 'articles': [{'id': '30', 'title': 'الطقس غدا السبت.. أمطار رعدية ورياح قوية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-664991.html', 'summary': 'الطقس غدا السبت.. أمطار رعدية ورياح قوية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد السبت، نزول أمطار قد تكون رعدية بالريف، والواجهة المتوسطية والمنطقة الشرقية. وسيلاحظ تشكل سحب منخفضة مع كتل ضبابية خلال الصباح والليل بالسواحل الأطلسية، مع هبوب رياح قوية نوعا ما بمنطقة طنجة والمنطقة الشرقية والسواحل الوسطى والجنوبية مع تناثر غبار محلي بالأقاليم الصحراوية للمملكة. وستتراوح درجات الحرارة الدنيا', 'size': 2}, {'id': '148', 'title': 'أمطار مرتقبة يوم غد السبت بهذه المناطق منالمملكة', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593307.html', 'summary': 'أمطار مرتقبة يوم غد السبت بهذه المناطق منالمملكة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد السبت، نزول أمطار قد تكون رعدية بالريف، والواجهة المتوسطية والمنطقة الشرقية. وسيلاحظ تشكل سحب منخفضة مع كتل ضبابية خلال الصباح والليل بالسواحل الأطلسية، مع هبوب رياح قوية نوعا ما بمنطقة طنجة والمنطقة الشرقية والسواحل الوسطى والجنوبية مع تناثر غبار محلي بالأقاليم الصحراوية للمملكة.', 'size': 2}], 'main_title': 'الطقس غدا السبت.. أمطار رعدية ورياح قوية'}, {'community_id': '2', 'articles': [{'id': '100', 'title': 'نص خطاب الملك محمد السادس أمام البرلمان', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/414268.html', 'summary': 'نص خطاب الملك محمد السادس أمام البرلمان. وجه صاحب الجلالة الملك محمد السادس، نصره الله، مرفوقا بولي العهد صاحب السمو الملكي الأمير مولاي الحسن، وصاحب السمو الملكي الأمير مولاي رشيد، اليوم الجمعة،', 'size': 2}, {'id': '233', 'title': 'النص الكامل لخطاب جلالة الملك في افتتاح البرلمان', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228292/', 'summary': 'النص الكامل لخطاب جلالة الملك في افتتاح البرلمان. الرباط – وجه صاحب الجلالة الملك محمد السادس، نصره الله، مرفوقا بولي العهد صاحب السمو الملكي الأمير مولاي الحسن، وصاحب السمو الملكي الأمير مولاي رشيد، اليوم الجمعة، خطابا ساميا إلى أعضاء البرلمان بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة. وفي ما يلي نص الخطاب الملكي السامي : ” الحمد', 'size': 3}, {'id': '250', 'title': 'النص الكامل للخطاب الملكي بمناسبة افتتاح الدورة الخريفية للبرلمان', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%86%d8%b5-%d8%a7%d9%84%d9%83%d8%a7%d9%85%d9%84-%d9%84%d9%84%d8%ae%d8%b7%d8%a7%d8%a8-%d8%a7%d9%84%d9%85%d9%84%d9%83%d9%8a-%d8%a8%d9%85%d9%86%d8%a7%d8%b3%d8%a8%d8%a9-%d8%a7%d9%81%d8%aa-3/', 'summary': 'النص الكامل للخطاب الملكي بمناسبة افتتاح الدورة الخريفية للبرلمان. ألقى الملك محمد السادس، مرفوقا بولي العهد الأمير مولاي الحسن والأمير مولاي رشيد، اليوم الجمعة 10 أكتوبر 2025، خطابا ساميا أمام أعضاء البرلمان، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة للولاية التشريعية الحادية عشرة. وفي ما يلي النص الكامل للخطاب الملكي بمناسبة افتتاح البرلمان – 10 أكتوبر 2025: « الحمد لله، والصلاة والسلام …  النص الكامل للخطاب الملكي بمناسبة افتتاح الدورة الخريفية للبرلمان     .', 'size': 2}], 'main_title': 'النص الكامل لخطاب جلالة الملك في افتتاح البرلمان'}, {'community_id': '3', 'articles': [{'id': '120', 'title': 'كان 2025.. الاهتمام العالمي الكبير يدفع “الكاف” إلى تمديد فترة اعتماد وسائل الإعلام', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%83%d8%a7%d9%86-2025-%d8%a7%d9%84%d8%a7%d9%87%d8%aa%d9%85%d8%a7%d9%85-%d8%a7%d9%84%d8%b9%d8%a7%d9%84%d9%85%d9%8a-%d8%a7%d9%84%d9%83%d8%a8%d9%8a%d8%b1-%d9%8a%d8%af%d9%81%d8%b9-%d8%a7%d9%84%d9%83/', 'summary': 'كان 2025.. الاهتمام العالمي الكبير يدفع “الكاف” إلى تمديد فترة اعتماد وسائل الإعلام. أعلن الاتحاد الإفريقي لكرة القدم (الكاف)، اليوم الجمعة (10 أكتوبر)، أنه قرر تمديد فترة اعتماد ممثلي وسائل الإعلام الخاصة بكأس الأمم الإفريقية (المغرب 2025) إلى غاية يوم الاثنين 20 أكتوبر الجاري، وذلك بعد الطلبات العالمية المتزايدة التي توصل بها. وأشار “الكاف”، على موقعه الرسمي، إلى أن الاهتمام غير المسبوق من مختلف أنحاء العالم من ممثلي', 'size': 2}, {'id': '237', 'title': 'بسبب الطلبات المتزايدة: “الكاف” يمدد فترة اعتماد الصحافيين بكأس إفريقيا للأمم', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a8%d8%b3%d8%a8%d8%a8-%d8%a7%d9%84%d8%b7%d9%84%d8%a8%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d8%aa%d8%b2%d8%a7%d9%8a%d8%af%d8%a9-%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d9%8a%d9%85%d8%af%d8%af-%d9%81%d8%aa/', 'summary': 'بسبب الطلبات المتزايدة: “الكاف” يمدد فترة اعتماد الصحافيين بكأس إفريقيا للأمم. المساء اليوم: أعلن الاتحاد الإفريقي لكرة القدم (الكاف)، اليوم الجمعة، أنه قرر تمديد فترة اعتماد ممثلي وسائل الإعلام الخاصة بكأس الأمم الإفريقية (المغرب 2025) إلى غاية يوم الاثنين 20 أكتوبر الجاري، وذلك بعد الطلبات', 'size': 2}], 'main_title': 'كان 2025.. الاهتمام العالمي الكبير يدفع “الكاف” إلى تمديد فترة اعتماد وسائل الإعلام'}, {'community_id': '4', 'articles': [{'id': '136', 'title': 'ولد الرشيد: الخطاب الملكي حافز لمضاعفة الجهود خدمة للوطن', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/325909/', 'summary': 'ولد الرشيد: الخطاب الملكي حافز لمضاعفة الجهود خدمة للوطن. قال رئيس مجلس المستشارين السيد محمد ولد الرشيد، إن الخطاب السامي الذي وجهه صاحب الجلالة الملك محمد السادس، اليوم الجمعة، إلى أعضاء البرلمان بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، يشكل توجيها ملكيا واضحا، يرسم معالم المرحلة المقبلة، ويدعو إلى مضاعفة الجهود بروح من الجدية والمسؤولية خلال السنة التشريعية', 'size': 2}, {'id': '369', 'title': 'رئيس مجلس المستشارين: الخطاب الملكي أمام البرلمان دعوة إلى مضاعفة الجهود بروح من الجدية والمسؤولية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/478226.html', 'summary': 'رئيس مجلس المستشارين: الخطاب الملكي أمام البرلمان دعوة إلى مضاعفة الجهود بروح من الجدية والمسؤولية. قال رئيس مجلس المستشارين محمد ولد الرشيد، إن الخطاب الذي وجهه الملك محمد السادس، إلى أعضاء البرلمان بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، يشكل توجيها ملكيا واضحا، يرسم معالم المرحلة المقبلة، ويدعو إلى مضاعفة الجهود بروح من الجدية والمسؤولية خلال السنة التشريعية من هذه الولاية. وأكد ولد الرشيد …', 'size': 2}], 'main_title': 'ولد الرشيد: الخطاب الملكي حافز لمضاعفة الجهود خدمة للوطن'}, {'community_id': '5', 'articles': [{'id': '140', 'title': 'العلمي: الخطاب الملكي دعوة لتعزيز المسؤولية المشتركة بين مؤسسات الدولة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/325900/', 'summary': 'العلمي: الخطاب الملكي دعوة لتعزيز المسؤولية المشتركة بين مؤسسات الدولة. أكد رئيس مجلس النواب، راشيد الطالبي العلمي، أن الخطاب السامي الذي وجهه صاحب الجلالة الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، تضمن توجيهات سامية تروم تعزيز روح المسؤولية المشتركة لدى مختلف المؤسسات، من أجل المضي قدما في مسار التنمية الشاملة والمستدامة. وأوضح الطالبي العلمي،', 'size': 3}, {'id': '194', 'title': 'العلمي: خطاب الملك تضمن توجيهات سامية لتعزيز روح المسؤولية لدى مختلف المؤسسات', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/478210.html', 'summary': 'العلمي: خطاب الملك تضمن توجيهات سامية لتعزيز روح المسؤولية لدى مختلف المؤسسات. و.م.ع أكد رئيس مجلس النواب، راشيد الطالبي العلمي، أن الخطاب السامي الذي وجهه الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، تضمن توجيهات سامية تروم تعزيز روح المسؤولية المشتركة لدى مختلف المؤسسات، من أجل المضي قدما في مسار التنمية الشاملة والمستدامة. وأوضح الطالبي العلمي، في …', 'size': 3}, {'id': '226', 'title': 'الطالبي العلمي: خطاب جلالة الملك تضمن توجيهات سامية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228309/', 'summary': 'الطالبي العلمي: خطاب جلالة الملك تضمن توجيهات سامية. أكد رئيس مجلس النواب، راشيد الطالبي العلمي، أن الخطاب السامي الذي وجهه صاحب الجلالة الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، تضمن توجيهات سامية تروم تعزيز روح المسؤولية المشتركة لدى مختلف المؤسسات، من أجل المضي قدما في مسار التنمية الشاملة والمستدامة. وأوضح السيد الطالبي', 'size': 3}], 'main_title': 'العلمي: الخطاب الملكي دعوة لتعزيز المسؤولية المشتركة بين مؤسسات الدولة'}, {'community_id': '6', 'articles': [{'id': '141', 'title': 'برلمانيون: الخطاب الملكي دعوة لتعبئة جماعية لاستكمال مسار التنمية والإصلاح', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/325893/', 'summary': 'برلمانيون: الخطاب الملكي دعوة لتعبئة جماعية لاستكمال مسار التنمية والإصلاح. في أعقاب الخطاب الملكي الذي ألقاه جلالة الملك محمد السادس، اليوم الجمعة 10 أكتوبر الجاري، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية البرلمانية الحالية، عبّر عدد من البرلمانيين عن ارتياحهم الكبير لمضامين الخطاب وما حمله من رسائل واضحة وموجهة إلى مختلف الفاعلين في المشهد السياسي والاجتماعي، مؤكدين أن المرحلة المقبلة تتطلب تعبئة', 'size': 4}, {'id': '202', 'title': 'الملك: ننتظر وتيرة أسرع وأثراً أقوى من الجيل الجديد لبرامج التنمية الترابية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/478191.html', 'summary': 'الملك: ننتظر وتيرة أسرع وأثراً أقوى من الجيل الجديد لبرامج التنمية الترابية. قال الملك محمد السادس إن “التحول الكبير الذي نسعى إلى تحقيقه على مستوى التنمية الترابية، يقتضي تغييراً ملموساً في العقليات وفي طرق العمل، وترسيخاً حقيقياً لثقافة النتائج، بناءً على معطيات ميدانية دقيقة، واستثماراً أمثل للتكنولوجيا الرقمية”. ودعا الملك محمد السادس في خطاب افتتاح الدورة التشريعية للبرلمان لوتيرة أسرع وأثراً أقوى من الجيل الجديد من برامج …', 'size': 4}, {'id': '224', 'title': 'تفاعل وطني واسع مع الخطاب الملكي أمام البرلمان.. دعوة صريحة للجدية والإنصاف المجالي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228317/', 'summary': 'تفاعل وطني واسع مع الخطاب الملكي أمام البرلمان.. دعوة صريحة للجدية والإنصاف المجالي. حظي الخطاب الملكي السامي الذي ألقاه جلالة الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية البرلمانية الحالية، بتفاعل كبير من مختلف شرائح المجتمع المغربي، ومن الفعاليات السياسية والإعلامية والجمعوية، التي أجمعت على أن الخطاب شكّل خارطة طريق جديدة لتسريع وتيرة الإصلاح وتحقيق العدالة الاجتماعية والمجالية. الخطاب الملكي', 'size': 4}, {'id': '245', 'title': 'الملك محمد السادس يدعو الحكومة والبرلمان إلى تغليب مصلحة الوطن والمواطنين فوق كل اعتبار', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d8%af%d8%b9%d9%88-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%88%d8%a7%d9%84%d8%a8%d8%b1%d9%84-2/', 'summary': 'الملك محمد السادس يدعو الحكومة والبرلمان إلى تغليب مصلحة الوطن والمواطنين فوق كل اعتبار. دعا الملك محمد السادس الحكومة والبرلمان إلى تعبئة كل الطاقات والإمكانات، وتغليب المصالح العليا للوطن والمواطنين. وفي هذا السياق، قال الملك محمد السادس، في الخطاب السامي الذي وجهه، اليوم الجمعة 10 أكتوبر 2025، إلى أعضاء البرلمان بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة: “إننا ننتظر منكم جميعا، …  الملك محمد السادس يدعو الحكومة والبرلمان إلى تغليب مصلحة الوطن والمواطنين فوق كل اعتبار     .', 'size': 4}], 'main_title': 'برلمانيون: الخطاب الملكي دعوة لتعبئة جماعية لاستكمال مسار التنمية والإصلاح'}, {'community_id': '7', 'articles': [{'id': '153', 'title': 'الملك يستقبل رئيسي غرفتي البرلمان', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593301.html', 'summary': 'الملك يستقبل رئيسي غرفتي البرلمان. استقبل الملك محمد السادس رئيس مجلس النواب راشيد الطالبي العلمي، الذي قدّم حصيلة أعمال المجلس برسم السنة التشريعية 2024-2025، إضافةً إلى منشورات أخرى صادرة عن المجلس. وفي السياق استقبل الملك رئيس مجلس المستشارين محمد ولد الرشيد، الذي قدم لجلالته عدة إصدارات تتضمن حصيلة أشغال مجلس المستشارين للسنة التشريعية 2024-2025. وترأس', 'size': 2}, {'id': '246', 'title': 'الملك محمد السادس يستقبل الطالبي العلمي وولد الرشيد', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d8%a7%d9%84%d8%b7%d8%a7%d9%84%d8%a8%d9%8a-%d8%a7%d9%84%d8%b9%d9%84/', 'summary': 'الملك محمد السادس يستقبل الطالبي العلمي وولد الرشيد. استقبل الملك محمد السادس، رئيس مجلس النواب راشيد الطالبي العلمي، الذي قدّم حصيلة أعمال المجلس برسم السنة التشريعية 2024-2025، إضافةً إلى منشورات أخرى صادرة عن المجلس. وفي السياق ذاته، استقبل الملك محمد السادس، رئيس مجلس المستشارين محمد ولد الرشيد، الذي قدم لجلالته عدة إصدارات تتضمن حصيلة أشغال مجلس المستشارين للسنة التشريعية 2024-2025. وترأس …  الملك محمد السادس يستقبل الطالبي العلمي وولد الرشيد     .', 'size': 2}], 'main_title': 'الملك يستقبل رئيسي غرفتي البرلمان'}, {'community_id': '8', 'articles': [{'id': '164', 'title': 'من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107301.html', 'summary': 'من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟. الخطاب الملكي الأخير بمناسبة افتتاح البرلمان جاء في لحظة دقيقة يمر منها المغرب، تزامنا مع حراك جيل Z الذي عبر عن حالة وعي جديدة داخل المجتمع المغربي، وعن تحولات عميقة في علاقة الشباب بالمؤسسات والسياسات العمومية. ويمكن القول إن الخطاب عكس استيعابا حكيما لهذا الواقع، من خلال مضامينه المتسمة بالعمق والرزانة، و التي جسدت حرص ظهرت المقالة من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟  .', 'size': 2}, {'id': '394', 'title': 'من 14 إلى 16 أكتوبر.. المغرب يحتضن المؤتمر الإقليمي الإفريقي لـ”حق التتبع”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%86-14-%d8%a5%d9%84%d9%89-16-%d8%a3%d9%83%d8%aa%d9%88%d8%a8%d8%b1-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%ad%d8%aa%d8%b6%d9%86-%d8%a7%d9%84%d9%85%d8%a4%d8%aa%d9%85%d8%b1-%d8%a7%d9%84/', 'summary': 'من 14 إلى 16 أكتوبر.. المغرب يحتضن المؤتمر الإقليمي الإفريقي لـ”حق التتبع”. يستعد المغرب لاحتضان المؤتمر الإقليمي الإفريقي حول “حق التتبع” من 14 إلى 16 أكتوبر 2025، بمشاركة نخبة من الخبراء القانونيين والفنانين التشكيليين، حيث يهدف هذا الحدث الثقافي والقانوني البارز إلى مناقشة آليات تعزيز “حق التتبع” كإطار يضمن العدالة الاقتصادية والاجتماعية للفنانين في القارة الإفريقية، وتمكينهم من الاستفادة المستمرة من القيمة الاقتصادية لأعمالهم الفنية …  من 14 إلى 16 أكتوبر.. المغرب يحتضن المؤتمر الإقليمي الإفريقي لـ”حق التتبع”     .', 'size': 2}], 'main_title': 'من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟'}, {'community_id': '9', 'articles': [{'id': '234', 'title': 'تضمن شهادات وذكريات: مؤسسة “منتدى أصيلة” تصدر كتاب “محمد بن عيسى.. رجل الدولة وأيقونة الثقافة”', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%aa%d8%b6%d9%85%d9%86-%d8%b4%d9%87%d8%a7%d8%af%d8%a7%d8%aa-%d9%88%d8%b0%d9%83%d8%b1%d9%8a%d8%a7%d8%aa-%d9%85%d8%a4%d8%b3%d8%b3%d8%a9-%d9%85%d9%86%d8%aa%d8%af%d9%89-%d8%a3%d8%b5%d9%8a%d9%84%d8%a9-2/', 'summary': 'تضمن شهادات وذكريات: مؤسسة “منتدى أصيلة” تصدر كتاب “محمد بن عيسى.. رجل الدولة وأيقونة الثقافة”. المساء اليوم – أصيلة: أصدرت “مؤسسة منتدى أصيلة”، ضمن منشوراتها الجديدة، في إطار فعاليات موسم أصيلة الثقافي الدولي السادس والأربعين، في دورته الخريفية، كتابا تحت عنوان “محمد بن عيسى … رجل الدولة وأيقونة الثقافة/', 'size': 2}, {'id': '358', 'title': '"منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d9%86%d8%aa%d8%af%d9%89-%d8%a3%d8%b5%d9%8a%d9%84%d8%a9-%d9%8a%d8%b5%d8%af%d8%b1-%d9%83%d8%aa%d8%a7%d8%a8%d8%a7-%d9%8a%d8%b6%d9%85-78-%d8%b4%d9%87%d8%a7%d8%af%d8%a9-%d9%81%d9%8a-%d8%ad%d9%82/', 'summary': '"منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى. أصدرت "مؤسسة منتدى أصيلة"، ضمن منشوراتها الجديدة، في إطار فعاليات موسم أصيلة الثقافي الدولي السادس والأربعين، في دورته الخريفية، كتابا تحت عنوان "محمد بن عيسى.. رجل الدولة وأيقونة الثقافة/ شهادات وذكريات". يتضمن الكتاب شهادات المشاركين في ندوة خيمة الابداع بعنوان "محمد بن عيسى.. رجل الدولة وأيقونة الثقافة"، ضمن تقليد دأبت عليه منذ إطلاق هذه الفعالية  "منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى     .', 'size': 2}], 'main_title': 'تضمن شهادات وذكريات: مؤسسة “منتدى أصيلة” تصدر كتاب “محمد بن عيسى.. رجل الدولة وأيقونة الثقافة”'}, {'community_id': '10', 'articles': [{'id': '277', 'title': 'تساقطات تغمر مدينة العروي بالمياه', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%aa%d8%b3%d8%a7%d9%82%d8%b7%d8%a7%d8%aa-%d8%aa%d8%ba%d9%85%d8%b1-%d9%85%d8%af%d9%8a%d9%86%d8%a9-%d8%a7%d9%84%d8%b9%d8%b1%d9%88%d9%8a-%d8%a8%d8%a7%d9%84%d9%85%d9%8a%d8%a7%d9%87-1638256.html', 'summary': 'تساقطات تغمر مدينة العروي بالمياه. شهدت مدينة العروي التابعة للنفوذ الترابي لإقليم الناظور، في الساعات الأولى من صباح اليوم السبت، تساقطات مطرية غزيرة أدت إلى تشكيل فيضانات اجتاحت مختلف الشوارع. وأدت السيول إلى تسرب المياه داخل السيارات والمنازل، خاصة على مستوى الشوارع والأحياء المجاورة لوادي “زاج” الذي فاض. وأدى ارتفاع منسوب المياه إلى انقطاع الطريق الرابطة بين العروي وسلوان بشكل  تساقطات تغمر مدينة العروي بالمياه     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '366', 'title': 'فيضانات قوية تجتاح إقليم الناظور وتتسبب في خسائر مادية جسيمة (فيديو)', 'source': 'rue20.com', 'link': 'https://rue20.com/944215.html', 'summary': 'فيضانات قوية تجتاح إقليم الناظور وتتسبب في خسائر مادية جسيمة (فيديو).  الناظور شهدت مدينة العروي، اليوم السبت، تساقطات مطرية غزيرة أدت إلى فيضانات مفاجئة غمرت عدداً من المنازل وأحياء سكنية، متسببة في خسائر مادية مهمة، دون تسجيل خسائر بشرية إلى حدود الساعة. وأفادت مصادر محلية أن السيول جرفت عدداً من السيارات المتوقفة في الشوارع، كما أدت إلى انقطاع حركة السير بالطريق الرابطة بين العروي وسلوان، الخبر فيضانات قوية تجتاح إقليم الناظور وتتسبب في خسائر مادية جسيمة (فيديو)  .', 'size': 2}], 'main_title': 'تساقطات تغمر مدينة العروي بالمياه'}, {'community_id': '11', 'articles': [{'id': '287', 'title': 'نيويورك.. إدانة لتجنيد الأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665093.html', 'summary': 'نيويورك.. إدانة لتجنيد الأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف. هبة بريس ندد متدخلون أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة بنيويورك، بالتجنيد العسكري الذي يخضع له الأطفال والشباب في مخيمات تندوف، حيث يتم ارتكاب انتهاكات ممنهجة ضد حقوق الإنسان من طرف ميليشيا “البوليساريو” الانفصالية المسلحة. وفي مداخلة بهذه المناسبة، أبرزت أماندا ديتشياني عن منظمة “الإنقاذ والإغاثة الدولية” غير الحكومية، أن المنتظم الدولي يدق منذ', 'size': 2}, {'id': '322', 'title': 'نيويورك.. إدانة التجنيد العسكري للأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%86%d9%8a%d9%88%d9%8a%d9%88%d8%b1%d9%83-%d8%a5%d8%af%d8%a7%d9%86%d8%a9-%d8%a7%d9%84%d8%aa%d8%ac%d9%86%d9%8a%d8%af-%d8%a7%d9%84%d8%b9%d8%b3%d9%83%d8%b1%d9%8a-%d9%84%d9%84%d8%a3%d8%b7%d9%81%d8%a7/', 'summary': 'نيويورك.. إدانة التجنيد العسكري للأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف. ندد متدخلون أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة بنيويورك، بالتجنيد العسكري الذي يخضع له الأطفال والشباب في مخيمات تندوف، حيث يتم ارتكاب انتهاكات ممنهجة ضد حقوق الإنسان من طرف ميليشيا “البوليساريو” الانفصالية المسلحة. وفي مداخلة بهذه المناسبة، أبرزت أماندا ديتشياني عن منظمة “الإنقاذ والإغاثة الدولية” غير الحكومية، أن المنتظم الدولي يدق منذ سنوات ناقوس', 'size': 2}], 'main_title': 'نيويورك.. إدانة لتجنيد الأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
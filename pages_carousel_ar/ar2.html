<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 11/10/2025 - 18h24</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '6', 'title': 'تساقطات تغمر مدينة العروي بالمياه', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%aa%d8%b3%d8%a7%d9%82%d8%b7%d8%a7%d8%aa-%d8%aa%d8%ba%d9%85%d8%b1-%d9%85%d8%af%d9%8a%d9%86%d8%a9-%d8%a7%d9%84%d8%b9%d8%b1%d9%88%d9%8a-%d8%a8%d8%a7%d9%84%d9%85%d9%8a%d8%a7%d9%87-1638256.html', 'summary': 'تساقطات تغمر مدينة العروي بالمياه. شهدت مدينة العروي التابعة للنفوذ الترابي لإقليم الناظور، في الساعات الأولى من صباح اليوم السبت، تساقطات مطرية غزيرة أدت إلى تشكيل فيضانات اجتاحت مختلف الشوارع. وأدت السيول إلى تسرب المياه داخل السيارات والمنازل، خاصة على مستوى الشوارع والأحياء المجاورة لوادي “زاج” الذي فاض. وأدى ارتفاع منسوب المياه إلى انقطاع الطريق الرابطة بين العروي وسلوان بشكل  تساقطات تغمر مدينة العروي بالمياه     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '204', 'title': 'فيضانات قوية تجتاح إقليم الناظور وتتسبب في خسائر مادية جسيمة (فيديو)', 'source': 'rue20.com', 'link': 'https://rue20.com/944215.html', 'summary': 'فيضانات قوية تجتاح إقليم الناظور وتتسبب في خسائر مادية جسيمة (فيديو).  الناظور شهدت مدينة العروي، اليوم السبت، تساقطات مطرية غزيرة أدت إلى فيضانات مفاجئة غمرت عدداً من المنازل وأحياء سكنية، متسببة في خسائر مادية مهمة، دون تسجيل خسائر بشرية إلى حدود الساعة. وأفادت مصادر محلية أن السيول جرفت عدداً من السيارات المتوقفة في الشوارع، كما أدت إلى انقطاع حركة السير بالطريق الرابطة بين العروي وسلوان، الخبر فيضانات قوية تجتاح إقليم الناظور وتتسبب في خسائر مادية جسيمة (فيديو)  .', 'size': 2}], 'main_title': 'تساقطات تغمر مدينة العروي بالمياه'}, {'community_id': '1', 'articles': [{'id': '16', 'title': 'نيويورك.. إدانة لتجنيد الأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665093.html', 'summary': 'نيويورك.. إدانة لتجنيد الأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف. هبة بريس ندد متدخلون أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة بنيويورك، بالتجنيد العسكري الذي يخضع له الأطفال والشباب في مخيمات تندوف، حيث يتم ارتكاب انتهاكات ممنهجة ضد حقوق الإنسان من طرف ميليشيا “البوليساريو” الانفصالية المسلحة. وفي مداخلة بهذه المناسبة، أبرزت أماندا ديتشياني عن منظمة “الإنقاذ والإغاثة الدولية” غير الحكومية، أن المنتظم الدولي يدق منذ', 'size': 2}, {'id': '140', 'title': 'نيويورك.. إدانة التجنيد العسكري للأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%86%d9%8a%d9%88%d9%8a%d9%88%d8%b1%d9%83-%d8%a5%d8%af%d8%a7%d9%86%d8%a9-%d8%a7%d9%84%d8%aa%d8%ac%d9%86%d9%8a%d8%af-%d8%a7%d9%84%d8%b9%d8%b3%d9%83%d8%b1%d9%8a-%d9%84%d9%84%d8%a3%d8%b7%d9%81%d8%a7/', 'summary': 'نيويورك.. إدانة التجنيد العسكري للأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف. ندد متدخلون أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة بنيويورك، بالتجنيد العسكري الذي يخضع له الأطفال والشباب في مخيمات تندوف، حيث يتم ارتكاب انتهاكات ممنهجة ضد حقوق الإنسان من طرف ميليشيا “البوليساريو” الانفصالية المسلحة. وفي مداخلة بهذه المناسبة، أبرزت أماندا ديتشياني عن منظمة “الإنقاذ والإغاثة الدولية” غير الحكومية، أن المنتظم الدولي يدق منذ سنوات ناقوس', 'size': 2}], 'main_title': 'نيويورك.. إدانة لتجنيد الأطفال والانتهاكات الممنهجة لحقوق الإنسان بمخيمات تندوف'}, {'community_id': '9', 'articles': [{'id': '38', 'title': 'ماكرون يعيد تعيين لوكورنو ويكلفه بتشكيل حكومة جديدة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665012.html', 'summary': 'ماكرون يعيد تعيين لوكورنو ويكلفه بتشكيل حكومة جديدة. أعاد الرئيس الفرنسي إيمانويل ماكرون تعيين سيباستيان لوكورنو رئيسًا للوزراء يوم الجمعة، وكلفه بتشكيل حكومة جديدة، في خطوة تهدف إلى كسر الجمود السياسي الذي تواجهه فرنسا مع برلمان منقسم وصعوبة إقرار ميزانيات تقشفية. وجاء القرار بعد أربعة أيام من استقالة لوكورنو، عقب مفاوضات مطولة مع قادة الأحزاب السياسية الرئيسية في قصر الإليزيه. وأكد لوكورنو عبر', 'size': 3}, {'id': '202', 'title': 'ماكرون يعيد تعيين أوكراني رئيساً للوزراء الفرنسي', 'source': 'rue20.com', 'link': 'https://rue20.com/944237.html', 'summary': 'ماكرون يعيد تعيين أوكراني رئيساً للوزراء الفرنسي. . الرباط أعلن قصر الإليزيه، اليوم الجمعة، عن إعادة تعيين رئيس الوزراء الفرنسي المستقيل سيباستيان لوكورنو في منصبه، مع تكليفه بتشكيل حكومة جديدة. وجاء في بيان صادر عن الإليزيه أن “رئيس الجمهورية عي ن السيد سيباستيان لوكورنو رئيسا للوزراء، وكلفه بتشكيل الحكومة”. وقبل هذا الإعلان، كان الرئيس الفرنسي إيمانويل ماكرون قد عقد اجتماعا مع الخبر ماكرون يعيد تعيين أوكراني رئيساً للوزراء الفرنسي  .', 'size': 2}, {'id': '219', 'title': 'الإليزيه: إعادة تعيين لوكورنو رئيسا للوزراء وتكليفه بتشكيل الحكومة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/international/478207.html', 'summary': 'الإليزيه: إعادة تعيين لوكورنو رئيسا للوزراء وتكليفه بتشكيل الحكومة. متابعة أعلن مكتب الرئيس الفرنسي إيمانويل ماكرون، مساء اليوم الجمعة، إعادة تعيين سيباستيان لوكورنو رئيسا للوزراء، مع تكليفه بتشكيل حكومة جديدة. وقال قصر الإليزيه في بيان “سمى رئيس الجمهورية سيباستيان لوكورنو رئيساً للوزراء وكلفه بتشكيل الحكومة”. يأتي ذلك بعد أيام فقط من استقالة لوكورنو، ما تسبب بأزمة سياسية هي الأسوأ في فرنسا منذ 70 عاما. …', 'size': 2}, {'id': '263', 'title': 'إعادة تعيين لوكورنو رئيسا للوزراء بفرنسا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a5%d8%b9%d8%a7%d8%af%d8%a9-%d8%aa%d8%b9%d9%8a%d9%8a%d9%86-%d9%84%d9%88%d9%83%d9%88%d8%b1%d9%86%d9%88-%d8%b1%d8%a6%d9%8a%d8%b3%d8%a7-%d9%84%d9%84%d9%88%d8%b2%d8%b1%d8%a7%d8%a1-%d8%a8%d9%81%d8%b1/', 'summary': 'إعادة تعيين لوكورنو رئيسا للوزراء بفرنسا. أعلن قصر الإليزيه، أمس الجمعة 10 أكتوبر 2025، عن إعادة تعيين رئيس الوزراء الفرنسي المستقيل سيباستيان لوكورنو في منصبه، مع تكليفه بتشكيل حكومة جديدة. وجاء في بيان صادر عن الإليزيه أن “رئيس الجمهورية عيّن سيباستيان لوكورنو رئيسا للوزراء، وكلفه بتشكيل الحكومة”. وقبل هذا الإعلان، كان الرئيس الفرنسي إيمانويل ماكرون قد عقد اجتماعا مع …  إعادة تعيين لوكورنو رئيسا للوزراء بفرنسا     .', 'size': 3}], 'main_title': 'ماكرون يعيد تعيين لوكورنو ويكلفه بتشكيل حكومة جديدة'}, {'community_id': '3', 'articles': [{'id': '45', 'title': 'الطقس غدا السبت.. أمطار رعدية ورياح قوية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-664991.html', 'summary': 'الطقس غدا السبت.. أمطار رعدية ورياح قوية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد السبت، نزول أمطار قد تكون رعدية بالريف، والواجهة المتوسطية والمنطقة الشرقية. وسيلاحظ تشكل سحب منخفضة مع كتل ضبابية خلال الصباح والليل بالسواحل الأطلسية، مع هبوب رياح قوية نوعا ما بمنطقة طنجة والمنطقة الشرقية والسواحل الوسطى والجنوبية مع تناثر غبار محلي بالأقاليم الصحراوية للمملكة. وستتراوح درجات الحرارة الدنيا', 'size': 2}, {'id': '166', 'title': 'توقعات أمطار رعدية بعدة مناطق بالمملكة اليوم السبت', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593336.html', 'summary': 'توقعات أمطار رعدية بعدة مناطق بالمملكة اليوم السبت. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم السبت، نزول أمطار قد تكون رعدية بالريف، والواجهة المتوسطية والمنطقة الشرقية. وسيلاحظ تشكل سحب منخفضة مع كتل ضبابية خلال الصباح والليل بالسواحل الأطلسية، مع هبوب رياح قوية نوعا ما بمنطقة طنجة والمنطقة الشرقية والسواحل الوسطى والجنوبية مع تناثر غبار محلي بالأقاليم الصحراوية للمملكة. وستتراوح', 'size': 2}], 'main_title': 'الطقس غدا السبت.. أمطار رعدية ورياح قوية'}, {'community_id': '4', 'articles': [{'id': '59', 'title': 'الملك ل”الحكومة والبرلمانيين”: كونوا في مستوى الثقة الموضوعة فيكم', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-664925.html', 'summary': 'الملك ل”الحكومة والبرلمانيين”: كونوا في مستوى الثقة الموضوعة فيكم. هبة بريس أكد الملك محمد السادس، على أن السنة التي نحن مقبلون عليها حافلة بالمشاريع والتحديات، قائلا:” ننتظر منكم جميعًا، حكومةً وبرلمانًا، أغلبيةً ومعارضةً، تعبئة كل الطاقات والإمكانات، وتغليب المصالح العليا للوطن والمواطنين.” وخاطب جلالته الحكومة والبرلمانيين في افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، اليوم الجمعة، بالقول: ر كونوا، رعاكم', 'size': 2}, {'id': '240', 'title': 'الملك يدعو الحكومة والبرلمان إلى تعبئة كل الطاقات وتغليب المصالح العليا للوطن والمواطنين', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%8a%d8%af%d8%b9%d9%88-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%88%d8%a7%d9%84%d8%a8%d8%b1%d9%84%d9%85%d8%a7%d9%86-%d8%a5%d9%84%d9%89-%d8%aa%d8%b9%d8%a8%d8%a6/', 'summary': 'الملك يدعو الحكومة والبرلمان إلى تعبئة كل الطاقات وتغليب المصالح العليا للوطن والمواطنين. دعا صاحب الجلالة الملك محمد السادس الحكومة والبرلمان إلى تعبئة كل الطاقات والإمكانات، وتغليب المصالح العليا للوطن والمواطنين. وقال جلالة الملك، في الخطاب السامي  الملك يدعو الحكومة والبرلمان إلى تعبئة كل الطاقات وتغليب المصالح العليا للوطن والمواطنين     .', 'size': 2}], 'main_title': 'الملك ل”الحكومة والبرلمانيين”: كونوا في مستوى الثقة الموضوعة فيكم'}, {'community_id': '5', 'articles': [{'id': '93', 'title': 'في خطاب افتتاح البرلمان.. الملك: تأطير المواطنين والتعريف بالمبادرات ليس مسؤولية الحكومة وحدها بل مسؤولية الجميع', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/414265.html', 'summary': 'في خطاب افتتاح البرلمان.. الملك: تأطير المواطنين والتعريف بالمبادرات ليس مسؤولية الحكومة وحدها بل مسؤولية الجميع. دعا الملك محمد السادس، في خطابه اليوم بمناسبة افتتاح البرلمان، أعضاء مجلس النواب إلى تكريس السنة الأخيرة من الولاية التشريعية للعمل بروح المسؤولية، لاستكمال المخططات', 'size': 3}, {'id': '246', 'title': 'تفاعل وطني واسع مع الخطاب الملكي أمام البرلمان.. دعوة صريحة للجدية والإنصاف المجالي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228317/', 'summary': 'تفاعل وطني واسع مع الخطاب الملكي أمام البرلمان.. دعوة صريحة للجدية والإنصاف المجالي. حظي الخطاب الملكي السامي الذي ألقاه جلالة الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية البرلمانية الحالية، بتفاعل كبير من مختلف شرائح المجتمع المغربي، ومن الفعاليات السياسية والإعلامية والجمعوية، التي أجمعت على أن الخطاب شكّل خارطة طريق جديدة لتسريع وتيرة الإصلاح وتحقيق العدالة الاجتماعية والمجالية. الخطاب الملكي', 'size': 6}, {'id': '270', 'title': 'الملك محمد السادس يدعو الحكومة والبرلمان إلى تغليب مصلحة الوطن والمواطنين فوق كل اعتبار', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d8%af%d8%b9%d9%88-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%88%d8%a7%d9%84%d8%a8%d8%b1%d9%84-2/', 'summary': 'الملك محمد السادس يدعو الحكومة والبرلمان إلى تغليب مصلحة الوطن والمواطنين فوق كل اعتبار. دعا الملك محمد السادس الحكومة والبرلمان إلى تعبئة كل الطاقات والإمكانات، وتغليب المصالح العليا للوطن والمواطنين. وفي هذا السياق، قال الملك محمد السادس، في الخطاب السامي الذي وجهه، اليوم الجمعة 10 أكتوبر 2025، إلى أعضاء البرلمان بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة: “إننا ننتظر منكم جميعا، …  الملك محمد السادس يدعو الحكومة والبرلمان إلى تغليب مصلحة الوطن والمواطنين فوق كل اعتبار     .', 'size': 2}, {'id': '360', 'title': 'تحليل: هكذا تفاعل الملك مع مطالب “جيل زد”', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593367.html', 'summary': 'تحليل: هكذا تفاعل الملك مع مطالب “جيل زد”. عقب الخطاب الملكي الأخير، الذي ألقاه الملك محمد السادس بمناسبة افتتاح الدورة البرلمانية، تصاعدت تفاعلات واسعة في أوساط الرأي العام، خاصة بين شباب الجيل الرقمي (جيل Z). تساؤلات حقيقية، مفعمة بالفضول والأمل، طُرحت عبر منصات التواصل الاجتماعي: هل استجاب الخطاب لتطلعاتنا؟ هل سمعنا الملك فعلاً؟ في هذا السياق، صنف خبراء خطاب العاهل', 'size': 3}, {'id': '365', 'title': 'الملك محمد السادس يلح على الرفع من وتيرة العمل ومن منسوب الأمل', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107461.html', 'summary': 'الملك محمد السادس يلح على الرفع من وتيرة العمل ومن منسوب الأمل. أطلِقَت في هذه “اللحظة” التاريخية، المُكثّفة، على مسار البُنيان المغربي، غارات من التضليل، التيئيس، التهييج ومحاولات الإرباك… وصادفت في البُنيان نفسُه، نَوْبةً منَ الارْتياب، القلَق وحُمّى أسئلة ما بين الصادرة عن تطلُّع صادِقٍ للمستقبل وتلك الناتئة من جذب انشدادها للماضي… وهكذا أحيط الخطابُ الملكي، في البرلمان، لافتتاح السنة التشريعية، بترقُّبٍ يكاد يكون محموما… وجاء الخطابُ ظهرت المقالة الملك محمد السادس يلح على الرفع من وتيرة العمل ومن منسوب الأمل  .', 'size': 3}, {'id': '427', 'title': 'افتتاح السنة التشريعية.. أحزاب سياسية تثمن مضامين الخطاب الملكي بالبرلمان', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a7%d9%81%d8%aa%d8%aa%d8%a7%d8%ad-%d8%a7%d9%84%d8%b3%d9%86%d8%a9-%d8%a7%d9%84%d8%aa%d8%b4%d8%b1%d9%8a%d8%b9%d9%8a%d8%a9-%d8%a3%d8%ad%d8%b2%d8%a7%d8%a8-%d8%b3%d9%8a%d8%a7%d8%b3%d9%8a%d8%a9-%d8%aa/', 'summary': 'افتتاح السنة التشريعية.. أحزاب سياسية تثمن مضامين الخطاب الملكي بالبرلمان. المساء اليوم – متابعات ثمنت عدد من الأحزاب السياسية مضامين الخطاب الذي وجهه الملك محمد السادس، أمس الجمعة (10 أكتوبر)، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة.', 'size': 3}], 'main_title': 'تفاعل وطني واسع مع الخطاب الملكي أمام البرلمان.. دعوة صريحة للجدية والإنصاف المجالي'}, {'community_id': '6', 'articles': [{'id': '141', 'title': 'كان 2025.. الاهتمام العالمي الكبير يدفع “الكاف” إلى تمديد فترة اعتماد وسائل الإعلام', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%83%d8%a7%d9%86-2025-%d8%a7%d9%84%d8%a7%d9%87%d8%aa%d9%85%d8%a7%d9%85-%d8%a7%d9%84%d8%b9%d8%a7%d9%84%d9%85%d9%8a-%d8%a7%d9%84%d9%83%d8%a8%d9%8a%d8%b1-%d9%8a%d8%af%d9%81%d8%b9-%d8%a7%d9%84%d9%83/', 'summary': 'كان 2025.. الاهتمام العالمي الكبير يدفع “الكاف” إلى تمديد فترة اعتماد وسائل الإعلام. أعلن الاتحاد الإفريقي لكرة القدم (الكاف)، اليوم الجمعة (10 أكتوبر)، أنه قرر تمديد فترة اعتماد ممثلي وسائل الإعلام الخاصة بكأس الأمم الإفريقية (المغرب 2025) إلى غاية يوم الاثنين 20 أكتوبر الجاري، وذلك بعد الطلبات العالمية المتزايدة التي توصل بها. وأشار “الكاف”، على موقعه الرسمي، إلى أن الاهتمام غير المسبوق من مختلف أنحاء العالم من ممثلي', 'size': 2}, {'id': '257', 'title': 'بسبب الطلبات المتزايدة: “الكاف” يمدد فترة اعتماد الصحافيين بكأس إفريقيا للأمم', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a8%d8%b3%d8%a8%d8%a8-%d8%a7%d9%84%d8%b7%d9%84%d8%a8%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d8%aa%d8%b2%d8%a7%d9%8a%d8%af%d8%a9-%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d9%8a%d9%85%d8%af%d8%af-%d9%81%d8%aa/', 'summary': 'بسبب الطلبات المتزايدة: “الكاف” يمدد فترة اعتماد الصحافيين بكأس إفريقيا للأمم. المساء اليوم: أعلن الاتحاد الإفريقي لكرة القدم (الكاف)، اليوم الجمعة، أنه قرر تمديد فترة اعتماد ممثلي وسائل الإعلام الخاصة بكأس الأمم الإفريقية (المغرب 2025) إلى غاية يوم الاثنين 20 أكتوبر الجاري، وذلك بعد الطلبات', 'size': 2}], 'main_title': 'كان 2025.. الاهتمام العالمي الكبير يدفع “الكاف” إلى تمديد فترة اعتماد وسائل الإعلام'}, {'community_id': '7', 'articles': [{'id': '190', 'title': 'من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1107301.html', 'summary': 'من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟. الخطاب الملكي الأخير بمناسبة افتتاح البرلمان جاء في لحظة دقيقة يمر منها المغرب، تزامنا مع حراك جيل Z الذي عبر عن حالة وعي جديدة داخل المجتمع المغربي، وعن تحولات عميقة في علاقة الشباب بالمؤسسات والسياسات العمومية. ويمكن القول إن الخطاب عكس استيعابا حكيما لهذا الواقع، من خلال مضامينه المتسمة بالعمق والرزانة، و التي جسدت حرص ظهرت المقالة من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟  .', 'size': 2}, {'id': '264', 'title': 'من 14 إلى 16 أكتوبر.. المغرب يحتضن المؤتمر الإقليمي الإفريقي لـ”حق التتبع”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%86-14-%d8%a5%d9%84%d9%89-16-%d8%a3%d9%83%d8%aa%d9%88%d8%a8%d8%b1-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%ad%d8%aa%d8%b6%d9%86-%d8%a7%d9%84%d9%85%d8%a4%d8%aa%d9%85%d8%b1-%d8%a7%d9%84/', 'summary': 'من 14 إلى 16 أكتوبر.. المغرب يحتضن المؤتمر الإقليمي الإفريقي لـ”حق التتبع”. يستعد المغرب لاحتضان المؤتمر الإقليمي الإفريقي حول “حق التتبع” من 14 إلى 16 أكتوبر 2025، بمشاركة نخبة من الخبراء القانونيين والفنانين التشكيليين، حيث يهدف هذا الحدث الثقافي والقانوني البارز إلى مناقشة آليات تعزيز “حق التتبع” كإطار يضمن العدالة الاقتصادية والاجتماعية للفنانين في القارة الإفريقية، وتمكينهم من الاستفادة المستمرة من القيمة الاقتصادية لأعمالهم الفنية …  من 14 إلى 16 أكتوبر.. المغرب يحتضن المؤتمر الإقليمي الإفريقي لـ”حق التتبع”     .', 'size': 2}], 'main_title': 'من الشارع إلى البرلمان.. كيف استوعب الخطاب الملكي نبض الشباب المغربي؟'}, {'community_id': '8', 'articles': [{'id': '194', 'title': '"منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d9%86%d8%aa%d8%af%d9%89-%d8%a3%d8%b5%d9%8a%d9%84%d8%a9-%d9%8a%d8%b5%d8%af%d8%b1-%d9%83%d8%aa%d8%a7%d8%a8%d8%a7-%d9%8a%d8%b6%d9%85-78-%d8%b4%d9%87%d8%a7%d8%af%d8%a9-%d9%81%d9%8a-%d8%ad%d9%82/', 'summary': '"منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى. أصدرت "مؤسسة منتدى أصيلة"، ضمن منشوراتها الجديدة، في إطار فعاليات موسم أصيلة الثقافي الدولي السادس والأربعين، في دورته الخريفية، كتابا تحت عنوان "محمد بن عيسى.. رجل الدولة وأيقونة الثقافة/ شهادات وذكريات". يتضمن الكتاب شهادات المشاركين في ندوة خيمة الابداع بعنوان "محمد بن عيسى.. رجل الدولة وأيقونة الثقافة"، ضمن تقليد دأبت عليه منذ إطلاق هذه الفعالية  "منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى     .', 'size': 2}, {'id': '254', 'title': 'تضمن شهادات وذكريات: مؤسسة “منتدى أصيلة” تصدر كتاب “محمد بن عيسى.. رجل الدولة وأيقونة الثقافة”', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%aa%d8%b6%d9%85%d9%86-%d8%b4%d9%87%d8%a7%d8%af%d8%a7%d8%aa-%d9%88%d8%b0%d9%83%d8%b1%d9%8a%d8%a7%d8%aa-%d9%85%d8%a4%d8%b3%d8%b3%d8%a9-%d9%85%d9%86%d8%aa%d8%af%d9%89-%d8%a3%d8%b5%d9%8a%d9%84%d8%a9-2/', 'summary': 'تضمن شهادات وذكريات: مؤسسة “منتدى أصيلة” تصدر كتاب “محمد بن عيسى.. رجل الدولة وأيقونة الثقافة”. المساء اليوم – أصيلة: أصدرت “مؤسسة منتدى أصيلة”، ضمن منشوراتها الجديدة، في إطار فعاليات موسم أصيلة الثقافي الدولي السادس والأربعين، في دورته الخريفية، كتابا تحت عنوان “محمد بن عيسى … رجل الدولة وأيقونة الثقافة/', 'size': 2}], 'main_title': '"منتدى أصيلة" يصدر كتابا يضم 78 شهادة في حق محمد بن عيسى'}, {'community_id': '10', 'articles': [{'id': '218', 'title': 'العلمي: خطاب الملك تضمن توجيهات سامية لتعزيز روح المسؤولية لدى مختلف المؤسسات', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/478210.html', 'summary': 'العلمي: خطاب الملك تضمن توجيهات سامية لتعزيز روح المسؤولية لدى مختلف المؤسسات. و.م.ع أكد رئيس مجلس النواب، راشيد الطالبي العلمي، أن الخطاب السامي الذي وجهه الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، تضمن توجيهات سامية تروم تعزيز روح المسؤولية المشتركة لدى مختلف المؤسسات، من أجل المضي قدما في مسار التنمية الشاملة والمستدامة. وأوضح الطالبي العلمي، في …', 'size': 2}, {'id': '248', 'title': 'الطالبي العلمي: خطاب جلالة الملك تضمن توجيهات سامية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228309/', 'summary': 'الطالبي العلمي: خطاب جلالة الملك تضمن توجيهات سامية. أكد رئيس مجلس النواب، راشيد الطالبي العلمي، أن الخطاب السامي الذي وجهه صاحب الجلالة الملك محمد السادس، اليوم الجمعة، بمناسبة افتتاح الدورة الأولى من السنة التشريعية الخامسة من الولاية التشريعية الحادية عشرة، تضمن توجيهات سامية تروم تعزيز روح المسؤولية المشتركة لدى مختلف المؤسسات، من أجل المضي قدما في مسار التنمية الشاملة والمستدامة. وأوضح السيد الطالبي', 'size': 2}], 'main_title': 'العلمي: خطاب الملك تضمن توجيهات سامية لتعزيز روح المسؤولية لدى مختلف المؤسسات'}, {'community_id': '11', 'articles': [{'id': '310', 'title': 'مهرجان محمد البسطاوي للمسرح الاحترافي يعود في دورته الخامسة لتكريم رموز الفن المغربي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665153.html', 'summary': 'مهرجان محمد البسطاوي للمسرح الاحترافي يعود في دورته الخامسة لتكريم رموز الفن المغربي. هبة بريس -ع.صياد بعد نجاح الدورات السابقة، تعود الدورة الخامسة من مهرجان محمد البسطاوي للمسرح الاحترافي يومي 25 و26 أكتوبر الجاري لتجمع أبرز نجوم الفن المغربي في تظاهرة مميزة تحتفي بالإبداع وتكرم رواد المسرح. الفنانة سعاد النجار شاركت عبر حسابها على “إنستغرام” الملصق الرسمي للمهرجان، الذي كشف عن أسماء المكرمين في هذه الدورة، ومن بينهم', 'size': 2}, {'id': '405', 'title': 'في دورته الخامسة.. مهرجان البسطاوي يكرم مجموعة من الأسماء اللامعة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/panorama/478232.html', 'summary': 'في دورته الخامسة.. مهرجان البسطاوي يكرم مجموعة من الأسماء اللامعة. أعلنت الفنانة المغربية سعاد النجار عن تنظيم الدورة الخامسة من مهرجان محمد البسطاوي للمسرح الاحترافي، وذلك يومي 25 و26 أكتوبر الجاري، بمشاركة نخبة من أبرز الأسماء الفنية المغربية. ونشرت سعاد النجار، زوجة الراحل، عبر حسابها الخاص بموقع تبادل الصور والفيديوهات “إنستغرام”، الملصق الرسمي للدورة الخامسة من المهرجان، والذي كشف عن قائمة الفنانين المكرمين هذا العام، …', 'size': 2}], 'main_title': 'مهرجان محمد البسطاوي للمسرح الاحترافي يعود في دورته الخامسة لتكريم رموز الفن المغربي'}, {'community_id': '12', 'articles': [{'id': '316', 'title': '“التقدم والاشتراكية” يوضح ملابسات “فيديو قديم” لأمينه العام نبيل بنعبد الله', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-665123.html', 'summary': '“التقدم والاشتراكية” يوضح ملابسات “فيديو قديم” لأمينه العام نبيل بنعبد الله. هبة بريس – الرباط خرج حزب التقدم والاشتراكية، اليوم، بتوضيح رسمي بخصوص تداول فيديو قديم يظهر فيه الأمين العام للحزب، محمد نبيل بنعبد الله، في مشاهد وُصفت بأنها “مؤسفة”، معتبرًا أن الترويج لهذا المقطع يندرج ضمن حملة تستهدف مواقف الحزب النقدية تجاه أداء الحكومة الحالية. وأوضح الحزب، في بيان توضيحي، أن الفيديو تم تصويره خلال', 'size': 2}, {'id': '358', 'title': 'التقدم والاشتراكية يوضح ملابسات فيديو بنعبدالله', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593372.html', 'summary': 'التقدم والاشتراكية يوضح ملابسات فيديو بنعبدالله. أصدر حزب التقدم والاشتراكية، اليوم السبت بيانًا توضيحيًا يرد فيه على إعادة تداول مقطع فيديو قديم يظهر فيه الأمين العام للحزب، محمد نبيل بنعبد الله، في مشاهد وُصفت بأنها “مؤسفة”، مؤكدًا أن الترويج لهذا الفيديو يندرج ضمن “حملة موجهة تستهدف مواقف الحزب تجاه أداء الحكومة الحالية”. وأوضح الحزب أن الفيديو يعود', 'size': 2}], 'main_title': '“التقدم والاشتراكية” يوضح ملابسات “فيديو قديم” لأمينه العام نبيل بنعبد الله'}, {'community_id': '2', 'articles': [{'id': '396', 'title': 'بدء عملية سحب تصاريح وقوف السيارات الخاصة بمباراة المغرب والكونغو', 'source': 'rue20.com', 'link': 'https://rue20.com/944233.html', 'summary': 'بدء عملية سحب تصاريح وقوف السيارات الخاصة بمباراة المغرب والكونغو. زنقة20 | الرباط أعلنت اللجنة المنظمة للمباراة الودية التي ستجمع بين المنتخب الوطني المغربي ونظيره الكونغولي، عن انطلاق عملية سحب تصاريح وقوف السيارات (Pa Parking) الخاصة بفئات التذاكر المميزة، ابتداءً من يوم الاثنين 13 أكتوبر 2025. وأوضح البلاغ أن العملية تهم الجماهير التي اقتنت تذاكر صالون الضيافة (Sal d’hopitalité)، والمنصة الشرفية – الدرجة المميزة (VIP)، الخبر بدء عملية سحب تصاريح وقوف السيارات الخاصة بمباراة المغرب والكونغو  .', 'size': 2}, {'id': '435', 'title': 'اللجنة المنظمة لمباراة المغرب والكونغو تعلن موعد ومكان سحب تصاريح وقوف السيارات', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%84%d8%ac%d9%86%d8%a9-%d8%a7%d9%84%d9%85%d9%86%d8%b8%d9%85%d8%a9-%d9%84%d9%85%d8%a8%d8%a7%d8%b1%d8%a7%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%88%d8%a7%d9%84%d9%83%d9%88%d9%86/', 'summary': 'اللجنة المنظمة لمباراة المغرب والكونغو تعلن موعد ومكان سحب تصاريح وقوف السيارات. أعلنت اللجنة المنظمة للمباراة التي ستجمع بين المنتخب الوطني المغربي ونظيره الكونغولي، عن تفاصيل سحب تصاريح وقوف السيارات الخاصة بالجماهير التي اقتنت تذاكر الفئات المتميزة، وهي صالون الضيافة (Sal d’hopitalité)، والمنصة الشرفية – الدرجة المميزة (VIP)، والمنصة الشرفية العليا – الدرجة الفاخرة (VVIP)، إضافة إلى المقصورات الخاصة (Skybox). وكشفت اللجنة في بلاغها أن …  اللجنة المنظمة لمباراة المغرب والكونغو تعلن موعد ومكان سحب تصاريح وقوف السيارات     .', 'size': 2}], 'main_title': 'بدء عملية سحب تصاريح وقوف السيارات الخاصة بمباراة المغرب والكونغو'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
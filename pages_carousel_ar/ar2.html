<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 18/09/2025 - 18h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '7', 'articles': [{'id': '7', 'title': 'نادي الجيش يستنكر قرارات التحكيم', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%86%d8%a7%d8%af%d9%8a-%d8%a7%d9%84%d8%ac%d9%8a%d8%b4-%d9%8a%d8%b3%d8%aa%d9%86%d9%83%d8%b1-%d9%82%d8%b1%d8%a7%d8%b1%d8%a7%d8%aa-%d8%a7%d9%84%d8%aa%d8%ad%d9%83%d9%8a%d9%85-1625837.html', 'summary': 'نادي الجيش يستنكر قرارات التحكيم. أعرب نادي الجيش الملكي، في بلاغ نشره عبر صفحته الرسمية بـ”فيسبوك”، عن استغرابه الكبير واستيائه الشديد من القرارات التحكيمية التي شهدتها مباراته أمام الرجاء الرياضي، مساء أمس الأربعاء، على أرضية مركب محمد الخامس، برسم الجولة الثانية من البطولة الاحترافية “إنوي”، وانتهت بالتعادل السلبي. وأكد الفريق “العسكري” أن اللقاء تخللته حالات مؤثرة عدة، أبرزها عدم احتساب  نادي الجيش يستنكر قرارات التحكيم     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '173', 'title': 'الجيش الملكي يحتج على تحكيم الكلاسيكو ويُعدد أخطاءه', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%ac%d9%8a%d8%b4-%d8%a7%d9%84%d9%85%d9%84%d9%83%d9%8a-%d9%8a%d8%ad%d8%aa%d8%ac-%d8%b9%d9%84%d9%89-%d8%aa%d8%ad%d9%83%d9%8a%d9%85-%d8%a7%d9%84%d9%83%d9%84%d8%a7%d8%b3%d9%8a%d9%83%d9%88/', 'summary': 'الجيش الملكي يحتج على تحكيم الكلاسيكو ويُعدد أخطاءه. عبر نادي الجيش الملكي عن استيائه من القرارات التحكيمية التي رافقت مباراته أمام الرجاء الرياضي، مساء أمس الأربعاء، على أرضية مركب محمد الخامس، برسم الجولة الثانية من البطولة الاحترافية. وأكد النادي، في بلاغ رسمي، أن اللقاء شهد "حالات مؤثرة" أبرزها عدم احتساب ضربة جزاء واضحة في الدقيقة 45 بعد لمسة يد داخل منطقة الجزاء، وإلغاء  الجيش الملكي يحتج على تحكيم الكلاسيكو ويُعدد أخطاءه     .', 'size': 2}], 'main_title': 'نادي الجيش يستنكر قرارات التحكيم'}, {'community_id': '1', 'articles': [{'id': '13', 'title': 'نشرة إنذارية: زخات رعدية قوية مصحوبة بهبات رياح بهذه المناطق', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-658282.html', 'summary': 'نشرة إنذارية: زخات رعدية قوية مصحوبة بهبات رياح بهذه المناطق. هبة بريس أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (من 20 إلى 30 ملم) مصحوبة بهبات رياح، الخميس، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة "برتقالي"، أنه من المرتقب تسجيل هذه الزخات الرعدية بكل من عمالات وأقاليم الحوز، إفران، بني ملال، أزيلال، شيشاوة، وخنيفرة من الساعة الثانية بعد الزوال إلى التاسعة ليلا.', 'size': 2}, {'id': '436', 'title': 'زخات رعدية محليا قوية مصحوبة بهبات رياح مرتقبة اليوم الخميس بعدد من مناطق المملكة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227242/', 'summary': 'زخات رعدية محليا قوية مصحوبة بهبات رياح مرتقبة اليوم الخميس بعدد من مناطق المملكة. الرباط – أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (من 20 إلى 30 ملم) مصحوبة بهبات رياح، اليوم الخميس، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة “برتقالي”، أنه من المرتقب تسجيل هذه الزخات الرعدية بكل من عمالات وأقاليم الحوز، إفران، بني ملال، أزيلال، شيشاوة، وخنيفرة', 'size': 2}], 'main_title': 'نشرة إنذارية: زخات رعدية قوية مصحوبة بهبات رياح بهذه المناطق'}, {'community_id': '4', 'articles': [{'id': '102', 'title': 'إلياس المالكي يقتحم أرضية ملعب محمد الخامس في مواجهة الرجاء و الجيش..والأمن يتدخل لإخراجه', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/videos/412924.html', 'summary': 'إلياس المالكي يقتحم أرضية ملعب محمد الخامس في مواجهة الرجاء و الجيش..والأمن يتدخل لإخراجه. إلياس المالكي يقتحم أرضية ملعب محمد الخامس في مواجهة الرجاء و الجيش..والأمن يتدخل لإخراجه', 'size': 2}, {'id': '370', 'title': 'المالكي في قلب الجدل بعد اقتحامه ملعب محمد الخامس…فما القصة؟', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/323709/', 'summary': 'المالكي في قلب الجدل بعد اقتحامه ملعب محمد الخامس…فما القصة؟. المالكي في قلب الجدل بعد اقتحامه ملعب محمد الخامس…فما القصة؟', 'size': 2}], 'main_title': 'إلياس المالكي يقتحم أرضية ملعب محمد الخامس في مواجهة الرجاء و الجيش..والأمن يتدخل لإخراجه'}, {'community_id': '2', 'articles': [{'id': '123', 'title': 'الجمعية الوطنية للإعلام والناشرين.. إدريس شحتان رئيسا لولاية ثانية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%ac%d9%85%d8%b9%d9%8a%d8%a9-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a%d8%a9-%d9%84%d9%84%d8%a5%d8%b9%d9%84%d8%a7%d9%85-%d9%88%d8%a7%d9%84%d9%86%d8%a7%d8%b4%d8%b1%d9%8a%d9%86-%d8%a5%d8%af/', 'summary': 'الجمعية الوطنية للإعلام والناشرين.. إدريس شحتان رئيسا لولاية ثانية. أعيد انتخاب إدريس شحتان رئيسا للجمعية الوطنية للإعلام والناشرين لولاية ثانية، اليوم الخميس (18 شتنبر)، خلال الجمع العام الذي انعقد بحضور ممثلي مختلف المقاولات الصحفية الوطنية. هذا التجديد في الثقة جاء بعد تثمين حصيلة الولاية الأولى، التي تميزت بفتح قنوات الحوار مع السلطات العمومية والدفاع عن مصالح المهنيين في سياق وطني ودولي يعرف تحولات عميقة', 'size': 2}, {'id': '330', 'title': 'تجديد الثقة في إدريس شحتان على رأس الجمعية الوطنية للإعلام والناشرين', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/206391', 'summary': 'تجديد الثقة في إدريس شحتان على رأس الجمعية الوطنية للإعلام والناشرين.  جدد الجمع العام العادي للجمعية الوطنية للإعلام والناشرين، المنعقد صباح اليوم الخميس 18 شتنبر 2025 ، الثقة في إدريس شحتان رئيسا للجمعية، وذلك بعد المصادقة بالإجماع على التقريرين الأدبي والمالي. وأكد شحتان في كلمة له بالمناسبة، أن المكتب التنفيذي سيواصل دفاعه عن العاملين في قطاع الصحافة، والعمل على مجموعة من المشاريع التي تهم المجال.', 'size': 2}], 'main_title': 'الجمعية الوطنية للإعلام والناشرين.. إدريس شحتان رئيسا لولاية ثانية'}, {'community_id': '9', 'articles': [{'id': '146', 'title': 'توقعات طقس اليوم الخميس بالمغرب', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/323680/', 'summary': 'توقعات طقس اليوم الخميس بالمغرب. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي و الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب غير مستقرة مصحوبة بزخات', 'size': 3}, {'id': '176', 'title': 'استمرار الطقس الحار مع سحب منخفضة اليوم الخميس', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d8%b3%d8%aa%d9%85%d8%b1%d8%a7%d8%b1-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%b3%d8%ad%d8%a8-%d9%85%d9%86%d8%ae%d9%81%d8%b6%d8%a9-%d8%a7%d9%84%d9%8a%d9%88/', 'summary': 'استمرار الطقس الحار مع سحب منخفضة اليوم الخميس. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي و الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب غير مستقرة  استمرار الطقس الحار مع سحب منخفضة اليوم الخميس     .', 'size': 4}, {'id': '177', 'title': 'طقس اليوم: أجواء حارة مع أمطار رعدية بهذه المناطق', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357858.html', 'summary': 'طقس اليوم: أجواء حارة مع أمطار رعدية بهذه المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي والأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب غير مستقرة مصحوبة', 'size': 4}, {'id': '246', 'title': 'توقعات أحوال الطقس اليوم الخميس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ae%d9%85%d9%8a%d8%b3-13/', 'summary': 'توقعات أحوال الطقس اليوم الخميس. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي و الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب …  توقعات أحوال الطقس اليوم الخميس     .', 'size': 3}], 'main_title': 'استمرار الطقس الحار مع سحب منخفضة اليوم الخميس'}, {'community_id': '3', 'articles': [{'id': '162', 'title': 'المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1100667.html', 'summary': 'المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”. ارتقى المنتخب الوطني المغربي إلى المركز الـ11 عالمياً في التصنيف الشهري الصادر عن الاتحاد الدولي لكرة القدم “فيفا”، صباح يومه الخميس، بعدما تقدم برتبة واحدة مقارنة بآخر تصنيف نُشر في يوليوز الماضي. وحافظ “أسود الأطلس” على حضورهم بين كبار المنتخبات العالمية برصيد بلغ 1706 نقاط، بزيادة 7 نقاط عن حصيلتهم السابقة، متجاوزين بذلك المنتخب الألماني ظهرت المقالة المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”  .', 'size': 3}, {'id': '242', 'title': 'المنتخب المغربي يرتقي إلى المركز 11 عالميا في ترتيب “الفيفا”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%8a%d8%b1%d8%aa%d9%82%d9%8a-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d9%85%d8%b1%d9%83%d8%b2-11-%d8%b9%d8%a7%d9%84%d9%85/', 'summary': 'المنتخب المغربي يرتقي إلى المركز 11 عالميا في ترتيب “الفيفا”. ارتقى المنتخب الوطني المغربي، اليوم الخميس 18 شتنبر 2025، في ترتيب الفيفا الشهري الذي يصدره الاتحاد الدولي لكرة القدم، بمركز واحد مقارنة بالتصنيف السابق. وجاء المنتخب المغربي في المركز 11 عالميا، وبرصيد 1706.27 نقطة، معززا مكانته كأفضل منتخب عربي وإفريقي. وعلى الصعيد العالمي، انتزع المنتخب الإسباني الصدارة برصيد 1875.37 نقطة، متقدمًا على فرنسا …  المنتخب المغربي يرتقي إلى المركز 11 عالميا في ترتيب “الفيفا”     .', 'size': 3}, {'id': '360', 'title': 'في تصنيف الفيفا. المنتخب المغربي يرتقي إلى المركز 11 عالمياً', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%81%d9%8a-%d8%aa%d8%b5%d9%86%d9%8a%d9%81-%d8%a7%d9%84%d9%81%d9%8a%d9%81%d8%a7-%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%8a%d8%b1%d8%aa%d9%82%d9%8a/', 'summary': 'في تصنيف الفيفا. المنتخب المغربي يرتقي إلى المركز 11 عالمياً. حقق المنتخب الوطني المغربي تقدماً جديداً في التصنيف الشهري الصادر عن الاتحاد الدولي لكرة القدم (فيفا)، اليوم الخميس، بعدما ارتقى إلى المركز 11 عالمياً برصيد 1706 نقاط، متقدماً بمركز واحد مقارنة بترتيب شهر يوليوز الماضي. وبهذا الإنجاز، تمكن “أسود الأطلس” من تجاوز المنتخب الألماني الذي تراجع إلى المرتبة 12، ليواصل المنتخب المغربي حضوره بين نخبة', 'size': 3}], 'main_title': 'المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”'}, {'community_id': '6', 'articles': [{'id': '166', 'title': 'إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1100655.html', 'summary': 'إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”. اتخذت المديرية التقنية الوطنية للتحكيم إجراءات تأديبية عاجلة بعد الجدل التحكيمي الواسع الذي شهدته مباراة الرجاء الرياضي والجيش الملكي يوم أمس الأربعاء، ضمن الجولة الثانية من البطولة الاحترافية. حيث أثار أداء الحكم محسن السوردي ردود فعل قوية، خاصة بعد قراراته المثيرة للجدل، التي كان أبرزها إلغاء هدف وضربة جزاء للفريق العسكري في الشوط الثاني بعد ظهرت المقالة إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”  .', 'size': 3}, {'id': '175', 'title': 'مديرية التحكيم تتحرك.. توقيف حكام كلاسيكو الرجاء والجيش', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%af%d9%8a%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d8%aa%d8%ad%d9%83%d9%8a%d9%85-%d8%aa%d8%aa%d8%ad%d8%b1%d9%83-%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%ad%d9%83%d8%a7%d9%85-%d9%83%d9%84%d8%a7%d8%b3%d9%8a/', 'summary': 'مديرية التحكيم تتحرك.. توقيف حكام كلاسيكو الرجاء والجيش. تفاعلت المديرية الوطنية للتحكيم، صباح اليوم الخميس، مع الأخطاء والجدل الذي رافق مباراة الكلاسيكو بين الرجاء الرياضي والجيش الملكي، من خلال إصدار قرارات تأديبية في حق بعض الحكام. وحسب بلاغ للجهاز المسؤول عن التحكيم، فقد تقرر توقيف محسن السوردي، حكم مباراة الرجاء والجيش الملكي لحساب الجولة الثانية من البطولة الوطنية الاحترافية، لمباراتين. كما تم توقيف  مديرية التحكيم تتحرك.. توقيف حكام كلاسيكو الرجاء والجيش     .', 'size': 2}, {'id': '198', 'title': '“الكلاسيكو”.. توقيف حكم مباراة الرجاء والجيش الملكي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/475864.html', 'summary': '“الكلاسيكو”.. توقيف حكم مباراة الرجاء والجيش الملكي. أعلنت المديرية التقنية الوطنية للتحكيم عن توقيف محسن السوردي، حكم مباراة “الكلاسيكو” بين الرجاء الرياضي والجيش الملكي، لمباراتين. وقررت المديرية توقيف الحكم المساعد بالفيديو عبد المنعم باسلام لثلاث مباريات في المباراة ذاتها، على خلفية الأخطاء التحكيمية التي عرفتها المواجهة لحساب الجولة الثانية من البطولة الاحترافية الوطنية لكرة القدم. وفي إطار قرارات تأديبية تهدف إلى تصحيح …', 'size': 2}], 'main_title': 'إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”'}, {'community_id': '0', 'articles': [{'id': '196', 'title': 'احتجاجا على خطط التقشف.. إضراب واسع يشل حركة فرنسا', 'source': 'machahid24.com', 'link': 'https://machahid24.com/international/475876.html', 'summary': 'احتجاجا على خطط التقشف.. إضراب واسع يشل حركة فرنسا. يتظاهر، اليوم الخميس. مئات الآلاف من الأشخاص في شوارع فرنسا خلال إضرابات وطنية احتجاجا على خطط التقشف الحكومية. وكشفت وسائل إعلام فرنسية، أن السلطات الفرنسية تتوقع أن يشارك في الاحتجاج', 'size': 2}, {'id': '244', 'title': 'فرنسا تستنفر 80 ألف شرطي لمواجهة مظاهرات ضد خطط التقشف الحكومية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%81%d8%b1%d9%86%d8%b3%d8%a7-%d8%aa%d8%b3%d8%aa%d9%86%d9%81%d8%b1-80-%d8%a3%d9%84%d9%81-%d8%b4%d8%b1%d8%b7%d9%8a-%d9%84%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a9-%d9%85%d8%b8%d8%a7%d9%87%d8%b1%d8%a7%d8%aa/', 'summary': 'فرنسا تستنفر 80 ألف شرطي لمواجهة مظاهرات ضد خطط التقشف الحكومية. من المتوقع أن يتظاهر مئات الآلاف من الأشخاص في شوارع فرنسا خلال إضرابات وطنية احتجاجا على خطط التقشف الحكومية، اليوم الخميس 18 شتنبر 2025، وذلك بعدما دعا تحالف واسع من النقابات إلى هذه الإضرابات. وكشفت وسائل إعلام فرنسية، أن السلطات الفرنسية تتوقع أن يشارك في الاحتجاج ما بين 700 ألف و800 ألف شخص. …  فرنسا تستنفر 80 ألف شرطي لمواجهة مظاهرات ضد خطط التقشف الحكومية     .', 'size': 2}], 'main_title': 'احتجاجا على خطط التقشف.. إضراب واسع يشل حركة فرنسا'}, {'community_id': '8', 'articles': [{'id': '248', 'title': 'رزقي تتأهل لنصف نهائي بطولة العالم', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/notes/رزقي-تتأهل-لنصف-نهائي-بطولة-العالم_b91180346.html', 'summary': 'رزقي تتأهل لنصف نهائي بطولة العالم. تأهلت المغربية آسية رزيقي، صباح اليوم الخميس، إلى نصف نهائي سباق 800 متر ضمن بطولة العالم لألعاب القوى المقامة حاليا في طوكيو.', 'size': 3}, {'id': '348', 'title': 'العداءة المغربية آسية رزيقي تتأهل إلى نصف نهائي 800 م في بطولة العالم', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/others/412963.html', 'summary': 'العداءة المغربية آسية رزيقي تتأهل إلى نصف نهائي 800 م في بطولة العالم. تأهلت العداءة المغربية آسية رزيقي، اليوم الخميس ،إلى نصف نهائي سباق 800 م ،المدرج ضمن فعاليات بطولة العالم لألعاب القوى التي تحتضنها حاليا العاصمة اليابانية', 'size': 3}, {'id': '415', 'title': 'بطولة العالم لألعاب القوى.. تأهل المغربية رزيقي إلى نصف نهائي 800 م', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/475992.html', 'summary': 'بطولة العالم لألعاب القوى.. تأهل المغربية رزيقي إلى نصف نهائي 800 م. تأهلت العداءة المغربية آسية رزيقي، اليوم الخميس، إلى نصف نهائي سباق 800 م، المدرج ضمن فعاليات بطولة العالم لألعاب القوى التي تحتضنها حاليا العاصمة اليابانية طوكيو إلى غاية 21 شتنبر الجاري.', 'size': 3}], 'main_title': 'رزقي تتأهل لنصف نهائي بطولة العالم'}, {'community_id': '5', 'articles': [{'id': '393', 'title': 'مجلس الحكومة.. مرسوم لمكافحة تعاطي المنشطات', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%85%d8%b1%d8%b3%d9%88%d9%85-%d9%84%d9%85%d9%83%d8%a7%d9%81%d8%ad%d8%a9-%d8%aa%d8%b9%d8%a7%d8%b7%d9%8a-%d8%a7%d9%84%d9%85%d9%86/', 'summary': 'مجلس الحكومة.. مرسوم لمكافحة تعاطي المنشطات. تداول مجلس الحكومة وصادق على مشروع المرسوم رقم 2.25.431 بتغيير وتتميم المرسوم رقم 2.18.303 الصادر في 2 ذي القعدة 1440 (5 يوليوز 2019) بتطبيق القانون رقم 97.12 المتعلق بمكافحة تعاطي المنشطات في مجال الرياضة، قدمه محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة. وأورد البلاغ الصادر عقب انعقاد المجلس الحكومي، زوال اليوم الخميس، أن  مجلس الحكومة.. مرسوم لمكافحة تعاطي المنشطات     .', 'size': 3}, {'id': '409', 'title': 'الحكومة تعزز المنظومة التشريعية الوطنية لمكافحة المنشطات في المجال الرياضي', 'source': 'rue20.com', 'link': 'https://rue20.com/937520.html', 'summary': 'الحكومة تعزز المنظومة التشريعية الوطنية لمكافحة المنشطات في المجال الرياضي.  ا الرباط صادق مجلس الحكومة اليوم الخميس على مشروع المرسوم رقم 2.25.431 بتغيير وتتميم المرسوم رقم 2.18.303 الصادر في 2 ذي القعدة 1440 (5 يوليوز 2019) بتطبيق القانون رقم 97.12 المتعلق بمكافحة تعاطي المنشطات في مجال الرياضة، قدمه محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة. وحسب بلاغ للحكومة يأتي هذا المشروع الخبر الحكومة تعزز المنظومة التشريعية الوطنية لمكافحة المنشطات في المجال الرياضي  .', 'size': 3}, {'id': '413', 'title': 'الحكومة تصادق على مشروع مرسوم مكافحة تعاطي المنشطات في مجال الرياضة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/476003.html', 'summary': 'الحكومة تصادق على مشروع مرسوم مكافحة تعاطي المنشطات في مجال الرياضة. تداول مجلس الحكومة وصادق اليوم الخميس، على مشروع المرسوم رقم 2.25.431 بتغيير وتتميم المرسوم رقم 2.18.303 الصادر في 2 ذي القعدة 1440 (5 يوليوز 2019) بتطبيق القانون رقم 97.12 المتعلق بمكافحة تعاطي المنشطات في مجال الرياضة، قدمه محمد سعد برادة، وزير التربية الوطنية والتعليم الأولي والرياضة.', 'size': 3}], 'main_title': 'مجلس الحكومة.. مرسوم لمكافحة تعاطي المنشطات'}, {'community_id': '10', 'articles': [{'id': '434', 'title': 'جلالة الملك يهنئ رئيس جمهورية الشيلي بمناسبة احتفال بلاده بعيدها الوطني', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227247/', 'summary': 'جلالة الملك يهنئ رئيس جمهورية الشيلي بمناسبة احتفال بلاده بعيدها الوطني. بعث الملك محمد السادس برقية تهنئة إلى رئيس جمهورية الشيلي، غابرييل بوريك فونت، وذلك بمناسبة احتفال بلاده بعيدها الوطني. وأعرب الملك، في هذه البرقية، عن تهانيه الحارة، مشفوعة بمتمنياته الخالصة لبوريك فونت شخصيا بموفور الصحة والسعادة، وللشعب الشيلي بمزيد الازدهار والرخاء. ومما جاء في البرقية الملكية: “لا يفوتني بهذه المناسبة أن أجدد الإعراب عن تقديري', 'size': 2}, {'id': '444', 'title': 'برقية تهنئة من الملك محمد السادس إلى رئيس جمهورية الشيلي بمناسبة العيد الوطني لبلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d8%b1%d9%82%d9%8a%d8%a9-%d8%aa%d9%87%d9%86%d8%a6%d8%a9-%d9%85%d9%86-%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d8%a5%d9%84%d9%89-%d8%b1-18/', 'summary': 'برقية تهنئة من الملك محمد السادس إلى رئيس جمهورية الشيلي بمناسبة العيد الوطني لبلاده. بعث الملك محمد السادس برقية تهنئة إلى رئيس جمهورية الشيلي، غابرييل بوريك فونت، وذلك بمناسبة احتفال بلاده بعيدها الوطني. وأعرب الملك محمد السادس، في هذه البرقية، عن تهانئه الحارة، مشفوعة بمتمنيات جلالته الخالصة لبوريك فونت شخصيا بموفور الصحة والسعادة، وللشعب الشيلي بمزيد الازدهار والرخاء. ومما جاء في برقية الملك محمد السادس “ولا يفوتني …  برقية تهنئة من الملك محمد السادس إلى رئيس جمهورية الشيلي بمناسبة العيد الوطني لبلاده     .', 'size': 2}], 'main_title': 'جلالة الملك يهنئ رئيس جمهورية الشيلي بمناسبة احتفال بلاده بعيدها الوطني'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
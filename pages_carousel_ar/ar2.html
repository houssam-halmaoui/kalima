<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 08/07/2025 - 12h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '3', 'articles': [{'id': '127', 'title': 'استراتيجية “مطارات 2030”.. انطلاق أشغال المحطة الجوية الجديدة في مطار محمد الخامس', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d8%b3%d8%aa%d8%b1%d8%a7%d8%aa%d9%8a%d8%ac%d9%8a%d8%a9-%d9%85%d8%b7%d8%a7%d8%b1%d8%a7%d8%aa-2030-%d8%a7%d9%86%d8%b7%d9%84%d8%a7%d9%82-%d8%a3%d8%b4%d8%ba%d8%a7%d9%84-%d8%a7%d9%84%d9%85/', 'summary': 'استراتيجية “مطارات 2030”.. انطلاق أشغال المحطة الجوية الجديدة في مطار محمد الخامس. أعلن المكتب الوطني للمطارات عن الإطلاق الرسمي لأشغال التهيئة الأرضية لمشروع المحطة الجوية الجديدة بمطار محمد الخامس الدولي بالدار البيضاء، وهي أولى مراحل الإنجاز الميداني لأحد أكثر مشاريع البنية التحتية طموحا بالمغرب في أفق 2030. وأوضح المكتب، في بلاغ له، أن الاستثمار الإجمالي لهذا المشروع يقدر بـ15 مليار درهم، ما سيمكن المحطة الجديدة من استقبال', 'size': 2}, {'id': '198', 'title': 'مطار محمد الخامس: انطلاق أشغال إنجاز المحطة الجوية الجديدة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/468790.html', 'summary': 'مطار محمد الخامس: انطلاق أشغال إنجاز المحطة الجوية الجديدة. أعلن المكتب الوطني للمطارات عن الإطلاق الرسمي لأشغال التهيئة الأرضية لمشروع المحطة الجوية الجديدة بمطار محمد الخامس الدولي بالدار البيضاء، وهي أولى مراحل الإنجاز الميداني لأحد أكثر مشاريع البنية التحتية طموحا بالمغرب في أفق 2030. وأوضح المكتب، في بلاغ له، أن الاستثمار الإجمالي لهذا المشروع يقدر ب 15 مليار درهم، ما سيمكن المحطة الجديدة من …', 'size': 2}], 'main_title': 'استراتيجية “مطارات 2030”.. انطلاق أشغال المحطة الجوية الجديدة في مطار محمد الخامس'}, {'community_id': '1', 'articles': [{'id': '142', 'title': 'ولاية امن أكادير تفند مزاعم “فو كيد”', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317696/', 'summary': 'ولاية امن أكادير تفند مزاعم “فو كيد”. اطلعت ولاية أمن أكادير، اليوم الاثنين 07 يوليوز الجاري، على تسجيل فيديو منسوب لشخص يقدم نفسه كفاعل جمعوي يمثل فئة من ممتهني الإرشاد السياحي بسوق الأحد بمدينة أكادير، ينسب من خلاله لمصالح الأمن الوطني تجاوزات وشطط بدعوى توقيف ممارسي هذا النشاط المهني بشكل مشوب بعدم الشرعية. وتنويرا للرأي العام، تؤكد ولاية أمن أكادير بأن', 'size': 2}, {'id': '319', 'title': 'ولاية أمن أكادير تنفي مزاعم الشطط وتؤكد قانونية تدخلات فرقة الشرطة السياحية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/408937.html', 'summary': 'ولاية أمن أكادير تنفي مزاعم الشطط وتؤكد قانونية تدخلات فرقة الشرطة السياحية. أثارت تصريحات منسوبة لأحد الأشخاص الذين قدموا أنفسهم كفاعلين جمعويين وناطقين باسم ممتهني الإرشاد السياحي بسوق الأحد في مدينة أكادير جدلاً واسعاً على منصات التواصل', 'size': 4}, {'id': '348', 'title': 'أمن أكادير ينفي مزاعم تجاوزات منسوبة للشرطة السياحية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1083920.html', 'summary': 'أمن أكادير ينفي مزاعم تجاوزات منسوبة للشرطة السياحية. نفت ولاية أمن أكادير، بشكل قاطع، ما ورد في تسجيل فيديو متداول يوم أمس الإثنين 7 يوليوز الجاري، ظهر فيه شخص يقدم نفسه كفاعل جمعوي وممثل لفئة من مزاولي الإرشاد السياحي بسوق الأحد بالمدينة، والذي ادّعى من خلاله وجود شطط وتجاوزات من طرف مصالح الأمن الوطني أثناء توقيف ممارسين لهذا النشاط، واصفا الإجراءات بأنها غير ظهرت المقالة أمن أكادير ينفي مزاعم تجاوزات منسوبة للشرطة السياحية  .', 'size': 4}, {'id': '394', 'title': 'ولاية أمن أكادير: الشرطة السياحية ستواصل مجهوداتها الميدانية لتأمين النشاط السياحي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224309/', 'summary': 'ولاية أمن أكادير: الشرطة السياحية ستواصل مجهوداتها الميدانية لتأمين النشاط السياحي. كواليس اليوم اطلعت ولاية أمن أكادير على تسجيل فيديو منسوب لشخص يقدم نفسه كفاعل جمعوي يمثل فئة من ممتهني الإرشاد السياحي بسوق الأحد بمدينة أكادير، ينسب من خلاله لمصالح الأمن الوطني تجاوزات وشطط بدعوى توقيف ممارسي هذا النشاط المهني بشكل مشوب بعدم الشرعية. وأوضحت ولاية الأمن، في تنويرها للرأي العام، أن تصريحات المعني بالأمر', 'size': 5}, {'id': '405', 'title': 'ولاية أمن أكادير تفند اتهامات بالشطط وتؤكد: محاربة الإرشاد السياحي غير المرخص تتم في إطار القانون', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%88%d9%84%d8%a7%d9%8a%d8%a9-%d8%a3%d9%85%d9%86-%d8%a3%d9%83%d8%a7%d8%af%d9%8a%d8%b1-%d8%aa%d9%81%d9%86%d8%af-%d8%a7%d8%aa%d9%87%d8%a7%d9%85%d8%a7%d8%aa-%d8%a8%d8%a7%d9%84%d8%b4%d8%b7%d8%b7-%d9%88/', 'summary': 'ولاية أمن أكادير تفند اتهامات بالشطط وتؤكد: محاربة الإرشاد السياحي غير المرخص تتم في إطار القانون. أفادت ولاية أمن أكادير، أمس الاثنين 07 يوليوز الجاري، أنها اطلعت على تسجيل فيديو منسوب لشخص يقدم نفسه كفاعل جمعوي يمثل فئة من ممتهني الإرشاد السياحي بسوق الأحد بمدينة أكادير، ينسب من خلاله لمصالح الأمن الوطني تجاوزات وشطط بدعوى توقيف ممارسي هذا النشاط المهني بشكل مشوب بعدم الشرعية. وأكدت ولاية الأمن، في تنويرها …  ولاية أمن أكادير تفند اتهامات بالشطط وتؤكد: محاربة الإرشاد السياحي غير المرخص تتم في إطار القانون     .', 'size': 4}], 'main_title': 'ولاية أمن أكادير: الشرطة السياحية ستواصل مجهوداتها الميدانية لتأمين النشاط السياحي'}, {'community_id': '2', 'articles': [{'id': '197', 'title': 'التوقيع على مذكرة تفاهم من أجل الحماية القانونية للتراث الثقافي المغربي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/468793.html', 'summary': 'التوقيع على مذكرة تفاهم من أجل الحماية القانونية للتراث الثقافي المغربي. متابعة وقع وزير الشباب والثقافة والتواصل محمد المهدي بنسعيد والمدير العام للمنظمة العالمية للملكية الفكرية دارينغ تانغ، اليوم الاثنين بجنيف، على مذكرة تفاهم. ويتوخى هذا الاتفاق تعزيز التعاون الثنائي في مجال الملكية الفكرية، لاسيما في ما يتعلق بحقوق المؤلف والحقوق المجاورة وكذا الحماية القانونية للتراث الثقافي المغربي. ويشمل هذا الاتفاق كذلك إمكانية الاستفادة من الخبرة …', 'size': 2}, {'id': '231', 'title': 'جنيف.. بنسعيد يوقع على مذكرة تفاهم بين المغرب والمنظمة العالمية للملكية الفكرية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224272/', 'summary': 'جنيف.. بنسعيد يوقع على مذكرة تفاهم بين المغرب والمنظمة العالمية للملكية الفكرية. و م ع وقع وزير الشباب والثقافة والتواصل محمد المهدي بنسعيد والمدير العام للمنظمة العالمية للملكية الفكرية دارينغ تانغ، اليوم الاثنين بجنيف، على مذكرة تفاهم. ويتوخى هذا الاتفاق تعزيز التعاون الثنائي في مجال الملكية الفكرية، لاسيما في ما يتعلق بحقوق المؤلف والحقوق المجاورة وكذا الحماية القانونية للتراث الثقافي المغربي. ويشمل هذا الاتفاق كذلك إمكانية', 'size': 2}], 'main_title': 'التوقيع على مذكرة تفاهم من أجل الحماية القانونية للتراث الثقافي المغربي'}, {'community_id': '0', 'articles': [{'id': '359', 'title': 'طقس حار مع زخات رعدية متوقعة بالمرتفعات', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%aa%d9%88%d9%82%d8%b9%d8%a9-%d8%a8%d8%a7%d9%84%d9%85%d8%b1%d8%aa%d9%81%d8%b9%d8%a7/', 'summary': 'طقس حار مع زخات رعدية متوقعة بالمرتفعات. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الثلاثاء، أن يصبح الطقس حارا نسبيا إلى حار بكل من سهول تادلة، والرحامنة، والمنطقة الشرقية، والجنوب الشرقي للبلاد و شرق الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة كثيفة نسبيا، حيث يحتمل أن تكون مصحوبة بقطرات مطرية جد خفيفة فوق الشمال الغربي للأقاليم الجنوبية، فضلا عن ظهور كتل ضبابية  طقس حار مع زخات رعدية متوقعة بالمرتفعات     .', 'size': 3}, {'id': '396', 'title': 'طقس الثلاثاء.. حار نسبيا مع قطرات مطرية مرتقبة في بعض المناطق', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224302/', 'summary': 'طقس الثلاثاء.. حار نسبيا مع قطرات مطرية مرتقبة في بعض المناطق. كواليس اليوم تتوقع المديرية العامة للأرصاد الجوية، اليوم الثلاثاء، أن يصبح الطقس حارا نسبيا إلى حار بكل من سهول تادلة، والرحامنة، والمنطقة الشرقية، والجنوب الشرقي للبلاد وشرق الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة كثيفة نسبيا، حيث يحتمل أن تكون مصحوبة بقطرات مطرية جد خفيفة فوق الشمال الغربي للأقاليم الجنوبية، فضلا عن ظهور كتل', 'size': 2}, {'id': '408', 'title': 'توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الثلاثاء', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d9%81%d9%8a-%d8%a7%d9%84%d8%b9%d8%af%d9%8a%d8%af-%d9%85%d9%86-%d9%85%d9%86%d8%a7%d8%b7%d9%82-90/', 'summary': 'توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الثلاثاء. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الثلاثاء، أن يصبح الطقس حارا نسبيا إلى حار بكل من سهول تادلة، والرحامنة، والمنطقة الشرقية، والجنوب الشرقي للبلاد وشرق الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة كثيفة نسبيا، حيث يحتمل أن تكون مصحوبة بقطرات مطرية جد خفيفة فوق الشمال الغربي للأقاليم الجنوبية، فضلا عن ظهور كتل …  توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الثلاثاء     .', 'size': 2}], 'main_title': 'طقس حار مع زخات رعدية متوقعة بالمرتفعات'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
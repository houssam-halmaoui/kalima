<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 11/07/2025 - 12h28</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '94', 'title': 'المنتخب المغربي يحافظ على مركزه في تصنيف الفيفا', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/lionatlas/409060.html', 'summary': 'المنتخب المغربي يحافظ على مركزه في تصنيف الفيفا. حافظ المنتخب المغربي لكرة القدم (رجال) على مركزه الـ12 عالميا في أحدث تصنيف للإتحاد الدولي لكرة القدم (فيفا)، الصادر اليوم الخميس. وأضاف المنتخب المغربي لرصيده 4.48', 'size': 2}, {'id': '210', 'title': 'المنتخب الوطني لكرة القدم يحافظ على مركزه الـ12 عالميا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224467/', 'summary': 'المنتخب الوطني لكرة القدم يحافظ على مركزه الـ12 عالميا. كواليس اليوم حافظ المنتخب المغربي لكرة القدم (رجال) على مركزه الـ12 عالميا في أحدث تصنيف للإتحاد الدولي لكرة القدم (فيفا)، الصادر اليوم الخميس. وأضاف المنتخب المغربي لرصيده 4.48 نقاط بعد تحقيقه لفوزين في مبارتين وديتين على كل من تونس بحصة (2-0) يوم 6 يونيو، ثم على بنين بحصة (1-0) يوم 9 يونيو، لينهي بذلك', 'size': 2}], 'main_title': 'المنتخب المغربي يحافظ على مركزه في تصنيف الفيفا'}, {'community_id': '1', 'articles': [{'id': '96', 'title': 'السياحة المغربية تسجل رقما قياسيا جديدا في شهر يونيو', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/409062.html', 'summary': 'السياحة المغربية تسجل رقما قياسيا جديدا في شهر يونيو. أعلنت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني أن المغرب استقبل، خلال النصف الأول من السنة الجارية، 8,9 ملايين سائح، بارتفاع بنسبة 19 في المئة', 'size': 2}, {'id': '212', 'title': 'وزارة السياحة: المغرب استقبل قرابة 9 ملايين سائح في 6 أشهر', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%b3%d9%8a%d8%a7%d8%ad%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%a7%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d9%82%d8%b1%d8%a7%d8%a8%d8%a9-9-%d9%85%d9%84%d8%a7/', 'summary': 'وزارة السياحة: المغرب استقبل قرابة 9 ملايين سائح في 6 أشهر. المساء اليوم: أعلنت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني أن المغرب استقبل، خلال النصف الأول من السنة الجارية، 8,9 ملايين سائح، بارتفاع بنسبة 19 في المئة مقارنةً بالفترة ذاتها من سنة 2024، أي ما', 'size': 2}], 'main_title': 'السياحة المغربية تسجل رقما قياسيا جديدا في شهر يونيو'}, {'community_id': '7', 'articles': [{'id': '118', 'title': 'في وقت وجيز.. أمن العرائش يوقف متهماً ظهر في فيديو وهو يشهر سلاحاً أبيضاً في الشارع', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/409085.html', 'summary': 'في وقت وجيز.. أمن العرائش يوقف متهماً ظهر في فيديو وهو يشهر سلاحاً أبيضاً في الشارع. تفاعلت ولاية أمن تطوان، بجدية كبيرة، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي زوال اليوم الخميس 10 يوليوز 2025 ، يظهر فيه شخص', 'size': 3}, {'id': '148', 'title': 'الأمن يوقف حاملا لسلاح أبيض بالعرائش بعد تداول فيديو خطير', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317943/', 'summary': 'الأمن يوقف حاملا لسلاح أبيض بالعرائش بعد تداول فيديو خطير. تفاعلت ولاية أمن تطوان، بجدية كبيرة، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي زوال اليوم الخميس 10 يوليوز 2025 ، يظهر فيه شخص يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص والممتلكات بمدينة العرائش. وقد أوضحت الأبحاث والتحريات المنجزة على ضوء هذا الشريط، أن الأمر يتعلق بقضية زجرية عالجتها مصالح الأمن الوطني', 'size': 5}, {'id': '173', 'title': 'أمن العرائش يوقف مسلحا روع السكان', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a3%d9%85%d9%86-%d8%a7%d9%84%d8%b9%d8%b1%d8%a7%d8%a6%d8%b4-%d9%8a%d9%88%d9%82%d9%81-%d9%85%d8%b3%d9%84%d8%ad%d8%a7-%d8%b1%d9%88%d8%b9-%d8%a7%d9%84%d8%b3%d9%83%d8%a7%d9%86/', 'summary': 'أمن العرائش يوقف مسلحا روع السكان. أوقفت عناصر الشرطة بمدينة العرائش، الأربعاء، شخصا ظهر في شريط فيديو متداول على مواقع التواصل الاجتماعي وهو يحوز سلاحا أبيض في ظروف من شأنها تهديد سلامة الأشخاص والممتلكات. وجاء هذا التوقيف في إطار تفاعل جدي من قبل ولاية أمن تطوان مع مضمون الفيديو، الذي وثّق لحظة حيازة المشتبه فيه لسلاح أبيض بطريقة وصفت بالخطيرة، ما  أمن العرائش يوقف مسلحا روع السكان     .', 'size': 5}, {'id': '189', 'title': 'ولاية أمن تطوان توقف صعصع العرائش الذي روع الساكنة بسيف', 'source': 'rue20.com', 'link': 'https://rue20.com/919380.html', 'summary': 'ولاية أمن تطوان توقف صعصع العرائش الذي روع الساكنة بسيف. . تطوان تفاعلت ولاية أمن تطوان، بجدية كبيرة، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي زوال اليوم الخميس 10 يوليوز 2025 ، يظهر فيه شخص يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص والممتلكات بمدينة العرائش. وقد أوضحت الأبحاث والتحريات المنجزة على ضوء هذا الشريط، أن الأمر يتعلق بقضية زجرية عالجتها الخبر ولاية أمن تطوان توقف صعصع العرائش الذي روع الساكنة بسيف  .', 'size': 3}, {'id': '225', 'title': 'توقيف شخص بالعرائش ظهر في مقطع فيديو وهو يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%b4%d8%ae%d8%b5-%d8%a8%d8%a7%d9%84%d8%b9%d8%b1%d8%a7%d8%a6%d8%b4-%d8%b8%d9%87%d8%b1-%d9%81%d9%8a-%d9%85%d9%82%d8%b7%d8%b9-%d9%81%d9%8a%d8%af%d9%8a%d9%88-%d9%88%d9%87/', 'summary': 'توقيف شخص بالعرائش ظهر في مقطع فيديو وهو يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص. تفاعلت ولاية أمن تطوان، بجدية كبيرة مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي زوال اليوم الخميس، يظهر فيه شخص يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص والممتلكات بمدينة العرائش. وكشفت مصادر أمنية، أن الأبحاث والتحريات المنجزة على ضوء هذا الشريط، أوضحت أن الأمر يتعلق بقضية زجرية عالجتها مصالح الأمن …  توقيف شخص بالعرائش ظهر في مقطع فيديو وهو يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص     .', 'size': 3}], 'main_title': 'الأمن يوقف حاملا لسلاح أبيض بالعرائش بعد تداول فيديو خطير'}, {'community_id': '3', 'articles': [{'id': '125', 'title': 'تشابي ألونسو يتخذ قرارًا نهائيًا بشأن إبراهيم دياز', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/proplayers/409092.html', 'summary': 'تشابي ألونسو يتخذ قرارًا نهائيًا بشأن إبراهيم دياز. كشف المدرب الإسباني تشابي ألونسو عن قراره الحاسم بشأن ثلاثة لاعبين في فريق ريال مدريد، وهم إبراهيم دياز، رودريغو غوس، وداني سيبايوس. وحسب تقرير نشره موقع', 'size': 2}, {'id': '298', 'title': 'دياز خارج حسابات ألونسو.. مستقبل غامض لأسد الأطلس مع ريال مدريد', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%af%d9%8a%d8%a7%d8%b2-%d8%ae%d8%a7%d8%b1%d8%ac-%d8%ad%d8%b3%d8%a7%d8%a8%d8%a7%d8%aa-%d8%a3%d9%84%d9%88%d9%86%d8%b3%d9%88-%d9%85%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d8%ba%d8%a7%d9%85%d8%b6-%d9%84%d8%a3/', 'summary': 'دياز خارج حسابات ألونسو.. مستقبل غامض لأسد الأطلس مع ريال مدريد. يبدو أن الدولي المغربي إبراهيم دياز مقبل على صيف ساخن، بعدما كشفت تقارير إعلامية أن المدرب الإسباني تشابي ألونسو، لا يضعه ضمن خططه الفنية للموسم المقبل. ووفقا لما أورده موقع “فيتشاخيس” الإسباني، فإن ألونسو أبدى استعدادا للتخلي عن خدمات دياز إلى جانب كل من رودريغو غوس وداني سيبايوس، في إطار إعادة هيكلة الفريق الملكي. وكان', 'size': 2}], 'main_title': 'تشابي ألونسو يتخذ قرارًا نهائيًا بشأن إبراهيم دياز'}, {'community_id': '4', 'articles': [{'id': '126', 'title': 'للرد على أسئلة البرلمانيين حول الحصيلة المالية والاقتصادية.. أخنوش يحل بمجلس المستشارين الثلاثاء المقبل', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%84%d9%84%d8%b1%d8%af-%d8%b9%d9%84%d9%89-%d8%a3%d8%b3%d8%a6%d9%84%d8%a9-%d8%a7%d9%84%d8%a8%d8%b1%d9%84%d9%85%d8%a7%d9%86%d9%8a%d9%8a%d9%86-%d8%ad%d9%88%d9%84-%d8%a7%d9%84%d8%ad%d8%b5%d9%8a%d9%84/', 'summary': 'للرد على أسئلة البرلمانيين حول الحصيلة المالية والاقتصادية.. أخنوش يحل بمجلس المستشارين الثلاثاء المقبل. يعقد مجلس المستشارين، الثلاثاء المقبل (15 يوليوز)، جلسة عمومية تخصص للأسئلة الشفهية الشهرية الموجهة إلى رئيس الحكومة حول السياسة العامة. وذكر بلاغ للمجلس أن هذه الجلسة ستنطلق على الساعة الثالثة بعد الزوال، وستتناول موضوع “الحصيلة الاقتصادية والمالية وأثرها على دينامية الاستثمار والتشغيل بالمغرب”. وتعقد هذه الجلسة طبقا لأحكام الفصل 100 من الدستور.', 'size': 2}, {'id': '218', 'title': 'رئيس الحكومة يحل الثلاثاء المقبل بمجلس المستشارين', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d9%8a%d8%ad%d9%84-%d8%a7%d9%84%d8%ab%d9%84%d8%a7%d8%ab%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d9%82%d8%a8%d9%84-%d8%a8%d9%85%d8%ac%d9%84/', 'summary': 'رئيس الحكومة يحل الثلاثاء المقبل بمجلس المستشارين. يعقد مجلس المستشارين، الثلاثاء المقبل، جلسة عمومية تخصص للأسئلة الشفهية الشهرية الموجهة إلى رئيس الحكومة حول السياسة العامة. وذكر بلاغ للمجلس، أن هذه الجلسة التي تعقد طبقا لأحكام الفصل 100 من الدستور، ستنطلق على الساعة الثالثة بعد الزوال. وتابع البلاغ، أن الجلسة ستتناول موضوع “الحصيلة الاقتصادية والمالية وأثرها على دينامية الاستثمار والتشغيل بالمغرب”.  رئيس الحكومة يحل الثلاثاء المقبل بمجلس المستشارين     .', 'size': 2}], 'main_title': 'للرد على أسئلة البرلمانيين حول الحصيلة المالية والاقتصادية.. أخنوش يحل بمجلس المستشارين الثلاثاء المقبل'}, {'community_id': '9', 'articles': [{'id': '128', 'title': 'بسبب استفزاز المغرب.. الكاف يحقق مع المنتخب الجزائري للسيدات', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%b3%d8%a8%d8%a8-%d8%a7%d8%b3%d8%aa%d9%81%d8%b2%d8%a7%d8%b2-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d9%8a%d8%ad%d9%82%d9%82-%d9%85%d8%b9-%d8%a7%d9%84%d9%85%d9%86/', 'summary': 'بسبب استفزاز المغرب.. الكاف يحقق مع المنتخب الجزائري للسيدات. أعلن الاتحاد الإفريقي لكرة القدم (كاف) أنه فتح تحقيقًا مع المنتخب الجزائري للسيدات، وذلك لاتهامه بانتهاك لوائحه وأنظمة الاتحاد خلال بطولة كأس الأمم الأفريقية للسيدات “المغرب 2024″، المقامة حاليًا برعاية توتال إنرجيز. وقال الكاف في البلاغ الذي نشره على موقعه الإلكتروني وصفحاته في مواقع التواصل الاجتماعي إن “الاتحاد الإفريقي لكرة القدم لن يعلق على هذا', 'size': 2}, {'id': '183', 'title': 'الكاف يفتح تحقيقًا في إنتهاكات المنتخب الجزائري النسوي للوائح كأس أمم إفريقيا للسيدات بالمغرب', 'source': 'rue20.com', 'link': 'https://rue20.com/919396.html', 'summary': 'الكاف يفتح تحقيقًا في إنتهاكات المنتخب الجزائري النسوي للوائح كأس أمم إفريقيا للسيدات بالمغرب. . الرباط فتح “الإتحاد الأفريقي لكرة القدم”، تحقيقًا رسمياً في إنتهاكات المنتخب الجزائري النسوي للوائح كأس أمم إفريقيا للسيدات بالمغرب. ونشر الكاف على بوابته الرسمية، أنه تم فتح تحقيق حول الإنتهاكات المفترضة التي قامت بها البعثة الجزائرية، حيث سيتم ترتيب الجزاءات عقب نهاية التحقيق. وأوضح الاتحاد الإفريقي لكرة القدم، في بيان، أنه لن ي الخبر الكاف يفتح تحقيقًا في إنتهاكات المنتخب الجزائري النسوي للوائح كأس أمم إفريقيا للسيدات بالمغرب  .', 'size': 2}, {'id': '191', 'title': 'كأس إفريقيا للسيدات.. “الكاف” يفتح تحقيقا بشأن منتخب الجزائر للسيدات', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/469144.html', 'summary': 'كأس إفريقيا للسيدات.. “الكاف” يفتح تحقيقا بشأن منتخب الجزائر للسيدات. أعلن الاتحاد الإفريقي لكرة القدم (الكاف)، مساء اليوم الخميس، أنه فتح تحقيقا بشأن منتخب الجزائر للسيدات، على خلفية مزاعم بارتكاب مخالفات لأنظمة ولوائح (الكاف)، خلال كأس أمم إفريقيا لكرة القدم للسيدات، (المغرب 2024)، الجارية حاليا. وأوضح الاتحاد الإفريقي لكرة القدم، في بيان، أنه لن يُدلي بأي تعليق إضافي بشأن هذه المسألة، إلى حين الانتهاء من …', 'size': 2}, {'id': '375', 'title': '“الكاف” يفتح تحقيقا بشأن مخالفات للمنتخب الجزائري في (كان) السيدات', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224515/', 'summary': '“الكاف” يفتح تحقيقا بشأن مخالفات للمنتخب الجزائري في (كان) السيدات. وكالات أعلن الاتحاد الإفريقي لكرة القدم (الكاف)، مساء أمس الخميس، أنه فتح تحقيقا بشأن منتخب الجزائر للسيدات، على خلفية مزاعم بارتكاب مخالفات لأنظمة ولوائح (الكاف)، خلال كأس أمم إفريقيا لكرة القدم للسيدات، (المغرب 2024)، الجارية حاليا. وأوضح الاتحاد الإفريقي لكرة القدم، في بيان، أنه لن يدلي بأي تعليق إضافي بشأن هذه المسألة، إلى حين', 'size': 4}], 'main_title': '“الكاف” يفتح تحقيقا بشأن مخالفات للمنتخب الجزائري في (كان) السيدات'}, {'community_id': '11', 'articles': [{'id': '142', 'title': 'زلزال الحوز.. تراجع عدد الخيام من 129 ألفا إلى 47 فقط', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317960/', 'summary': 'زلزال الحوز.. تراجع عدد الخيام من 129 ألفا إلى 47 فقط. أفاد بلاغ لرئاسة الحكومة، بأن عدد الأسر المتضررة من زلزال الحوز التي تمكنت من استكمال أشغال بناء وتأهيل منازلها بلغ 46 ألفا و650 أسرة. وذكر المصدر ذاته أن اللجنة البين وزارية المكلفة ببرنامج إعادة البناء والتأهيل العام للمناطق المتضررة من زلزال الحوز عقدت، اليوم الخميس، اجتماعا برئاسة رئيس الحكومة عزيز أخنوش، تم خلاله تتبع تنفيذ', 'size': 2}, {'id': '174', 'title': 'زلزال الحوز: استكمال بناء 46 ألف مسكن وانخفاض عدد الخيام إلى 47 فقط', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b2%d9%84%d8%b2%d8%a7%d9%84-%d8%a7%d9%84%d8%ad%d9%88%d8%b2-%d8%a7%d8%b3%d8%aa%d9%83%d9%85%d8%a7%d9%84-%d8%a8%d9%86%d8%a7%d8%a1-46-%d8%a3%d9%84%d9%81-%d9%85%d8%b3%d9%83%d9%86-%d9%88%d8%a7%d9%86/', 'summary': 'زلزال الحوز: استكمال بناء 46 ألف مسكن وانخفاض عدد الخيام إلى 47 فقط. ترأس رئيس الحكومة، عزيز أخنوش، الخميس بالرباط، اجتماع اللجنة البين وزارية المكلفة ببرنامج إعادة البناء والتأهيل العام للمناطق المتضررة من زلزال الحوز. وخصص الاجتماع لتتبع تنفيذ البرنامج وتقييم مدى تقدم مختلف محاوره، وذلك في إطار تنفيذ التعليمات الملكية الرامية إلى إعادة إعمار وتأهيل المناطق المتضررة وتحسين ظروف عيش ساكنتها. وفي بداية الاجتماع، نوه رئيس الحكومة  زلزال الحوز: استكمال بناء 46 ألف مسكن وانخفاض عدد الخيام إلى 47 فقط     .', 'size': 2}, {'id': '378', 'title': 'زلزال الحوز.. 46 ألفا و650 أسرة تمكنت من استكمال أشغال بناء وتأهيل منازلها', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224503/', 'summary': 'زلزال الحوز.. 46 ألفا و650 أسرة تمكنت من استكمال أشغال بناء وتأهيل منازلها. كواليس اليوم أفاد بلاغ لرئاسة الحكومة، بأن عدد الأسر المتضررة من زلزال الحوز التي تمكنت من استكمال أشغال بناء وتأهيل منازلها بلغ 46 ألفا و650 أسرة. وذكر المصدر ذاته أن اللجنة البين وزارية المكلفة ببرنامج إعادة البناء والتأهيل العام للمناطق المتضررة من زلزال الحوز عقدت، اليوم الخميس، اجتماعا برئاسة رئيس الحكومة عزيز أخنوش، تم', 'size': 3}], 'main_title': 'زلزال الحوز.. 46 ألفا و650 أسرة تمكنت من استكمال أشغال بناء وتأهيل منازلها'}, {'community_id': '8', 'articles': [{'id': '151', 'title': 'عبر 37 ألف عام.. الحمض النووي يكشف تاريخ الأمراض التي فتكت بالبشرية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1084527.html', 'summary': 'عبر 37 ألف عام.. الحمض النووي يكشف تاريخ الأمراض التي فتكت بالبشرية. توصلت دراسة حديثة بشأن الأمراض التي أصابت البشرية خلال 37 ألف عام، من بكتيريا وفيروسات وطفيليات، إلى أن أول دليل على وجود البكتيريا المسببة للطاعون يعود إلى نحو 5500 عام. وأظهرت نتائج دراسة أجراها باحثون في جامعات بريطانية ودنماركية، ونشرت في مجلة “نيتشر”، أن أول الأدلة على الأمراض حيوانية المنشأ، أي تلك التي تنتقل من ظهرت المقالة عبر 37 ألف عام.. الحمض النووي يكشف تاريخ الأمراض التي فتكت بالبشرية  .', 'size': 2}, {'id': '390', 'title': 'دراسة جينية ترصد أولى الأوبئة التي ضربت البشرية منذ 37 ألف عام', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%af%d8%b1%d8%a7%d8%b3%d8%a9-%d8%ac%d9%8a%d9%86%d9%8a%d8%a9-%d8%aa%d8%b1%d8%b5%d8%af-%d8%a3%d9%88%d9%84%d9%89-%d8%a7%d9%84%d8%a3%d9%88%d8%a8%d8%a6%d8%a9-%d8%a7%d9%84%d8%aa%d9%8a-%d8%b6%d8%b1%d8%a8/', 'summary': 'دراسة جينية ترصد أولى الأوبئة التي ضربت البشرية منذ 37 ألف عام. توصلت دراسة علمية موسعة إلى أن الأمراض المعدية التي فتكـت بالبشرية تعود إلى آلاف السنين، مع تحديد أقدم دليل وراثي على وجود بكتيريا الطاعون منذ نحو 5500 عام، حيث يكشف هذا البحث، الذي نُشر في مجلة نيتشر، عن خريطة شاملة لتاريخ البكتيريا والفيروسات والطفيليات التي أصابت البشر منذ عصور ما قبل التاريخ. وفي …  دراسة جينية ترصد أولى الأوبئة التي ضربت البشرية منذ 37 ألف عام     .', 'size': 2}], 'main_title': 'عبر 37 ألف عام.. الحمض النووي يكشف تاريخ الأمراض التي فتكت بالبشرية'}, {'community_id': '10', 'articles': [{'id': '258', 'title': 'لص السيارات بسلا في قبضة الأمن', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%84%d8%b5-%d8%a7%d9%84%d8%b3%d9%8a%d8%a7%d8%b1%d8%a7%d8%aa-%d8%a8%d8%b3%d9%84%d8%a7-%d9%81%d9%8a-%d9%82%d8%a8%d8%b6%d8%a9-%d8%a7%d9%84%d8%a3%d9%85%d9%86-1591020.html', 'summary': 'لص السيارات بسلا في قبضة الأمن. تمكنت عناصر الشرطة بمنطقة أمن العيايدة بمدينة سلا، في الساعات الأولى من صباح اليوم الجمعة 11 يوليوز الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية في السرقة وترويج المخدرات، وذلك للاشتباه في تورطه في قضية تتعلق بسرقة السيارات باستعمال العنف وإلحاق خسائر مادية بممتلكات الغير. وحسب المعطيات الأولية للبحث، فقد  لص السيارات بسلا في قبضة الأمن     - هسبريس جريدة إلكترونية مغربية .', 'size': 4}, {'id': '346', 'title': 'بشبهة سرقة سيارة بالعنف.. أمن سلا يوقف ثلاثينيا من ذوي السوابق', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d8%b4%d8%a8%d9%87%d8%a9-%d8%b3%d8%b1%d9%82%d8%a9-%d8%b3%d9%8a%d8%a7%d8%b1%d8%a9-%d8%a8%d8%a7%d9%84%d8%b9%d9%86%d9%81-%d8%a3%d9%85%d9%86-%d8%b3%d9%84%d8%a7-%d9%8a%d9%88%d9%82%d9%81-%d8%ab/', 'summary': 'بشبهة سرقة سيارة بالعنف.. أمن سلا يوقف ثلاثينيا من ذوي السوابق. تمكنت عناصر الشرطة بمنطقة أمن العيايدة بمدينة سلا، في الساعات الأولى من صباح اليوم الجمعة 11 يوليوز الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية في السرقة وترويج المخدرات، وذلك للاشتباه في تورطه في قضية تتعلق بسرقة السيارات باستعمال العنف وإلحاق خسائر مادية بممتلكات الغير. وحسب المعطيات الأولية للبحث، فقد  بشبهة سرقة سيارة بالعنف.. أمن سلا يوقف ثلاثينيا من ذوي السوابق     .', 'size': 4}, {'id': '362', 'title': 'أمن سلا يوقف شخصين تورطا في سرقة سيارات النقل بالتطبيقات', 'source': 'rue20.com', 'link': 'https://rue20.com/919432.html', 'summary': 'أمن سلا يوقف شخصين تورطا في سرقة سيارات النقل بالتطبيقات.  الرباط تمكنت عناصر الشرطة بمنطقة أمن العيايدة بمدينة سلا، في الساعات الأولى من صباح اليوم الجمعة 11 يوليوز الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية في السرقة وترويج المخدرات، وذلك للاشتباه في تورطه في قضية تتعلق بسرقة السيارات باستعمال العنف وإلحاق خسائر مادية بممتلكات الغير. وحسب المعطيات الأولية الخبر أمن سلا يوقف شخصين تورطا في سرقة سيارات النقل بالتطبيقات  .', 'size': 4}, {'id': '376', 'title': 'أمن سلا يطيح بالمتورط في جرائم سرقة عنيفة ضد سائقي التطبيقات', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224509/', 'summary': 'أمن سلا يطيح بالمتورط في جرائم سرقة عنيفة ضد سائقي التطبيقات. كمال عسو أوقفت عناصر الشرطة بمنطقة أمن العيايدة بمدينة سلا، في الساعات الأولى من صباح اليوم الجمعة 11 يوليوز الجاري، شخصا يبلغ من العمر 31 سنة، من ذوي السوابق القضائية في السرقة وترويج المخدرات، يشتبه تورطه في قضية تتعلق بسرقة السيارات باستعمال العنف وإلحاق خسائر مادية بممتلكات الغير. وحسب مصدر أمني، فإن المعطيات الأولية', 'size': 3}, {'id': '386', 'title': 'توقيف شخص بسلا بشبهة سرقة السيارات باستعمال العنف', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%b4%d8%ae%d8%b5-%d8%a8%d8%b3%d9%84%d8%a7-%d8%a8%d8%b4%d8%a8%d9%87%d8%a9-%d8%b3%d8%b1%d9%82%d8%a9-%d8%a7%d9%84%d8%b3%d9%8a%d8%a7%d8%b1%d8%a7%d8%aa-%d8%a8%d8%a7%d8%b3/', 'summary': 'توقيف شخص بسلا بشبهة سرقة السيارات باستعمال العنف. تمكنت عناصر الشرطة بمنطقة أمن العيايدة بمدينة سلا، في الساعات الأولى من صباح اليوم الجمعة 11 يوليوز الجاري، من توقيف شخص يبلغ من العمر 31 سنة، من ذوي السوابق القضائية في السرقة وترويج المخدرات، وذلك للاشتباه في تورطه في قضية تتعلق بسرقة السيارات باستعمال العنف وإلحاق خسائر مادية بممتلكات الغير. وكشفت مصادر أمنية، …  توقيف شخص بسلا بشبهة سرقة السيارات باستعمال العنف     .', 'size': 2}], 'main_title': 'لص السيارات بسلا في قبضة الأمن'}, {'community_id': '2', 'articles': [{'id': '348', 'title': 'مندوبية التخطيط تتوقع نموا اقتصاديا بنسبة 4.4% خلال الفصل الثالث من 2025', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d9%86%d8%af%d9%88%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d8%aa%d8%ae%d8%b7%d9%8a%d8%b7-%d8%aa%d8%aa%d9%88%d9%82%d8%b9-%d9%86%d9%85%d9%88%d8%a7-%d8%a7%d9%82%d8%aa%d8%b5%d8%a7%d8%af%d9%8a%d8%a7-%d8%a8/', 'summary': 'مندوبية التخطيط تتوقع نموا اقتصاديا بنسبة 4.4% خلال الفصل الثالث من 2025. تتوقع المندوبية السامية للتخطيط نموا اقتصاديا وطنيا بنسبة 4.4 في المائة خلال الفصل الثالث من سنة 2025. وأوضحت المندوبية، في مذكرة إخبارية حول اللمحة الظرفية للفصل الأول من 2025 وتوقعات الفصلين الثاني والثالث، أن "آفاق النمو للفصل الثالث لسنة 2025 تشير إلى استمرار الديناميكية التي بدأت في بداية هذا العام، وإن كان بوتيرة أكثر اعتدالا.  مندوبية التخطيط تتوقع نموا اقتصاديا بنسبة 4.4% خلال الفصل الثالث من 2025     .', 'size': 2}, {'id': '377', 'title': 'تقرير: توقعات بنمو الاقتصاد الوطني خلال الفصل الثالث لسنة 2025', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224506/', 'summary': 'تقرير: توقعات بنمو الاقتصاد الوطني خلال الفصل الثالث لسنة 2025. وكالات تتوقع المندوبية السامية للتخطيط نموا اقتصاديا وطنيا بنسبة 4.4 في المائة خلال الفصل الثالث من سنة 2025. وأوضحت المندوبية، في مذكرة إخبارية حول اللمحة الظرفية للفصل الأول من 2025 وتوقعات الفصلين الثاني والثالث، أن آفاق النمو للفصل الثالث لسنة 2025 تشير إلى استمرار الديناميكية التي بدأت في بداية هذا العام، وإن كان بوتيرة', 'size': 2}], 'main_title': 'مندوبية التخطيط تتوقع نموا اقتصاديا بنسبة 4.4% خلال الفصل الثالث من 2025'}, {'community_id': '5', 'articles': [{'id': '350', 'title': 'أسعار النفط تسجل ارتفاعا طفيفا في الأسواق الدولية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a3%d8%b3%d8%b9%d8%a7%d8%b1-%d8%a7%d9%84%d9%86%d9%81%d8%b7-%d8%aa%d8%b3%d8%ac%d9%84-%d8%a7%d8%b1%d8%aa%d9%81%d8%a7%d8%b9%d8%a7-%d8%b7%d9%81%d9%8a%d9%81%d8%a7-%d9%81%d9%8a-%d8%a7%d9%84%d8%a3%d8%b3/', 'summary': 'أسعار النفط تسجل ارتفاعا طفيفا في الأسواق الدولية. ارتفعت أسعار النفط في التعاملات الآسيوية، اليوم الجمعة، وسط ترقب الأسواق لإعلان أمريكي محتمل بشأن روسيا وما يمكن أن يترتب عليه من عقوبات جديدة قد تؤثر على الإمدادات العالمية. وصعدت العقود الآجلة لخام "برنت" 19 سنتا أو 0.28 في المائة إلى 68.83 دولار للبرميل، فيما ارتفعت العقود الآجلة لخام غرب "تكساس" الوسيط الأمريكي 24 سنتا  أسعار النفط تسجل ارتفاعا طفيفا في الأسواق الدولية     .', 'size': 2}, {'id': '385', 'title': 'أسعار النفط ترتفع مع ترقب إعلان أمريكي محتمل حول روسيا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a3%d8%b3%d8%b9%d8%a7%d8%b1-%d8%a7%d9%84%d9%86%d9%81%d8%b7-%d8%aa%d8%b1%d8%aa%d9%81%d8%b9-%d9%85%d8%b9-%d8%aa%d8%b1%d9%82%d8%a8-%d8%a5%d8%b9%d9%84%d8%a7%d9%86-%d8%a3%d9%85%d8%b1%d9%8a%d9%83%d9%8a/', 'summary': 'أسعار النفط ترتفع مع ترقب إعلان أمريكي محتمل حول روسيا. ارتفعت أسعار النفط في التعاملات الآسيوية اليوم الجمعة، مدفوعة بترقب الأسواق لإعلان أمريكي محتمل بشأن روسيا، والذي قد يؤدي إلى فرض عقوبات جديدة تؤثر على الإمدادات العالمية. وصعدت العقود الآجلة لخام برنت بواقع 19 سنتا، أي 0.28%، لتصل إلى 68.83 دولارا للبرميل. كما ارتفعت العقود الآجلة لخام غرب تكساس الوسيط الأمريكي 24 سنتا، …  أسعار النفط ترتفع مع ترقب إعلان أمريكي محتمل حول روسيا     .', 'size': 2}], 'main_title': 'أسعار النفط تسجل ارتفاعا طفيفا في الأسواق الدولية'}, {'community_id': '6', 'articles': [{'id': '354', 'title': '"الكاف" تحقق في تجاوزات منتخب الجزائر  خلال"كان" السيدات', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d8%aa%d8%ad%d9%82%d9%82-%d9%81%d9%8a-%d8%aa%d8%ac%d8%a7%d9%88%d8%b2%d8%a7%d8%aa-%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d8%ac%d8%b2%d8%a7%d8%a6%d8%b1-%d8%ae/', 'summary': '"الكاف" تحقق في تجاوزات منتخب الجزائر خلال"كان" السيدات. فتحت الكونفدرالية الإفريقية لكرة القدم "الكاف"، تحقيقا ضد المنتخب الجزائري للسيدات، وذلك خلال مشاركته بكأس أمم إفريقيا المقامة في المغرب إلى غاية 23 يوليوز الجاري. وقالت "الكاف"، مساء أمس الخميس، في بلاغ لها، إن الأمر مرتبط بشبهات تتعلق بارتكاب مخالفات للقوانين واللوائح التنظيمية. وشددت الكونفدرالية الإفريقية لكرة القدم على أنها لن تدلي بأي تصريحات إضافية  "الكاف" تحقق في تجاوزات منتخب الجزائر خلال"كان" السيدات     .', 'size': 2}, {'id': '389', 'title': 'الكاف يفتح تحقيقا بشأن انتهاكات المنتخب النسوي الجزائري بـ”كان” السيدات بالمغرب', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%83%d8%a7%d9%81-%d9%8a%d9%81%d8%aa%d8%ad-%d8%aa%d8%ad%d9%82%d9%8a%d9%82%d8%a7-%d8%a8%d8%b4%d8%a3%d9%86-%d8%a7%d9%86%d8%aa%d9%87%d8%a7%d9%83%d8%a7%d8%aa-%d8%a7%d9%84%d9%85%d9%86%d8%aa/', 'summary': 'الكاف يفتح تحقيقا بشأن انتهاكات المنتخب النسوي الجزائري بـ”كان” السيدات بالمغرب. أعلنت الكونفدرالية الإفريقية لكرة القدم (الكاف)، يوم أمس الخميس 10 يوليوز 2025، عن فتح تحقيق رسمي في حق المنتخب الوطني النسوي الجزائري. ويعود ذلك، على خلفية ما اعتبرته الكاف انتهاكات محتملة لأنظمة ولوائح الهيئة الكروية القارية، وذلك خلال مشاركته في منافسات كأس أمم إفريقيا للسيدات “توتال إنيرجيز” المقامة حاليا بالمغرب (نسخة 2024). ولم …  الكاف يفتح تحقيقا بشأن انتهاكات المنتخب النسوي الجزائري بـ”كان” السيدات بالمغرب     .', 'size': 2}], 'main_title': '"الكاف" تحقق في تجاوزات منتخب الجزائر  خلال"كان" السيدات'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
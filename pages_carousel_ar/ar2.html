<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 05/07/2025 - 06h21</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '7', 'title': 'سرقة موثقة تُسقط شخصين بأكادير', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%b3%d8%b1%d9%82%d8%a9-%d9%85%d9%88%d8%ab%d9%82%d8%a9-%d8%aa%d9%8f%d8%b3%d9%82%d8%b7-%d8%b4%d8%ae%d8%b5%d9%8a%d9%86-%d8%a8%d8%a3%d9%83%d8%a7%d8%af%d9%8a%d8%b1-1587062.html', 'summary': 'سرقة موثقة تُسقط شخصين بأكادير. أحالت مصالح الشرطة بولاية أمن أكادير على النيابة العامة المختصة، الجمعة، شخصين يبلغان معا من العمر 19 سنة، من ذوي السوابق القضائية، وذلك للاشتباه في تورطهما في قضية تتعلق بالسرقة باستعمال العنف. وعن تفاصيل الواقعة أوردت معطيات أمنية أن المشتبه فيهما كانا أقدما، رفقة شخص ثالث، على تعريض أحد مستعملي الطريق للعنف قبل سرقة دراجته  سرقة موثقة تُسقط شخصين بأكادير     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '131', 'title': 'فيديو سرقة في الشارع العام يقود إلى اعتقال شخصين بأكادير', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/408724.html', 'summary': 'فيديو سرقة في الشارع العام يقود إلى اعتقال شخصين بأكادير. أحالت مصالح الشرطة بولاية أمن أكادير على النيابة العامة المختصة، صباح الجمعة 4 يوليوز، شابين يبلغان معا من العمر 19 سنة، من ذوي السوابق القضائية،', 'size': 2}], 'main_title': 'سرقة موثقة تُسقط شخصين بأكادير'}, {'community_id': '1', 'articles': [{'id': '28', 'title': 'الصحراء المغربية.. الإكوادور: مبادرة الحكم الذاتي الأساس لتسوية النزاع', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-636892.html', 'summary': 'الصحراء المغربية.. الإكوادور: مبادرة الحكم الذاتي الأساس لتسوية النزاع. هبة بريس أكدت جمهورية الإكوادور، اليوم الجمعة بالرباط، أن مبادرة الحكم الذاتي تعد “الأساس لتسوية النزاع” الإقليمي حول الصحراء المغربية. وعبرت عن هذا الموقف وزيرة العلاقات الخارجية والتنقل البشري بجمهورية الإكوادور، غابرييلا سوميرفيلد، خلال ندوة صحفية عقب لقائها مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وفي هذا السياق، وعلى غرار غالبية الدول الأعضاء في الأمم المتحدة، أعربت جمهورية الإكوادور أيضا عن دعمها للجهود التي يبذلها المغرب للتوصل إلى حل سياسي وواقعي وبراغماتي ودائم ومقبول من لدن الأطراف لهذا النزاع الإقليمي، في إطار منظمة الأمم المتحدة. وتجدر الإشارة إلى أن جمهورية الإكوادور كانت قد سحبت، في 22 أكتوبر 2024، اعترافها ب”الجمهورية الصحراوية” المزعومة، ووضعت حدا لأي اتصال مع هذا الكيان الوهمي.', 'size': 2}, {'id': '208', 'title': 'الإكوادور تؤكد أهمية مبادرة الحكم الذاتي في الصحراء المغربية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/468549.html', 'summary': 'الإكوادور تؤكد أهمية مبادرة الحكم الذاتي في الصحراء المغربية. أكدت جمهورية الإكوادور، اليوم الجمعة بالرباط، أن مبادرة الحكم الذاتي تعد “الأساس لتسوية النزاع” الإقليمي حول الصحراء المغربية. وعبرت عن هذا الموقف وزيرة العلاقات الخارجية والتنقل البشري بجمهورية الإكوادور، غابرييلا سوميرفيلد، خلال ندوة صحفية عقب لقائها مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وفي هذا السياق، وعلى غرار غالبية الدول الأعضاء …', 'size': 3}, {'id': '239', 'title': 'الإكوادور تعتبر مبادرة الحكم الذاتي بمثابة “الأساس لتسوية النزاع” في الصحراء المغربية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224081/', 'summary': 'الإكوادور تعتبر مبادرة الحكم الذاتي بمثابة “الأساس لتسوية النزاع” في الصحراء المغربية. كواليس اليوم أكدت جمهورية الإكوادور، اليوم الجمعة بالرباط، أن مبادرة الحكم الذاتي تعد “الأساس لتسوية النزاع” الإقليمي حول الصحراء المغربية. وعبرت عن هذا الموقف وزيرة العلاقات الخارجية والتنقل البشري بجمهورية الإكوادور، غابرييلا سوميرفيلد، خلال ندوة صحفية عقب لقائها مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وفي هذا السياق، وعلى غرار', 'size': 4}, {'id': '258', 'title': 'الإكوادور تعتبر مبادرة الحكم الذاتي بمثابة “الأساس لتسوية النزاع” الإقليمي المفتعل حول الصحراء المغربية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d8%a5%d9%83%d9%88%d8%a7%d8%af%d9%88%d8%b1-%d8%aa%d8%b9%d8%aa%d8%a8%d8%b1-%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d8%ad%d9%83%d9%85-%d8%a7%d9%84%d8%b0%d8%a7%d8%aa%d9%8a-%d8%a8/', 'summary': 'الإكوادور تعتبر مبادرة الحكم الذاتي بمثابة “الأساس لتسوية النزاع” الإقليمي المفتعل حول الصحراء المغربية. أكدت جمهورية الإكوادور، اليوم الجمعة بالرباط، أن مبادرة الحكم الذاتي تعد “الأساس لتسوية النزاع” الإقليمي حول الصحراء المغربية. وعبرت عن هذا الموقف وزيرة العلاقات الخارجية والتنقل البشري بجمهورية الإكوادور، غابرييلا سوميرفيلد، خلال ندوة صحفية عقب لقائها مع وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وفي هذا السياق، وعلى غرار غالبية …  الإكوادور تعتبر مبادرة الحكم الذاتي بمثابة “الأساس لتسوية النزاع” الإقليمي المفتعل حول الصحراء المغربية     .', 'size': 4}], 'main_title': 'الإكوادور تعتبر مبادرة الحكم الذاتي بمثابة “الأساس لتسوية النزاع” في الصحراء المغربية'}, {'community_id': '2', 'articles': [{'id': '70', 'title': 'توقعات أحوال الطقس اليوم الجمعة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/202929', 'summary': 'توقعات أحوال الطقس اليوم الجمعة.  تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الجمعة، أن تعرف الحالة الجوية، طقسا محليا حارا بالسهول الداخلية، والجنوب الشرقي للبلاد،وكذا داخل الأقاليم الجنوبية للمملكة. ومن المرتقب تمركز سحب رعدية محملة بقطرات أو زخات مطرية فوق كل من مرتفعات الأطلسين الكبير و المتوسط، و شمال الأطلس الصغير،وسفوحها الجنوبية الشرقية، فضلا عن نزول أمطار جد', 'size': 2}, {'id': '192', 'title': 'توقعات أحوال الطقس لليوم الجمعة', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357530.html', 'summary': 'توقعات أحوال الطقس لليوم الجمعة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الجمعة، أن تعرف الحالة الجوية، طقسا محليا حارا بالسهول الداخلية، والجنوب الشرقي للبلاد، وكذا داخل الأقاليم الجنوبية للمملكة. ومن المرتقب تمركز سحب رعدية محملة بقطرات أو زخات مطرية فوق كل من مرتفعات الأطلسين الكبير والمتوسط، وشمال الأطلس الصغير، وسفوحها الجنوبية الشرقية، فضلا عن نزول أمطار جد خفيفة بغرب', 'size': 2}], 'main_title': 'توقعات أحوال الطقس اليوم الجمعة'}, {'community_id': '3', 'articles': [{'id': '82', 'title': 'شجار مسلح في فاس ينتهي بتدخل أمني واعتقال ستة أشخاص', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/408668.html', 'summary': 'شجار مسلح في فاس ينتهي بتدخل أمني واعتقال ستة أشخاص. أحالت مصالح ولاية أمن فاس على النيابة العامة المختصة، صباح اليوم الخميس 3 يوليوز الجاري، ستة أشخاص من بينهم ثلاثة قاصرين، تتراوح أعمارهم مابين 16', 'size': 2}, {'id': '252', 'title': 'أمن فاس يوقف 6 أشخاص ارتكبوا أفعالا خطيرة ضد المواطنين والممتلكات', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a3%d9%85%d9%86-%d9%81%d8%a7%d8%b3-%d9%8a%d9%88%d9%82%d9%81-6-%d8%a3%d8%b4%d8%ae%d8%a7%d8%b5-%d8%a7%d8%b1%d8%aa%d9%83%d8%a8%d9%88%d8%a7-%d8%a3%d9%81%d8%b9%d8%a7%d9%84%d8%a7-%d8%ae%d8%b7%d9%8a%d8%b1/', 'summary': 'أمن فاس يوقف 6 أشخاص ارتكبوا أفعالا خطيرة ضد المواطنين والممتلكات. المساء اليوم: أحالت مصالح ولاية أمن فاس على النيابة العامة المختصة، الخميس 3 يوليوز الجاري، ستة أشخاص من بينهم ثلاثة قاصرين، تتراوح أعمارهم مابين 16 و23 سنة، وذلك للاشتباه في تورطهم في قضية تتعلق بالضرب', 'size': 2}], 'main_title': 'شجار مسلح في فاس ينتهي بتدخل أمني واعتقال ستة أشخاص'}, {'community_id': '4', 'articles': [{'id': '84', 'title': 'إعفاء عميد كلية الحقوق بأكادير بعد فضيحة "ماستر قيلش"', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/education/408671.html', 'summary': 'إعفاء عميد كلية الحقوق بأكادير بعد فضيحة "ماستر قيلش". أصدر رئيس الحكومة عزيز أخنوش قرارًا يقضي بإعفاء عميد كلية الحقوق بجامعة ابن زهر بأكادير، بناءً على اقتراح من وزير التعليم العالي عز الدين الميداوي. جاء', 'size': 2}, {'id': '201', 'title': 'رئيس الحكومة يوافق على إعفاء عميد كلية الحقوق بأكادير', 'source': 'rue20.com', 'link': 'https://rue20.com/918138.html', 'summary': 'رئيس الحكومة يوافق على إعفاء عميد كلية الحقوق بأكادير.  . متابعة أصدر رئيس الحكومة عزيز أخنوش قرارا يقضي بإعفاء عميد كلية الحقوق التابعة لجامعة ابن زهر بأكادير، بناء على اقتراح من عز الدين الميداوي، وزير التعليم العالي والبحث العلمي والابتكار. و يأتي القرار وفق مصادرنا ، على خلفية فضيحة السمسرة في شهادات الماستر والدكتوراه، أو ما بات يعرف إعلاميا بفضيحة “ماستر قيلش”. الخبر رئيس الحكومة يوافق على إعفاء عميد كلية الحقوق بأكادير  .', 'size': 2}], 'main_title': 'إعفاء عميد كلية الحقوق بأكادير بعد فضيحة "ماستر قيلش"'}, {'community_id': '5', 'articles': [{'id': '120', 'title': 'ليبيريا العضو الجديد غير الدائم في مجلس الأمن تجدد دعمها لمغربية الصحراء', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/408713.html', 'summary': 'ليبيريا العضو الجديد غير الدائم في مجلس الأمن تجدد دعمها لمغربية الصحراء. جددت جمهورية ليبيريا، العضو الجديد غير الدائم في مجلس الأمن التابع للأمم المتحدة ابتداء من سنة 2026، اليوم الجمعة بالرباط، تأكيد دعمها للوحدة الترابية ولسيادة', 'size': 3}, {'id': '206', 'title': 'ليبيريا تجدد دعمها لمبادرة الحكم الذاتي بالصحراء المغربية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/468551.html', 'summary': 'ليبيريا تجدد دعمها لمبادرة الحكم الذاتي بالصحراء المغربية. جددت جمهورية ليبيريا، العضو الجديد غير الدائم في مجلس الأمن التابع للأمم المتحدة ابتداء من سنة 2026، اليوم الجمعة بالرباط، تأكيد دعمها للوحدة الترابية ولسيادة المغرب على كامل ترابه، بما في ذلك منطقة الصحراء. وجاء التعبير عن هذا الموقف على لسان وزيرة خارجية ليبيريا، سارة بيسولو نيانتي، خلال ندوة صحفية عقب لقائها مع وزير الشؤون …', 'size': 2}, {'id': '241', 'title': 'ليبيريا تواصل دعمها للوحدة الترابية ولسيادة المغرب ولمبادرة الحكم الذاتي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224070/', 'summary': 'ليبيريا تواصل دعمها للوحدة الترابية ولسيادة المغرب ولمبادرة الحكم الذاتي. كواليس اليوم جددت جمهورية ليبيريا، العضو الجديد غير الدائم في مجلس الأمن التابع للأمم المتحدة ابتداء من سنة 2026، اليوم الجمعة بالرباط، تأكيد دعمها للوحدة الترابية ولسيادة المغرب على كامل ترابه، بما في ذلك منطقة الصحراء. وجاء التعبير عن هذا الموقف على لسان وزيرة خارجية ليبيريا، سارة بيسولو نيانتي، خلال ندوة صحفية عقب لقائها', 'size': 3}, {'id': '418', 'title': 'ليبيريا تدعم الوحدة الترابية وسيادة المغرب على كامل ترابه وصحرائه', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d9%84%d9%8a%d8%a8%d9%8a%d8%b1%d9%8a%d8%a7-%d8%aa%d8%af%d8%b9%d9%85-%d8%a7%d9%84%d9%88%d8%ad%d8%af%d8%a9-%d8%a7%d9%84%d8%aa%d8%b1%d8%a7%d8%a8%d9%8a%d8%a9-%d9%88%d8%b3%d9%8a%d8%a7%d8%af%d8%a9-%d8%a7/', 'summary': 'ليبيريا تدعم الوحدة الترابية وسيادة المغرب على كامل ترابه وصحرائه.  – و م ع جددت جمهورية ليبيريا، العضو الجديد غير الدائم في مجلس الأمن التابع للأمم المتحدة ابتداء من سنة 2026، اليوم الجمعة بالرباط، تأكيد دعمها للوحدة الترابية...  ليبيريا تدعم الوحدة الترابية وسيادة المغرب على كامل ترابه وصحرائه     .', 'size': 2}], 'main_title': 'ليبيريا العضو الجديد غير الدائم في مجلس الأمن تجدد دعمها لمغربية الصحراء'}, {'community_id': '6', 'articles': [{'id': '136', 'title': 'وسيط المملكة: الالتزام الكامل بمبادئ العدل والإنصاف يشكل العمق الأخلاقي للوساطة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%88%d8%b3%d9%8a%d8%b7-%d8%a7%d9%84%d9%85%d9%85%d9%84%d9%83%d8%a9-%d8%a7%d9%84%d8%a7%d9%84%d8%aa%d8%b2%d8%a7%d9%85-%d8%a7%d9%84%d9%83%d8%a7%d9%85%d9%84-%d8%a8%d9%85%d8%a8%d8%a7%d8%af%d8%a6-%d8%a7/', 'summary': 'وسيط المملكة: الالتزام الكامل بمبادئ العدل والإنصاف يشكل العمق الأخلاقي للوساطة. أكد وسيط المملكة حسن طارق، اليوم الجمعة (4 يوليوز) بالرباط، أن الالتزام الكامل بمبادئ العدل والإنصاف يشكل العمق الأخلاقي للوساطة لأنها وحدها من تجعل من رسالة الوسيط مختلفة، في الطبيعة والنتائج والآليات، عن باقي الصيغ التي تقدمها دولة القانون لموضوع النزاعات العمومية. وأكد طارق، في كلمة خلال ترؤسه أشغال اللقاء الأول للمنتدى الوطني حول الوساطة', 'size': 2}, {'id': '168', 'title': 'وسيط المملكة: الدفاع عن الحقوق يبدأ من شفافية الإدارة وكرامة المرتفق', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1083088.html', 'summary': 'وسيط المملكة: الدفاع عن الحقوق يبدأ من شفافية الإدارة وكرامة المرتفق. أكد وسيط المملكة حسن طارق، اليوم الجمعة بالرباط، أن الالتزام الكامل بمبادئ العدل والإنصاف يشكل العمق الأخلاقي للوساطة لأنها وحدها من تجعل من رسالة الوسيط مختلفة، في الطبيعة والنتائج والآليات، عن باقي الصيغ التي تقدمها دولة القانون لموضوع النزاعات العمومية. وأكد طارق، في كلمة خلال ترؤسه أشغال اللقاء الأول للمنتدى الوطني حول الوساطة المؤسساتية، على ظهرت المقالة وسيط المملكة: الدفاع عن الحقوق يبدأ من شفافية الإدارة وكرامة المرتفق  .', 'size': 2}], 'main_title': 'وسيط المملكة: الالتزام الكامل بمبادئ العدل والإنصاف يشكل العمق الأخلاقي للوساطة'}, {'community_id': '7', 'articles': [{'id': '186', 'title': 'هل سماء المملكة آمنة؟', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%87%d9%84-%d8%b3%d9%85%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d9%85%d9%84%d9%83%d8%a9-%d8%a2%d9%85%d9%86%d8%a9%d8%9f/', 'summary': 'هل سماء المملكة آمنة؟. إن تواتر التحذيرات الدولية، وتسجيل أعطاب بمنظومة الرادار وصدور تقارير رسمية عن جهات رقابية وطنية ودولية، تؤكد أن منظومة السلامة الجوية في المغرب تواجه أزمة حقيقية تتطلب تدخلًا فوريًا وحازمًا، وإعادة هيكلة شاملة. إن أي تهاون أو تجاهل للمشاكل التي تعاني منها منظومة سلامة الملاحة الجوية قد يكون ثمنه غاليا ستدفعه بلادنا من سمعتها التي  هل سماء المملكة آمنة؟     .', 'size': 2}, {'id': '360', 'title': 'شواطئ المغرب.. غياب الولوجيات يعزل ذوي الاحتياجات الخاصة عن حقوقهم في الاستجمام', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317435/', 'summary': 'شواطئ المغرب.. غياب الولوجيات يعزل ذوي الاحتياجات الخاصة عن حقوقهم في الاستجمام. مع حلول موسم الصيف، تتجدد معاناة فئة واسعة من المواطنين المغاربة، وهم الأشخاص في وضعية إعاقة، الذين يجدون أنفسهم مجبرين على الانعزال عن أجواء البحر والشواطئ بسبب غياب التسهيلات اللازمة للولوج إلى هذه الفضاءات الحيوية. ورغم التزايد المستمر لعدد المصطافين خلال فصل الصيف، تظل شواطئ المملكة بعيدة عن متناول هذه الفئة، مما يطرح العديد من', 'size': 2}], 'main_title': 'هل سماء المملكة آمنة؟'}, {'community_id': '9', 'articles': [{'id': '234', 'title': 'جمهورية الإكوادور تفتتح سفارة لها بالرباط', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224101/', 'summary': 'جمهورية الإكوادور تفتتح سفارة لها بالرباط. كواليس اليوم قام وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، ووزيرة العلاقات الخارجية والتنقل البشري الإكوادورية، غابرييلا سومرفيلد، اليوم الجمعة، بافتتاح سفارة جمهورية الإكوادور في الرباط. وفي كلمة بالمناسبة، أكد بوريطة أن افتتاح هذه السفارة يأتي في أعقاب القرار التاريخي لجمهورية الإكوادور بقطع جميع العلاقات مع “الجمهورية الصحراوية” المزعومة في 22', 'size': 6}, {'id': '341', 'title': 'بالصور.. جمهورية الإكوادور تفتتح سفارتها في الرباط', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%a7%d9%84%d8%b5%d9%88%d8%b1-%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d8%a5%d9%83%d9%88%d8%a7%d8%af%d9%88%d8%b1-%d8%aa%d9%81%d8%aa%d8%aa%d8%ad-%d8%b3%d9%81%d8%a7%d8%b1%d8%aa/', 'summary': 'بالصور.. جمهورية الإكوادور تفتتح سفارتها في الرباط. قام وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، ووزيرة العلاقات الخارجية والتنقل البشري الإكوادورية، غابرييلا سومرفيلد، اليوم الجمعة (4 يوليوز)، بافتتاح سفارة جمهورية الإكوادور في الرباط. وفي كلمة بالمناسبة، أكد بوريطة أن افتتاح هذه السفارة يأتي في أعقاب القرار التاريخي لجمهورية الإكوادور بقطع جميع العلاقات مع “الجمهورية الصحراوية” المزعومة في 22 أكتوبر', 'size': 5}, {'id': '365', 'title': 'الإكوادور تفتتح سفارتها في الرباط وتجدد دعمها للصحراء المغربية', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317429/', 'summary': 'الإكوادور تفتتح سفارتها في الرباط وتجدد دعمها للصحراء المغربية. قام وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، ووزيرة العلاقات الخارجية والتنقل البشري الإكوادورية، غابرييلا سومرفيلد، اليوم الجمعة، بافتتاح سفارة جمهورية الإكوادور في الرباط. وفي كلمة بالمناسبة، أكد بوريطة أن افتتاح هذه السفارة يأتي في أعقاب القرار التاريخي لجمهورية الإكوادور بقطع جميع العلاقات مع “الجمهورية الصحراوية” المزعومة في 22 أكتوبر 2024، وتعزيز', 'size': 5}, {'id': '404', 'title': 'بعد قطع جميع العلاقات مع “البوليساريو”.. الإكوادور تفتتح سفارتها في الرباط', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/468556.html', 'summary': 'بعد قطع جميع العلاقات مع “البوليساريو”.. الإكوادور تفتتح سفارتها في الرباط. قام وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، ووزيرة العلاقات الخارجية والتنقل البشري الإكوادورية، غابرييلا سومرفيلد، اليوم الجمعة، بافتتاح سفارة جمهورية الإكوادور في الرباط. وفي كلمة بالمناسبة، أكد بوريطة أن افتتاح هذه السفارة يأتي في أعقاب القرار التاريخي لجمهورية الإكوادور بقطع جميع العلاقات مع “الجمهورية الصحراوية” المزعومة في 22 أكتوبر 2024، وتعزيز …', 'size': 5}, {'id': '438', 'title': 'بعد قطع جميع علاقاتها مع البوليساريو.. جمهورية الإكوادور تفتتح سفارتها في الرباط', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d8%b9%d8%af-%d9%82%d8%b7%d8%b9-%d8%ac%d9%85%d9%8a%d8%b9-%d8%b9%d9%84%d8%a7%d9%82%d8%a7%d8%aa%d9%87%d8%a7-%d9%85%d8%b9-%d8%a7%d9%84%d8%a8%d9%88%d9%84%d9%8a%d8%b3%d8%a7%d8%b1%d9%8a%d9%88-%d8%ac/', 'summary': 'بعد قطع جميع علاقاتها مع البوليساريو.. جمهورية الإكوادور تفتتح سفارتها في الرباط. قام وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، ووزيرة العلاقات الخارجية والتنقل البشري الإكوادورية، غابرييلا سومرفيلد، اليوم الجمعة، بافتتاح سفارة جمهورية الإكوادور في الرباط. وفي هذا السياق، أكد بوريطة أن افتتاح هذه السفارة يأتي في أعقاب القرار التاريخي لجمهورية الإكوادور بقطع جميع العلاقات مع “الجمهورية الصحراوية” المزعومة في 22 أكتوبر …  بعد قطع جميع علاقاتها مع البوليساريو.. جمهورية الإكوادور تفتتح سفارتها في الرباط     .', 'size': 5}], 'main_title': 'جمهورية الإكوادور تفتتح سفارة لها بالرباط'}, {'community_id': '10', 'articles': [{'id': '305', 'title': 'فوزي لقجع يدعم لبؤات الأطلس قبل مشاركتهن في كأس إفريقيا للسيدات', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-637007.html', 'summary': 'فوزي لقجع يدعم لبؤات الأطلس قبل مشاركتهن في كأس إفريقيا للسيدات. زار فوزي لقجع ، رئيس الجامعة الملكية المغربية لكرة القدم، مساء اليوم الجمعة، مقر إقامة المنتخب الوطني النسوي، وذلك قبيل الحصة التدريبية الأخيرة استعدادًا للمباراة الافتتاحية أمام منتخب زامبيا، ضمن منافسات كأس أمم إفريقيا للسيدات، التي تنطلق غدًا السبت بالمغرب. وخلال هذه الزيارة، التقى لقجع بلاعبات المنتخب الوطني وبجميع أعضاء الطاقم التقني والطبي والإداري، حيث عبّر عن فخره واعتزازه بالمستوى الذي بلغته اللبؤات، مشيدًا بروحهن القتالية العالية وانضباطهن الجماعي. وأكد رئيس الجامعة أن جميع الإمكانيات اللوجستية والتقنية قد تم توفيرها لتهيئة أفضل الظروف للفريق الوطني من أجل خوض البطولة في أجواء مريحة، مشددًا على أن الجماهير المغربية تضع ثقتها الكاملة في اللاعبات لتقديم صورة مشرفة لكرة القدم الوطنية. وفي ختام كلمته، دعا فوزي لقجع اللاعبات إلى مضاعفة الجهود وتقديم أداء يعكس طموحات وانتظارات الشعب المغربي. ويواجه المنتخب المغربي للسيدات نظيره الزامبي في المباراة الافتتاحية لكأس الأمم الإفريقية، غدًا السبت 5 يوليوز، انطلاقًا من الساعة التاسعة ليلاً، على أرضية الملعب الأولمبي بمدينة الرباط.', 'size': 2}, {'id': '399', 'title': 'لقجع يحفز لبؤات الأطلس قبل انطلاق منافسات كأس أمم إفريقيا للسيدات', 'source': 'rue20.com', 'link': 'https://rue20.com/918171.html', 'summary': 'لقجع يحفز لبؤات الأطلس قبل انطلاق منافسات كأس أمم إفريقيا للسيدات.  . الرباط زار فوزي لقجع، رئيس الجامعة الملكية المغربية لكرة القدم، مساء يوم الجمعة 4 يوليوز 2025، مقر إقامة المنتخب الوطني النسوي لكرة القدم، وذلك قبل الحصة التدريبية الأخيرة استعدادًا للمباراة الافتتاحية أمام منتخب زامبيا، في إطار كأس أمم إفريقيا للامم للسيدات، التي تنطلق غدًا السبت بالمغرب. وخلال هذه الزيارة، التقى لقجع بلاعبات الخبر لقجع يحفز لبؤات الأطلس قبل انطلاق منافسات كأس أمم إفريقيا للسيدات  .', 'size': 2}], 'main_title': 'فوزي لقجع يدعم لبؤات الأطلس قبل مشاركتهن في كأس إفريقيا للسيدات'}, {'community_id': '11', 'articles': [{'id': '316', 'title': 'نشرة إنذارية برتقالية.. موجة حر وعواصف رملية تضرب الجنوب المغربي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-636972.html', 'summary': 'نشرة إنذارية برتقالية.. موجة حر وعواصف رملية تضرب الجنوب المغربي. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع “الشركي” وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 43 و46 درجة غدا السبت بأقاليم طاطا وزاكورة وأسا-الزاك والسمارة وبوجدور ووادي الذهب وأوسرد. كما توقعت المديرية تسجيل هبات رياح محليا قوية مع عواصف رملية (70 إلى 80 كلم/س)، من السادسة صباحا من يوم غد السبت إلى الساعة نفسها من بعد غد الأحد، وذلك بأقاليم بوجدور ووادي الذهب وأوسرد.', 'size': 5}, {'id': '361', 'title': 'أرصاد المغرب تحذر من طقس حار وعواصف رملية يومي السبت والأحد', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317441/', 'summary': 'أرصاد المغرب تحذر من طقس حار وعواصف رملية يومي السبت والأحد. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع “الشركي” وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 43 و46 درجة غدا السبت بأقاليم طاطا وزاكورة وأسا-الزاك والسمارة وبوجدور', 'size': 5}, {'id': '382', 'title': 'نشرة إنذارية.. طقس حار مع “الشركي” وهبات رياح مع عواصف رملية بعدد من مناطق المملكة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1083187.html', 'summary': 'نشرة إنذارية.. طقس حار مع “الشركي” وهبات رياح مع عواصف رملية بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع “الشركي” وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 43 و46 درجة غدا السبت بأقاليم طاطا وزاكورة وأسا-الزاك والسمارة وبوجدور ظهرت المقالة نشرة إنذارية.. طقس حار مع “الشركي” وهبات رياح مع عواصف رملية بعدد من مناطق المملكة  .', 'size': 5}, {'id': '389', 'title': 'تحذير من موجة حر خلال نهاية الأسبوع', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%aa%d8%ad%d8%b0%d9%8a%d8%b1-%d9%85%d9%86-%d9%85%d9%88%d8%ac%d8%a9-%d8%ad%d8%b1-%d8%ae%d9%84%d8%a7%d9%84-%d9%86%d9%87%d8%a7%d9%8a%d8%a9-%d8%a7%d9%84%d8%a3%d8%b3%d8%a8%d9%88%d8%b9/', 'summary': 'تحذير من موجة حر خلال نهاية الأسبوع. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع "الشركي" وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 43 و46 درجة غدا السبت بأقاليم طاطا وزاكورة وأسا-الزاك والسمارة وبوجدور  تحذير من موجة حر خلال نهاية الأسبوع     .', 'size': 5}, {'id': '435', 'title': 'نشرة إنذارية: طقس حار مع “الشركي” وهبات رياح مع عواصف رملية السبت والأحد بعدد من مناطق المملكة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%86%d8%b4%d8%b1%d8%a9-%d8%a5%d9%86%d8%b0%d8%a7%d8%b1%d9%8a%d8%a9-%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%a7%d9%84%d8%b4%d8%b1%d9%83%d9%8a-%d9%88%d9%87%d8%a8%d8%a7/', 'summary': 'نشرة إنذارية: طقس حار مع “الشركي” وهبات رياح مع عواصف رملية السبت والأحد بعدد من مناطق المملكة. كشفت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع “الشركي” وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق المملكة. وأفادت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 43 و46 درجة غدا السبت بأقاليم طاطا وزاكورة وأسا-الزاك والسمارة …  نشرة إنذارية: طقس حار مع “الشركي” وهبات رياح مع عواصف رملية السبت والأحد بعدد من مناطق المملكة     .', 'size': 5}], 'main_title': 'نشرة إنذارية برتقالية.. موجة حر وعواصف رملية تضرب الجنوب المغربي'}, {'community_id': '8', 'articles': [{'id': '343', 'title': 'المدرب فيلدا: الرهان كبير جدا لكننا متحمسون لتحقيق إنجاز جيد في نهائيات كأس إفريقيا للسيدات', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d9%85%d8%af%d8%b1%d8%a8-%d9%81%d9%8a%d9%84%d8%af%d8%a7-%d8%a7%d9%84%d8%b1%d9%87%d8%a7%d9%86-%d9%83%d8%a8%d9%8a%d8%b1-%d8%ac%d8%af%d8%a7-%d9%84%d9%83%d9%86%d9%86%d8%a7-%d9%85%d8%aa%d8%ad/', 'summary': 'المدرب فيلدا: الرهان كبير جدا لكننا متحمسون لتحقيق إنجاز جيد في نهائيات كأس إفريقيا للسيدات. أشاد مدرب المنتخب الوطني النسوي لكرة القدم، خورخي فيلدا، اليوم الجمعة بالرباط، بالمؤهلات الكبيرة التي تتمتع بهن لبؤات الأطلس، مبرزا أنهن قادرات على تحقيق إنجاز جيد في نهائيات كأس أمم إفريقيا لكرة القدم (المغرب 2024 ) المقررة من 5 إلى 26 يوليوز بالمغرب، رغم أن ” الرهان كبير جدا”. وأوضح فيلدا خلال ندوة صحفية عقدت', 'size': 2}, {'id': '436', 'title': 'الناخب الوطني: كأس أمم إفريقيا للسيدات المقام بالمغرب رهان كبير جدا لكننا متحمسون لتحقيق إنجاز جيد', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%86%d8%a7%d8%ae%d8%a8-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a-%d9%83%d8%a3%d8%b3-%d8%a3%d9%85%d9%85-%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-%d9%84%d9%84%d8%b3%d9%8a%d8%af%d8%a7%d8%aa/', 'summary': 'الناخب الوطني: كأس أمم إفريقيا للسيدات المقام بالمغرب رهان كبير جدا لكننا متحمسون لتحقيق إنجاز جيد. نوه مدرب المنتخب الوطني النسوي لكرة القدم، خورخي فيلدا، اليوم الجمعة بالرباط، بالمؤهلات الكبيرة التي تتمتع بهن لبؤات الأطلس، مسجلا أنهن قادرات على تحقيق إنجاز جيد في نهائيات كأس أمم إفريقيا لكرة القدم (المغرب 2024 ) المقررة من 5 إلى 26 يوليوز بالمغرب، رغم أن ” الرهان كبير جدا”. وأبرز فيلدا خلال ندوة …  الناخب الوطني: كأس أمم إفريقيا للسيدات المقام بالمغرب رهان كبير جدا لكننا متحمسون لتحقيق إنجاز جيد     .', 'size': 2}], 'main_title': 'المدرب فيلدا: الرهان كبير جدا لكننا متحمسون لتحقيق إنجاز جيد في نهائيات كأس إفريقيا للسيدات'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
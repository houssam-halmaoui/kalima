<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 22/09/2025 - 18h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '2', 'title': 'الملك يشيد بالروابط التاريخية مع مالي', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%8a%d8%b4%d9%8a%d8%af-%d8%a8%d8%a7%d9%84%d8%b1%d9%88%d8%a7%d8%a8%d8%b7-%d8%a7%d9%84%d8%aa%d8%a7%d8%b1%d9%8a%d8%ae%d9%8a%d8%a9-%d9%85%d8%b9-%d9%85%d8%a7%d9%84%d9%8a-1628033.html', 'summary': 'الملك يشيد بالروابط التاريخية مع مالي. بعث الملك محمد السادس برقية تهنئة إلى أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها. وأعرب الملك، بهذه المناسبة، عن تهانئه الخالصة للرئيس أسيمي غويتا وأحر متمنياته بالرفاه والرخاء للشعب المالي الذي تجمعه بالشعب المغربي روابط تاريخية قائمة على الأخوة والتضامن، مؤكدا مدى الأهمية التي يوليها لتوطيد  الملك يشيد بالروابط التاريخية مع مالي     - هسبريس جريدة إلكترونية مغربية .', 'size': 3}, {'id': '189', 'title': 'الملك لرئيس مالي.. أجدد لكم استعداد المملكة لتعاون وثيق من أجل إفريقيا مستقرة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/476333.html', 'summary': 'الملك لرئيس مالي.. أجدد لكم استعداد المملكة لتعاون وثيق من أجل إفريقيا مستقرة. بعث الملك محمد السادس برقية تهنئة إلى أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها.', 'size': 2}, {'id': '309', 'title': 'الملك يبرق الرئيس الانتقالي لجمهورية مالي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659451.html', 'summary': 'الملك يبرق الرئيس الانتقالي لجمهورية مالي. هبة بريس بعث صاحب الجلالة الملك محمد السادس برقية تهنئة إلى فخامة أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها. وأعرب جلالة الملك، بهذه المناسبة، عن تهانئه الخالصة للرئيس أسيمي غويتا وأحر متمنياته بالرفاه والرخاء للشعب المالي الذي تجمعه بالشعب المغربي روابط تاريخية قائمة على الأخوة والتضامن،', 'size': 3}, {'id': '440', 'title': 'الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d9%87%d9%86%d8%a6-%d8%a7%d9%84%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d8%a7%d9%86%d8%aa%d9%82%d8%a7-3/', 'summary': 'الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده. بعث الملك محمد السادس برقية تهنئة إلى أسيمي غويتا، الرئيس الانتقالي لجمهورية مالي، رئيس الدولة، وذلك بمناسبة تخليد بلاده للذكرى الخامسة والستين لاستقلالها. وأعرب الملك محمد السادس، بهذه المناسبة، عن تهانئه الخالصة للرئيس أسيمي غويتا وأحر متمنياته بالرفاه والرخاء للشعب المالي الذي تجمعه بالشعب المغربي روابط تاريخية قائمة على الأخوة والتضامن، مؤكدا جلالته مدى …  الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده     .', 'size': 4}], 'main_title': 'الملك محمد السادس يهنئ الرئيس الانتقالي لجمهورية مالي بمناسبة ذكرى استقلال بلاده'}, {'community_id': '1', 'articles': [{'id': '4', 'title': 'استمرار الاضطرابات بمطارات أوروبية', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d8%b3%d8%aa%d9%85%d8%b1%d8%a7%d8%b1-%d8%a7%d9%84%d8%a7%d8%b6%d8%b7%d8%b1%d8%a7%d8%a8%d8%a7%d8%aa-%d8%a8%d9%85%d8%b7%d8%a7%d8%b1%d8%a7%d8%aa-%d8%a3%d9%88%d8%b1%d9%88%d8%a8%d9%8a%d8%a9-1628014.html', 'summary': 'استمرار الاضطرابات بمطارات أوروبية. تواصلت، اليوم الإثنين، الاضطرابات التي تشهدها عدة مطارات أوروبية عقب هجوم إلكتروني وقع يوم الجمعة الماضي، ومازالت مطارات أوروبية كبرى، من بينها دبلن وبروكسل ولندن هيثرو، تواجه اضطرابات مستمرة بعد أيام من الهجوم. وكان مطار العاصمة الألمانية من بين أكثر المطارات المتضررة، حيث دعا المسافرون إلى إتمام إجراءات تسجيل الوصول عبر الإنترنت واستخدام الأكشاك الذاتية  استمرار الاضطرابات بمطارات أوروبية     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '138', 'title': 'استمرار الاضطرابات في مطارات أوروبية بسبب هجوم إلكتروني', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-590364.html', 'summary': 'استمرار الاضطرابات في مطارات أوروبية بسبب هجوم إلكتروني. تواصلت، الاثنين، الاضطرابات التي تشهدها عدة مطارات أوروبية عقب هجوم إلكتروني وقع يوم الجمعة الماضي، ولا تزال مطارات أوروبية كبرى، من بينها دبلن وبروكسل ولندن هيثرو، تواجه اضطرابات مستمرة بعد أيام من الهجوم. وكان مطار العاصمة الألمانية من بين أكثر المطارات المتضررة، حيث دعا المسافرين إلى إتمام إجراءات تسجيل الوصول عبر الإنترنت', 'size': 2}], 'main_title': 'استمرار الاضطرابات بمطارات أوروبية'}, {'community_id': '2', 'articles': [{'id': '5', 'title': 'مندوبية التخطيط: تقدم في التعليم وتراجع بمعدلات الأمية خلال العقد الأخير', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%85%d9%86%d8%af%d9%88%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d8%aa%d8%ae%d8%b7%d9%8a%d8%b7-%d8%aa%d9%82%d8%af%d9%85-%d9%81%d9%8a-%d8%a7%d9%84%d8%aa%d8%b9%d9%84%d9%8a%d9%85-%d9%88%d8%aa%d8%b1%d8%a7%d8%ac-1627657.html', 'summary': 'مندوبية التخطيط: تقدم في التعليم وتراجع بمعدلات الأمية خلال العقد الأخير. كشفت بيانات حديثة للمندوبية السامية للتخطيط، ضمن تقرير “الأطلس السوسيو-ديمغرافي الإقليمي”، عن تحولات ملحوظة في مجال التعليم ومعدلات الأمية خلال العقد الأخير (2014-2024)، حيث يسجل المغرب تقدماً على مستوى الولوج إلى المدرسة، إلى جانب تراجع ملموس في نسب الأمية، مع استمرار تفاوتات جغرافية واجتماعية واضحة. وحسب الخرائط المصاحبة للتقرير فإنه خلال العقد الماضي ارتفع معدل  مندوبية التخطيط: تقدم في التعليم وتراجع بمعدلات الأمية خلال العقد الأخير     - هسبريس جريدة إلكترونية مغربية .', 'size': 3}, {'id': '325', 'title': 'مندوبية التخطيط: المغرب يحقق تقدماً على مستوى الولوج إلى المدرسة وتراجعا ملموسا في نسب الأمية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/413175.html', 'summary': 'مندوبية التخطيط: المغرب يحقق تقدماً على مستوى الولوج إلى المدرسة وتراجعا ملموسا في نسب الأمية. أفادت بيانات حديثة للمندوبية السامية للتخطيط، ضمن تقرير “الأطلس السوسيو-ديمغرافي الإقليمي”، بوجود تحولات ملحوظة في مجال التعليم ومعدلات الأمية خلال العقد الأخير (2014-2024)، مبرزة أن', 'size': 2}, {'id': '393', 'title': 'مندوبية التخطيط : تسجيل تقدم ملحوظ في الولوج إلى التعليم وتراجع الأمية بالمغرب', 'source': 'rue20.com', 'link': 'https://rue20.com/938760.html', 'summary': 'مندوبية التخطيط : تسجيل تقدم ملحوظ في الولوج إلى التعليم وتراجع الأمية بالمغرب. . الرباط كشفت بيانات حديثة للمندوبية السامية للتخطيط، ضمن تقرير “الأطلس السوسيو-ديمغرافي الإقليمي”، بوجود تحولات ملحوظة في مجال التعليم ومعدلات الأمية خلال العقد الأخير (2014-2024)، مؤكدة أن المغرب يحقق تقدماً على مستوى الولوج إلى المدرسة، فضلا عن تراجع ملموس في نسب الأمية، مع استمرار تفاوتات جغرافية واجتماعية واضحة. وسجلت الخرائط المصاحبة للتقرير، أن العقد الخبر مندوبية التخطيط : تسجيل تقدم ملحوظ في الولوج إلى التعليم وتراجع الأمية بالمغرب  .', 'size': 2}], 'main_title': 'مندوبية التخطيط: تقدم في التعليم وتراجع بمعدلات الأمية خلال العقد الأخير'}, {'community_id': '3', 'articles': [{'id': '20', 'title': 'مؤشر تطور السوق .. المغرب يسجل تقدما بـ 7 درجات', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659409.html', 'summary': 'مؤشر تطور السوق .. المغرب يسجل تقدما بـ 7 درجات. هبة بريس سجل المغرب تقدماً ملموساً في مؤشر تطور السوق، أحد المحاور الأساسية ضمن التقرير السنوي للابتكار الصادر عن المنظمة العالمية للملكية الفكرية (الويبو)، بشراكة مع جامعة كورنيل والمعهد الأوروبي لإدارة الأعمال (إنسياد). ووفقاً للتقرير، ارتقى المغرب سبع مراتب ليحل في المرتبة 81 من أصل 139 دولة شملها التصنيف، محققاً معدل 14.2 نقطة في مؤشر', 'size': 2}, {'id': '147', 'title': 'المغرب يتقدم 7 درجات في مؤشر تطور السوق', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-590340.html', 'summary': 'المغرب يتقدم 7 درجات في مؤشر تطور السوق. سجل المغرب تقدما بـ 7 درجات في مؤشر تطور السوق ليحتل المرتبة 81 من أصل 139 دولة شملها تقرير صادر عن “المنظمة العالمية للملكية الفكرية الويبو”، بتعاون مع جامعة “كورنيل” و”المعهد الأوروبي لإدارة الأعمال الإنسياد”. وكشف التقرير أن المغرب حصل على معدل 14.2 نقطة في هذا المؤشر الذي يعتبر من بين المحاور السبعة', 'size': 2}], 'main_title': 'مؤشر تطور السوق .. المغرب يسجل تقدما بـ 7 درجات'}, {'community_id': '6', 'articles': [{'id': '50', 'title': 'بتعليمات ملكية.. أخنوش يترأس الوفد المغربي المشارك في الدورة 80 للأمم المتحدة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659303.html', 'summary': 'بتعليمات ملكية.. أخنوش يترأس الوفد المغربي المشارك في الدورة 80 للأمم المتحدة. هبة بريس – الرباط بتعليمات سامية من الملك محمد السادس، يترأس عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغال الدورة الثمانين للجمعية العامة للأمم المتحدة، التي تنعقد بنيويورك. ويرافق أخنوش خلال هذه الدورة، وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وستتميز الدورة الثمانون للجمعية العامة للأمم المتحدة، التي تنعقد حول موضوع', 'size': 2}, {'id': '91', 'title': 'بتعليمات من الملك محمد السادس.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/413144.html', 'summary': 'بتعليمات من الملك محمد السادس.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة. بتعليمات سامية من صاحب الجلالة الملك محمد السادس، يترأس عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغال الدورة الثمانين للجمعية العامة للأمم المتحدة، التي', 'size': 3}, {'id': '196', 'title': 'بتعليمات ملكية.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/476271.html', 'summary': 'بتعليمات ملكية.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة. بتعليمات الملك محمد السادس، يترأس عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغال الدورة الثمانين للجمعية العامة للأمم المتحدة، التي تنعقد بنيويورك. ويرافق أخنوش خلال هذه الدورة، وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة. وستتميز الدورة الثمانون للجمعية العامة للأمم المتحدة، التي تنعقد حول موضوع “بالعمل معا نحقق نتائج أفضل: ثمانون …', 'size': 3}, {'id': '254', 'title': 'بتعليمات سامية.. أخنوش يترأس الوفد المشارك في دورة الجمعية العامة للأمم المتحدة', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/بتعليمات-سامية-أخنوش-يترأس-الوفد-المشارك-في-دورة-الجمعية-العامة_a29637.html', 'summary': 'بتعليمات سامية.. أخنوش يترأس الوفد المشارك في دورة الجمعية العامة للأمم المتحدة.  بتعليمات سامية من صاحب الجلالة الملك محمد السادس، يترأس السيد عزيز أخنوش، رئيس الحكومة، الوفد المغربي المشارك في أشغا...', 'size': 2}], 'main_title': 'بتعليمات من الملك محمد السادس.. أخنوش يترأس الوفد المغربي المشارك في الدورة الـ80 للجمعية العامة للأمم المتحدة'}, {'community_id': '5', 'articles': [{'id': '67', 'title': 'المغرب يخسر نهائي دوري بوينوس آيريس أمام الأرجنتين في كرة القدم داخل القاعة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/206569', 'summary': 'المغرب يخسر نهائي دوري بوينوس آيريس أمام الأرجنتين في كرة القدم داخل القاعة.  انهزم المنتخب المغربي لكرة القدم داخل القاعة أمام نظيره الأرجنتيني بهدفين دون رد، في المباراة التي جمعتمها ليلة الأحد-الاثنين، برسم نهائي دوري بوينوس إيريس الدولي الثلاثي ( فيفا) المنظم في القاعة الرياضية التابعة لاتحاد الارجنتيني لكرة القدم. وبهذه النتيجة أعلن المنتخب الأرجنتيني فائزا بهذا الدوري الثلاثي بعد تحقيقه لانتصاريين متتالين على نظيريه للشيلي (4-2)', 'size': 2}, {'id': '145', 'title': 'المغرب ينهزم أمام الأرجنتين في نهائي دوري دولي للفوتسال', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-590342.html', 'summary': 'المغرب ينهزم أمام الأرجنتين في نهائي دوري دولي للفوتسال. انهزم المنتخب المغربي لكرة القدم داخل القاعة أمام نظيره الأرجنتيني بهدفين دون رد، في المباراة التي جمعتمها ليلة الأحد-الاثنين، برسم نهائي دوري بوينوس إيريس الدولي الثلاثي (فيفا) المنظم في القاعة الرياضية التابعة لاتحاد الارجنتيني لكرة القدم. وبهذه النتيجة أعلن المنتخب الأرجنتيني فائزا بهذا الدوري الثلاثي بعد تحقيقه لانتصاريين متتالين على نظيريه للشيلي (4-2)', 'size': 2}], 'main_title': 'المغرب يخسر نهائي دوري بوينوس آيريس أمام الأرجنتين في كرة القدم داخل القاعة'}, {'community_id': '7', 'articles': [{'id': '114', 'title': 'حرمان سجين من العلاج.. إدارة السجن المحلي بركان 2 توضح', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%ad%d8%b1%d9%85%d8%a7%d9%86-%d8%b3%d8%ac%d9%8a%d9%86-%d9%85%d9%86-%d8%a7%d9%84%d8%b9%d9%84%d8%a7%d8%ac-%d8%a5%d8%af%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%b3%d8%ac%d9%86-%d8%a7%d9%84%d9%85%d8%ad%d9%84/', 'summary': 'حرمان سجين من العلاج.. إدارة السجن المحلي بركان 2 توضح. أصدرت إدارة السجن المحلي بركان 2 بيانا توضيحيا، ردا على تدوينة نشرها أحد السجناء السابقين، تتعلق بالسجين (ر.ح) الذي قيل إنه دخل في إضراب عن الطعام بسبب امتناع الإدارة عن تمكينه من قياسات نظاراته الطبية. وأكدت إدارة المؤسسة في بيان لها أن المعني بالأمر لم يتقدم بأي إشعار بالدخول في إضراب عن الطعام، مشيرة إلى', 'size': 2}, {'id': '218', 'title': 'إدارة السجن المحلي بركان 2 تكذب مضمون تدوينة لسجين سابق', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227386/', 'summary': 'إدارة السجن المحلي بركان 2 تكذب مضمون تدوينة لسجين سابق. ردا على تدوينة لأحد السجناء السابقين حول السجين (ر.ح)، المعتقل بالسجن المحلي بركان 2، بخصوص “دخوله في إضراب عن الطعام بسبب امتناع الإدارة عن تسليمه قياسات النظارات الطبية الخاصة به”، تتقدم إدارة هذه المؤسسة إلى الرأي العام بالتوضيحات التالية: – إن السجين المذكور لم يتقدم بأي إشعار إلى إدارة المؤسسة بالدخول في إضراب عن الطعام،', 'size': 2}], 'main_title': 'حرمان سجين من العلاج.. إدارة السجن المحلي بركان 2 توضح'}, {'community_id': '8', 'articles': [{'id': '116', 'title': 'الرئيس المدير العالم لـ”لارام”: الخطوط الملكية المغربية تخلق جسورا لتنقل مواهب السينما الإفريقية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d9%85%d8%af%d9%8a%d8%b1-%d8%a7%d9%84%d8%b9%d8%a7%d9%84%d9%85-%d9%84%d9%80%d9%84%d8%a7%d8%b1%d8%a7%d9%85-%d8%a7%d9%84%d8%ae%d8%b7%d9%88%d8%b7/', 'summary': 'الرئيس المدير العالم لـ”لارام”: الخطوط الملكية المغربية تخلق جسورا لتنقل مواهب السينما الإفريقية. أكد الرئيس المدير العام لشركة الخطوط الملكية المغربية، عبد الحميد عدو، مساء أمس الأحد بياوندي، أن الشركة تبني جسورا تمكن من تنقل المواهب والأعمال الفنية من أجل إحياء السينما الإفريقية وتعزيز حضورها داخل وخارج القارة. وأوضح عدو في كلمة ألقاها بالنيابة عنه الممثل الإقليمي للشركة بالكاميرون، نور الدين بلعياشي، خلال حفل عشاء لشركة الخطوط الملكية', 'size': 2}, {'id': '159', 'title': 'عبد الحميد عدو: “لارام” تواكب إشعاع السينما الإفريقية وتربطها بالعالم', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1101619.html', 'summary': 'عبد الحميد عدو: “لارام” تواكب إشعاع السينما الإفريقية وتربطها بالعالم. أكد الرئيس المدير العام لشركة الخطوط الملكية المغربية، عبد الحميد عدو، مساء أمس الأحد بياوندي، أن الشركة تبني جسورا تمكن من تنقل المواهب والأعمال الفنية من أجل إحياء السينما الإفريقية وتعزيز حضورها داخل وخارج القارة. وأوضح عدو في كلمة ألقاها بالنيابة عنه الممثل الإقليمي للشركة بالكاميرون، نور الدين بلعياشي، خلال حفل عشاء لشركة الخطوط الملكية ظهرت المقالة عبد الحميد عدو: “لارام” تواكب إشعاع السينما الإفريقية وتربطها بالعالم  .', 'size': 2}], 'main_title': 'الرئيس المدير العالم لـ”لارام”: الخطوط الملكية المغربية تخلق جسورا لتنقل مواهب السينما الإفريقية'}, {'community_id': '9', 'articles': [{'id': '154', 'title': 'مندوبية التخطيط: أسعار الخضر والفواكه والمحروقات تواصل الارتفاع بالمغرب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1101659.html', 'summary': 'مندوبية التخطيط: أسعار الخضر والفواكه والمحروقات تواصل الارتفاع بالمغرب. كشفت المندوبية السامية للتخطيط أن الرقم الاستدلالي للأثمان عند الاستهلاك سجل، خلال شهر غشت 2025، ارتفاعا بنسبة 0,3 بالمائة مقارنة مع نفس الشهر من السنة الماضية. وأوضحت المندوبية، في مذكرتها الإخبارية المتعلقة بالرقم الاستدلالي للأثمان عند الاستهلاك لشهر غشت 2025، أن هذا الارتفاع نتج عن تزايد أثمان المواد الغذائية بنسبة 0,2 بالمائة، وأثمان المواد غير ظهرت المقالة مندوبية التخطيط: أسعار الخضر والفواكه والمحروقات تواصل الارتفاع بالمغرب  .', 'size': 2}, {'id': '388', 'title': 'مندوبية التخطيط: ارتفاع التضخم بنسبة 0,3 بالمائة خلال غشت الماضي', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d9%86%d8%af%d9%88%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d8%aa%d8%ae%d8%b7%d9%8a%d8%b7-%d8%a7%d8%b1%d8%aa%d9%81%d8%a7%d8%b9-%d8%a7%d9%84%d8%aa%d8%b6%d8%ae%d9%85-%d8%a8%d9%86%d8%b3%d8%a8%d8%a9-03/', 'summary': 'مندوبية التخطيط: ارتفاع التضخم بنسبة 0,3 بالمائة خلال غشت الماضي. أفادت المندوبية السامية للتخطيط بأن الرقم الاستدلالي للأثمان عند الاستهلاك سجل، خلال شهر غشت 2025، ارتفاعا بنسبة 0,3 بالمائة مقارنة مع نفس الشهر من السنة الماضية. وأوضحت المندوبية، في مذكرتها الإخبارية المتعلقة بالرقم الاستدلالي للأثمان عند الاستهلاك لشهر غشت 2025، أن هذا الارتفاع نتج عن تزايد أثمان المواد الغذائية بنسبة 0,2 بالمائة، وأثمان المواد غير  مندوبية التخطيط: ارتفاع التضخم بنسبة 0,3 بالمائة خلال غشت الماضي     .', 'size': 2}], 'main_title': 'مندوبية التخطيط: أسعار الخضر والفواكه والمحروقات تواصل الارتفاع بالمغرب'}, {'community_id': '10', 'articles': [{'id': '174', 'title': 'طقس الاثنين.. حرارة متوقعة مع زخات رعدية في المرتفعات', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d8%a7%d8%ab%d9%86%d9%8a%d9%86-%d8%ad%d8%b1%d8%a7%d8%b1%d8%a9-%d9%85%d8%aa%d9%88%d9%82%d8%b9%d8%a9-%d9%85%d8%b9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9/', 'summary': 'طقس الاثنين.. حرارة متوقعة مع زخات رعدية في المرتفعات. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا نسبيا بأقصى جنوب البلاد. كما يرتقب تشكل سحب منخفضة مصحوبة بضباب محلي و ذلك بالقرب من السواحل الوسطى و الشمال-الغربي والأقاليم الجنوبية. وسيلاحظ تمركز سحب أخرى غير مستقرة و محملة بزخات رعدية فوق كل من مرتفعات الأطلسين الكبير و المتوسط، والجنوب-الشرقي للبلاد و  طقس الاثنين.. حرارة متوقعة مع زخات رعدية في المرتفعات     .', 'size': 2}, {'id': '239', 'title': 'توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الاثنين', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d9%81%d9%8a-%d8%a7%d9%84%d8%b9%d8%af%d9%8a%d8%af-%d9%85%d9%86-%d9%85%d9%86%d8%a7%d8%b7%d9%82-108/', 'summary': 'توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الاثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الإثنين 22 شتنبر 2025، أن يظل الطقس حارا نسبيا بأقصى جنوب البلاد. كما يرتقب تشكل سحب منخفضة مصحوبة بضباب محلي، وذلك بالقرب من السواحل الوسطى والشمال-الغربي والأقاليم الجنوبية. وسيلاحظ تمركز سحب أخرى غير مستقرة و محملة بزخات رعدية فوق كل من مرتفعات الأطلسين الكبير والمتوسط، والجنوب-الشرقي …  توقعات أحوال الطقس في العديد من مناطق المملكة اليوم الاثنين     .', 'size': 2}], 'main_title': 'طقس الاثنين.. حرارة متوقعة مع زخات رعدية في المرتفعات'}, {'community_id': '11', 'articles': [{'id': '301', 'title': 'لوديي يستقبل وزير الدفاع الهندي ويوقعان اتفاقية تعاون في مجال الدفاع', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-659482.html', 'summary': 'لوديي يستقبل وزير الدفاع الهندي ويوقعان اتفاقية تعاون في مجال الدفاع. هبة بريس تنفيذا للتعليمات الملكية السامية، استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الإثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، السيد راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز وتنويع التعاون الثنائي', 'size': 4}, {'id': '387', 'title': 'لوديي يستقبل وزير الدفاع بجمهورية الهند', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%84%d9%88%d8%af%d9%8a%d9%8a-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%af%d9%81%d8%a7%d8%b9-%d8%a8%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d9%87/', 'summary': 'لوديي يستقبل وزير الدفاع بجمهورية الهند. تنفيذا للتعليمات الملكية، استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الاثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز وتنويع التعاون الثنائي بين المملكة المغربية وجمهورية  لوديي يستقبل وزير الدفاع بجمهورية الهند     .', 'size': 4}, {'id': '429', 'title': 'تنفيذا للتعليمات الملكية السامية: لوديي يستقبل وزير الدفاع بجمهورية الهند', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227395/', 'summary': 'تنفيذا للتعليمات الملكية السامية: لوديي يستقبل وزير الدفاع بجمهورية الهند. تنفيذا للتعليمات الملكية السامية، استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الإثنين، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، السيد راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز وتنويع التعاون الثنائي بين المملكة', 'size': 4}, {'id': '439', 'title': 'لوديي يستقبل بالرباط وزير الدفاع بجمهورية الهند', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%84%d9%88%d8%af%d9%8a%d9%8a-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d8%a8%d8%a7%d9%84%d8%b1%d8%a8%d8%a7%d8%b7-%d9%88%d8%b2%d9%8a%d8%b1-%d8%a7%d9%84%d8%af%d9%81%d8%a7%d8%b9-%d8%a8%d8%ac%d9%85%d9%87-2/', 'summary': 'لوديي يستقبل بالرباط وزير الدفاع بجمهورية الهند. استقبل الوزير المنتدب لدى رئيس الحكومة المكلف بإدارة الدفاع الوطني، عبد اللطيف لوديي، اليوم الإثنين 22 شتنبر 2025، بمقر هذه الإدارة، وزير الدفاع بجمهورية الهند، راجناث سينغ، مرفوقا بوفد رفيع المستوى يقوم بزيارة عمل للمملكة، وذلك تنفيذا للتعليمات الملكية السامية. وذكر بلاغ لإدارة الدفاع الوطني، أن هذه الزيارة التي تندرج في إطار تعزيز …  لوديي يستقبل بالرباط وزير الدفاع بجمهورية الهند     .', 'size': 4}], 'main_title': 'لوديي يستقبل وزير الدفاع الهندي ويوقعان اتفاقية تعاون في مجال الدفاع'}, {'community_id': '12', 'articles': [{'id': '317', 'title': 'قاضي التحقيق بمحكمة الاستئناف بالرشيدية يأمر بإعادة تشريح جثة “الطفل الراعي”', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/206579', 'summary': 'قاضي التحقيق بمحكمة الاستئناف بالرشيدية يأمر بإعادة تشريح جثة “الطفل الراعي”.  تعرف قضية وفاة الطفل الراعي محمد بوسليخن، المنحدر من جماعة أغبالو أسردان بإقليم ميدلت، مستجدا قضائيا حيث قرر قاضي التحقيق بمحكمة الإستئناف بالرشيدية إخراج جثة الطفل من قبرها وإعادة تشريحها، فضلا عن الإستماع إلى شهود جدد قد تفيد شهادتهم في كشف ملابسات الوفاة التي هزت الرأي العام المحلي والوطني ووصل صداها إلى الصحف العالمية.', 'size': 2}, {'id': '326', 'title': 'تفاصيل جديدة في قضية وفاة الطفل محمد بوسليخن.. القضاء يأمر بإعادة تشريح الجثة واستدعاء شهود جدد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/413177.html', 'summary': 'تفاصيل جديدة في قضية وفاة الطفل محمد بوسليخن.. القضاء يأمر بإعادة تشريح الجثة واستدعاء شهود جدد. عرف ملف وفاة الطفل الراعي محمد بوسليخن، المنحدر من جماعة أغبالو أسردان بإقليم ميدلت، تطورًا قضائيًا جديدًا، بعد قرار قاضي التحقيق بمحكمة الاستئناف بالرشيدية إخراج', 'size': 2}], 'main_title': 'قاضي التحقيق بمحكمة الاستئناف بالرشيدية يأمر بإعادة تشريح جثة “الطفل الراعي”'}, {'community_id': '13', 'articles': [{'id': '327', 'title': 'الرجاء الرياضي يُعلن رسميًا عن التعاقد مع الجنوب أفريقي فادلو دافيدز', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/footmarocain/413178.html', 'summary': 'الرجاء الرياضي يُعلن رسميًا عن التعاقد مع الجنوب أفريقي فادلو دافيدز. أعلن فريق الرجاء الرياضي لكرة القدم، اليوم الاثنين، تعاقده رسميا مع المدرب جنوب الإفريقي، فادلو دافيدز، خلفا للمدرب التونسي لسعد جردة الشابي.وأوضح نادي الرجاء الرياضي،', 'size': 2}, {'id': '400', 'title': 'الرجاء يتعاقد مع المدرب فادلو دافيدز', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/476371.html', 'summary': 'الرجاء يتعاقد مع المدرب فادلو دافيدز. أعلن فريق الرجاء الرياضي لكرة القدم، الاثنين، تعاقده رسميا مع المدرب جنوب الإفريقي، فادلو دافيدز، خلفا للمدرب التونسي لسعد جردة الشابي.', 'size': 2}], 'main_title': 'الرجاء الرياضي يُعلن رسميًا عن التعاقد مع الجنوب أفريقي فادلو دافيدز'}, {'community_id': '4', 'articles': [{'id': '363', 'title': 'الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1101865.html', 'summary': 'الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير. أعلن الأمير هشام العلوي عن قراره اللجوء إلى القضاء لمقاضاة الناشط محمد رضا الطوجني، وذلك على خلفية شريط فيديو نشره الأخير على منصة “يوتيوب” بتاريخ 11 شتنبر 2025، اعتبره الأمير مسيئا لشخصه ويمس بشرفه واعتباره. وفي بيان رسمي، نشره عبر صفحته بفيسوك، أوضح الأمير هشام أنه اتخذ هذه الخطوة كمواطن يسعى للإنصاف وحماية حقوقه التي ظهرت المقالة الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير  .', 'size': 2}, {'id': '381', 'title': 'الأمير مولاي هشام يقاضي الطاوجني بسبب اتهامات "ماسة بشرفه"', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%a3%d9%85%d9%8a%d8%b1-%d9%85%d9%88%d9%84%d8%a7%d9%8a-%d9%87%d8%b4%d8%a7%d9%85-%d9%8a%d9%84%d8%ac%d8%a3-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d9%82%d8%b6%d8%a7%d8%a1-%d8%b6%d8%af-%d8%a7%d9%84/', 'summary': 'الأمير مولاي هشام يقاضي الطاوجني بسبب اتهامات "ماسة بشرفه". أعلن الأمير مولاي هشام، ابن عم الملك محمد السادس، الاثنين، عن قراره اتخاذ إجراءات قضائية ضد الناشط محمد رضا الطاوجني، على خلفية تصريحات اعتبرها ماسّة بشرفه واعتباره، نشرها الأخير في شريط مصوّر على موقع "يوتيوب" بتاريخ 11 شتنبر 2025. وقال الأمير في تدوينة نشرها على حسابه الرسمي: "على إثر تصريحات السيد محمد رضا الطوجني بتاريخ  الأمير مولاي هشام يقاضي الطاوجني بسبب اتهامات "ماسة بشرفه"     .', 'size': 2}], 'main_title': 'الأمير هشام العلوي يلجأ إلى القضاء ضد رضا الطوجني بتهمة التشهير'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 03/07/2025 - 18h29</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '3', 'articles': [{'id': '70', 'title': 'نقابة مصرية تكرم شيرين بعد جدل حفلها في موازين', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/culture/408595.html', 'summary': 'نقابة مصرية تكرم شيرين بعد جدل حفلها في موازين. في خطوة مثيرة للجدل، قررت نقابة المهن الموسيقية في مصر، برئاسة الفنان مصطفى كامل، تكريم الفنانة شيرين عبد الوهاب، عقب مشاركتها الأخيرة في اختتام مهرجان', 'size': 2}, {'id': '139', 'title': 'نقابة المهن الموسيقية تنصف شرين وتكرمها بعد جدل موازين', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317214/', 'summary': 'نقابة المهن الموسيقية تنصف شرين وتكرمها بعد جدل موازين. تعتزم نقابة المهن الموسيقية في مصر، برئاسة الفنان مصطفى كامل، تكريم الفنانة شيرين عبد الوهاب، وذلك في خطوة لافتة تأتي عقب الجدل الذي أثارته مشاركتها الأخيرة في حفل ختام النسخة 20 لمهرجان موازين. وفي بيان رسمي، أبدى مصطفى كامل دعمه الكامل لشيرين، واصفا إياها بـ”الزميلة والفنانة المحترمة”، مشيدا بمسيرتها الفنية التي تمتد لأكثر من 25', 'size': 2}], 'main_title': 'نقابة مصرية تكرم شيرين بعد جدل حفلها في موازين'}, {'community_id': '9', 'articles': [{'id': '73', 'title': 'عصابة الحسابات البنكية تسقط في قبضة أمن جرسيف', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/408598.html', 'summary': 'عصابة الحسابات البنكية تسقط في قبضة أمن جرسيف. تمكنت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة جرسيف بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، صباح اليوم الأربعاء 2 يوليوز الجاري، من توقيف سبعة', 'size': 2}, {'id': '220', 'title': 'جرسيف.. توقيف 7 أشخاص يشتبه تورطهم في النصب وانتحال صفات', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/223942/', 'summary': 'جرسيف.. توقيف 7 أشخاص يشتبه تورطهم في النصب وانتحال صفات. كواليس اليوم تمكنت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة جرسيف بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، صباح اليوم الأربعاء 2 يوليوز الجاري، من توقيف سبعة أشخاص يشتبه في تورطهم في قضية تتعلق بالنصب والاحتيال وانتحال صفات ينظمها القانون. وحسب المعطيات الأولية للبحث، فقد كان المشتبه فيهم يتصلون هاتفيا بالضحايا، وينتحلون صفات موظفين', 'size': 2}], 'main_title': 'عصابة الحسابات البنكية تسقط في قبضة أمن جرسيف'}, {'community_id': '0', 'articles': [{'id': '87', 'title': 'بتعليمات ملكية.. مراكز تضامنية جديدة تفتح أبوابها للفئات المعوزة والشباب', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/408612.html', 'summary': 'بتعليمات ملكية.. مراكز تضامنية جديدة تفتح أبوابها للفئات المعوزة والشباب. أعطى صاحب الجلالة الملك محمد السادس، نصره الله، رئيس مؤسسة محمد الخامس للتضامن، تعليماته السامية بوضع المراكز التي أنشأتها المؤسسة في مجالات الصحة والإعاقة والتكوين', 'size': 3}, {'id': '219', 'title': 'بتعليمات ملكية سامية: محمد الخامس للتضامن تطلق العمل بـ13 مركزا جديدا في عدد من مدن المملكة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/223945/', 'summary': 'بتعليمات ملكية سامية: محمد الخامس للتضامن تطلق العمل بـ13 مركزا جديدا في عدد من مدن المملكة. الرباط – أعطى صاحب الجلالة الملك محمد السادس، نصره الله، رئيس مؤسسة محمد الخامس للتضامن، تعليماته السامية بوضع المراكز التي أنشأتها المؤسسة في مجالات الصحة والإعاقة والتكوين رهن إشارة الساكنة المعوزة المستفيدة. وأوضحت المؤسسة في بلاغ لها أن الإطلاق الفوري يهم 13 مركزا جديدا تم الانتهاء من أشغال بنائها وتجهيزها بثمان من عمالات وأقاليم المملكة،', 'size': 3}, {'id': '233', 'title': 'بتعليمات ملكية سامية.. مؤسسة محمد الخامس للتضامن تطلق العمل بـ13 مركزا جديدا في عدد من مدن المملكة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a8%d8%aa%d8%b9%d9%84%d9%8a%d9%85%d8%a7%d8%aa-%d9%85%d9%84%d9%83%d9%8a%d8%a9-%d8%b3%d8%a7%d9%85%d9%8a%d8%a9-%d9%85%d8%a4%d8%b3%d8%b3%d8%a9-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%ae%d8%a7%d9%85/', 'summary': 'بتعليمات ملكية سامية.. مؤسسة محمد الخامس للتضامن تطلق العمل بـ13 مركزا جديدا في عدد من مدن المملكة. أعطى الملك محمد السادس، رئيس مؤسسة محمد الخامس للتضامن، تعليماته السامية بوضع المراكز التي أنشأتها المؤسسة في مجالات الصحة والإعاقة والتكوين رهن إشارة الساكنة المعوزة المستفيدة. وفي هذا الصدد، كشفت المؤسسة في بلاغ لها أن الإطلاق الفوري يهم 13 مركزا جديدا تم الانتهاء من أشغال بنائها وتجهيزها بثمان من عمالات وأقاليم المملكة، مضيفة …  بتعليمات ملكية سامية.. مؤسسة محمد الخامس للتضامن تطلق العمل بـ13 مركزا جديدا في عدد من مدن المملكة     .', 'size': 2}, {'id': '314', 'title': 'بتعليمات ملكية سامية،مؤسسة محمد الخامس للتضامن تطلق العمل بـ13مركزا جديدا في عدد من مدن المملكة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/202861', 'summary': 'بتعليمات ملكية سامية،مؤسسة محمد الخامس للتضامن تطلق العمل بـ13مركزا جديدا في عدد من مدن المملكة.  أعطى صاحب الجلالة الملك محمد السادس ، نصره الله ، رئيس مؤسسة محمد الخامس للتضامن،تعليماته السامية بوضع المراكز التي أنشأتها المؤسسة في مجالات الصحة والإعاقة و التكوين رهن إشارة الساكنة المعوزة المستفيدة. وأوضحت المؤسسة في بلاغ لها أن الإطلاق الفوري يهم 13 مركزا جديدا تم الانتهاء من أشغال بنائها وتجهيزها بثمان من عمالات', 'size': 4}], 'main_title': 'بتعليمات ملكية سامية،مؤسسة محمد الخامس للتضامن تطلق العمل بـ13مركزا جديدا في عدد من مدن المملكة'}, {'community_id': '6', 'articles': [{'id': '140', 'title': 'طقس اليوم الخميس…أجواء حارة بعدد من المناطق', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317254/', 'summary': 'طقس اليوم الخميس…أجواء حارة بعدد من المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة باستمرار الطقس الحار بالجنوب الشرقي للبلاد وبداخل كل من منطقة سوس والأقاليم الصحراوية للمملكة، بينما سيكون حارا نسبيا إلى حار بالسهول الداخلية. ومن المرتقب نزول قطرات مطرية رعدية فوق كل من مرتفعات الأطلسين الكبير والمتوسط وسفوحها الشرقية، وهضاب الفوسفاط، إضافة إلى كل', 'size': 4}, {'id': '170', 'title': 'حالة الطقس: الحرارة متواصلة مع زخات رعدية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%ad%d8%a7%d9%84%d8%a9-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d8%ad%d8%b1%d8%a7%d8%b1%d8%a9-%d9%85%d8%aa%d9%88%d8%a7%d8%b5%d9%84%d8%a9-%d9%85%d8%b9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af/', 'summary': 'حالة الطقس: الحرارة متواصلة مع زخات رعدية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة للخميس، أن تتميز الحالة الجوية عامة باستمرار الطقس الحار بالجنوب الشرقي للبلاد وبداخل كل من منطقة سوس والأقاليم الصحراوية للمملكة، بينما سيكون حارا نسبيا إلى حار بالسهول الداخلية. ومن المرتقب نزول قطرات مطرية رعدية فوق كل من مرتفعات الأطلسين الكبير والمتوسط وسفوحها الشرقية، وهضاب الفوسفاط ، إضافة إلى كل  حالة الطقس: الحرارة متواصلة مع زخات رعدية     .', 'size': 4}, {'id': '171', 'title': 'توقعات أحوال الطقس لليوم الخميس', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357519.html', 'summary': 'توقعات أحوال الطقس لليوم الخميس. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة باستمرار الطقس الحار بالجنوب الشرقي للبلاد وبداخل كل من منطقة سوس والأقاليم الصحراوية للمملكة، بينما سيكون حارا نسبيا إلى حار بالسهول الداخلية. ومن المرتقب نزول قطرات مطرية رعدية فوق كل من مرتفعات الأطلسين الكبير والمتوسط وسفوحها الشرقية، وهضاب الفوسفاط ، إضافة إلى', 'size': 4}, {'id': '239', 'title': 'طقس حار اليوم الخميس بعدد من مناطق المملكة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ae%d9%85%d9%8a%d8%b3-%d8%a8%d8%b9%d8%af%d8%af-%d9%85%d9%86-%d9%85%d9%86%d8%a7%d8%b7%d9%82-%d8%a7%d9%84%d9%85%d9%85/', 'summary': 'طقس حار اليوم الخميس بعدد من مناطق المملكة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة باستمرار الطقس الحار بالجنوب الشرقي للبلاد وبداخل كل من منطقة سوس والأقاليم الصحراوية للمملكة، بينما سيكون حارا نسبيا إلى حار بالسهول الداخلية. ومن المرتقب نزول قطرات مطرية رعدية فوق كل من مرتفعات الأطلسين الكبير والمتوسط وسفوحها الشرقية، وهضاب الفوسفاط ، …  طقس حار اليوم الخميس بعدد من مناطق المملكة     .', 'size': 4}], 'main_title': 'طقس اليوم الخميس…أجواء حارة بعدد من المناطق'}, {'community_id': '7', 'articles': [{'id': '183', 'title': 'تقرير.. 2.2 مليون دولار قيمة مشاريع وكالة بيت مال القدس لفائدة الفلسطينيين خلال النصف الأول من 2025', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/468393.html', 'summary': 'تقرير.. 2.2 مليون دولار قيمة مشاريع وكالة بيت مال القدس لفائدة الفلسطينيين خلال النصف الأول من 2025. أعلنت وكالة بيت مال القدس الشريف، أنها نفذت خلال النصف الأول من سنة 2025، في إطار التزاماتها بدعم الساكنة الفلسطينية، عدة مشاريع بميزانية إجمالية بلغت 2.2 مليون دولار أمريكي،', 'size': 2}, {'id': '417', 'title': 'تقرير: 2.2 مليون دولار قيمة مشاريع وكالة بيت مال القدس لفائدة الساكنة الفلسطينية خلال النصف الأول من 2025', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%82%d8%b1%d9%8a%d8%b1-2-2-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d8%af%d9%88%d9%84%d8%a7%d8%b1-%d9%82%d9%8a%d9%85%d8%a9-%d9%85%d8%b4%d8%a7%d8%b1%d9%8a%d8%b9-%d9%88%d9%83%d8%a7%d9%84%d8%a9-%d8%a8/', 'summary': 'تقرير: 2.2 مليون دولار قيمة مشاريع وكالة بيت مال القدس لفائدة الساكنة الفلسطينية خلال النصف الأول من 2025. أفادت وكالة بيت مال القدس الشريف، أنها نفذت خلال النصف الأول من سنة 2025، في إطار التزاماتها بدعم الساكنة الفلسطينية، عدة مشاريع بميزانية إجمالية بلغت 2.2 مليون دولار أمريكي، منها 384 ألف دولار أمريكي، تم توجيهها لحملات الإغاثة الإنسانية في غزة. وسجلت الوكالة في التقرير نصف السنوي لبرنامج عملها لسنة 2025، أنه رغم …  تقرير: 2.2 مليون دولار قيمة مشاريع وكالة بيت مال القدس لفائدة الساكنة الفلسطينية خلال النصف الأول من 2025     .', 'size': 2}], 'main_title': 'تقرير.. 2.2 مليون دولار قيمة مشاريع وكالة بيت مال القدس لفائدة الفلسطينيين خلال النصف الأول من 2025'}, {'community_id': '1', 'articles': [{'id': '228', 'title': 'ردا غير مباشر على المنتقدين: التوفيق يشيد بظروف الحج هذا الموسم', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%b1%d8%af%d8%a7-%d8%ba%d9%8a%d8%b1-%d9%85%d8%a8%d8%a7%d8%b4%d8%b1-%d8%b9%d9%84%d9%89-%d8%a7%d9%84%d9%85%d9%86%d8%aa%d9%82%d8%af%d9%8a%d9%86-%d8%a7%d9%84%d8%aa%d9%88%d9%81%d9%8a%d9%82-%d9%8a%d8%b4/', 'summary': 'ردا غير مباشر على المنتقدين: التوفيق يشيد بظروف الحج هذا الموسم. المساء اليوم – الرباط: في رد غير مباشر على انتقادات عدد من الحجاج المغاربة لظروف الحج هذا الموسم، قال وزير الأوقاف والشؤون الإسلامية، أحمد التوفيق، اليوم الأربعاء بالرباط، إن الظروف التي مر فيها موسم حج', 'size': 2}, {'id': '328', 'title': 'التوفيق: قطاع الأبناك التشاركية محفوف بمشاعر في غاية الحساسية لارتباطه بالمباح والمحظور', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%aa%d9%88%d9%81%d9%8a%d9%82-%d9%82%d8%b7%d8%a7%d8%b9-%d8%a7%d9%84%d8%a3%d8%a8%d9%86%d8%a7%d9%83-%d8%a7%d9%84%d8%aa%d8%b4%d8%a7%d8%b1%d9%83%d9%8a%d8%a9-%d9%85%d8%ad%d9%81%d9%88%d9%81/', 'summary': 'التوفيق: قطاع الأبناك التشاركية محفوف بمشاعر في غاية الحساسية لارتباطه بالمباح والمحظور. قال أحمد التوفيق، وزير الأوقاف والشؤون الإسلامية، إن قطاع الأبناك التشاركية “بطبيعته وبهذا الإسم محفوف بمشاعر في غاية الحساسية لأنها مرتبطة في مخيال الناس بالمباح مقابل المحضور “. وفي كلمته خلال افتتاح فعاليات المنتدى 23 حول الاستقرار المالي للمؤسسات المالية الإسلامية بالرباط، أبرز التوفيق، أن “السؤال هو ما إذا كان دافع المؤسسات في بلاد المسلمين', 'size': 2}], 'main_title': 'ردا غير مباشر على المنتقدين: التوفيق يشيد بظروف الحج هذا الموسم'}, {'community_id': '4', 'articles': [{'id': '282', 'title': 'الحكومة تحين الإطار القانوني المنظم لمهنة الصحافة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-636609.html', 'summary': 'الحكومة تحين الإطار القانوني المنظم لمهنة الصحافة. هبة بريس تداول مجلس الحكومة وصادق على مشروع القانون رقم 27.25 يقضي بتغيير وتتميم القانون رقم 89.13 المتعلق بالنظام الأساسي للصحافيين المهنيين، قدمه محمد المهدي بنسعيد، وزير الشباب والثقافة والتواصل. ويندرج مشروع هذا القانون في سياق مواصلة الجهود الرامية إلى تطوير الإطار القانوني المنظم لمهنة الصحافة، بما ينسجم مع الأحكام الدستورية ذات الصلة بحرية التعبير والصحافة، ومع الالتزامات الدولية للمملكة في مجال حقوق الإنسان وحماية الحقوق المهنية والاجتماعية للصحافيين. كما يأتي هذا المشروع لمواكبة التحولات العميقة التي يشهدها قطاع الصحافة والإعلام وما أفرزته هذه التحولات من حاجة إلى تحيين الإطار التشريعي المنظم لمهنة الصحافة، ضمانا لملاءمته مع متطلبات الواقع الجديد، تحصينا لمبادئ حرية الصحافة في إطار احترام القانون وأخلاقيات المهنة.', 'size': 2}, {'id': '370', 'title': 'الحكومة تدعم استقلالية مجلس الصحافة وتقوي حماية حقوق الصحافيين المهنيين', 'source': 'rue20.com', 'link': 'https://rue20.com/918014.html', 'summary': 'الحكومة تدعم استقلالية مجلس الصحافة وتقوي حماية حقوق الصحافيين المهنيين.  | الرباط صادق مجلس الحكومة اليوم الخميس على مشروع القانون رقم 26.25 يتعلق بإعادة تنظيم المجلس الوطني للصحافة، قدمه محمد المهدي بنسعيد، وزير الشباب والثقافة والتواصل. ويأتي هذا المشروع، لتعزيز الانسجام مع أحكام الدستور ذات الصلة بحرية التعبير والتنظيم الذاتي لمهنة الصحافة والنشر لاسيما الفصول 25و27و28، واستنادا إلى خلاصات عمل اللجنة المؤقتة لتسيير الخبر الحكومة تدعم استقلالية مجلس الصحافة وتقوي حماية حقوق الصحافيين المهنيين  .', 'size': 2}], 'main_title': 'الحكومة تحين الإطار القانوني المنظم لمهنة الصحافة'}, {'community_id': '5', 'articles': [{'id': '327', 'title': 'مجلس الحكومة.. المصادقة على مشروع قانون تنظيم المجلس الوطني للصحافة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%85%d8%ac%d9%84%d8%b3-%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d8%a7%d9%84%d9%85%d8%b5%d8%a7%d8%af%d9%82%d8%a9-%d8%b9%d9%84%d9%89-%d9%85%d8%b4%d8%b1%d9%88%d8%b9-%d9%82%d8%a7%d9%86%d9%88%d9%86-3/', 'summary': 'مجلس الحكومة.. المصادقة على مشروع قانون تنظيم المجلس الوطني للصحافة. صادق واطلع المجلس الحكومي، اليوم الخميس (3 يوليوز)، على مشروع القانون رقم 26.25 المتعلق بإعادة تنظيم المجلس الوطني للصحافة، قدمه محمد المهدي بنسعيد، وزير الشباب والثقافة والتواصل. ويأتي هذا المشروع، حسب بلاغ المجلس الحكومي، لتعزيز الانسجام مع أحكام الدستور ذات الصلة بحرية التعبير والتنظيم الذاتي لمهنة الصحافة والنشر لاسيما الفصول 25 و27 و28، واستنادا إلى', 'size': 2}, {'id': '388', 'title': 'الحكومة تصادق على مشروع قانون يتعلق بإعادة تنظيم المجلس الوطني للصحافة', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d8%aa%d8%b5%d8%a7%d8%af%d9%82-%d8%b9%d9%84%d9%89-%d9%85%d8%b4%d8%b1%d9%88%d8%b9-%d9%82%d8%a7%d9%86%d9%88%d9%86-%d9%8a%d8%aa%d8%b9%d9%84%d9%82-%d8%a8%d8%a5-2/', 'summary': 'الحكومة تصادق على مشروع قانون يتعلق بإعادة تنظيم المجلس الوطني للصحافة.  – و م ع صادق مجلس الحكومة، اليوم الخميس، على مشروع القانون رقم 26.25 يتعلق بإعادة تنظيم المجلس الوطني للصحافة، قدمه وزير الشباب والثقافة والتواصل محمد المهدي بنسعيد....  الحكومة تصادق على مشروع قانون يتعلق بإعادة تنظيم المجلس الوطني للصحافة     .', 'size': 2}], 'main_title': 'مجلس الحكومة.. المصادقة على مشروع قانون تنظيم المجلس الوطني للصحافة'}, {'community_id': '2', 'articles': [{'id': '330', 'title': 'قطاع النشر والكتاب.. دعم 379 مشروعا بأزيد من 10,9 مليون درهم برسم سنة 2025', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%82%d8%b7%d8%a7%d8%b9-%d8%a7%d9%84%d9%86%d8%b4%d8%b1-%d9%88%d8%a7%d9%84%d9%83%d8%aa%d8%a7%d8%a8-%d8%af%d8%b9%d9%85-379-%d9%85%d8%b4%d8%b1%d9%88%d8%b9%d8%a7-%d8%a8%d8%a3%d8%b2%d9%8a%d8%af-%d9%85/', 'summary': 'قطاع النشر والكتاب.. دعم 379 مشروعا بأزيد من 10,9 مليون درهم برسم سنة 2025. كشفت وزارة الشباب والثقافة والتواصل عن نتائج دعم قطاع النشر والكتاب برسم سنة 2025، حيث تقرر دعم 379 مشروعا بمبلغ إجمالي قدره 10 ملايين و909 ألف و200 درهم. وأوضح بلاغ للوزارة أن لجنة دراسة طلبات عروض المشاريع المرشحة للدعم في قطاع الكتاب برسم دورة 2025 عقدت سلسلة من الاجتماعات للبت في المشاريع المستوفية للشروط المطلوبة', 'size': 3}, {'id': '355', 'title': 'قطاع النشر والكتاب.. دعم 379 مشروعا بأزيد من 10 ملايين درهم برسم 2025', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1082792.html', 'summary': 'قطاع النشر والكتاب.. دعم 379 مشروعا بأزيد من 10 ملايين درهم برسم 2025. كشفت وزارة الشباب والثقافة والتواصل عن نتائج دعم قطاع النشر والكتاب برسم سنة 2025، حيث تقرر دعم 379 مشروعا بمبلغ إجمالي قدره 10 ملايين و909 ألف و200 درهم. وأوضح بلاغ للوزارة أن لجنة دراسة طلبات عروض المشاريع المرشحة للدعم في قطاع الكتاب برسم دورة 2025 عقدت سلسلة من الاجتماعات للبت في المشاريع المستوفية للشروط المطلوبة ظهرت المقالة قطاع النشر والكتاب.. دعم 379 مشروعا بأزيد من 10 ملايين درهم برسم 2025  .', 'size': 3}, {'id': '362', 'title': 'وزارة الثقافة تفرج عن دعم قدره 420 مليونا لفائدة مشاركين في المعارض الدولية للكتاب', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%ab%d9%82%d8%a7%d9%81%d8%a9-%d8%aa%d9%81%d8%b1%d8%ac-%d8%b9%d9%86-%d8%af%d8%b9%d9%85-%d9%82%d8%af%d8%b1%d9%87-420-%d9%85%d9%84%d9%8a%d9%88%d9%86%d8%a7/', 'summary': 'وزارة الثقافة تفرج عن دعم قدره 420 مليونا لفائدة مشاركين في المعارض الدولية للكتاب. كشفت وزارة الشباب والثقافة والتواصل عن نتائج دعم قطاع النشر والكتاب برسم سنة 2025، حيث تقرر دعم 379 مشروعا بمبلغ إجمالي قدره 10 ملايين و909 آلاف و200 درهم. وأوضح بلاغ للوزارة أن لجنة دراسة طلبات عروض المشاريع المرشحة للدعم في قطاع الكتاب برسم دورة 2025 عقدت سلسلة من الاجتماعات للبت في المشاريع المستوفية للشروط  وزارة الثقافة تفرج عن دعم قدره 420 مليونا لفائدة مشاركين في المعارض الدولية للكتاب     .', 'size': 3}], 'main_title': 'قطاع النشر والكتاب.. دعم 379 مشروعا بأزيد من 10,9 مليون درهم برسم سنة 2025'}, {'community_id': '8', 'articles': [{'id': '363', 'title': 'تنسيق أمني يحبط محاولة تهريب 15 طنا من الحشيش\xa0(فيديو)', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%aa%d9%86%d8%b3%d9%8a%d9%82-%d8%a3%d9%85%d9%86%d9%8a-%d9%8a%d8%ad%d8%a8%d8%b7-%d9%85%d8%ad%d8%a7%d9%88%d9%84%d8%a9-%d8%aa%d9%87%d8%b1%d9%8a%d8%a8-15-%d8%b7%d9%86%d8%a7-%d9%85%d9%86-%d8%a7/', 'summary': 'تنسيق أمني يحبط محاولة تهريب 15 طنا من الحشيش (فيديو). أحبطت الشرطة الوطنية الإسبانية محاولة تهريب لشحنة هائلة من المخدرات في شاحنة قادمة من المغرب، كانت مخفية بعناية وسط شحنة من المنتجات الزراعية وتحديدًا البطيخ وأكياس زائفة من البطاطا. وتم اعتراض الشاحنة بعد تنفيذ سلسلة من المناورات بمقاطعة ألميريا، حيث رُصدت في نهاية المطاف داخل مستودع صناعي. العملية الأمنية، التي جاءت ثمرة تعاون دولي بين  تنسيق أمني يحبط محاولة تهريب 15 طنا من الحشيش (فيديو)     .', 'size': 3}, {'id': '409', 'title': 'تعاون أمني مغربي فرنسي إسباني يحبط عملية للتهريب الدولي للمخدرات', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/223986/', 'summary': 'تعاون أمني مغربي فرنسي إسباني يحبط عملية للتهريب الدولي للمخدرات. وكالات تمكنت السلطات الإسبانية من حجز 15300 كيلوغرام من مخدر الحشيش، كانت مخبأة بإحكام داخل شاحنة قادمة من المغرب تنقل شحنة من البطيخ عبر ميناء ألميريا، حيث أسفرت العملية عن توقيف خمسة أشخاص يُشتبه في انتمائهم إلى شبكة إجرامية تنشط في التهريب الدولي للمخدرات. وحسب وسائل إعلام إسبانية، فإن هذه العملية جاءت ثمرة لتعاون', 'size': 3}, {'id': '422', 'title': 'تنسيق أمني مغربي-فرنسي-إسباني يُفكك شبكة دولية خطيرة ويُجهض عملية ضخمة لتهريب الحشيش (صور)', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%86%d8%b3%d9%8a%d9%82-%d8%a3%d9%85%d9%86%d9%8a-%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%81%d8%b1%d9%86%d8%b3%d9%8a-%d8%a5%d8%b3%d8%a8%d8%a7%d9%86%d9%8a-%d9%8a%d9%8f%d9%81%d9%83%d9%83-%d8%b4%d8%a8/', 'summary': 'تنسيق أمني مغربي-فرنسي-إسباني يُفكك شبكة دولية خطيرة ويُجهض عملية ضخمة لتهريب الحشيش (صور). أعلنت السلطات الإسبانية عن حجز 15300 كيلوغرام من مخدر الحشيش، كانت مخبأة بإحكام داخل شاحنة قادمة من المغرب تنقل شحنة من البطيخ عبر ميناء ألميريا، حيث أسفرت العملية عن توقيف خمسة أشخاص يُشتبه في انتمائهم إلى شبكة إجرامية تنشط في التهريب الدولي للمخدرات. وحسب وسائل إعلام إسبانية، فإن هذه العملية جاءت ثمرة لتعاون …  تنسيق أمني مغربي-فرنسي-إسباني يُفكك شبكة دولية خطيرة ويُجهض عملية ضخمة لتهريب الحشيش (صور)     .', 'size': 3}], 'main_title': 'تنسيق أمني يحبط محاولة تهريب 15 طنا من الحشيش\xa0(فيديو)'}, {'community_id': '10', 'articles': [{'id': '364', 'title': 'غواتيمالا تؤكد على دعم مبادرة الحكم الذاتي في الصحراء', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%ba%d9%88%d8%a7%d8%aa%d9%8a%d9%85%d8%a7%d9%84%d8%a7-%d8%aa%d8%a4%d9%83%d8%af-%d8%b9%d9%84%d9%89-%d8%af%d8%b9%d9%85-%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d8%ad%d9%83%d9%85-%d8%a7%d9%84/', 'summary': 'غواتيمالا تؤكد على دعم مبادرة الحكم الذاتي في الصحراء. أكدت جمهورية غواتيمالا، الخميس، أن مبادرة الحكم الذاتي، التي تقدم بها المغرب سنة 2007، "هي الأساس الجاد والموثوق والواقعي الوحيد للمضي قدما نحو اتفاق دائم لتسوية نهائية لهذا النزاع المفتعل، في ظل الاحترام التام للوحدة الترابية للمملكة وسيادتها الوطنية". وقد عبر عن هذا الموقف وزير العلاقات الخارجية بجمهورية غواتيمالا، كارلوس راميرو مارتينيز ألفارادو، خلال لقاء  غواتيمالا تؤكد على دعم مبادرة الحكم الذاتي في الصحراء     .', 'size': 3}, {'id': '377', 'title': 'غواتيمالا تجدد دعم مبادرة الحكم الذاتي في الصحراء المغربية', 'source': 'rue20.com', 'link': 'https://rue20.com/917943.html', 'summary': 'غواتيمالا تجدد دعم مبادرة الحكم الذاتي في الصحراء المغربية.  ا الرباط أكدت جمهورية غواتيمالا، اليوم الخميس، أن مبادرة الحكم الذاتي، التي تقدم بها المغرب سنة 2007، “هي الأساس الجاد والموثوق والواقعي الوحيد للمضي قدما نحو اتفاق دائم لتسوية نهائية لهذا النزاع المفتعل، في ظل الاحترام التام للوحدة الترابية للمملكة وسيادتها الوطنية”. وقد عبر عن هذا الموقف وزير العلاقات الخارجية بجمهورية غواتيمالا، كارلوس الخبر غواتيمالا تجدد دعم مبادرة الحكم الذاتي في الصحراء المغربية  .', 'size': 2}, {'id': '386', 'title': 'غواتيمالا تعتبر مبادرة الحكم الذاتي الأساس الجاد والموثوق والواقعي الوحيد لتسوية نزاع الصحراء', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/468430.html', 'summary': 'غواتيمالا تعتبر مبادرة الحكم الذاتي الأساس الجاد والموثوق والواقعي الوحيد لتسوية نزاع الصحراء. أكدت جمهورية غواتيمالا، اليوم الخميس، أن مبادرة الحكم الذاتي التي تقدم بها المغرب سنة 2007، "هي الأساس الجاد والموثوق والواقعي الوحيد للمضي قدما نحو اتفاق دائم لتسوية نهائية لهذا النزاع المفتعل، في ظل الاحترام التام للوحدة الترابية للمملكة وسيادتها الوطنية".', 'size': 4}, {'id': '414', 'title': 'غواتيمالا تجدد التأكيد على دعم مقترح الحكم الذاتي في الصحراء', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%ba%d9%88%d8%a7%d8%aa%d9%8a%d9%85%d8%a7%d9%84%d8%a7-%d8%aa%d8%ac%d8%af%d8%af-%d8%a7%d9%84%d8%aa%d8%a3%d9%83%d9%8a%d8%af-%d8%b9%d9%84%d9%89-%d8%af%d8%b9%d9%85-%d9%85%d9%82%d8%aa%d8%b1%d8%ad-%d8%a7/', 'summary': 'غواتيمالا تجدد التأكيد على دعم مقترح الحكم الذاتي في الصحراء. المساء اليوم: أعلنت جمهورية غواتيمالا، اليوم الخميس، أن مبادرة الحكم الذاتي، التي تقدم بها المغرب سنة 2007، “هي الأساس الجاد والموثوق والواقعي الوحيد للمضي قدما نحو اتفاق دائم لتسوية نهائية لهذا النزاع المفتعل، في ظل', 'size': 2}, {'id': '415', 'title': 'غواتيمالا تعتبر مبادرة الحكم الذاتي الأساس الجاد والموثوق لتسوية النزاع المفتعل في الصحراء المغربية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%ba%d9%88%d8%a7%d8%aa%d9%8a%d9%85%d8%a7%d9%84%d8%a7-%d8%aa%d8%b9%d8%aa%d8%a8%d8%b1-%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d8%ad%d9%83%d9%85-%d8%a7%d9%84%d8%b0%d8%a7%d8%aa%d9%8a-%d8%a7/', 'summary': 'غواتيمالا تعتبر مبادرة الحكم الذاتي الأساس الجاد والموثوق لتسوية النزاع المفتعل في الصحراء المغربية. أكدت جمهورية غواتيمالا، اليوم الخميس، أن مبادرة الحكم الذاتي، التي تقدم بها المغرب سنة 2007، “هي الأساس الجاد والموثوق والواقعي الوحيد للمضي قدما نحو اتفاق دائم لتسوية نهائية لهذا النزاع المفتعل، في ظل الاحترام التام للوحدة الترابية للمملكة وسيادتها الوطنية”. وقد عبر عن هذا الموقف وزير العلاقات الخارجية بجمهورية غواتيمالا، كارلوس راميرو مارتينيز …  غواتيمالا تعتبر مبادرة الحكم الذاتي الأساس الجاد والموثوق لتسوية النزاع المفتعل في الصحراء المغربية     .', 'size': 4}], 'main_title': 'غواتيمالا تعتبر مبادرة الحكم الذاتي الأساس الجاد والموثوق والواقعي الوحيد لتسوية نزاع الصحراء'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
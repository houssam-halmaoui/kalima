<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 18/09/2025 - 12h37</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '81', 'title': 'نشرة إنذارية .. زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الأربعاء بعدد من مناطق المملكة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/412887.html', 'summary': 'نشرة إنذارية .. زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الأربعاء بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية (من 20 إلى 30 ملم) مصحوبة بهبات رياح، اليوم الأربعاء، بعدد من مناطق المملكة. وأوضحت المديرية،', 'size': 3}, {'id': '258', 'title': 'نشرة إنذارية: زخات رعدية مصحوبة برياح بعدد من مناطق المملكة', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/نشرة-إنذارية-زخات-رعدية-مصحوبة-برياح-بعدد-من-مناطق-المملكة_a29578.html', 'summary': 'نشرة إنذارية: زخات رعدية مصحوبة برياح بعدد من مناطق المملكة. *العلم الإلكترونية* أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية (من 20 إل...', 'size': 2}, {'id': '391', 'title': 'اليوم الخميس.. زخات رعدية محليا قوية مصحوبة بهبات رياح مرتقبة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/475943.html', 'summary': 'اليوم الخميس.. زخات رعدية محليا قوية مصحوبة بهبات رياح مرتقبة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (من 20 إلى 30 ملم) مصحوبة بهبات رياح، اليوم الخميس، بعدد من مناطق المملكة.', 'size': 2}], 'main_title': 'نشرة إنذارية .. زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الأربعاء بعدد من مناطق المملكة'}, {'community_id': '1', 'articles': [{'id': '102', 'title': 'رئيس الحكومة يترأس اجتماع لجنة القيادة المكلفة بــ"عرض المغرب" في مجال الهيدروجين الأخضر', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/412910.html', 'summary': 'رئيس الحكومة يترأس اجتماع لجنة القيادة المكلفة بــ"عرض المغرب" في مجال الهيدروجين الأخضر. تنفيذا للتعليمات الملكية السامية، الرامية للارتقاء بالمغرب إلى مصاف الدول ذات المؤهلات القوية في مجال الهيدروجين الأخضر، ترأس رئيس الحكومة، عزيز أخنوش، يوم الأربعاء 17', 'size': 2}, {'id': '143', 'title': 'المغرب ورهان المستقبل الطاقي: مشاريع هيدروجين أخضر بـ 319 مليار درهم', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/323650/', 'summary': 'المغرب ورهان المستقبل الطاقي: مشاريع هيدروجين أخضر بـ 319 مليار درهم. ترأس رئيس الحكومة عزيز أخنوش، اليوم الأربعاء بالرباط، اجتماعا للجنة \u200fالقيادة المكلفة بـ “عرض المغرب” في قطاع الهيدروجين، تم خلاله المصادقة على مجموعة من التدابير، وذلك تنفيذا للتعليمات الملكية السامية الرامية إلى الارتقاء بالمغرب إلى مصاف الدول ذات المؤهلات القوية في مجال الهيدروجين الأخضر. وأفاد بلاغ لرئاسة الحكومة أن اللجنة وقفت أيضا على استكمال المرحلة', 'size': 3}, {'id': '194', 'title': 'المغرب يصادق على مجموعة من التدابير لتسريع تنفيذ مشاريع الهيدروجين الأخضر', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/475846.html', 'summary': 'المغرب يصادق على مجموعة من التدابير لتسريع تنفيذ مشاريع الهيدروجين الأخضر. تنفيذا للتعليمات الملكية السامية، الرامية للارتقاء بالمغرب إلى مصاف الدول ذات المؤهلات القوية في مجال الهيدروجين الأخضر، ترأس رئيس الحكومة، عزيز أخنوش، يوم الأربعاء 17 شتنبر 2025 بالرباط، اجتماع لجنة \u200fالقيادة المكلفة بـ "عرض المغرب" في هذا القطاع الواعد، تمت خلاله المصادقة على مجموعة من التدابير. وفق ما أورده موقع رئاسة الحكومة.', 'size': 4}, {'id': '217', 'title': 'قطاع الهيدروجين الأخضر.. بلاغ لرئاسة الحكومة', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d9%82%d8%b7%d8%a7%d8%b9-%d8%a7%d9%84%d9%87%d9%8a%d8%af%d8%b1%d9%88%d8%ac%d9%8a%d9%86-%d8%a7%d9%84%d8%a3%d8%ae%d8%b6%d8%b1-%d8%a8%d9%84%d8%a7%d8%ba-%d9%84%d8%b1%d8%a6%d8%a7%d8%b3%d8%a9-%d8%a7%d9%84/', 'summary': 'قطاع الهيدروجين الأخضر.. بلاغ لرئاسة الحكومة. ترأس رئيس الحكومة عزيز أخنوش، اليوم الأربعاء بالرباط، اجتماعا للجنة \u200fالقيادة المكلفة بـ “عرض المغرب” في قطاع الهيدروجين، تم خلاله المصادقة على مجموعة من التدابير،  قطاع الهيدروجين الأخضر.. بلاغ لرئاسة الحكومة     .', 'size': 3}], 'main_title': 'المغرب يصادق على مجموعة من التدابير لتسريع تنفيذ مشاريع الهيدروجين الأخضر'}, {'community_id': '5', 'articles': [{'id': '116', 'title': 'البياض ينهي مواجهة كلاسيكو المغرب بين الرجاء والجيش', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/footmarocain/412927.html', 'summary': 'البياض ينهي مواجهة كلاسيكو المغرب بين الرجاء والجيش. تعادل فريق الرجاء الرياضي مع ضيفه الجيش الملكي بنتيجة صفر لمثله، في المباراة التي جمعتهما مساء اليوم الأربعاء على أرضية مركب محمد الخامس بالدار البيضاء،', 'size': 3}, {'id': '141', 'title': 'كلاسيكو الرجاء والجيش بلا غالب ولا مغلوب', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/323666/', 'summary': 'كلاسيكو الرجاء والجيش بلا غالب ولا مغلوب. انتهت قمة الجولة الثانية من البطولة الاحترافية، مساء اليوم الأربعاء، على إيقاع التعادل السلبي بين الرجاء الرياضي والجيش الملكي في مركب محمد الخامس بالدار البيضاء، في مباراة شدت أنظار الجماهير وحملت الكثير من الإثارة دون أن تهتز فيها الشباك. وانطلقت المواجهة بإيقاع متوازن، حيث تبادل الفريقان محاولات السيطرة وصناعة الفرص، غير أن الحذر التكتيكي طغى', 'size': 3}, {'id': '183', 'title': 'كلاسيكو البطولة الإحترافية ينتهي بالتعادل بين الرجاء والجيش الملكي', 'source': 'rue20.com', 'link': 'https://rue20.com/937310.html', 'summary': 'كلاسيكو البطولة الإحترافية ينتهي بالتعادل بين الرجاء والجيش الملكي. . الدارالبيضاء تعادل فريق الرجاء الرياضي مع ضيفه الجيش الملكي بنتيجة صفر لمثله، في المباراة التي جمعتهما مساء اليوم الأربعاء على أرضية مركب محمد الخامس بالدار البيضاء، برسم الدورة الثانية من البطولة الوطنية الاحترافية “إنوي” للقسم الأول لكرة القدم. وعقب هذه النتيجة، يواصل الفريقان لحد الآن احتلال المركز الثاني مناصفة بأربع نقاط لكل منهما. الخبر كلاسيكو البطولة الإحترافية ينتهي بالتعادل بين الرجاء والجيش الملكي  .', 'size': 3}, {'id': '190', 'title': 'التعادل السلبي يحسم “كلاسيكو” الرجاء والجيش', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/475858.html', 'summary': 'التعادل السلبي يحسم “كلاسيكو” الرجاء والجيش. تعادل فريق الرجاء الرياضي مع ضيفه الجيش الملكي بنتيجة صفر لمثله، في المباراة التي جمعتهما مساء الأربعاء على أرضية مركب محمد الخامس بالدار البيضاء، برسم الدورة الثانية من البطولة الوطنية الاحترافية "إنوي" للقسم الأول لكرة القدم.', 'size': 3}, {'id': '223', 'title': 'البطولة “إنوي”..”الكلاسيكو” بين الرجاء والجيش الملكي ينتهي بلا غالب ولا مغلوب', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227196/', 'summary': 'البطولة “إنوي”..”الكلاسيكو” بين الرجاء والجيش الملكي ينتهي بلا غالب ولا مغلوب. انتهت مباراة “الكلاسيكو” بين الرجاء الرياضي ونادي الجيش الملكي، التي دارت على أرضية المركب الرياضي محمد الخامس بالدار البيضاء، أطوارها، مساء اليوم الأربعاء 17 شتنبر 2025، ضمن مباريات الجولة الثانية من البطولة الاحترافية “إنوي”، بلا غالب ولا مغلوب بنتيجة التعادل السلبي(0-0). ومع إطلاق صافرة بداية المباراة، بادر كلا الفريقين في خلق هجومات بغية التسجيل وضمان', 'size': 3}], 'main_title': 'البياض ينهي مواجهة كلاسيكو المغرب بين الرجاء والجيش'}, {'community_id': '3', 'articles': [{'id': '145', 'title': 'إعادة انتخاب يونس المشرفي عضوا في اللجنة التنفيذية لاتحاد اليانصيب من أجل النزاهة في الرياضة (ULIS)', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/323655/', 'summary': 'إعادة انتخاب يونس المشرفي عضوا في اللجنة التنفيذية لاتحاد اليانصيب من أجل النزاهة في الرياضة (ULIS). أعيد انتخاب السيد يونس المشرفي، المدير العام للمغربية للألعاب والرياضة (MDJS)، عضوا في اللجنة التنفيذية لاتحاد اليانصيب من أجل النزاهة في الرياضة (ULIS)، وذلك خلال الجمع العام للاتحاد المنعقد يوم 16 شتنبر 2025 في برن. بصفته الممثل الوحيد لإفريقيا ضمن هذه الهيئة الاستراتيجية، سيتولى السيد المشرفي مهامه لمدة ثلاث سنوات إلى جانب ممثلين عن أوروبا', 'size': 3}, {'id': '278', 'title': '"المغربية للألعاب" تكرس التميز عالميا', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a%d8%a9-%d9%84%d9%84%d8%a3%d9%84%d8%b9%d8%a7%d8%a8-%d8%aa%d9%83%d8%b1%d8%b3-%d8%a7%d9%84%d8%aa%d9%85%d9%8a%d8%b2-%d8%b9%d8%a7%d9%84%d9%85%d9%8a%d8%a7-1625916.html', 'summary': '"المغربية للألعاب" تكرس التميز عالميا. أعيد انتخاب يونس المشرفي، المدير العام للمغربية للألعاب والرياضة، عضوا في اللجنة التنفيذية لاتحاد اليانصيب من أجل النزاهة في الرياضة (ULIS)، خلال الجمع العام المنعقد يوم 16 شتنبر الجاري في العاصمة السويسرية برن. ويُعتبر المشرفي الممثل الوحيد لإفريقيا داخل هذه الهيئة الاستراتيجية، التي تجمع ممثلين عن أوروبا وآسيا وأمريكا الشمالية، ما يعكس المكانة التي بات  "المغربية للألعاب" تكرس التميز عالميا     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '358', 'title': 'المغرب يتصدى للعب غير القانوني.. إعادة انتخاب المشرفي في قيادة اتحاد دولي', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1100683.html', 'summary': 'المغرب يتصدى للعب غير القانوني.. إعادة انتخاب المشرفي في قيادة اتحاد دولي. أعيد انتخاب المدير العام للمغربية للألعاب والرياضة (MDJS)، يونس المشرفي، عضوا في اللجنة التنفيذية لاتحاد اليانصيب من أجل النزاهة في الرياضة (ULIS) خلال الجمع العام الذي عقد في برن يوم 16 شتنبر 2025. وبصفته الممثل الإفريقي الوحيد في هذه الهيئة، أشار بلاغ صادر عن المغربية للألعاب والرياضة، أن هذا التجديد لولايته مكانة المغرب كفاعل مرجعي ظهرت المقالة المغرب يتصدى للعب غير القانوني.. إعادة انتخاب المشرفي في قيادة اتحاد دولي  .', 'size': 2}], 'main_title': 'إعادة انتخاب يونس المشرفي عضوا في اللجنة التنفيذية لاتحاد اليانصيب من أجل النزاهة في الرياضة (ULIS)'}, {'community_id': '4', 'articles': [{'id': '152', 'title': 'الأمن يفتح تحقيقا في تهريب أزيد من 76 ألف قرص مهلوس بميناء الناظور', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1100638.html', 'summary': 'الأمن يفتح تحقيقا في تهريب أزيد من 76 ألف قرص مهلوس بميناء الناظور. على متن سيارة نفعية كانت قادمة انطلاقا من أحد الموانئ الأوروبية. ظهرت المقالة الأمن يفتح تحقيقا في تهريب أزيد من 76 ألف قرص مهلوس بميناء الناظور  .', 'size': 2}, {'id': '240', 'title': 'الناظور.. حجز أكثر من 76 ألف قرص مهلوس مهرب على متن سيارة قادمة من أوروبا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%86%d8%a7%d8%b8%d9%88%d8%b1-%d8%ad%d8%ac%d8%b2-%d8%a3%d9%83%d8%ab%d8%b1-%d9%85%d9%86-76-%d8%a3%d9%84%d9%81-%d9%82%d8%b1%d8%b5-%d9%85%d9%87%d9%84%d9%88%d8%b3-%d9%85%d9%87%d8%b1%d8%a8/', 'summary': 'الناظور.. حجز أكثر من 76 ألف قرص مهلوس مهرب على متن سيارة قادمة من أوروبا. أفاد مصدر أمني أن المصلحة الجهوية للشرطة القضائية بمدينة الناظور، فتحت بحثا قضائيا تحت إشراف النيابة العامة المختصة، زوال اليوم الأربعاء 17 شتنبر الجاري، وذلك لتحديد مصدر ووجهة شحنة تتكون من 76 ألفا و841 قرصا مهلوسا، تم العثور عليها مهربة على متن سيارة نفعية كانت قادمة انطلاقا من أحد الموانئ الأوروبية. وحسب ذات …  الناظور.. حجز أكثر من 76 ألف قرص مهلوس مهرب على متن سيارة قادمة من أوروبا     .', 'size': 2}, {'id': '375', 'title': 'حجز شحنة من حبوب الهلوسة.. أمن الناظور يفتح بحثا قضائيا لتحديد مصدرها', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%ad%d8%ac%d8%b2-%d8%b4%d8%ad%d9%86%d8%a9-%d9%85%d9%87%d9%85%d8%a9-%d9%85%d9%86-%d8%ad%d8%a8%d9%88%d8%a8-%d8%a7%d9%84%d9%87%d9%84%d9%88%d8%b3%d8%a9-%d8%a3%d9%85%d9%86-%d8%a7%d9%84%d9%86%d8%a7/', 'summary': 'حجز شحنة من حبوب الهلوسة.. أمن الناظور يفتح بحثا قضائيا لتحديد مصدرها. فتحت المصلحة الجهوية للشرطة القضائية بمدينة الناظور بحثا قضائيا تحت إشراف النيابة العامة المختصة، زوال أمس الأربعاء 17 شتنبر الجاري، وذلك لتحديد مصدر ووجهة شحنة تتكون من 76 ألفا و841 قرص مهلوس، تم العثور عليها مهربة على متن سيارة نفعية كانت قادمة انطلاقا من أحد الموانئ الأوروبية. وأوضح مصدر أمني أن عناصر الأمن الوطني والجمارك  حجز شحنة من حبوب الهلوسة.. أمن الناظور يفتح بحثا قضائيا لتحديد مصدرها     .', 'size': 3}], 'main_title': 'حجز شحنة من حبوب الهلوسة.. أمن الناظور يفتح بحثا قضائيا لتحديد مصدرها'}, {'community_id': '6', 'articles': [{'id': '228', 'title': 'رئيس الحكومة يترأس اجتماع لجنة القيادة المكلفة بـ “عرض المغرب” في مجال الهيدروجين الأخضر', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227174/', 'summary': 'رئيس الحكومة يترأس اجتماع لجنة القيادة المكلفة بـ “عرض المغرب” في مجال الهيدروجين الأخضر. المصادقة على مجموعة من التدابير، والوقوف على استكمال المرحلة التمهيدية لمشروع “شبيكة 1” بنجاح وفي الآجال المحددة؛ الموافقة على توقيع عقود أولية لحجز الوعاء العقاري لفائدة 5 مستثمرين وطنيين ودوليين من أجل إنجاز 6 مشاريع. الرباط /كواليس اليوم تنفيذا للتعليمات الملكية السامية، الرامية للارتقاء بالمغرب إلى مصاف الدول ذات المؤهلات القوية في مجال الهيدروجين', 'size': 2}, {'id': '230', 'title': 'الحكومة تصادق على مجموعة من التدابير في مجال الهيدروجين الأخضر', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a7%d9%84%d8%ad%d9%83%d9%88%d9%85%d8%a9-%d8%aa%d8%b5%d8%a7%d8%af%d9%82-%d8%b9%d9%84%d9%89-%d9%85%d8%ac%d9%85%d9%88%d8%b9%d8%a9-%d9%85%d9%86-%d8%a7%d9%84%d8%aa%d8%af%d8%a7%d8%a8%d9%8a%d8%b1-%d9%81/', 'summary': 'الحكومة تصادق على مجموعة من التدابير في مجال الهيدروجين الأخضر. المساء اليوم – الرباط: صادقت لجنة \u200fالقيادة المكلفة بـ “عرض المغرب” في قطاع الهيدروجين، على مجموعة من التدابير في مجال الهيدروجين الأخضر. وقال بيان لرئاسة الحكومة إن اللجنة تتبعت استكمال المرحلة التمهيدية لمشروع “شبيكة 1”', 'size': 2}], 'main_title': 'رئيس الحكومة يترأس اجتماع لجنة القيادة المكلفة بـ “عرض المغرب” في مجال الهيدروجين الأخضر'}, {'community_id': '7', 'articles': [{'id': '229', 'title': 'عداؤون من رياضيي الأمن الوطني يتألقون في بطولة الشرطة العربية لسباق الضاحية بالعاصمة العراقية بغداد', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/227170/', 'summary': 'عداؤون من رياضيي الأمن الوطني يتألقون في بطولة الشرطة العربية لسباق الضاحية بالعاصمة العراقية بغداد. شارك عداؤون من رياضيي الأمن الوطني خلال الفترة الممتدة ما بين 10 و 16 شتنبر الجاري في بطولة الشرطة العربية لسباق الضاحية بمدينة بغداد بدولة العراق. وقد أحرز رياضيات ورياضيو الأمن الوطني على مجموعة من المراتب المتقدمة في هذه المنافسات الرياضية من بينها المرتبة الأولى والثانية في مسابقة الفردي إناث، كما حصلوا على الرتبة الثانية', 'size': 2}, {'id': '233', 'title': 'رياضيو الأمن الوطني يحرزون عددا من الميداليات في بطولة الشرطة العربية بالعراق', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%b1%d9%8a%d8%a7%d8%b6%d9%8a%d9%88-%d8%a7%d9%84%d8%a3%d9%85%d9%86-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a-%d9%8a%d8%ad%d8%b1%d8%b2%d9%88%d9%86-%d8%b9%d8%af%d8%af%d8%a7-%d9%85%d9%86-%d8%a7%d9%84%d9%85/', 'summary': 'رياضيو الأمن الوطني يحرزون عددا من الميداليات في بطولة الشرطة العربية بالعراق. المساء اليوم: شارك عداؤون من رياضيي الأمن الوطني خلال الفترة الممتدة ما بين 10 و 16 شتنبر الجاري في بطولة الشرطة العربية لسباق الضاحية بمدينة بغداد بدولة العراق. وأحرز رياضيو الأمن الوطني على مجموعة من', 'size': 2}], 'main_title': 'عداؤون من رياضيي الأمن الوطني يتألقون في بطولة الشرطة العربية لسباق الضاحية بالعاصمة العراقية بغداد'}, {'community_id': '8', 'articles': [{'id': '285', 'title': 'نادي الجيش يستنكر قرارات التحكيم', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%86%d8%a7%d8%af%d9%8a-%d8%a7%d9%84%d8%ac%d9%8a%d8%b4-%d9%8a%d8%b3%d8%aa%d9%86%d9%83%d8%b1-%d9%82%d8%b1%d8%a7%d8%b1%d8%a7%d8%aa-%d8%a7%d9%84%d8%aa%d8%ad%d9%83%d9%8a%d9%85-1625837.html', 'summary': 'نادي الجيش يستنكر قرارات التحكيم. أعرب نادي الجيش الملكي، في بلاغ نشره عبر صفحته الرسمية بـ”فيسبوك”، عن استغرابه الكبير واستيائه الشديد من القرارات التحكيمية التي شهدتها مباراته أمام الرجاء الرياضي، مساء أمس الأربعاء، على أرضية مركب محمد الخامس، برسم الجولة الثانية من البطولة الاحترافية “إنوي”، وانتهت بالتعادل السلبي. وأكد الفريق “العسكري” أن اللقاء تخللته حالات مؤثرة عدة، أبرزها عدم احتساب  نادي الجيش يستنكر قرارات التحكيم     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '374', 'title': 'الجيش الملكي يحتج على تحكيم الكلاسيكو ويُعدد أخطاءه', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%ac%d9%8a%d8%b4-%d8%a7%d9%84%d9%85%d9%84%d9%83%d9%8a-%d9%8a%d8%ad%d8%aa%d8%ac-%d8%b9%d9%84%d9%89-%d8%aa%d8%ad%d9%83%d9%8a%d9%85-%d8%a7%d9%84%d9%83%d9%84%d8%a7%d8%b3%d9%8a%d9%83%d9%88/', 'summary': 'الجيش الملكي يحتج على تحكيم الكلاسيكو ويُعدد أخطاءه. عبر نادي الجيش الملكي عن استيائه من القرارات التحكيمية التي رافقت مباراته أمام الرجاء الرياضي، مساء أمس الأربعاء، على أرضية مركب محمد الخامس، برسم الجولة الثانية من البطولة الاحترافية. وأكد النادي، في بلاغ رسمي، أن اللقاء شهد "حالات مؤثرة" أبرزها عدم احتساب ضربة جزاء واضحة في الدقيقة 45 بعد لمسة يد داخل منطقة الجزاء، وإلغاء  الجيش الملكي يحتج على تحكيم الكلاسيكو ويُعدد أخطاءه     .', 'size': 2}], 'main_title': 'نادي الجيش يستنكر قرارات التحكيم'}, {'community_id': '9', 'articles': [{'id': '347', 'title': 'توقعات طقس اليوم الخميس بالمغرب', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/323680/', 'summary': 'توقعات طقس اليوم الخميس بالمغرب. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي و الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب غير مستقرة مصحوبة بزخات', 'size': 3}, {'id': '377', 'title': 'استمرار الطقس الحار مع سحب منخفضة اليوم الخميس', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d8%b3%d8%aa%d9%85%d8%b1%d8%a7%d8%b1-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%b3%d8%ad%d8%a8-%d9%85%d9%86%d8%ae%d9%81%d8%b6%d8%a9-%d8%a7%d9%84%d9%8a%d9%88/', 'summary': 'استمرار الطقس الحار مع سحب منخفضة اليوم الخميس. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي و الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب غير مستقرة  استمرار الطقس الحار مع سحب منخفضة اليوم الخميس     .', 'size': 4}, {'id': '378', 'title': 'طقس اليوم: أجواء حارة مع أمطار رعدية بهذه المناطق', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357858.html', 'summary': 'طقس اليوم: أجواء حارة مع أمطار رعدية بهذه المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي والأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب غير مستقرة مصحوبة', 'size': 4}, {'id': '431', 'title': 'توقعات أحوال الطقس اليوم الخميس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ae%d9%85%d9%8a%d8%b3-13/', 'summary': 'توقعات أحوال الطقس اليوم الخميس. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الخميس، أن تتميز الحالة الجوية عامة بطقس حار نسبيا بكل من السهول المتواجدة غرب الأطلس، ومنطقة سوس، والجنوب الشرقي و الأقاليم الصحراوية. كما يرتقب تشكل سحب منخفضة مصحوبة بأمطار جد خفيفة محليا فوق السواحل الشمالية والوسطى وشرق الواجهة المتوسطية خلال الصباح والليل، فضلا عن انتشار سحب …  توقعات أحوال الطقس اليوم الخميس     .', 'size': 3}], 'main_title': 'استمرار الطقس الحار مع سحب منخفضة اليوم الخميس'}, {'community_id': '10', 'articles': [{'id': '363', 'title': 'المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1100667.html', 'summary': 'المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”. ارتقى المنتخب الوطني المغربي إلى المركز الـ11 عالمياً في التصنيف الشهري الصادر عن الاتحاد الدولي لكرة القدم “فيفا”، صباح يومه الخميس، بعدما تقدم برتبة واحدة مقارنة بآخر تصنيف نُشر في يوليوز الماضي. وحافظ “أسود الأطلس” على حضورهم بين كبار المنتخبات العالمية برصيد بلغ 1706 نقاط، بزيادة 7 نقاط عن حصيلتهم السابقة، متجاوزين بذلك المنتخب الألماني ظهرت المقالة المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”  .', 'size': 2}, {'id': '427', 'title': 'المنتخب المغربي يرتقي إلى المركز 11 عالميا في ترتيب “الفيفا”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%8a%d8%b1%d8%aa%d9%82%d9%8a-%d8%a5%d9%84%d9%89-%d8%a7%d9%84%d9%85%d8%b1%d9%83%d8%b2-11-%d8%b9%d8%a7%d9%84%d9%85/', 'summary': 'المنتخب المغربي يرتقي إلى المركز 11 عالميا في ترتيب “الفيفا”. ارتقى المنتخب الوطني المغربي، اليوم الخميس 18 شتنبر 2025، في ترتيب الفيفا الشهري الذي يصدره الاتحاد الدولي لكرة القدم، بمركز واحد مقارنة بالتصنيف السابق. وجاء المنتخب المغربي في المركز 11 عالميا، وبرصيد 1706.27 نقطة، معززا مكانته كأفضل منتخب عربي وإفريقي. وعلى الصعيد العالمي، انتزع المنتخب الإسباني الصدارة برصيد 1875.37 نقطة، متقدمًا على فرنسا …  المنتخب المغربي يرتقي إلى المركز 11 عالميا في ترتيب “الفيفا”     .', 'size': 2}], 'main_title': 'المنتخب الوطني يتجاوز ألمانيا ويحتل المركز الـ11 في تصنيف “الفيفا”'}, {'community_id': '11', 'articles': [{'id': '367', 'title': 'إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1100655.html', 'summary': 'إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”. اتخذت المديرية التقنية الوطنية للتحكيم إجراءات تأديبية عاجلة بعد الجدل التحكيمي الواسع الذي شهدته مباراة الرجاء الرياضي والجيش الملكي يوم أمس الأربعاء، ضمن الجولة الثانية من البطولة الاحترافية. حيث أثار أداء الحكم محسن السوردي ردود فعل قوية، خاصة بعد قراراته المثيرة للجدل، التي كان أبرزها إلغاء هدف وضربة جزاء للفريق العسكري في الشوط الثاني بعد ظهرت المقالة إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”  .', 'size': 3}, {'id': '376', 'title': 'مديرية التحكيم تتحرك.. توقيف حكام كلاسيكو الرجاء والجيش', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%af%d9%8a%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d8%aa%d8%ad%d9%83%d9%8a%d9%85-%d8%aa%d8%aa%d8%ad%d8%b1%d9%83-%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%ad%d9%83%d8%a7%d9%85-%d9%83%d9%84%d8%a7%d8%b3%d9%8a/', 'summary': 'مديرية التحكيم تتحرك.. توقيف حكام كلاسيكو الرجاء والجيش. تفاعلت المديرية الوطنية للتحكيم، صباح اليوم الخميس، مع الأخطاء والجدل الذي رافق مباراة الكلاسيكو بين الرجاء الرياضي والجيش الملكي، من خلال إصدار قرارات تأديبية في حق بعض الحكام. وحسب بلاغ للجهاز المسؤول عن التحكيم، فقد تقرر توقيف محسن السوردي، حكم مباراة الرجاء والجيش الملكي لحساب الجولة الثانية من البطولة الوطنية الاحترافية، لمباراتين. كما تم توقيف  مديرية التحكيم تتحرك.. توقيف حكام كلاسيكو الرجاء والجيش     .', 'size': 2}, {'id': '398', 'title': '“الكلاسيكو”.. توقيف حكم مباراة الرجاء والجيش الملكي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/475864.html', 'summary': '“الكلاسيكو”.. توقيف حكم مباراة الرجاء والجيش الملكي. أعلنت المديرية التقنية الوطنية للتحكيم عن توقيف محسن السوردي، حكم مباراة “الكلاسيكو” بين الرجاء الرياضي والجيش الملكي، لمباراتين. وقررت المديرية توقيف الحكم المساعد بالفيديو عبد المنعم باسلام لثلاث مباريات في المباراة ذاتها، على خلفية الأخطاء التحكيمية التي عرفتها المواجهة لحساب الجولة الثانية من البطولة الاحترافية الوطنية لكرة القدم. وفي إطار قرارات تأديبية تهدف إلى تصحيح …', 'size': 2}], 'main_title': 'إيقاف حكمي مباراة الرجاء والجيش بسبب “أخطاء مؤثرة”'}, {'community_id': '2', 'articles': [{'id': '396', 'title': 'احتجاجا على خطط التقشف.. إضراب واسع يشل حركة فرنسا', 'source': 'machahid24.com', 'link': 'https://machahid24.com/international/475876.html', 'summary': 'احتجاجا على خطط التقشف.. إضراب واسع يشل حركة فرنسا. يتظاهر، اليوم الخميس. مئات الآلاف من الأشخاص في شوارع فرنسا خلال إضرابات وطنية احتجاجا على خطط التقشف الحكومية. وكشفت وسائل إعلام فرنسية، أن السلطات الفرنسية تتوقع أن يشارك في الاحتجاج', 'size': 2}, {'id': '429', 'title': 'فرنسا تستنفر 80 ألف شرطي لمواجهة مظاهرات ضد خطط التقشف الحكومية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%81%d8%b1%d9%86%d8%b3%d8%a7-%d8%aa%d8%b3%d8%aa%d9%86%d9%81%d8%b1-80-%d8%a3%d9%84%d9%81-%d8%b4%d8%b1%d8%b7%d9%8a-%d9%84%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a9-%d9%85%d8%b8%d8%a7%d9%87%d8%b1%d8%a7%d8%aa/', 'summary': 'فرنسا تستنفر 80 ألف شرطي لمواجهة مظاهرات ضد خطط التقشف الحكومية. من المتوقع أن يتظاهر مئات الآلاف من الأشخاص في شوارع فرنسا خلال إضرابات وطنية احتجاجا على خطط التقشف الحكومية، اليوم الخميس 18 شتنبر 2025، وذلك بعدما دعا تحالف واسع من النقابات إلى هذه الإضرابات. وكشفت وسائل إعلام فرنسية، أن السلطات الفرنسية تتوقع أن يشارك في الاحتجاج ما بين 700 ألف و800 ألف شخص. …  فرنسا تستنفر 80 ألف شرطي لمواجهة مظاهرات ضد خطط التقشف الحكومية     .', 'size': 2}], 'main_title': 'احتجاجا على خطط التقشف.. إضراب واسع يشل حركة فرنسا'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
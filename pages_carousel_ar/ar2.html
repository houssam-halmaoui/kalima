<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 10/07/2025 - 18h30</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '1', 'title': 'المغرب يحتفظ بالمركز الـ 12 عالميّا', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%ad%d8%aa%d9%81%d8%b8-%d8%a8%d8%a7%d9%84%d9%85%d8%b1%d9%83%d8%b2-12-%d8%b9%d8%a7%d9%84%d9%85%d9%8a%d9%91%d8%a7-1590401.html', 'summary': 'المغرب يحتفظ بالمركز الـ 12 عالميّا. واصل المنتخب الوطني المغربي تألقه على الساحة الدولية، بعدما حافظ على المركز الثاني عشر عالميا في التصنيف الشهري للمنتخبات الوطنية الصادر عن الاتحاد الدولي لكرة القدم (فيفا) صباح اليوم الخميس. واستقر “أسود الأطلس” في الرتبة 12 عالميا مع زيادة 5 نقاط في رصيده، الذي بلغ حوالي 1699 نقطة، مقارنة بالتصنيف السابق الصادر في 3 أبريل  المغرب يحتفظ بالمركز الـ 12 عالميّا     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '418', 'title': 'المنتخب المغربي يحافظ على مركزه في الترتيب العالمي للفيفا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%8a%d8%ad%d8%a7%d9%81%d8%b8-%d8%b9%d9%84%d9%89-%d9%85%d8%b1%d9%83%d8%b2%d9%87-%d9%81%d9%8a-%d8%a7%d9%84%d8%aa-2/', 'summary': 'المنتخب المغربي يحافظ على مركزه في الترتيب العالمي للفيفا. حافظ المنتخب الوطني المغربي لكرة القدم، على المركز الثاني عشر عالميا في التصنيف الشهري للمنتخبات الوطنية الصادر عن الاتحاد الدولي لكرة القدم (فيفا)، صباح اليوم الخميس. وجاء “أسود الأطلس” في الرتبة 12 عالمياً مع زيادة 5 نقاط في رصيده، الذي بلغ حوالي 1699 نقطة، مقارنة بالتصنيف السابق، ليواصل بذلك المنتخب المغربي حضوره بين …  المنتخب المغربي يحافظ على مركزه في الترتيب العالمي للفيفا     .', 'size': 2}], 'main_title': 'المغرب يحتفظ بالمركز الـ 12 عالميّا'}, {'community_id': '1', 'articles': [{'id': '68', 'title': 'في إطار تحديث البنية الأمنية.. تعيينات جديدة بالخميسات', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/203206', 'summary': 'في إطار تحديث البنية الأمنية.. تعيينات جديدة بالخميسات. الاحداث/محمد طويل أعلنت، المديرية العامة للأمن الوطني، اليوم الأربعاء، عن قائمة جديدة تتضمن عددا من التعيينات في مناصب المسؤولية بالمصالح اللاممركزة للأمن الوطني، بمدن وجدة والخميسات والرشيدية والرباط، وتويسيت بوبكر ومراكش وويسلان والدار البيضاء. وشملت، التعيينات الجديدة، التي أشر عليها المدير العام للأمن الوطني عبد اللطيف حموشي تعيين كل من رشيد ناصيري رئيساً للدائرة الأمنية', 'size': 2}, {'id': '176', 'title': '11 تعيينا جديدا لمسؤولين أمنيين بينها نائب لوالي أمن وجدة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/11-%d8%aa%d8%b9%d9%8a%d9%8a%d9%86%d8%a7-%d8%ac%d8%af%d9%8a%d8%af%d8%a7-%d9%84%d9%85%d8%b3%d8%a4%d9%88%d9%84%d9%8a%d9%86-%d8%a3%d9%85%d9%86%d9%8a%d9%8a%d9%86-%d8%a8%d9%8a%d9%86%d9%87%d8%a7-%d9%86%d8%a7/', 'summary': '11 تعيينا جديدا لمسؤولين أمنيين بينها نائب لوالي أمن وجدة. تعيينات جديدة في مناصب المسؤولية بمصالح الأمن الوطني أعلنت المديرية العامة للأمن الوطني، الأربعاء، عن قائمة جديدة تتضمن عددا من التعيينات في مناصب المسؤولية بالمصالح اللاممركزة للأمن الوطني بمدن وجدة والخميسات والرشيدية والرباط وتويسيت بوبكر ومراكش وويسلان والدار البيضاء. تأتي هذه التعيينات بحسب مصدر أمني، "مواصلة لمسار تنزيل استراتيجية ترسيخ التداول على مناصب المسؤولية وفتح  11 تعيينا جديدا لمسؤولين أمنيين بينها نائب لوالي أمن وجدة     .', 'size': 2}, {'id': '207', 'title': 'حموشي يؤشر على 11 منصبا جديدا للمسؤولية في ثماني مدن مغربية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224397/', 'summary': 'حموشي يؤشر على 11 منصبا جديدا للمسؤولية في ثماني مدن مغربية. مواصلة لمسار تنزيل استراتيجية ترسيخ التداول على مناصب المسؤولية وفتح الباب أمام الكفاءات المتمرسة والشابة لتحمل مسؤولية التسيير الأمني، أعلنت المديرية العامة للأمن الوطني، زوال اليوم الأربعاء 9 يوليوز الجاري، عن قائمة جديدة تتضمن عددا من التعيينات في مناصب المسؤولية بالمصالح اللاممركزة للأمن الوطني بمدن وجدة والخميسات والرشيدية والرباط وتويسيت بوبكر ومراكش وويسلان والدار البيضاء.', 'size': 3}], 'main_title': 'حموشي يؤشر على 11 منصبا جديدا للمسؤولية في ثماني مدن مغربية'}, {'community_id': '2', 'articles': [{'id': '94', 'title': 'رئيس الحكومة يترأس اجتماعا للجنة قيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي 2020-2027', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/409021.html', 'summary': 'رئيس الحكومة يترأس اجتماعا للجنة قيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي 2020-2027. ترأس رئيس الحكومة عزيز أخنوش، يوم الأربعاء 9 يوليوز 2025 بالرباط، اجتماعا للجنة \u200fقيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي 2020-2027\u200f\u200e، يندرج في سياق', 'size': 3}, {'id': '174', 'title': 'اجتماع حكومي يرصد بـ"قلق" وضعية المياه رغم تحسن مخزون السدود', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d8%ac%d8%aa%d9%85%d8%a7%d8%b9-%d8%ad%d9%83%d9%88%d9%85%d9%8a-%d9%8a%d8%b1%d8%b5%d8%af-%d8%a8%d9%80%d9%82%d9%84%d9%82-%d9%88%d8%b6%d8%b9%d9%8a%d8%a9-%d8%a7%d9%84%d9%85%d9%8a%d8%a7%d9%87/', 'summary': 'اجتماع حكومي يرصد بـ"قلق" وضعية المياه رغم تحسن مخزون السدود. ترأس رئيس الحكومة، عزيز أخنوش، الأربعاء بالرباط، اجتماعاً للجنة قيادة البرنامج الوطني للتزويد بالماء الشروب ومياه السقي 2020-2027، خصص لتتبع تطورات هذا الملف الاستراتيجي، في ظل التحديات المتزايدة المرتبطة بندرة المياه. وسجل الاجتماع، وفق بلاغ صادر عن رئاسة الحكومة، أن مخزون السدود بلغ إلى غاية 7 يوليوز الجاري حوالي 4.3 مليار متر مكعب، ما يعادل  اجتماع حكومي يرصد بـ"قلق" وضعية المياه رغم تحسن مخزون السدود     .', 'size': 3}, {'id': '186', 'title': 'أخنوش يترأس اجتماع لجنة قيادة البرنامج الوطني للماء ويؤكد على ضرورة التناغم بين السياسة المائية والفلاحية', 'source': 'rue20.com', 'link': 'https://rue20.com/919184.html', 'summary': 'أخنوش يترأس اجتماع لجنة قيادة البرنامج الوطني للماء ويؤكد على ضرورة التناغم بين السياسة المائية والفلاحية.  الرباط ترأس رئيس الحكومة عزيز أخنوش، يوم الأربعاء 9 يوليوز 2025 بالرباط، اجتماعا للجنة \u200fقيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي 2020-2027\u200f\u200e، يندرج في سياق التتبع المستمر لهذا الموضوع الاستراتيجي، حيث تم الوقوف على تقدم تنزيل محاور البرنامج والإجراءات الاستعجالية التي تم اتخاذها لضمان التزويد بالماء الشروب، وتخفيف العجز في احتياجات مياه السقي، الخبر أخنوش يترأس اجتماع لجنة قيادة البرنامج الوطني للماء ويؤكد على ضرورة التناغم بين السياسة المائية والفلاحية  .', 'size': 2}, {'id': '204', 'title': 'أخنوش يترأس اجتماعا للجنة قيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224405/', 'summary': 'أخنوش يترأس اجتماعا للجنة قيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي. كواليس اليوم ترأس رئيس الحكومة عزيز أخنوش، يوم الأربعاء 9 يوليوز 2025 بالرباط، اجتماعا للجنة \u200fقيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي 2020-2027\u200f\u200e، يندرج في سياق التتبع المستمر لهذا الموضوع الاستراتيجي، حيث تم الوقوف على تقدم تنزيل محاور البرنامج والإجراءات الاستعجالية التي تم اتخاذها لضمان التزويد بالماء الشروب، وتخفيف العجز في احتياجات مياه', 'size': 4}], 'main_title': 'أخنوش يترأس اجتماعا للجنة قيادة البرنامج الوطني للتزويد بالماء الشروب ومياه \u200fالسقي'}, {'community_id': '3', 'articles': [{'id': '147', 'title': 'طقس الخميس…أجواء حارة بعدد من المناطق', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317885/', 'summary': 'طقس الخميس…أجواء حارة بعدد من المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن يبقى الطقس حارا نسبيا إلى حار محليا داخل الأقاليم الجنوبية، والجنوب الشرقي للبلاد، والمناطق المجاورة لمرتفعات الأطلس والمنطقة الشرقية. كما يرتقب نزول قطرات مطرية أو زخات رعدية محلية مع هبات واحتمال برد بمرتفعات الأطلس الكبير والمتوسط، والسفوح الجنوبية الشرقية، والريف، والمنطقة الشرقية. ويتوقع كذلك نزول أمطار', 'size': 3}, {'id': '170', 'title': 'طقس حار مع زخات رعدية متوقع اليوم الخميس', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%aa%d9%88%d9%82%d8%b9-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ae%d9%85%d9%8a/', 'summary': 'طقس حار مع زخات رعدية متوقع اليوم الخميس. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن يبقى الطقس حارا نسبيا إلى حار محليا داخل الأقاليم الجنوبية، والجنوب الشرقي للبلاد، والمناطق المجاورة لمرتفعات الأطلس والمنطقة الشرقية. كما يرتقب نزول قطرات مطرية أو زخات رعدية محلية مع هبات واحتمال برد بمرتفعات الأطلس الكبير والمتوسط، والسفوح الجنوبية الشرقية، والريف، والمنطقة الشرقية. ويتوقع كذلك نزول أمطار  طقس حار مع زخات رعدية متوقع اليوم الخميس     .', 'size': 3}, {'id': '200', 'title': 'طقس الخميس.. حار نسبيا مع نزول قطرات مطرية في بعض المناطق', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224418/', 'summary': 'طقس الخميس.. حار نسبيا مع نزول قطرات مطرية في بعض المناطق. كواليس اليوم تتوقع المديرية العامة للأرصاد الجوية، اليوم الخميس، أن يبقى الطقس حارا نسبيا إلى حار محليا داخل الأقاليم الجنوبية، والجنوب الشرقي للبلاد، والمناطق المجاورة لمرتفعات الأطلس والمنطقة الشرقية. كما يرتقب نزول قطرات مطرية أو زخات رعدية محلية مع هبات واحتمال برد بمرتفعات الأطلس الكبير والمتوسط، والسفوح الجنوبية الشرقية، والريف، والمنطقة الشرقية. ويتوقع كذلك', 'size': 3}], 'main_title': 'طقس الخميس…أجواء حارة بعدد من المناطق'}, {'community_id': '4', 'articles': [{'id': '151', 'title': 'الباعة الجائلون في المغرب.. اقتصاد الظل بين واقع الحاجة ورهانات الإدماج', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1084117.html', 'summary': 'الباعة الجائلون في المغرب.. اقتصاد الظل بين واقع الحاجة ورهانات الإدماج. تكتظ الأرصفة والأزقة في معظم المدن المغربية بعربات البيع، حيث يتخذ مئات الآلاف من الباعة الجائلين من الفضاء العام ملاذا لتأمين معاشهم اليومي. ويعكس هذا المشهد المتنامي تحولات اقتصادية واجتماعية عميقة، ويطرح في الوقت ذاته تساؤلات حقيقية حول مدى قدرة السياسات العمومية على استيعاب هذه الشريحة الواسعة ضمن منظومة الاقتصاد المهيكل. وقد تنامت هذه الظاهرة ظهرت المقالة الباعة الجائلون في المغرب.. اقتصاد الظل بين واقع الحاجة ورهانات الإدماج  .', 'size': 2}, {'id': '220', 'title': 'تقرير: المغرب يسرّع وتيرة مواجهة الجفاف.. من قيود الاستهلاك إلى حلول الابتكار', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%82%d8%b1%d9%8a%d8%b1-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%8a%d8%b3%d8%b1%d9%91%d8%b9-%d9%88%d8%aa%d9%8a%d8%b1%d8%a9-%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a9-%d8%a7%d9%84%d8%ac%d9%81%d8%a7/', 'summary': 'تقرير: المغرب يسرّع وتيرة مواجهة الجفاف.. من قيود الاستهلاك إلى حلول الابتكار. يجد المغرب نفسه أمام تحدٍ مصيري خلال السنوات المقبلة، ففي أعقاب ست سنوات متوالية من الجفاف المستفحل وارتفاع درجات الحرارة لمستويات قياسية، باتت المملكة تكابد أزمة مائية لم يسبق لها مثيل، تهدد أركان استقرارها البيئي والاقتصادي والاجتماعي، وتؤكد المعطيات الحديثة هذه الصورة القاتمة، مسجلة عجزا مائيا بلغ 57% بحلول يناير 2024، مع تنبؤات …  تقرير: المغرب يسرّع وتيرة مواجهة الجفاف.. من قيود الاستهلاك إلى حلول الابتكار     .', 'size': 2}], 'main_title': 'الباعة الجائلون في المغرب.. اقتصاد الظل بين واقع الحاجة ورهانات الإدماج'}, {'community_id': '5', 'articles': [{'id': '172', 'title': 'حكيمي يتأهل لنهائي كأس العالم للأندية بعد فوز باريس سان جيرمان أمام ريال مدريد', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%ad%d9%83%d9%8a%d9%85%d9%8a-%d9%8a%d8%aa%d8%a3%d9%87%d9%84-%d9%84%d9%86%d9%87%d8%a7%d8%a6%d9%8a-%d9%83%d8%a3%d8%b3-%d8%a7%d9%84%d8%b9%d8%a7%d9%84%d9%85-%d9%84%d9%84%d8%a3%d9%86%d8%af%d9%8a%d8%a9/', 'summary': 'حكيمي يتأهل لنهائي كأس العالم للأندية بعد فوز باريس سان جيرمان أمام ريال مدريد. تمكن نادي باريس سان جيرمان من الفوز أمام ريال مدريد بنتيجة أربعة أهداف دون مقابل، لحساب نصف نهائي كأس العالم للأندية المقامة بالولايات المتحدة الأمريكية. وتأهل باريس سان جيرمان بعد فوزه في المباراة التي أقيمت على ملعب ميتلايف في نيوجيرسي، بعدما تعاقب على تسجيل الأهداف اللاعب فابيان رويز في الدقيقة السادسة، فيما أضاف الهدف الثاني  حكيمي يتأهل لنهائي كأس العالم للأندية بعد فوز باريس سان جيرمان أمام ريال مدريد     .', 'size': 2}, {'id': '187', 'title': 'حكيمي يتعملق مع PSG ليطيح بفريقه السابق ريال مدريد برباعية نظيفة', 'source': 'rue20.com', 'link': 'https://rue20.com/919200.html', 'summary': 'حكيمي يتعملق مع PSG ليطيح بفريقه السابق ريال مدريد برباعية نظيفة. . الرباط تأهل باريس سان جيرمان الفرنسي لنهائي بطولة كأس العالم للأندية لكرة القدم للمرة الأولى في تاريخه، بعد فوزه على ريال مدريد الإسباني حامل اللقب بأربعة أهداف نظيفة، أمس الأربعاء، في نصف نهائي البطولة المقامة بالولايات المتحدة الأمريكية. وسجل رباعية نادي العاصمة الفرنسية كل من، فابيان رويس هدفين في الدقيقتين 6 و24، وعثمان الخبر حكيمي يتعملق مع PSG ليطيح بفريقه السابق ريال مدريد برباعية نظيفة  .', 'size': 2}], 'main_title': 'حكيمي يتأهل لنهائي كأس العالم للأندية بعد فوز باريس سان جيرمان أمام ريال مدريد'}, {'community_id': '6', 'articles': [{'id': '261', 'title': 'صرف منحة لأرامل ومتقاعدي الأمن', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%b5%d8%b1%d9%81-%d9%85%d9%86%d8%ad%d8%a9-%d9%84%d8%a3%d8%b1%d8%a7%d9%85%d9%84-%d9%88%d9%85%d8%aa%d9%82%d8%a7%d8%b9%d8%af%d9%8a-%d8%a7%d9%84%d8%a3%d9%85%d9%86-1590583.html', 'summary': 'صرف منحة لأرامل ومتقاعدي الأمن. خصصت مؤسسة محمد السادس للأعمال الاجتماعية لموظفي الأمن الوطني مساعدة مالية استثنائية لفائدة أرامل الأمن الوطني، ممن يتقاضون معاشا يساوي أو يقل عن 2000 درهم، وكذا للمتقاعدين الذين يتقاضون راتبا شهريا في حدود 2500 درهم. وتأتي هذه المبادرة الاجتماعية في سياق تنزيل توجيهات المدير العام للأمن الوطني ولمراقبة التراب الوطني عبد اللطيف حموشي، القاضية بالنهوض  صرف منحة لأرامل ومتقاعدي الأمن     - هسبريس جريدة إلكترونية مغربية .', 'size': 4}, {'id': '288', 'title': 'صرف منحة استثنائية لفائدة أرامل ومتقاعدي الأمن الوطني', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-639139.html', 'summary': 'صرف منحة استثنائية لفائدة أرامل ومتقاعدي الأمن الوطني. هبة بريس خصصت مؤسسة محمد السادس للأعمال الاجتماعية لموظفي الأمن الوطني مساعدة مالية استثنائية لفائدة أرامل الأمن الوطني، ممن يتقاضون معاشا يساوي أو يقل عن 2000 درهم، وكذا للمتقاعدين الذين يتقاضون راتبا شهريا في حدود 2500 درهم. وتأتي هذه المبادرة الاجتماعية في سياق تنزيل توجيهات المدير العام للأمن الوطني ولمراقبة التراب الوطني عبد اللطيف حموشي، القاضية بالنهوض بالأوضاع الاجتماعية لأسرة الأمن الوطني، بما فيها فئة الأرامل والمتقاعدين، مع الحرص على توسيع قاعدة المستفيدات والمستفيدين والذين بلغ عددهم 4226 أرملة و572 متقاعدة ومتقاعدا. وضمانا لتسليم هذا الدعم المالي لمستحقيه من الأرامل والمتقاعدين في الوقت المناسب، وفي أيسر الآجال، فقد تم التوافق مع الصندوق المغربي للتقاعد لتحويل المبالغ المرصودة لحسابات المستحقين ابتداءً من يوم أمس الأربعاء 9 يوليوز الجاري. كما تعكف حاليا مؤسسة محمد السادس للأعمال الاجتماعية لموظفي الأمن الوطني، بتوجيهات من عبد اللطيف حموشي، على دراسة الوضعيات المالية للدفعة الثانية من الأرامل والمتقاعدين الذين تتوافر فيهم شروط الاستفادة من هذا الدعم التضامني، وذلك ليتسنى تحويل مبالغ الدعم لحساباتهم البنكية في القريب العاجل. وتجسد هذه المبادرة الاجتماعية والتضامنية العناية الموصولة لفئة أرامل ومتقاعدي الأمن الوطني، كما أنها تعزز أواصر التواصل والتضامن مع هذه الفئة العزيزة من أسرة الأمن الوطني.', 'size': 2}, {'id': '343', 'title': 'بتوجيهات من حموشي.. صرف منحة استثنائية لفائدة أرامل ومتقاعدي الأمن الوطني', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%aa%d9%88%d8%ac%d9%8a%d9%87%d8%a7%d8%aa-%d9%85%d9%86-%d8%ad%d9%85%d9%88%d8%b4%d9%8a-%d8%b5%d8%b1%d9%81-%d9%85%d9%86%d8%ad%d8%a9-%d8%a7%d8%b3%d8%aa%d8%ab%d9%86%d8%a7%d8%a6%d9%8a%d8%a9-%d9%84/', 'summary': 'بتوجيهات من حموشي.. صرف منحة استثنائية لفائدة أرامل ومتقاعدي الأمن الوطني. خصصت مؤسسة محمد السادس للأعمال الاجتماعية لموظفي الأمن الوطني مساعدة مالية استثنائية لفائدة أرامل الأمن الوطني، ممن يتقاضون معاشا يساوي أو يقل عن 2000 درهم، وكذا للمتقاعدين الذين يتقاضون راتبا شهريا في حدود 2500 درهم. وأوضح مصدر مطلع أن هذه المبادرة الاجتماعية تأتي في سياق تنزيل توجيهات المدير العام للأمن الوطني لمراقبة التراب الوطني عبد', 'size': 3}, {'id': '377', 'title': 'إدارة الأمن تصرف منحة استثنائية لفائدة أرامل منتسبيها ومتقاعديها', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a5%d8%af%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%a3%d9%85%d9%86-%d8%aa%d8%b5%d8%b1%d9%81-%d9%85%d9%86%d8%ad%d8%a9-%d8%a7%d8%b3%d8%aa%d8%ab%d9%86%d8%a7%d8%a6%d9%8a%d8%a9-%d9%84%d9%81%d8%a7%d8%a6%d8%af/', 'summary': 'إدارة الأمن تصرف منحة استثنائية لفائدة أرامل منتسبيها ومتقاعديها. خصصت مؤسسة محمد السادس للأعمال الاجتماعية لموظفي الأمن الوطني مساعدة مالية استثنائية لفائدة أرامل الأمن الوطني، ممن يتقاضون معاشا يساوي أو يقل عن 2000 درهم، وكذا للمتقاعدين الذين يتقاضون راتبا شهريا في حدود 2500 درهم. وتأتي هذه المبادرة الاجتماعية، بحسب مصدر أمني، في سياق تنزيل توجيهات المدير العام للأمن الوطني ولمراقبة التراب الوطني عبد اللطيف  إدارة الأمن تصرف منحة استثنائية لفائدة أرامل منتسبيها ومتقاعديها     .', 'size': 3}, {'id': '404', 'title': 'مبادرة اجتماعية جديدة من حموشي: منحة استثنائية لأرامل ومتقاعدي الأمن الوطني', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224450/', 'summary': 'مبادرة اجتماعية جديدة من حموشي: منحة استثنائية لأرامل ومتقاعدي الأمن الوطني. خصصت مؤسسة محمد السادس للأعمال الاجتماعية لموظفي الأمن الوطني مساعدة مالية استثنائية لفائدة أرامل الأمن الوطني، ممن يتقاضون معاشا يساوي أو يقل عن 2000 درهم، وكذا للمتقاعدين الذين يتقاضون راتبا شهريا في حدود 2500 درهم. وتأتي هذه المبادرة الاجتماعية في سياق تنزيل توجيهات المدير العام للأمن الوطني لمراقبة التراب الوطني عبد اللطيف حموشي، القاضية', 'size': 5}], 'main_title': 'مبادرة اجتماعية جديدة من حموشي: منحة استثنائية لأرامل ومتقاعدي الأمن الوطني'}, {'community_id': '7', 'articles': [{'id': '322', 'title': 'المنتخب المغربي يحافظ على مركزه في تصنيف الفيفا', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/lionatlas/409060.html', 'summary': 'المنتخب المغربي يحافظ على مركزه في تصنيف الفيفا. حافظ المنتخب المغربي لكرة القدم (رجال) على مركزه الـ12 عالميا في أحدث تصنيف للإتحاد الدولي لكرة القدم (فيفا)، الصادر اليوم الخميس. وأضاف المنتخب المغربي لرصيده 4.48', 'size': 2}, {'id': '399', 'title': 'المنتخب الوطني لكرة القدم يحافظ على مركزه الـ12 عالميا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224467/', 'summary': 'المنتخب الوطني لكرة القدم يحافظ على مركزه الـ12 عالميا. كواليس اليوم حافظ المنتخب المغربي لكرة القدم (رجال) على مركزه الـ12 عالميا في أحدث تصنيف للإتحاد الدولي لكرة القدم (فيفا)، الصادر اليوم الخميس. وأضاف المنتخب المغربي لرصيده 4.48 نقاط بعد تحقيقه لفوزين في مبارتين وديتين على كل من تونس بحصة (2-0) يوم 6 يونيو، ثم على بنين بحصة (1-0) يوم 9 يونيو، لينهي بذلك', 'size': 2}], 'main_title': 'المنتخب المغربي يحافظ على مركزه في تصنيف الفيفا'}, {'community_id': '8', 'articles': [{'id': '324', 'title': 'السياحة المغربية تسجل رقما قياسيا جديدا في شهر يونيو', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/409062.html', 'summary': 'السياحة المغربية تسجل رقما قياسيا جديدا في شهر يونيو. أعلنت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني أن المغرب استقبل، خلال النصف الأول من السنة الجارية، 8,9 ملايين سائح، بارتفاع بنسبة 19 في المئة', 'size': 2}, {'id': '409', 'title': 'وزارة السياحة: المغرب استقبل قرابة 9 ملايين سائح في 6 أشهر', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%b3%d9%8a%d8%a7%d8%ad%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%a7%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d9%82%d8%b1%d8%a7%d8%a8%d8%a9-9-%d9%85%d9%84%d8%a7/', 'summary': 'وزارة السياحة: المغرب استقبل قرابة 9 ملايين سائح في 6 أشهر. المساء اليوم: أعلنت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني أن المغرب استقبل، خلال النصف الأول من السنة الجارية، 8,9 ملايين سائح، بارتفاع بنسبة 19 في المئة مقارنةً بالفترة ذاتها من سنة 2024، أي ما', 'size': 2}], 'main_title': 'السياحة المغربية تسجل رقما قياسيا جديدا في شهر يونيو'}, {'community_id': '9', 'articles': [{'id': '326', 'title': 'رئيس مجلس الشيوخ النيجيري يشيد بدينامية الشراكة الاقتصادية مع المغرب', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/divers/409064.html', 'summary': 'رئيس مجلس الشيوخ النيجيري يشيد بدينامية الشراكة الاقتصادية مع المغرب. أشاد رئيس مجلس الشيوخ النيجيري، غودسويل أكبابيو، بدينامية العلاقات الاقتصادية مع المغرب "الشريك الذي تزيد أهميته" بالنسبة لنيجيريا في مختلف القطاعات. وجدد رئيس مجلس الشيوخ، خلال', 'size': 2}, {'id': '394', 'title': 'رئيس مجلس الشيوخ النيجيري.. أبوجا تتطلع إلى تصدير الغاز عبر مشروع الأنبوب الإفريقي الأطلسي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469114.html', 'summary': 'رئيس مجلس الشيوخ النيجيري.. أبوجا تتطلع إلى تصدير الغاز عبر مشروع الأنبوب الإفريقي الأطلسي. أشاد رئيس مجلس الشيوخ النيجيري، غودسويل أكبابيو، بدينامية العلاقات الاقتصادية مع المغرب “الشريك الذي تزيد أهميته” بالنسبة لنيجيريا في مختلف القطاعات', 'size': 2}], 'main_title': 'رئيس مجلس الشيوخ النيجيري يشيد بدينامية الشراكة الاقتصادية مع المغرب'}, {'community_id': '10', 'articles': [{'id': '339', 'title': 'العرائش.. توقيف شخص ظهر في فيديو يحوز سلاحا أبيضا وشكل خطرا على الأشخاص والممتلكات', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b9%d8%b1%d8%a7%d8%a6%d8%b4-%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%b4%d8%ae%d8%b5-%d8%b8%d9%87%d8%b1-%d9%81%d9%8a-%d9%81%d9%8a%d8%af%d9%8a%d9%88-%d9%8a%d8%ad%d9%88%d8%b2-%d8%b3%d9%84/', 'summary': 'العرائش.. توقيف شخص ظهر في فيديو يحوز سلاحا أبيضا وشكل خطرا على الأشخاص والممتلكات. تفاعلت ولاية أمن تطوان، “بجدية كبيرة”، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي، زوال اليوم الخميس (10 يوليوز)، يظهر فيه شخص يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص والممتلكات، بمدينة العرائش. وكشف مصدر أمني أن الأبحاث والتحريات المنجزة على ضوء هذا الشريط أوضحت أن الأمر يتعلق بقضية زجرية عالجتها مصالح الأمن', 'size': 2}, {'id': '398', 'title': 'تطوان.. توقيف شخص ظهر في فيديو يحوز سلاحا أبيضا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224470/', 'summary': 'تطوان.. توقيف شخص ظهر في فيديو يحوز سلاحا أبيضا. كمال عسو ذكر مصدر أمني، بأن ولاية أمن تطوان، تفاعلت بجدية كبيرة، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي زوال اليوم الخميس، يظهر فيه شخص يحوز سلاحا أبيضا في ظروف تشكل خطرا على الأشخاص والممتلكات بمدينة العرائش. وأوضح نفس المصدر، الأبحاث والتحريات المنجزة على ضوء هذا الشريط، أظهرت أن الأمر يتعلق بقضية', 'size': 2}], 'main_title': 'العرائش.. توقيف شخص ظهر في فيديو يحوز سلاحا أبيضا وشكل خطرا على الأشخاص والممتلكات'}, {'community_id': '11', 'articles': [{'id': '359', 'title': 'الحكومة تصادق على مشروع قانون يوازن بين سلامة المواطنين والرفق بالحيوان', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1084520.html', 'summary': 'الحكومة تصادق على مشروع قانون يوازن بين سلامة المواطنين والرفق بالحيوان. صادق مجلس الحكومة، خلال اجتماعه المنعقد الخميس 10 يوليوز 2025، على مشروع القانون رقم 19.25 المتعلق بحماية الحيوانات الضالة والوقاية من أخطارها، قدمه وزير الفلاحة والصيد البحري والتنمية القروية والمياه والغابات، أحمد البواري. وحسب بلاغ لرئاسة الحكومة، فإن هذا المشروع يأتي استجابة لتحد متزايد فرض نفسه في الآونة الأخيرة، نتيجة لما تشكله ظاهرة الحيوانات الضالة ظهرت المقالة الحكومة تصادق على مشروع قانون يوازن بين سلامة المواطنين والرفق بالحيوان  .', 'size': 3}, {'id': '382', 'title': 'مشروع قانون جديد لحماية الحيوانات الضالة والوقاية من أخطارها', 'source': 'rue20.com', 'link': 'https://rue20.com/919340.html', 'summary': 'مشروع قانون جديد لحماية الحيوانات الضالة والوقاية من أخطارها.  الرباط صادق مجلس الحكومة، خلال اجتماعه المنعقد يوم الخميس 10 يوليوز 2025، على مشروع القانون رقم 19.25 المتعلق بحماية الحيوانات الضالة والوقاية من أخطارها، والذي قدمه أحمد البواري، وزير الفلاحة والصيد البحري والتنمية القروية والمياه والغابات. ويأتي هذا المشروع في سياق تزايد الإشكالات المرتبطة بظاهرة انتشار الحيوانات الضالة، والتي أصبحت في الآونة الأخيرة تشكل الخبر مشروع قانون جديد لحماية الحيوانات الضالة والوقاية من أخطارها  .', 'size': 2}, {'id': '389', 'title': 'مجلس الحكومة يصادق على حماية الحيوانات الضالة والوقاية من أخطارها', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/469129.html', 'summary': 'مجلس الحكومة يصادق على حماية الحيوانات الضالة والوقاية من أخطارها. تداول مجلس الحكومة وصادق، اليوم الخميس، على مشروع القانون رقم 19.25 يتعلق بحماية الحيوانات الضالة والوقاية من أخطارها، قدمه أحمد البواري، وزير الفلاحة والصيد البحري والتنمية القروية والمياه والغابات. ويأتي هذا المشروع، وفق موقع رئاسة الحكومة، بعدما أضحت ظاهرة الحيوانات الضالة، تشكل في الآونة الأخيرة إحدى التحديات البارزة التي تفرض على الدولة اتخاذ تدابير عاجلة …', 'size': 3}, {'id': '406', 'title': 'مجلس الحكومة يصادق على مشروع قانون لحماية الحيوانات الضالة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224446/', 'summary': 'مجلس الحكومة يصادق على مشروع قانون لحماية الحيوانات الضالة. أحمد التدلاوي مجلس الحكومة خلال اجتماعه المنعقد اليوم الخميس، على مشروع القانون رقم 19.25 يتعلق بحماية الحيوانات الضالة والوقاية من أخطارها، قدمه أحمد البواري، وزير الفلاحة والصيد البحري والتنمية القروية والمياه والغابات. ويأتي هذا المشروع بعدما أضحت ظاهرة الحيوانات الضالة، تشكل في الآونة الأخيرة إحدى التحديات البارزة التي تفرض على الدولة اتخاذ تدابير عاجلة', 'size': 2}], 'main_title': 'الحكومة تصادق على مشروع قانون يوازن بين سلامة المواطنين والرفق بالحيوان'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
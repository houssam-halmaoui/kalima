<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 12/08/2025 - 06h23</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '10', 'articles': [{'id': '53', 'title': 'طقس الإثنين.. أجواء حارة بمعظم مناطق المملكة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-648475.html', 'summary': 'طقس الإثنين.. أجواء حارة بمعظم مناطق المملكة. هبة بريس تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم الاثنين، أن يظل الطقس حارا إلى محليا جد حار بسهول تادلة، والرحامنة، وهضاب الفوسفاط، ووالماس، والسايس، والغرب، واللوكوس، وسوس، والجنوب الشرقي وداخل الأقاليم الجنوبية للمملكة. ويرتقب تشكل كتل ضبابية أو أمطار جد خفيفة محليا، خلال الصباح والليل، وفوق المناطق الساحلية الشمالية، والوسطى. وستكون السماء قليلة السحب الى غائمة جزئيا بمرتفعات الأطلسين الكبير والصغير، والجنوب والجنوب الشرقي، فضلا عن تسجيل هبات رياح أحيانا قوية نوعا ما بالسهول الوسطى، وبالأقاليم الصحراوية للمملكة. وستتراوح درجات الحرارة الدنيا ما بين 27 و33 درجة بسوس، والشياظمة، والجنوب الشرقي، والجنوب، وما بين 22 و28 درجة بالسهول الواقعة غرب الأطلس، والسايس، وهضاب الفوسفاط، ووالماس، والغرب، والشاوية، وعبدة، وجنوب الريف، وما بين 17 و22 درجة بباقي جهات المملكة. وستكون درجات الحرارة خلال النهار في انخفاض بالجنوب، وفي ارتفاع أو مستقرة بباقي المناطق. أما البحر فسيكون هادئا إلى قليل الهيجان بالواجهة المتوسطية، وقليل الهيجان إلى هائج بالبوغاز، وقليل الهيجان إلى محليا هائج بباقي السواحل.', 'size': 2}, {'id': '189', 'title': 'طقس الاثنين: أجواء جد حارة بعدد من المناطق المغربية', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357619.html', 'summary': 'طقس الاثنين: أجواء جد حارة بعدد من المناطق المغربية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، أن يظل الطقس حارا إلى محليا جد حار بسهول تادلة، والرحامنة، وهضاب الفوسفاط، ووالماس، والسايس، والغرب، واللوكوس، وسوس، والجنوب الشرقي وداخل الأقاليم الجنوبية للمملكة. ويرتقب تشكل كتل ضبابية أو أمطار جد خفيفة محليا، خلال الصباح والليل، وفوق المناطق الساحلية الشمالية، والوسطى. وستكون السماء قليلة السحب الى غائمة', 'size': 2}], 'main_title': 'طقس الإثنين.. أجواء حارة بمعظم مناطق المملكة'}, {'community_id': '2', 'articles': [{'id': '76', 'title': 'بلاغ وكيل الملك حول واقعة الإساءة للذات الإلهية من طرف ابتسام لشكر', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/410847.html', 'summary': 'بلاغ وكيل الملك حول واقعة الإساءة للذات الإلهية من طرف ابتسام لشكر. أعلن وكيل الملك لدى المحكمة الابتدائية بالرباط أنه على إثر قيام سيدة بنشر صورة لها بحسابها على إحدى منصات التواصل الاجتماعي تظهر فيها وهي ترتدي', 'size': 2}, {'id': '194', 'title': 'ابتسام لشكر تواجه عقوبة سجنية ثقيلة بتهمة الإساءة للذات الإلهية', 'source': 'rue20.com', 'link': 'https://rue20.com/927819.html', 'summary': 'ابتسام لشكر تواجه عقوبة سجنية ثقيلة بتهمة الإساءة للذات الإلهية.  | الرباط أعلنت النيابة العامة وضع الناشطة الحقوقية ابتسام لشكر، المدافعة عن الحريات الفردية، رهن الإيقاف، على خلفية نشرها صورة عبر وسائل التواصل الاجتماعي وهي ترتدي قميصًا يحمل عبارات “مسيئة للذات الإلهية”. وأوضح وكيل الملك لدى المحكمة الابتدائية بالرباط، في بيان رسمي، أن النيابة العامة أمرت بفتح بحث قضائي بعد تداول الصورة مرفقة الخبر ابتسام لشكر تواجه عقوبة سجنية ثقيلة بتهمة الإساءة للذات الإلهية  .', 'size': 2}, {'id': '239', 'title': 'عاجل من وكيل الملك: ابتسام لشكر تم وضعها رهن الحراسة النظرية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225803/', 'summary': 'عاجل من وكيل الملك: ابتسام لشكر تم وضعها رهن الحراسة النظرية. أعلن وكيل الملك لدى المحكمة الابتدائية بالرباط أنه على إثر قيام سيدة بنشر صورة لها بحسابها على إحدى منصات التواصل الاجتماعي تظهر فيها وهي ترتدي قميصا مكتوب عليه عبارات مسيئة للذات الإلهية وأرفقت الصورة بتدوينة تتضمن إهانة للدين الإسلامي. أمرت النيابة العامة بفتح بحث في الموضوع، ونظرا لضرورته تم وضع المعنية بالأمر تحت الحراسة', 'size': 3}], 'main_title': 'عاجل من وكيل الملك: ابتسام لشكر تم وضعها رهن الحراسة النظرية'}, {'community_id': '7', 'articles': [{'id': '113', 'title': 'شبكة الفواتير الوهمية تدفع المحكمة الابتدائية بفاس لإصدار حكم بالسجن 17 سنة ودفع 62 مليار درهم تعويضاً للدولة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/410891.html', 'summary': 'شبكة الفواتير الوهمية تدفع المحكمة الابتدائية بفاس لإصدار حكم بالسجن 17 سنة ودفع 62 مليار درهم تعويضاً للدولة. أصدرت المحكمة الابتدائية بفاس أحكامها ضد شبكة "الفواتير الوهمية"، حيث قضت بسجن المتهمين لمدة تصل إلى 17 سنة نافذة، مع فرض غرامات مالية متفاوتة. وألزمت المحكمة', 'size': 2}, {'id': '169', 'title': 'ابتدائية فاس تدين شبكة “الفواتير الوهمية” بـ17 سنة سجنا و62 مليار تعويضا للدولة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1092127.html', 'summary': 'ابتدائية فاس تدين شبكة “الفواتير الوهمية” بـ17 سنة سجنا و62 مليار تعويضا للدولة. أصدرت المحكمة الابتدائية بفاس حكمها على شبكة “الفواتير الوهمية”، حيث قضت بسجن المتهمين لمدة إجمالية تبلغ 17 سنة نافذة، مع فرض غرامات مالية متفاوتة. كما ألزمت المحكمة المتهمين بدفع تعويضات مالية تفوق 62 مليار درهم لصالح الدولة المغربية، ممثلة في وزارة الاقتصاد والمالية والمديرية العامة للضرائب. وتضمن الحكم السجن النافذ لمدة سنتين وغرامة 500 درهم ظهرت المقالة ابتدائية فاس تدين شبكة “الفواتير الوهمية” بـ17 سنة سجنا و62 مليار تعويضا للدولة  .', 'size': 2}], 'main_title': 'شبكة الفواتير الوهمية تدفع المحكمة الابتدائية بفاس لإصدار حكم بالسجن 17 سنة ودفع 62 مليار درهم تعويضاً للدولة'}, {'community_id': '0', 'articles': [{'id': '124', 'title': 'على خطى المبادرة الأمريكية.. مرصد يطالب العالم بتصنيف البوليساريو منظمة إرهابية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%b9%d9%84%d9%89-%d8%ae%d8%b7%d9%89-%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d8%a3%d9%85%d8%b1%d9%8a%d9%83%d9%8a%d8%a9-%d9%85%d8%b1%d8%b5%d8%af-%d9%8a%d8%b7%d8%a7%d9%84%d8%a8/', 'summary': 'على خطى المبادرة الأمريكية.. مرصد يطالب العالم بتصنيف البوليساريو منظمة إرهابية. جدد المرصد الوطني للدراسات الاستراتيجية دعوته المنتظم الدولي لتصنيف ميليشيا البوليساريو الانفصالية كتنظيم إرهابي، مشددا على أنه تمثل خطرا حقيقيا على المستويين الإقليمي والدولي، من خلال تورطها في اعتداءات ممنهجة ضد المدنيين، وانخراطها في شبكات تهريب السلاح والمخدرات، فضلا عن تجنيد الأطفال والتنسيق مع تنظيمات إرهابية تنشط في منطقة الساحل الإفريقي”. وفي بلاغ توصل به', 'size': 2}, {'id': '203', 'title': 'مرصد الدراسات الاستراتيجية يدعو دول العالم لتصنيف ” البوليساريو” كتنظيم إرهابي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/472312.html', 'summary': 'مرصد الدراسات الاستراتيجية يدعو دول العالم لتصنيف ” البوليساريو” كتنظيم إرهابي. أكد المرصد الوطني للدراسات الاستراتيجية متابعته باهتمام بالغ التطورات المرتبطة بالأنشطة المهددة للأمن والاستقرار التي تقوم بها ما يُعرف بـ”جبهة البوليساريو”، والتي تمثل خطرا حقيقيا على المستويين الإقليمي والدولي. وشدد المرصد الوطني للدراسات الاستراتيجية في بلاغ له، على تورط عناصر مايعرف ب” جبهة البوليساريو ” في اعتداءات ممنهجة ضد المدنيين، وانخراطها في شبكات تهريب السلاح …', 'size': 2}], 'main_title': 'على خطى المبادرة الأمريكية.. مرصد يطالب العالم بتصنيف البوليساريو منظمة إرهابية'}, {'community_id': '9', 'articles': [{'id': '125', 'title': 'للمشاركة في الدورة الـ16 للمخيم الصيفي لوكالة بيت مال القدس.. وصول أطفال القدس إلى الدار البيضاء (صور)', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%84%d9%84%d9%85%d8%b4%d8%a7%d8%b1%d9%83%d8%a9-%d9%81%d9%8a-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d8%a9-%d8%a7%d9%84%d9%8016-%d9%84%d9%84%d9%85%d8%ae%d9%8a%d9%85-%d8%a7%d9%84%d8%b5%d9%8a%d9%81%d9%8a-%d9%84/', 'summary': 'للمشاركة في الدورة الـ16 للمخيم الصيفي لوكالة بيت مال القدس.. وصول أطفال القدس إلى الدار البيضاء (صور). وصل، صباح اليوم الاثنين (11 غشت)، إلى الدار البيضاء، 50 طفلا وطفلة من القدس للمشاركة في فعاليات الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس، دورة “حارة المغاربة”، التي تنظمها وكالة بيت مال القدس الشريف، تحت الرعاية السامية لصاحب الجلالة الملك محمد السادس، رئيس لجنة القدس. وذكر بلاغ للوكالة أن البرنامج الرسمي للدورة يفتتح غدا', 'size': 4}, {'id': '128', 'title': 'وصول أطفال القدس للمشاركة في المخيم الصيفي لوكالة بيت مال القدس بالبيضاء', 'source': 'assabah.ma', 'link': 'https://assabah.ma/865279.html', 'summary': 'وصول أطفال القدس للمشاركة في المخيم الصيفي لوكالة بيت مال القدس بالبيضاء. وصل، صباح اليوم الاثنين إلى الدار البيضاء، 50 طفلا وطفلة من القدس للمشاركة في فعاليات الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس، دورة “حارة المغاربة”، التي تنظمها وكالة بيت مال القدس الشريف، تحت الرعاية السامية لصاحب الجلالة الملك محمد السادس، رئيس لجنة القدس. وذكر بلاغ للوكالةأكمل القراءة » المقالة وصول أطفال القدس للمشاركة في المخيم الصيفي لوكالة بيت مال القدس بالبيضاء  .', 'size': 5}, {'id': '182', 'title': 'دورة "حارة المغاربة".. تلاقي الأجيال بين أطفال القدس والمغرب في مخيم صيفي', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%af%d9%88%d8%b1%d8%a9-%d8%ad%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d9%85%d8%ba%d8%a7%d8%b1%d8%a8%d8%a9-%d8%aa%d9%84%d8%a7%d9%82%d9%8a-%d8%a7%d9%84%d8%a3%d8%ac%d9%8a%d8%a7%d9%84-%d8%a8%d9%8a%d9%86/', 'summary': 'دورة "حارة المغاربة".. تلاقي الأجيال بين أطفال القدس والمغرب في مخيم صيفي. وصل، صباح اليوم الاثنين، إلى الدار البيضاء 50 طفلا وطفلة من القدس للمشاركة في فعاليات الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس، دورة "حارة المغاربة"، التي تنظمها وكالة بيت مال القدس، تحت رعاية الملك محمد السادس، رئيس لجنة القدس. وذكر بلاغ للوكالة أن البرنامج الرسمي للدورة يفتتح غدا الثلاثاء بانطلاق فعاليات المدرسة الصيفية، التي  دورة "حارة المغاربة".. تلاقي الأجيال بين أطفال القدس والمغرب في مخيم صيفي     .', 'size': 3}, {'id': '202', 'title': 'وصول أطفال القدس إلى المغرب للمشاركة في الدورة الـ 16 للمخيم الصيفي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/472315.html', 'summary': 'وصول أطفال القدس إلى المغرب للمشاركة في الدورة الـ 16 للمخيم الصيفي. وصل، صباح اليوم الاثنين إلى الدار البيضاء، 50 طفلا وطفلة من القدس للمشاركة في فعاليات الدورة الـ 16 للمخيم الصيفي لفائدة أطفال القدس، دورة “حارة المغاربة”، التي تنظمها وكالة بيت مال القدس الشريف، تحت الرعاية السامية لصاحب الجلالة الملك محمد السادس، رئيس لجنة القدس. وذكر بلاغ للوكالة أن البرنامج الرسمي للدورة يفتتح غدا الثلاثاء بانطلاق …', 'size': 4}, {'id': '252', 'title': 'أطفال القدس يشاركون في الدورة الـ16 للمخيم الصيفي لوكالة بيت مال القدس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a3%d8%b7%d9%81%d8%a7%d9%84-%d8%a7%d9%84%d9%82%d8%af%d8%b3-%d9%8a%d8%b4%d8%a7%d8%b1%d9%83%d9%88%d9%86-%d9%81%d9%8a-%d8%a7%d9%84%d8%af%d9%88%d8%b1%d8%a9-%d8%a7%d9%84%d9%8016-%d9%84%d9%84%d9%85%d8%ae/', 'summary': 'أطفال القدس يشاركون في الدورة الـ16 للمخيم الصيفي لوكالة بيت مال القدس. حل صباح اليوم الاثنين بمدينة الدار البيضاء خمسون طفلا وطفلة من القدس، للمشاركة في فعاليات الدورة السادسة عشرة للمخيم الصيفي لفائدة أطفال القدس، والذي يحمل هذه السنة اسم “دورة حارة المغاربة”، وتنظمه وكالة بيت مال القدس الشريف تحت الرعاية السامية للملك محمد السادس، رئيس لجنة القدس. وفي هذا السياق، أفاد بلاغ للوكالة أن …  أطفال القدس يشاركون في الدورة الـ16 للمخيم الصيفي لوكالة بيت مال القدس     .', 'size': 5}], 'main_title': 'وصول أطفال القدس للمشاركة في المخيم الصيفي لوكالة بيت مال القدس بالبيضاء'}, {'community_id': '8', 'articles': [{'id': '155', 'title': '“لارام” تعزز شبكة “رحلات بلا توقف” انطلاقا من مراكش نحو فرنسا وبلجيكا', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-584558.html', 'summary': '“لارام” تعزز شبكة “رحلات بلا توقف” انطلاقا من مراكش نحو فرنسا وبلجيكا. عززت شركة الخطوط الملكية المغربية، الفاعل السياحي الرئيسي على الصعيد الوطني، شبكة خطوطها “رحلات بلا توقف” بإطلاق مسارات جوية مباشرة ما بين مراكش والمدن الفرنسية ليون وتولوز ونانت وبوردو، وذلك ابتداء من 10 أكتوبر 2025. وذكر بلاغ للشركة أن هذه الأخيرة تعتزم أيضا تعزيز وتيرة رحلاتها على الخطوط الجوية الرابطة ما بين مراكش', 'size': 2}, {'id': '175', 'title': '“لارام” توسع شبكة رحلاتها المباشرة من مراكش نحو فرنسا وبلجيكا', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1092114.html', 'summary': '“لارام” توسع شبكة رحلاتها المباشرة من مراكش نحو فرنسا وبلجيكا. أعلنت الخطوط الملكية المغربية، الإثنين، عن إطلاق وتعزيز عدد من الخطوط الجوية المباشرة انطلاقا من مراكش نحو مدن فرنسية وبلجيكية، في خطوة تهدف إلى دعم الربط الجوي للمملكة مع أبرز الأسواق السياحية الأوروبية، وترسيخ مكانة الشركة كفاعل رئيسي في القطاع السياحي الوطني. ويدخل هذا القرار، الذي يبدأ تنفيذه اعتبارا من 10 أكتوبر المقبل، حسب بلاغ ظهرت المقالة “لارام” توسع شبكة رحلاتها المباشرة من مراكش نحو فرنسا وبلجيكا  .', 'size': 2}], 'main_title': '“لارام” تعزز شبكة “رحلات بلا توقف” انطلاقا من مراكش نحو فرنسا وبلجيكا'}, {'community_id': '3', 'articles': [{'id': '199', 'title': 'إعداد “ميزانية 2026” يستنفر الوزراء قبل انتهاء مهلة رئيس الحكومة', 'source': 'rue20.com', 'link': 'https://rue20.com/927791.html', 'summary': 'إعداد “ميزانية 2026” يستنفر الوزراء قبل انتهاء مهلة رئيس الحكومة.  | الرباط أخذ مسار إعداد قانون المالية 2026 منعطفا حاسما مع صدور منشور لرئيس الحكومة بمثابة الرسالة التأطيرية لإعداد مشروع قانون المالية للسنة المالية 2026 ، وقرب بداية المناقشات الميزانياتية. رئيس الحكومة و في الرسالة التأطيرية التي بعث بها إلى الوزراء، ذكر أنه بناء على الأولويات المسطرة لمشروع قانون المالية للسنة المالية 2026، الخبر إعداد “ميزانية 2026” يستنفر الوزراء قبل انتهاء مهلة رئيس الحكومة  .', 'size': 2}, {'id': '240', 'title': 'أربع أولويات كبرى في مشروع قانون المالية لسنة 2026', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a3%d8%b1%d8%a8%d8%b9-%d8%a3%d9%88%d9%84%d9%88%d9%8a%d8%a7%d8%aa-%d9%83%d8%a8%d8%b1%d9%89-%d9%81%d9%8a-%d9%85%d8%b4%d8%b1%d9%88%d8%b9-%d9%82%d8%a7%d9%86%d9%88%d9%86-%d8%a7%d9%84%d9%85%d8%a7%d9%84/', 'summary': 'أربع أولويات كبرى في مشروع قانون المالية لسنة 2026. المساء اليوم – الرباط: حدد مشروع قانون المالية برسم سنة 2026، أربع أولويات كبرى ترسم معالم مرحلة جديدة، وفق ما جاء في المذكرة التوجيهية للمشروع التي وجهها رئيس الحكومة إلى القطاعات الوزارية. ويتعلق الأمر بتعزيز', 'size': 2}], 'main_title': 'إعداد “ميزانية 2026” يستنفر الوزراء قبل انتهاء مهلة رئيس الحكومة'}, {'community_id': '1', 'articles': [{'id': '236', 'title': 'توقيف عنصر داعشي خطير خطط لصنع متفجرات لأجل مشاريع إرهابية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/225813/', 'summary': 'توقيف عنصر داعشي خطير خطط لصنع متفجرات لأجل مشاريع إرهابية. تمكن المكتب المركزي للأبحاث القضائية، على ضوء معلومات استخباراتية وفرتها مصالح المديرية العامة لمراقبة التراب الوطني، صباح أمس الأحد، من توقيف عنصر حامل للفكر المتشدد الذي يتبناه تنظيم “داعش” الإرهابي، يبلغ من العمر 18 سنة، وينشط بدوار العمارنة بإقليم سطات، وذلك في سياق العمليات الأمنية المتواصلة لتحييد مخاطر التنظيمات الإرهابية التي تحدق بأمن المملكة وسلامة المواطنين.', 'size': 2}, {'id': '242', 'title': 'توقيف عنصر حامل للفكر المتشدد بدوار العمارنة بإقليم سطات', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%b9%d9%86%d8%b5%d8%b1-%d8%ad%d8%a7%d9%85%d9%84-%d9%84%d9%84%d9%81%d9%83%d8%b1-%d8%a7%d9%84%d9%85%d8%aa%d8%b4%d8%af%d8%af-%d8%a8%d8%af%d9%88%d8%a7%d8%b1-%d8%a7%d9%84/', 'summary': 'توقيف عنصر حامل للفكر المتشدد بدوار العمارنة بإقليم سطات. المساء اليوم: تمكن المكتب المركزي للأبحاث القضائية، على ضوء معلومات استخباراتية وفرتها مصالح المديرية العامة لمراقبة التراب الوطني، صباح أمس الأحد، من توقيف عنصر حامل للفكر المتشدد الذي يتبناه تنظيم “داعش” الإرهابي، يبلغ من العمر', 'size': 2}], 'main_title': 'توقيف عنصر داعشي خطير خطط لصنع متفجرات لأجل مشاريع إرهابية'}, {'community_id': '4', 'articles': [{'id': '254', 'title': 'المغرب\xa0ضيف شرف\xa0معرض بنما\xa0الدولي للكتاب', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%b6%d9%8a%d9%81-%d8%b4%d8%b1%d9%81-%d9%85%d8%b9%d8%b1%d8%b6-%d8%a8%d9%86%d9%85%d8%a7-%d8%a7%d9%84%d8%af%d9%88%d9%84%d9%8a-%d9%84%d9%84%d9%83/', 'summary': 'المغرب ضيف شرف معرض بنما الدولي للكتاب. تحل المملكة المغربية، ضيفة شرف على الدورة الحادية والعشرين لمعرض بنما الدولي للكتاب، المزمع تنظيمها في الفترة ما بين 11 و 17 غشت 2025، بفضاء أتلابا Atlapa ببنما سيتي. وحسب بلاغ وزارة الشباب والثقافة والتواصل، فإن هذه المشاركة المغربية الأولى من نوعها في بلد أمريكي لاتيني، تأتي ضمن حركية لافتة تشهدها العلاقات الثنائية المتعددة الأبعاد بين المغرب وبنما، على غرار ما …  المغرب ضيف شرف معرض بنما الدولي للكتاب     .', 'size': 2}, {'id': '282', 'title': 'معرض بنما للكتاب يستضيف المغرب', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%85%d8%b9%d8%b1%d8%b6-%d8%a8%d9%86%d9%85%d8%a7-%d9%84%d9%84%d9%83%d8%aa%d8%a7%d8%a8-%d9%8a%d8%b3%d8%aa%d8%b6%d9%8a%d9%81-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-1607404.html', 'summary': 'معرض بنما للكتاب يستضيف المغرب. تحل المملكة المغربية ضيفة شرف على الدورة الحادية والعشرين لمعرض بنما الدولي للكتاب، المقام من 11 إلى 17 غشت الجاري بفضاء أتلابا في بنما سيتي، في أولى مشاركة مغربية من نوعها في بلد من أمريكا اللاتينية. تأتي هذه المبادرة في إطار الدينامية المتنامية للعلاقات المغربية – البنمية، وما يشهده التعاون بين المغرب وعدد من دول  معرض بنما للكتاب يستضيف المغرب     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}], 'main_title': 'المغرب\xa0ضيف شرف\xa0معرض بنما\xa0الدولي للكتاب'}, {'community_id': '5', 'articles': [{'id': '284', 'title': 'تراجع أسعار الفائدة على القروض', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%aa%d8%b1%d8%a7%d8%ac%d8%b9-%d8%a3%d8%b3%d8%b9%d8%a7%d8%b1-%d8%a7%d9%84%d9%81%d8%a7%d8%a6%d8%af%d8%a9-%d8%b9%d9%84%d9%89-%d8%a7%d9%84%d9%82%d8%b1%d9%88%d8%b6-1607551.html', 'summary': 'تراجع أسعار الفائدة على القروض. أفادت نتائج الاستقصاء الفصلي لبنك المغرب حول أسعار الفائدة على القروض برسم الفصل الثاني من 2025 بأن سعر الفائدة الإجمالي على القروض تراجع إلى 4,84 في المائة، مسجلا انخفاضا بـ14 نقطة أساس. وأشار بنك المغرب إلى أنه على الصعيد الاقتصادي، استقرت أسعار الفائدة عند 4,65 في المائة بالنسبة لتسهيلات الخزينة، و4,83 في المائة لقروض التجهيز،  تراجع أسعار الفائدة على القروض     - هسبريس جريدة إلكترونية مغربية .', 'size': 3}, {'id': '358', 'title': 'أسعار الفائدة تتراجع بالمغرب.. هل يدخل الاقتصاد مرحلة انتعاش جديدة؟', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/320792/', 'summary': 'أسعار الفائدة تتراجع بالمغرب.. هل يدخل الاقتصاد مرحلة انتعاش جديدة؟. أفادت نتائج الاستقصاء الفصلي لبنك المغرب حول أسعار الفائدة على القروض برسم الفصل الثاني من 2025، بأن سعر الفائدة الإجمالي على القروض تراجع إلى 4,84 في المائة، مسجلا انخفاضا بـ14 نقطة أساس. وأشار بنك المغرب إلى أنه على الصعيد الاقتصادي، استقرت أسعار الفائدة عند 4,65 في المائة بالنسبة لتسهيلات الخزينة، و4,83 في المائة لقروض التجهيز،', 'size': 3}, {'id': '379', 'title': 'بنك المغرب: تراجع أسعار الفائدة على القروض إلى 4,84% في الفصل الثاني من 2025', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d9%86%d9%83-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%aa%d8%b1%d8%a7%d8%ac%d8%b9-%d8%a3%d8%b3%d8%b9%d8%a7%d8%b1-%d8%a7%d9%84%d9%81%d8%a7%d8%a6%d8%af%d8%a9-%d8%b9%d9%84%d9%89-%d8%a7%d9%84%d9%82/', 'summary': 'بنك المغرب: تراجع أسعار الفائدة على القروض إلى 4,84% في الفصل الثاني من 2025. أفادت نتائج الاستقصاء الفصلي لبنك المغرب حول أسعار الفائدة على القروض برسم الفصل الثاني من 2025، بأن سعر الفائدة الإجمالي على القروض تراجع إلى 4,84 في المائة، مسجلا انخفاضا بـ14 نقطة أساس. وأشار بنك المغرب إلى أنه على الصعيد الاقتصادي، استقرت أسعار الفائدة عند 4,65 في المائة بالنسبة لتسهيلات الخزينة، و4,83 في المائة لقروض التجهيز،  بنك المغرب: تراجع أسعار الفائدة على القروض إلى 4,84% في الفصل الثاني من 2025     .', 'size': 3}], 'main_title': 'تراجع أسعار الفائدة على القروض'}, {'community_id': '6', 'articles': [{'id': '362', 'title': 'إشادة فرنسية بنجاح عملية مرحبا 2025', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/320789/', 'summary': 'إشادة فرنسية بنجاح عملية مرحبا 2025. أكدت الإذاعة الفرنسية (Beur FM) أن عملية “مرحبا 2025” تشهد إقبالا “غير مسبوق”، حيث تجاوز عدد أفراد الجالية المغربية المقيمين بالخارج الذين عبروا الحدود منذ شهر يونيو 2,7 مليون شخص، ما يؤكد “وفاء الجالية” و”ازدهار السياحة”. وأوضحت الإذاعة، في مقال على موقعها الإلكتروني بعنوان “صيف قياسي للجالية المغربية والسياحة في المغرب!”، أن “الأرقام تتحدث عن', 'size': 3}, {'id': '393', 'title': 'إذاعة فرنسية: عملية “مرحبا 2025” تشهد إقبالا “غير مسبوق”', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/472324.html', 'summary': 'إذاعة فرنسية: عملية “مرحبا 2025” تشهد إقبالا “غير مسبوق”. و.م.ع أكدت الإذاعة الفرنسية (Beur FM) أن عملية “مرحبا 2025” تشهد إقبالا “غير مسبوق”، حيث تجاوز عدد أفراد الجالية المغربية المقيمين بالخارج الذين عبروا الحدود منذ شهر يونيو 2,7 مليون شخص، ما يؤكد “وفاء الجالية” و”ازدهار السياحة”. وأوضحت الإذاعة، في مقال على موقعها الإلكتروني بعنوان “صيف قياسي للجالية المغربية والسياحة في المغرب!”، أن “الأرقام تتحدث …', 'size': 3}, {'id': '420', 'title': 'إذاعة فرنسية: عملية “مرحبا 2025” بالمغرب تشهد إقبالا “غير مسبوق”', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a5%d8%b0%d8%a7%d8%b9%d8%a9-%d9%81%d8%b1%d9%86%d8%b3%d9%8a%d8%a9-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d9%85%d8%b1%d8%ad%d8%a8%d8%a7-2025-%d8%a8%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8/', 'summary': 'إذاعة فرنسية: عملية “مرحبا 2025” بالمغرب تشهد إقبالا “غير مسبوق”. أكدت الإذاعة الفرنسية (Beur FM) أن عملية “مرحبا 2025” تشهد إقبالا “غير مسبوق”، حيث تجاوز عدد أفراد الجالية المغربية المقيمين بالخارج الذين عبروا الحدود منذ شهر يونيو 2,7 مليون شخص، ما يؤكد “وفاء الجالية” و”ازدهار السياحة”. وأوضحت الإذاعة، في مقال نشرته على موقعها الإلكتروني بعنوان “صيف قياسي للجالية المغربية والسياحة في المغرب!”، أن …  إذاعة فرنسية: عملية “مرحبا 2025” بالمغرب تشهد إقبالا “غير مسبوق”     .', 'size': 3}], 'main_title': 'إشادة فرنسية بنجاح عملية مرحبا 2025'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
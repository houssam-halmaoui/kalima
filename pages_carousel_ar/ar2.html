<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 07/09/2025 - 18h27</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '1', 'title': 'إقليم فكيك يتصدر مقاييس الأمطار', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a5%d9%82%d9%84%d9%8a%d9%85-%d9%81%d9%83%d9%8a%d9%83-%d9%8a%d8%aa%d8%b5%d8%af%d8%b1-%d9%85%d9%82%d8%a7%d9%8a%d9%8a%d8%b3-%d8%a7%d9%84%d8%a3%d9%85%d8%b7%d8%a7%d8%b1-1620259.html', 'summary': 'إقليم فكيك يتصدر مقاييس الأمطار. في ما يلي مقاييس التساقطات المطرية المسجلة بالمملكة خلال الـ 24 ساعة الماضية، حسب المديرية العامة للأرصاد الجوية : – إقليم فكيك : 20 ملم – تارودانت: 16 ملم – بوعرفة: 13 ملم – إفران: 10 ملم – الحاجب: 3 ملم – تافراوت: 2 ملم – الحوز وشتوكة أيت باها: أقل من ملمتر  إقليم فكيك يتصدر مقاييس الأمطار     - هسبريس جريدة إلكترونية مغربية .', 'size': 3}, {'id': '129', 'title': 'مقاييس الأمطار المسجلة بالمملكة خلال الـ 24 ساعة الأخيرة', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-588202.html', 'summary': 'مقاييس الأمطار المسجلة بالمملكة خلال الـ 24 ساعة الأخيرة. في ما يلي مقاييس التساقطات المطرية المسجلة بالمملكة خلال الـ 24 ساعة الماضية، حسب المديرية العامة للأرصاد الجوية: – إقليم فكيك : 20 ملم – تارودانت: 16 ملم – بوعرفة: 13 ملم – إفران: 10 ملم – الحاجب: 3 ملم – تافراوت: 2 ملم – الحوز وشتوكة أيت باها: أقل من ملمتر', 'size': 3}, {'id': '299', 'title': 'بـ 20 ملم.. فكيك تتصدر مقاييس الأمطار خلال الـ 24 ساعة الماضية', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-655171.html', 'summary': 'بـ 20 ملم.. فكيك تتصدر مقاييس الأمطار خلال الـ 24 ساعة الماضية. هبة بريس في ما يلي مقاييس التساقطات المطرية المسجلة بالمملكة خلال الـ 24 ساعة الماضية، حسب المديرية العامة للأرصاد الجوية : – إقليم فكيك : 20 ملم – تارودانت: 16 ملم – بوعرفة: 13 ملم – إفران: 10 ملم – الحاجب: 3 ملم – تافراوت: 2 ملم – الحوز وشتوكة أيت باها: أقل من ملمتر', 'size': 3}], 'main_title': 'إقليم فكيك يتصدر مقاييس الأمطار'}, {'community_id': '1', 'articles': [{'id': '66', 'title': 'ولاية أمن أسفي تنفي صحة ما ورد في شريط فيديو يزعم ارتكاب سرقة في الشريط الساحلي بالمدينة', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205834', 'summary': 'ولاية أمن أسفي تنفي صحة ما ورد في شريط فيديو يزعم ارتكاب سرقة في الشريط الساحلي بالمدينة.  تفاعل الأمن الإقليمي بمدينة أسفي، بجدية كبيرة، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي، يظهر فيه شخصان يتنازعان حول حقيبة باستعمال السلاح الأبيض في الشريط الساحلي بالمدينة، ومشفوع بتعليق كاذب يزعم بأنها عملية للسرقة. وقد أوضحت الأبحاث والتحريات المنجزة على ضوء هذا الشريط، أن الأمر لا يتعلق بعملية للسرقة وإنما بتبادل للعنف', 'size': 2}, {'id': '310', 'title': 'فيديو نزاع مسلح حول حقيبة يستنفر الأجهزة الأمنية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/412325.html', 'summary': 'فيديو نزاع مسلح حول حقيبة يستنفر الأجهزة الأمنية. تفاعل الأمن الإقليمي بمدينة أسفي، بجدية كبيرة، مع شريط فيديو منشور على صفحات مواقع التواصل الاجتماعي، يظهر فيه شخصان يتنازعان حول حقيبة باستعمال السلاح الأبيض', 'size': 2}], 'main_title': 'ولاية أمن أسفي تنفي صحة ما ورد في شريط فيديو يزعم ارتكاب سرقة في الشريط الساحلي بالمدينة'}, {'community_id': '2', 'articles': [{'id': '78', 'title': 'في عملية نوعية.. الفرقة الوطنية المغربية تطيح بعصابة خطيرة ارتكبت عملية سطو مسلح بفرنسا', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/412282.html', 'summary': 'في عملية نوعية.. الفرقة الوطنية المغربية تطيح بعصابة خطيرة ارتكبت عملية سطو مسلح بفرنسا. أحالت الفرقة الوطنية للشرطة القضائية على النيابة العامة المختصة بمدينة الدار البيضاء، ستة أشخاص يشتبه في ارتباطهم بشبكة إجرامية متخصصة في السرقة وإخفاء عائدات', 'size': 2}, {'id': '213', 'title': 'أمن الدار البيضاء يوقف شبكة مختصة في السطو بفرنسا', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a3%d9%85%d9%86-%d8%a7%d9%84%d8%af%d8%a7%d8%b1-%d8%a7%d9%84%d8%a8%d9%8a%d8%b6%d8%a7%d8%a1-%d9%8a%d9%88%d9%82%d9%81-%d8%b4%d8%a8%d9%83%d8%a9-%d9%85%d8%ae%d8%aa%d8%b5%d8%a9-%d9%81%d9%8a-%d8%a7%d9%84/', 'summary': 'أمن الدار البيضاء يوقف شبكة مختصة في السطو بفرنسا. المساء اليوم – الدار البيضاء: أوقفت الفرقة الوطنية للشرطة القضائية على النيابة العامة المختصة بمدينة الدار البيضاء، ستة أشخاص يشتبه في ارتباطهم بشبكة إجرامية متخصصة في السرقة وإخفاء عائدات إجرامية متحصلة من عملية سطو مسلح', 'size': 2}], 'main_title': 'في عملية نوعية.. الفرقة الوطنية المغربية تطيح بعصابة خطيرة ارتكبت عملية سطو مسلح بفرنسا'}, {'community_id': '3', 'articles': [{'id': '80', 'title': 'من بينها المغرب .. خسوف "قمر الدم" يلون سماء عدد من الدول العربية مساء غد الأحد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/last/412284.html', 'summary': 'من بينها المغرب .. خسوف "قمر الدم" يلون سماء عدد من الدول العربية مساء غد الأحد. يستعد المغاربة على غرار عدد من سكان المعمور، مساء يوم غد الأحد 7 شتنبر، لمتابعة خسوف قمري كلي يُحوِّل وجه القمر إلى لون أحمر داكن فيما', 'size': 2}, {'id': '214', 'title': 'خسوف القمر اليوم: جزء يمكن رؤيته من المغرب', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%ae%d8%b3%d9%88%d9%81-%d8%a7%d9%84%d9%82%d9%85%d8%b1-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%ac%d8%b2%d8%a1-%d9%8a%d9%85%d9%83%d9%86-%d8%b1%d8%a4%d9%8a%d8%aa%d9%87-%d9%85%d9%86-%d8%a7%d9%84%d9%85%d8%ba/', 'summary': 'خسوف القمر اليوم: جزء يمكن رؤيته من المغرب. المساء اليوم – متابعات: تشهد دول الوطن العربي خسوفا قمريا يبدأ اليوم الأحد 7 سبتمبر، وفي أثناء الظاهرة سيبدو وجه القمر البدر كأنه يتآكل شيئًا فشيئًا بقدر يسير حتى يصل إلى لحظة يتحول فيها القمر', 'size': 2}], 'main_title': 'من بينها المغرب .. خسوف "قمر الدم" يلون سماء عدد من الدول العربية مساء غد الأحد'}, {'community_id': '4', 'articles': [{'id': '91', 'title': 'تصريح الركراكي يشعل غضب ساكنة وجدة ومطالب باعتذاره', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/lionatlas/412296.html', 'summary': 'تصريح الركراكي يشعل غضب ساكنة وجدة ومطالب باعتذاره. أثار تصريح وليد الركراكي، مدرب المنتخب الوطني لكرة القدم، خلال الندوة الصحافية التي تلت مباراة "الأسود" أمام النيجر، غضبًا واسعًا في مدينة وجدة، خصوصًا بين', 'size': 2}, {'id': '125', 'title': 'الركراكي يواجه غضب ساكنة وجدة وسط مطالب باعتذاره…فما القصة؟', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322697/', 'summary': 'الركراكي يواجه غضب ساكنة وجدة وسط مطالب باعتذاره…فما القصة؟. أثارت التصريحات الأخيرة لمدرب المنتخب الوطني لكرة القدم، وليد الركراكي، بشأن انزعاجه في حال أقيمت المباراة الأخيرة للأسود أمام منتخب النيجر بمدينة وجدة عوض ملعب مولاي عيد الله، غضبا واسعا وسط ساكنة المنطقة. وعبر العديد من الوجديين عن استيائهم الشديد من التصريحات التي اعتبروها مسيئة وغير مبررة، مطالبين الركراكي بتقديم اعتذار رسمي لسكان وجدة والجهة', 'size': 2}, {'id': '132', 'title': 'الركراكي يُغضب ساكنة وجدة', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-588175.html', 'summary': 'الركراكي يُغضب ساكنة وجدة. تصريح عابر من وليد الركراكي، مدرب المنتخب الوطني لكرة القدم، خلال الندوة الصحافية التي تلت مواجهة النيجر، كان كافيا لإشعال غضب في وجدة. جملة قصيرة قال فيها: “كنت غادي نتقلق لو تدار الماتش فـوجدة”، تحولت بسرعة إلى كرة نار على مواقع التواصل الاجتماعي، حيث اعتبرها كثيرون إهانة لعاصمة الشرق المغربي وأهلها.', 'size': 3}, {'id': '366', 'title': 'ساكنة وجدة غَاضبة من وليد الركراكي بعد تصريح مُثير عَقب التأهل للمونديال', 'source': 'rue20.com', 'link': 'https://rue20.com/934211.html', 'summary': 'ساكنة وجدة غَاضبة من وليد الركراكي بعد تصريح مُثير عَقب التأهل للمونديال.  / متابعة أثارت تصريحات صادرة عن الناخب الوطني وليد الركراكي، استياءا كبيرا من قبل ساكنة مدينة وجدة. وجاء في تصريح الركراكي خلال الندوة الصحفية التي أعقبت تأهل المنتخب الوطني إلى نهائيات كأس العالم 2026 بعد الفوز على النيجر بالرباط، أنه “يحمد الله على أن التأهل تحقق في الرباط وليس في مدينة وجدة”، مضيفاً الخبر ساكنة وجدة غَاضبة من وليد الركراكي بعد تصريح مُثير عَقب التأهل للمونديال  .', 'size': 3}], 'main_title': 'الركراكي يُغضب ساكنة وجدة'}, {'community_id': '5', 'articles': [{'id': '121', 'title': 'العصبة تكشف برنامج أول جولتين من البطولة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322707/', 'summary': 'العصبة تكشف برنامج أول جولتين من البطولة. كشفت العصبة الوطنية لكرة القدم الاحترافية، عن الجدول الكامل للجولتين الأولى والثانية من منافسات البطولة الوطنية في قسمها الأول. واعلنت العصبة أن الجولة الأولى ستنطلق أيام الجمعة 12 والسبت 13 والأحد 14 شتنبر الجاري. أما الجولة الثانية فستجرى مبارياتها أيام 15 و16 و17 و20 و21 شتنبر الجاري. البداية ستكون من مدينة طنجة، حيث يحتضن الملعب', 'size': 2}, {'id': '228', 'title': 'العصبة الوطنية تكشف موعد انطلاق البطولة الوطنية الاحترافية لموسم 2025-2026', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d8%b9%d8%b5%d8%a8%d8%a9-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a%d8%a9-%d8%aa%d9%83%d8%b4%d9%81-%d9%85%d9%88%d8%b9%d8%af-%d8%a7%d9%86%d8%b7%d9%84%d8%a7%d9%82-%d8%a7%d9%84%d8%a8%d8%b7%d9%88/', 'summary': 'العصبة الوطنية تكشف موعد انطلاق البطولة الوطنية الاحترافية لموسم 2025-2026. أعلنت العصبة الوطنية لكرة القدم الاحترافية عن رزنامة الجولتين الأولى والثانية من البطولة الوطنية الاحترافية “إنوي” لموسم 2025-2026، حيث ستُجرى المباريات على مدى ثلاثة أيام لكل جولة، مع برمجة مواجهات قوية بين أبرز الأندية المغربية. وفي هذا السياق، فإن الجولة الأولى تنطلق يوم الجمعة 12 شتنبر 2025 بمباراة اتحاد طنجة أمام حسنية أكادير …  العصبة الوطنية تكشف موعد انطلاق البطولة الوطنية الاحترافية لموسم 2025-2026     .', 'size': 2}], 'main_title': 'العصبة تكشف برنامج أول جولتين من البطولة'}, {'community_id': '6', 'articles': [{'id': '123', 'title': 'هلال يختتم بنجاح المفاوضات بشأن الإعلان السياسي للقمة الاجتماعية الثانية المرتقبة في الدوحة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/322705/', 'summary': 'هلال يختتم بنجاح المفاوضات بشأن الإعلان السياسي للقمة الاجتماعية الثانية المرتقبة في الدوحة. سلم السفير الممثل الدائم للمغرب لدى الأمم المتحدة، عمر هلال، برفقة نظيرته البلجيكية، صوفي دو سمدت، لرئيس الدورة الـ79 للجمعية العامة للأمم المتحدة المشروع النهائي لإعلان الدوحة السياسي حول التنمية الاجتماعية، والذي سيتم اعتماده من قبل قادة الدول والحكومات خلال القمة المزمع انعقادها في الفترة من 4 إلى 6 نونبر المقبل في العاصمة القطرية. ويعد', 'size': 4}, {'id': '142', 'title': 'الأمم المتحدة تشيد بالقيادة المغربية في الدفع نحو توافق عالمي بشأن التنمية الاجتماعية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1097821.html', 'summary': 'الأمم المتحدة تشيد بالقيادة المغربية في الدفع نحو توافق عالمي بشأن التنمية الاجتماعية. سلم السفير الممثل الدائم للمغرب لدى الأمم المتحدة، عمر هلال، برفقة نظيرته البلجيكية، صوفي دو سمدت، لرئيس الدورة الـ79 للجمعية العامة للأمم المتحدة المشروع النهائي لإعلان الدوحة السياسي حول التنمية الاجتماعية، والذي سيتم اعتماده من قبل قادة الدول والحكومات خلال القمة المزمع انعقادها في الفترة من 4 إلى 6 نونبر المقبل في العاصمة القطرية. ويعد ظهرت المقالة الأمم المتحدة تشيد بالقيادة المغربية في الدفع نحو توافق عالمي بشأن التنمية الاجتماعية  .', 'size': 3}, {'id': '178', 'title': 'هلال يختتم بنجاح المفاوضات بشأن “الإعلان السياسي” للقمة الاجتماعية الثانية في الدوحة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/474717.html', 'summary': 'هلال يختتم بنجاح المفاوضات بشأن “الإعلان السياسي” للقمة الاجتماعية الثانية في الدوحة. سلم السفير الممثل الدائم للمغرب لدى الأمم المتحدة، عمر هلال، برفقة نظيرته البلجيكية، صوفي دو سمدت، لرئيس الدورة الـ79 للجمعية العامة للأمم المتحدة، المشروع النهائي لإعلان الدوحة السياسي حول التنمية الاجتماعية، والذي سيتم اعتماده من قبل قادة الدول والحكومات خلال القمة المزمع انعقادها في الفترة من 4 إلى 6 نونبر المقبل في العاصمة القطرية.', 'size': 3}, {'id': '233', 'title': 'هلال يختتم بنجاح مفاوضات الإعلان السياسي للقمة الاجتماعية المرتقبة في الدوحة', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/هلال-يختتم-بنجاح-مفاوضات-الإعلان-السياسي-للقمة-الاجتماعية_a29371.html', 'summary': 'هلال يختتم بنجاح مفاوضات الإعلان السياسي للقمة الاجتماعية المرتقبة في الدوحة.  سلم السفير الممثل الدائم للمغرب لدى الأمم المتحدة، السيد عمر هلال، برفقة نظيرته البلجيكية، صوفي دو سمدت، لرئيس الدورة الـ7...', 'size': 2}], 'main_title': 'هلال يختتم بنجاح المفاوضات بشأن الإعلان السياسي للقمة الاجتماعية الثانية المرتقبة في الدوحة'}, {'community_id': '8', 'articles': [{'id': '257', 'title': 'قمة تؤيد الوحدة الترابية للدول', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d9%82%d9%85%d8%a9-%d8%aa%d8%a4%d9%8a%d8%af-%d8%a7%d9%84%d9%88%d8%ad%d8%af%d8%a9-%d8%a7%d9%84%d8%aa%d8%b1%d8%a7%d8%a8%d9%8a%d8%a9-%d9%84%d9%84%d8%af%d9%88%d9%84-1620441.html', 'summary': 'قمة تؤيد الوحدة الترابية للدول. كرست قمة إفريقيا-الكاريكوم (الجماعة الكاريبية) الثانية، التي تنعقد اليوم الأحد بأديس أبابا، مبادئ احترام السيادة والوحدة الترابية للدول، والمسؤولية الرئيسية لمجلس الأمن التابع للأمم المتحدة في الحفاظ على السلم والأمن الدوليين. وكرس إعلان أديس أبابا، الذي توج أشغال قمة إفريقيا-الكاريكوم الثانية حول الشراكة العابرة للقارات من أجل العدالة التعويضية للأفارقة وللأشخاص من أصول إفريقية، مبادئ  قمة تؤيد الوحدة الترابية للدول     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '368', 'title': 'قمة إفريقيا-الكاريكوم الثانية تكرس مبادئ احترام السيادة والوحدة الترابية للدول', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/474739.html', 'summary': 'قمة إفريقيا-الكاريكوم الثانية تكرس مبادئ احترام السيادة والوحدة الترابية للدول. كرست قمة إفريقيا-الكاريكوم (الجماعة الكاريبية) الثانية، التي تنعقد اليوم الأحد بأديس أبابا، مبادئ احترام السيادة والوحدة الترابية للدول والمسؤولية الرئيسية لمجلس الأمن التابع للأمم المتحدة في الحفاظ على السلم والأمن الدوليين، باعتبارها مبادئ أساسية لميثاق الأمم المتحدة.', 'size': 2}], 'main_title': 'قمة تؤيد الوحدة الترابية للدول'}, {'community_id': '9', 'articles': [{'id': '263', 'title': 'إبراز المبادرة الأطلسية في أديس أبابا', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a5%d8%a8%d8%b1%d8%a7%d8%b2-%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3%d9%8a%d8%a9-%d9%81%d9%8a-%d8%a3%d8%af%d9%8a%d8%b3-%d8%a3%d8%a8%d8%a7%d8%a8%d8%a7-1620379.html', 'summary': 'إبراز المبادرة الأطلسية في أديس أبابا. تم، اليوم الأحد في أديس أبابا، تسليط الضوء على المبادرة الملكية الأطلسية، باعتبارها تجسيدا للتعاون الفاعل جنوب-جنوب بين إفريقيا ومنطقة الكاريبي، وذلك خلال قمة إفريقيا-الكاريكوم الثانية. وأكد السفير الممثل الدائم للمملكة المغربية لدى الاتحاد الإفريقي واللجنة الاقتصادية لإفريقيا، محمد عروشي، في كلمته خلال قمة إفريقيا-الكاريكوم الثانية، أن “المبادرة الملكية الأطلسية تشكل، وفق الرؤية المستنيرة لصاحب  إبراز المبادرة الأطلسية في أديس أبابا     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '389', 'title': 'المبادرة الملكية الأطلسية تتصدر أشغال قمة إفريقيا–الكاريكوم الثانية في أديس أبابا', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%a8%d8%a7%d8%af%d8%b1%d8%a9-%d8%a7%d9%84%d9%85%d9%84%d9%83%d9%8a%d8%a9-%d8%a7%d9%84%d8%a3%d8%b7%d9%84%d8%b3%d9%8a%d8%a9-%d8%aa%d8%aa%d8%b5%d8%af%d8%b1-%d8%a3%d8%b4%d8%ba%d8%a7/', 'summary': 'المبادرة الملكية الأطلسية تتصدر أشغال قمة إفريقيا–الكاريكوم الثانية في أديس أبابا. تم، اليوم الأحد 7 شتنبر 2025 في أديس أبابا، تسليط الضوء على المبادرة الملكية الأطلسية، باعتبارها تجسيدا للتعاون الفاعل جنوب-جنوب بين إفريقيا ومنطقة الكاريبي، وذلك خلال قمة إفريقيا-الكاريكوم الثانية. وأكد السفير الممثل الدائم للمملكة المغربية لدى الاتحاد الإفريقي واللجنة الاقتصادية لإفريقيا، محمد عروشي، في كلمته خلال قمة إفريقيا-الكاريكوم الثانية، أن المبادرة الملكية الأطلسية تشكل، …  المبادرة الملكية الأطلسية تتصدر أشغال قمة إفريقيا–الكاريكوم الثانية في أديس أبابا     .', 'size': 2}], 'main_title': 'إبراز المبادرة الأطلسية في أديس أبابا'}, {'community_id': '10', 'articles': [{'id': '287', 'title': 'محمد السادس يهنئ الرئيس البرازيلي ويؤكد استمرار التعاون بين البلدين', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-655199.html', 'summary': 'محمد السادس يهنئ الرئيس البرازيلي ويؤكد استمرار التعاون بين البلدين. هبة بريس بعث صاحب الجلالة الملك محمد السادس برقية تهنئة إلى لويس ايناسيو لولا دا سيلفا، رئيس الجمهورية الفدرالية للبرازيل، وذلك بمناسبة العيد الوطني لبلاده. وقال جلالة الملك، في هذه البرقية ” بمناسبة تخليد الجمهورية الفدرالية للبرازيل لعيدها الوطني، يسرني أن أبعث إليكم بأحر التهاني وأصدق المتمنيات للشعب البرازيلي بتحقيق ما يرجوه من اطراد التقدم والرفاه”. ومما جاء في هذه البرقية أيضا “كما يطيب لي بنفس المناسبة، أن أعرب لفخامتكم عن عزمي الراسخ على مواصلة العمل سويا معكم، من أجل مزيد إثراء وتطوير العلاقات المتميزة التي تربط بين المملكة المغربية والجمهورية الفدرالية للبرازيل، بما يدفع قدما بتعاونهما المشترك في كافة المجالات، ويستجيب لتطلعات شعبينا الصديقين”.', 'size': 2}, {'id': '388', 'title': 'الملك محمد السادس يهنئ الرئيس البرازيلي بمناسبة العيد الوطني لبلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d9%87%d9%86%d8%a6-%d8%a7%d9%84%d8%b1%d8%a6%d9%8a%d8%b3-%d8%a7%d9%84%d8%a8%d8%b1%d8%a7%d8%b2%d9%8a-2/', 'summary': 'الملك محمد السادس يهنئ الرئيس البرازيلي بمناسبة العيد الوطني لبلاده. بعث الملك محمد السادس برقية تهنئة إلى لويس ايناسيو لولا دا سيلفا، رئيس الجمهورية الفدرالية للبرازيل، وذلك بمناسبة العيد الوطني لبلاده. وقال الملك محمد السادس، في هذه البرقية ” بمناسبة تخليد الجمهورية الفدرالية للبرازيل لعيدها الوطني، يسرني أن أبعث إليكم بأحر التهاني وأصدق المتمنيات للشعب البرازيلي بتحقيق ما يرجوه من اطراد التقدم والرفاه”. …  الملك محمد السادس يهنئ الرئيس البرازيلي بمناسبة العيد الوطني لبلاده     .', 'size': 2}], 'main_title': 'محمد السادس يهنئ الرئيس البرازيلي ويؤكد استمرار التعاون بين البلدين'}, {'community_id': '11', 'articles': [{'id': '309', 'title': 'زلزال الحوز.. تعبئة متواصلة بمراكش من أجل تنفيذ عملية إعادة البناء على الوجه الأمثل', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/412323.html', 'summary': 'زلزال الحوز.. تعبئة متواصلة بمراكش من أجل تنفيذ عملية إعادة البناء على الوجه الأمثل. تتميز عملية إعادة بناء وتأهيل المنازل المتضررة بمراكش جراء زلزال الحوز بالسرعة في تنفيذ الأشغال، بفضل التعبئة المتواصلة لمختلف الأطراف المعنية، وذلك تنفيذا للتوجيهات الملكية', 'size': 4}, {'id': '343', 'title': 'عامان على “زلزال الحوز”.. 85% من المتضررين يعودون إلى منازلهم بمراكش', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1097843.html', 'summary': 'عامان على “زلزال الحوز”.. 85% من المتضررين يعودون إلى منازلهم بمراكش. تتميز عملية إعادة بناء وتأهيل المنازل المتضررة بمراكش جراء زلزال الحوز بالسرعة في تنفيذ الأشغال، بفضل التعبئة المتواصلة لمختلف الأطراف المعنية، وذلك تنفيذا للتوجيهات الملكية السامية. وبلغت نسبة تقدم أشغال إعادة بناء وتأهيل المساكن المتضررة جزئيا أو كليا، والتي انطلقت في فبراير 2024، حوالي 85 في المائة، بعد بناء وتدعيم ما يقارب 2620 مسكنا وفق ظهرت المقالة عامان على “زلزال الحوز”.. 85% من المتضررين يعودون إلى منازلهم بمراكش  .', 'size': 4}, {'id': '350', 'title': 'زلزال الحوز.. تعبئة متواصلة بمراكش لتنفيذ عملية إعادة البناء', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b2%d9%84%d8%b2%d8%a7%d9%84-%d8%a7%d9%84%d8%ad%d9%88%d8%b2-%d8%aa%d8%b9%d8%a8%d8%a6%d8%a9-%d9%85%d8%aa%d9%88%d8%a7%d8%b5%d9%84%d8%a9-%d8%a8%d9%85%d8%b1%d8%a7%d9%83%d8%b4-%d9%84%d8%aa%d9%86%d9%81/', 'summary': 'زلزال الحوز.. تعبئة متواصلة بمراكش لتنفيذ عملية إعادة البناء. بلغت نسبة تقدم أشغال إعادة بناء وتأهيل المساكن المتضررة من زلزال الحوز جزئيا أو كليا، والتي انطلقت في فبراير 2024، حوالي 85 في المائة، بعد بناء وتدعيم ما يقارب 2620 مسكنا وفق معايير تقنية صارمة، حسب ما أفادت به السلطات المحلية. وبفضل الدعم والمراقبة الدقيقة التي تباشرها السلطات المحلية، من المتوقع أن تبلغ هذه  زلزال الحوز.. تعبئة متواصلة بمراكش لتنفيذ عملية إعادة البناء     .', 'size': 4}, {'id': '365', 'title': 'في زمن قياسي.. إعادة بناء 2600 منزل بمراكش وفق المعايير المضادة للزلازل', 'source': 'rue20.com', 'link': 'https://rue20.com/934221.html', 'summary': 'في زمن قياسي.. إعادة بناء 2600 منزل بمراكش وفق المعايير المضادة للزلازل.  / متابعة تتميز عملية إعادة بناء وتأهيل المنازل المتضررة بمراكش جراء زلزال الحوز بالسرعة في تنفيذ الأشغال، بفضل التعبئة المتواصلة لمختلف الأطراف المعنية، وذلك تنفيذا للتوجيهات الملكية السامية. وبلغت نسبة تقدم أشغال إعادة بناء وتأهيل المساكن المتضررة جزئيا أو كليا، والتي انطلقت في فبراير 2024، حوالي 85 في المائة، بعد بناء وتدعيم ما الخبر في زمن قياسي.. إعادة بناء 2600 منزل بمراكش وفق المعايير المضادة للزلازل  .', 'size': 4}], 'main_title': 'زلزال الحوز.. تعبئة متواصلة بمراكش من أجل تنفيذ عملية إعادة البناء على الوجه الأمثل'}, {'community_id': '12', 'articles': [{'id': '329', 'title': 'الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%ad%d9%88%d8%b2-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d8%a5%d8%b9%d8%a7%d8%af%d8%a9-%d8%a8%d9%86%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d9%86%d8%a7%d8%b2%d9%84-%d9%85%d8%a7-%d8%a8%d8%b9%d8%af/', 'summary': 'الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية. دخلت عملية إعادة بناء المنازل المتضررة من الزلزال الذي ضرب إقليم الحوز في شتنبر 2023، مراحلها النهائية وذلك بفضل التعبئة غير المسبوقة الجميع الأطراف المعنية، وهو ما تعكسه الأرقام التي كشف عنها منسق برنامج إعادة البناء وتأهيل المناطق المتضررة جراء الزلزال، حسن إيغيغي. وأوضح السيد إيغيغي، في تصريح لوكالة المغرب العربي للأنباء، أن مستوى تقدم', 'size': 3}, {'id': '338', 'title': 'مسؤول: 91% من منازل الحوز أعيد بناؤها وفق معايير مضادة للزلازل', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1097847.html', 'summary': 'مسؤول: 91% من منازل الحوز أعيد بناؤها وفق معايير مضادة للزلازل. دخلت عملية إعادة بناء المنازل المتضررة من الزلزال الذي ضرب إقليم الحوز في شتنبر 2023، مراحلها النهائية وذلك بفضل التعبئة غير المسبوقة الجميع الأطراف المعنية، وهو ما تعكسه الأرقام التي كشف عنها منسق برنامج إعادة البناء وتأهيل المناطق المتضررة جراء الزلزال، حسن إيغيغي. وأوضح إيغيغي، في تصريح لوكالة المغرب العربي للأنباء، أن مستوى تقدم أشغال ظهرت المقالة مسؤول: 91% من منازل الحوز أعيد بناؤها وفق معايير مضادة للزلازل  .', 'size': 3}, {'id': '369', 'title': 'مسؤول: عملية إعادة بناء المنازل ما بعد زلزال الحوز في مراحلها النهائية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/474736.html', 'summary': 'مسؤول: عملية إعادة بناء المنازل ما بعد زلزال الحوز في مراحلها النهائية. دخلت عملية إعادة بناء المنازل المتضررة من الزلزال الذي ضرب إقليم الحوز في شتنبر 2023، مراحلها النهائية وذلك بفضل التعبئة غير المسبوقة لجميع الأطراف المعنية، وهو ما تعكسه الأرقام التي كشف عنها منسق برنامج إعادة البناء وتأهيل المناطق المتضررة جراء الزلزال، حسن إيغيغي.', 'size': 3}], 'main_title': 'الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية'}, {'community_id': '13', 'articles': [{'id': '337', 'title': 'أديس أبابا.. قمة إفريقيا–الكاريكوم الثانية تكرس الوحدة الترابية والمبادرة الأطلسية تتصدر أشغالها', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1097867.html', 'summary': 'أديس أبابا.. قمة إفريقيا–الكاريكوم الثانية تكرس الوحدة الترابية والمبادرة الأطلسية تتصدر أشغالها. أكدت قمة إفريقيا–الكاريكوم الثانية، المنعقدة اليوم الأحد بأديس أبابا، على تكريس مبادئ احترام الوحدة الترابية للدول وسيادتها وعدم التدخل في شؤونها الداخلية، في الوقت الذي تصدرت فيه المبادرة الملكية الأطلسية أشغال القمة باعتبارها تجسيدا للتعاون الفاعل بين إفريقيا ومنطقة الكاريبي. ففي إعلانها الختامي، شددت القمة على أن احترام السيادة والوحدة الترابية وحسن الجوار تعد مبادئ ظهرت المقالة أديس أبابا.. قمة إفريقيا–الكاريكوم الثانية تكرس الوحدة الترابية والمبادرة الأطلسية تتصدر أشغالها  .', 'size': 2}, {'id': '370', 'title': 'أديس أبابا.. تسليط الضوء على المبادرة الملكية الأطلسية أمام قمة إفريقيا-الكاريكوم الثانية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/474733.html', 'summary': 'أديس أبابا.. تسليط الضوء على المبادرة الملكية الأطلسية أمام قمة إفريقيا-الكاريكوم الثانية. تم اليوم الأحد في أديس أبابا، تسليط الضوء على المبادرة الملكية الأطلسية، باعتبارها تجسيدا للتعاون الفاعل جنوب-جنوب بين إفريقيا ومنطقة الكاريبي، وذلك خلال قمة إفريقيا-الكاريكوم الثانية.', 'size': 2}], 'main_title': 'أديس أبابا.. قمة إفريقيا–الكاريكوم الثانية تكرس الوحدة الترابية والمبادرة الأطلسية تتصدر أشغالها'}, {'community_id': '7', 'articles': [{'id': '380', 'title': 'الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية (مسؤول)', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d8%ad%d9%88%d8%b2-%d8%b9%d9%85%d9%84%d9%8a%d8%a9-%d8%a5%d8%b9%d8%a7%d8%af%d8%a9-%d8%a8%d9%86%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d9%86%d8%a7%d8%b2%d9%84-%d9%85%d8%a7-%d8%a8%d8%b9%d8%af/', 'summary': 'الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية (مسؤول). دخلت عملية إعادة بناء المنازل المتضررة من الزلزال الذي ضرب إقليم الحوز في شتنبر 2023، مراحلها النهائية وذلك بفضل التعبئة غير المسبوقة الجميع الأطراف المعنية،  الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية (مسؤول)     .', 'size': 2}, {'id': '386', 'title': 'مسؤول: بناء المنازل المتضررة من زلزال الحوز أشرفت على الانتهاء', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%85%d8%b3%d8%a4%d9%88%d9%84-%d8%a8%d9%86%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d9%86%d8%a7%d8%b2%d9%84-%d8%a7%d9%84%d9%85%d8%aa%d8%b6%d8%b1%d8%b1%d8%a9-%d9%85%d9%86-%d8%b2%d9%84%d8%b2%d8%a7%d9%84-%d8%a7/', 'summary': 'مسؤول: بناء المنازل المتضررة من زلزال الحوز أشرفت على الانتهاء. المساء اليوم: قال مسؤول في برنامج إعادة البناء بمناطق زلزال الحوز إن عملية بناء المنازل المتضررة من الزلزال الذي ضرب إقليم الحوز في شتنبر 2023، “دخلت مراحلها النهائية”. وكشف المنسق لبرنامج إعادة البناء وتأهيل المناطق', 'size': 2}], 'main_title': 'الحوز.. عملية إعادة بناء المنازل ما بعد الزلزال في مراحلها النهائية (مسؤول)'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
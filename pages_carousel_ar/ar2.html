<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 29/08/2025 - 12h24</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '12', 'title': 'فاجعة ببيكودين باقليم تارودانت.. 7 قتلى في اصطدام شاحنة بسيارة أجرة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-652740.html', 'summary': 'فاجعة ببيكودين باقليم تارودانت.. 7 قتلى في اصطدام شاحنة بسيارة أجرة. شهدت الطريق الوطنية الرابطة بين تارودانت وأكادير، على مستوى جماعة بيكودين، مساء اليوم حادثة سير خطيرة إثر اصطدام قوي بين شاحنة وسيارة أجرة. أسفر الحادث عن وفاة سبعة أشخاص في حصيلة أولية، فيما خلف صدمة كبيرة وسط الساكنة المحلية. باشرت السلطات المحلية وعناصر الدرك الملكي تدخلها الفوري لاتخاذ الإجراءات اللازمة وفتح تحقيق حول ظروف وملابسات الفاجعة ، فيما تم نقل المصابين إلى المستشفى لتلقي الإسعافات الضرورية. وأثارت الحادثة استنكاراً واسعاً وحالة من الحزن في أوساط السكان، مطالبين بتكثيف مراقبة السلامة الطرقية على هذا المقطع الحيوي لتفادي مثل هذه المآسي مستقبلاً.', 'size': 2}, {'id': '161', 'title': 'حصيلة ضحايا “حادث تارودانت” ترتفع إلى 8 قتلى', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095879.html', 'summary': 'حصيلة ضحايا “حادث تارودانت” ترتفع إلى 8 قتلى. أفاد مصدر مطلع أن حصيلة الفاجعة المروعة التي وقعت مساء الخميس على الطريق الوطنية رقم 11 الرابطة بين مراكش وأكادير، ارتفعت إلى 8 قتلى، وذلك بعد أن لفظ أحد المصابين أنفاسه الأخيرة متأثراً بجروحه الخطيرة. وكانت مصادر محلية قد أكدت في وقت سابق أن الحادث، الذي وقع على مستوى تراب جماعة بيكودين بإقليم تارودانت، أسفر ظهرت المقالة حصيلة ضحايا “حادث تارودانت” ترتفع إلى 8 قتلى  .', 'size': 2}], 'main_title': 'فاجعة ببيكودين باقليم تارودانت.. 7 قتلى في اصطدام شاحنة بسيارة أجرة'}, {'community_id': '1', 'articles': [{'id': '17', 'title': 'عريس يثير القلق بين الضيوف بعد سقوطه أثناء حفل الزفاف (فيديو)', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-652698.html', 'summary': 'عريس يثير القلق بين الضيوف بعد سقوطه أثناء حفل الزفاف (فيديو). شهدت مدينة شيرناك التركية حادثة طريفة خلال إحدى حفلات الزفاف، بعدما فقد العريس وعيه فجأة أثناء مشاركته مع العروس في تقطيع الكعكة، نتيجة إرهاقه الشديد بعد يومين كاملين من السهر وقلة النوم. الفيديو المتداول على منصات التواصل الاجتماعي أظهر العريس وهو يحاول الوقوف بجانب العروس، إلا أن التعب جعله يفقد توازنه بشكل مفاجئ. ولحسن الحظ، تدخلت العروس وعدد من الحضور بسرعة، ما حال دون سقوطه على الكعكة وتمكنوا من الإمساك به قبل أن ينهار أرضًا. Voir cette publicati ur Intagram Une publicati partagée par Haberlercom (@haberlercom) وأكد الحاضرون أن العريس تعافى بسرعة بعد الحادثة، وكانت حالته الصحية مستقرة ولم تستدعي نقله إلى أي جهة طبية، فيما أثار الفيديو موجة من التعليقات المرحة على مواقع التواصل الاجتماعي حول ضغط التحضيرات والإرهاق في حفلات الزفاف.', 'size': 2}, {'id': '310', 'title': 'ليلة العمر تتحول لموقف محرج.. عريس يفقد وعيه في حفل زفافه بسبب الإجهاد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/last/411832.html', 'summary': 'ليلة العمر تتحول لموقف محرج.. عريس يفقد وعيه في حفل زفافه بسبب الإجهاد. شهدت مدينة شيرناك التركية حادثة طريفة خلال أحد حفلات الزفاف، بعدما فقد العريس وعيه أثناء مشاركته في تقطيع الكعكة، إثر يومين كاملين من السهر المتواصل', 'size': 2}], 'main_title': 'عريس يثير القلق بين الضيوف بعد سقوطه أثناء حفل الزفاف (فيديو)'}, {'community_id': '10', 'articles': [{'id': '67', 'title': 'السيد وزير العدل عبد اللطيف وهبي يوقع مع نظيره العراقي السيد خالد شواني على اتفاقية نقل المحكوم عليهم', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205450', 'summary': 'السيد وزير العدل عبد اللطيف وهبي يوقع مع نظيره العراقي السيد خالد شواني على اتفاقية نقل المحكوم عليهم.  في إطار علاقات الأخوة والتعاون التي تجمع المملكة المغربية وجمهورية العراق، استقبل وزير العدل السيد عبد اللطيف وهبي، يومه الخميس 28 غشت 2025 بمقر وزارة العدل بالعاصمة الرباط، نظيره العراقي السيد خالد شواني، مرفوقا بوفد رسمي رفيع المستوى، وذلك في إطار زيارة عمل رسمية يقوم بها معاليه إلى المملكة المغربية خلال الفترة الممتدة من', 'size': 2}, {'id': '157', 'title': 'اتفاق لترحيل سجناء مغاربة بالعراق', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-586920.html', 'summary': 'اتفاق لترحيل سجناء مغاربة بالعراق. استقبل عبد اللطيف وهبي، وزير العدل، اليوم الخميس بمقر وزارة العدل بالعاصمة الرباط، نظيره العراقي خالد شواني، مرفوقا بوفد رسمي رفيع المستوى؛ وذلك في إطار زيارة عمل رسمية يقوم بها المسؤول الحكومي إلى المملكة المغربية، خلال الفترة الممتدة من 27 إلى 31 غشت الجاري. وأوضحت وزارة العدل، في بلاغ، أن الاستقبال، المندرج', 'size': 2}, {'id': '250', 'title': 'المغرب والعراق يوقعان اتفاقية نقل المحكوم عليهم ومذكرة تفاهم حول العقوبات البديلة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%88%d8%a7%d9%84%d8%b9%d8%b1%d8%a7%d9%82-%d9%8a%d9%88%d9%82%d8%b9%d8%a7%d9%86-%d8%a7%d8%aa%d9%81%d8%a7%d9%82%d9%8a%d8%a9-%d9%86%d9%82%d9%84-%d8%a7%d9%84%d9%85/', 'summary': 'المغرب والعراق يوقعان اتفاقية نقل المحكوم عليهم ومذكرة تفاهم حول العقوبات البديلة. استقبل وزير العدل عبد اللطيف وهبي، يومه الخميس 28 غشت 2025 بمقر وزارة العدل بالعاصمة الرباط، نظيره العراقي خالد شواني، مرفوقا بوفد رسمي رفيع المستوى، وذلك في إطار زيارة عمل رسمية يقوم بها معاليه إلى المملكة المغربية خلال الفترة الممتدة من 27 إلى 31 غشت 2025. وأكد بلاغ لوزارة العدل، أن الاستقبال عرف …  المغرب والعراق يوقعان اتفاقية نقل المحكوم عليهم ومذكرة تفاهم حول العقوبات البديلة     .', 'size': 3}], 'main_title': 'المغرب والعراق يوقعان اتفاقية نقل المحكوم عليهم ومذكرة تفاهم حول العقوبات البديلة'}, {'community_id': '3', 'articles': [{'id': '71', 'title': 'في ظرف قياسي.. أمن بركان يفك لغز سرقة وكالة لتحويل الأموال والتحقيق يكشف عن مفاجأة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/411767.html', 'summary': 'في ظرف قياسي.. أمن بركان يفك لغز سرقة وكالة لتحويل الأموال والتحقيق يكشف عن مفاجأة. أوقفت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة بركان، زوال يوم أمس الأربعاء، شخصا يبلغ من العمر 32 سنة، من ذوي السوابق القضائية، وذلك للاشتباه في', 'size': 2}, {'id': '257', 'title': 'بركان.. الشرطة تطيح بمشتبه فيه خطير نفذ سرقات من داخل وكالات تحويل الأموال', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/بركان-الشرطة-تطيح-بمشتبه-فيه-خطير-نفذ-سرقات-من-داخل-وكالات-تحويل_a29277.html', 'summary': 'بركان.. الشرطة تطيح بمشتبه فيه خطير نفذ سرقات من داخل وكالات تحويل الأموال. العلم الإلكترونية - متابعة أوقفت عناصر الشرطة بالمنطقة الإقليمية للأمن بمدينة بركان، زوال يوم أمس الأربعاء، شخصا يبلغ من العمر 32 سنة، م...', 'size': 2}], 'main_title': 'في ظرف قياسي.. أمن بركان يفك لغز سرقة وكالة لتحويل الأموال والتحقيق يكشف عن مفاجأة'}, {'community_id': '11', 'articles': [{'id': '72', 'title': 'بوريطة يؤكد دخول المغرب في مفاوضات مباشرة مع إسبانيا لترسيم الحدود البحرية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/world/411768.html', 'summary': 'بوريطة يؤكد دخول المغرب في مفاوضات مباشرة مع إسبانيا لترسيم الحدود البحرية. أكد ناصر بوريطة، وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، أن المغرب وإسبانيا دخلا في مفاوضات مباشرة من أجل ترسيم حدودهما البحرية بما ينسجم', 'size': 2}, {'id': '265', 'title': 'بوريطة يؤكد التزام المغرب بالحوار مع إسبانيا حول ملف ترسيم الحدود', 'source': 'www.alalam.ma', 'link': 'https://www.alalam.ma/بوريطة-يؤكد-التزام-المغرب-بالحوار-مع-إسبانيا-حول-ملف-ترسيم-الحدود_a29269.html', 'summary': 'بوريطة يؤكد التزام المغرب بالحوار مع إسبانيا حول ملف ترسيم الحدود.  أكد وزير الشؤون الخارجية والتعاون الإفريقي والمغاربة المقيمين بالخارج، ناصر بوريطة، خلال افتتاح ندوة حول "الممارسات الدولي...', 'size': 2}], 'main_title': 'بوريطة يؤكد دخول المغرب في مفاوضات مباشرة مع إسبانيا لترسيم الحدود البحرية'}, {'community_id': '8', 'articles': [{'id': '110', 'title': 'قرعة دوري أبطال أوروبا 2025-2026 تسفر عن مواجهات نارية للعمالقة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/worldfoot/411806.html', 'summary': 'قرعة دوري أبطال أوروبا 2025-2026 تسفر عن مواجهات نارية للعمالقة. أُجريت اليوم الخميس في موناكو مراسم قرعة مرحلة الدوري لموسم 2025-2026 من دوري أبطال أوروبا لكرة القدم، وأسفرت عن مواجهات قوية بين كبار الأندية الأوروبية. وستشهد', 'size': 2}, {'id': '239', 'title': 'مواجهات نارية أفرزتها قرعة عصبة الأبطال', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a7%d8%aa-%d9%86%d8%a7%d8%b1%d9%8a%d8%a9-%d8%a3%d9%81%d8%b1%d8%b2%d8%aa%d9%87%d8%a7-%d9%82%d8%b1%d8%b9%d8%a9-%d8%b9%d8%b5%d8%a8%d8%a9-%d8%a7%d9%84%d8%a3%d8%a8%d8%b7/', 'summary': 'مواجهات نارية أفرزتها قرعة عصبة الأبطال. المساء اليوم – متابعات: أقيمت مساء اليوم الخميس 28 غشت، مراسم قرعة دوري أبطال أوروبا موسم 2025-2026 في مدينة موناكو الفرنسية، حيث أسفرت عن مواجهات قوية تجمع كبار القارة في مرحلة الدوري الجديد للبطولة. أبرز', 'size': 2}], 'main_title': 'قرعة دوري أبطال أوروبا 2025-2026 تسفر عن مواجهات نارية للعمالقة'}, {'community_id': '6', 'articles': [{'id': '119', 'title': 'حزب التجمع الوطني للأحرار يدين بشدة الحملات المغرضة التي تستهدف رموز سيادة المملكة ومؤسساتها الوطنية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/politic/411815.html', 'summary': 'حزب التجمع الوطني للأحرار يدين بشدة الحملات المغرضة التي تستهدف رموز سيادة المملكة ومؤسساتها الوطنية. عقد المكتب السياسي لحزب التجمع الوطني للأحرار اجتماعا مساء يوم الخميس 28 غشت 2025 بمدينة الرباط، برئاسة عزيز أخنوش، تناول خلاله مجموعة من القضايا الوطنية', 'size': 2}, {'id': '128', 'title': 'برئاسة أخنوش.. التجمع الوطني للأحرار يستحضر رهانات الدخول السياسي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a8%d8%b1%d8%a6%d8%a7%d8%b3%d8%a9-%d8%a3%d8%ae%d9%86%d9%88%d8%b4-%d8%a7%d9%84%d8%aa%d8%ac%d9%85%d8%b9-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a-%d9%84%d9%84%d8%a3%d8%ad%d8%b1%d8%a7%d8%b1-%d9%8a%d8%b3/', 'summary': 'برئاسة أخنوش.. التجمع الوطني للأحرار يستحضر رهانات الدخول السياسي. صادق المكتب السياسي لحزب التجمع الوطني للأحرار، برئاسة عزيز أخنوش، على مجموعة من المقترحات المرتبطة بالمنظومة المؤطرة للانتخابات التشريعية المقبلة. وأكد الحزب في اجتماعه المنعقد مساء الخميس (28 غشت 2025) في الرباط، على أن هذه المساهمة تأتي استجابة لدعوة جلالة الملك إلى تعزيز الضمانات القانونية والمؤسساتية، بما يضمن مشاركة واسعة للمواطنين ويقوي الثقة في', 'size': 2}], 'main_title': 'حزب التجمع الوطني للأحرار يدين بشدة الحملات المغرضة التي تستهدف رموز سيادة المملكة ومؤسساتها الوطنية'}, {'community_id': '5', 'articles': [{'id': '154', 'title': 'طقس الجمعة.. أمطار ورياح قوية بهذه المناطق بالمغرب', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-586908.html', 'summary': 'طقس الجمعة.. أمطار ورياح قوية بهذه المناطق بالمغرب. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم غد الجمعة، أن يبقى الطقس حارا نسبيا بكل من الجنوب الشرقي وأقصى جنوب المملكة، مع تشكل سحب منخفضة كثيفة مصحوبة بقطرات مطرية جد خفيفة أو بكتل ضبابية قرب سواحل المحيط الأطلسي وبالشمال الغربي للأقاليم الجنوبية، وذلك خلال الصباح والليل. كما يرتقب أن تكون الأجواء غائمة', 'size': 4}, {'id': '191', 'title': 'طقس اليوم: استمرار الأجواء الحارة بهذه المناطق', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357708.html', 'summary': 'طقس اليوم: استمرار الأجواء الحارة بهذه المناطق. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الخميس، أن يبقى الطقس حارا نسبيا بكل من الجنوب الشرقي وأقصى جنوب المملكة. كما يرتقب تشكل سحب منخفضة كثيفة، مصحوبة بقطرات مطرية جد خفيفة أو كتل ضبابية فوق كل من سهول المحيط الأطلسي والشمال الغربي للأقاليم الجنوبية، وذلك خلال الليل والصباح، فضلا عن نزول قطرات مطرية وبروز رعد', 'size': 4}, {'id': '336', 'title': 'توقعات طقس اليوم الجمعة', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321887/', 'summary': 'توقعات طقس اليوم الجمعة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الجمعة، أن يبقى الطقس حارا نسبيا بكل من الجنوب الشرقي وأقصى جنوب المملكة، مع تشكل سحب منخفضة كثيفة مصحوبة بقطرات مطرية جد خفيفة أو بكتل ضبابية قرب سواحل المحيط الأطلسي وبالشمال الغربي للأقاليم الجنوبية، وذلك خلال الصباح والليل. كما يرتقب أن تكون الأجواء غائمة جزئيا بأقصى جنوب البلاد', 'size': 4}, {'id': '350', 'title': 'طقس حار مع قطرات خفيفة متوقع اليوم الجمعة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d9%82%d8%b7%d8%b1%d8%a7%d8%aa-%d8%ae%d9%81%d9%8a%d9%81%d8%a9-%d9%85%d8%aa%d9%88%d9%82%d8%b9-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%ac%d9%85/', 'summary': 'طقس حار مع قطرات خفيفة متوقع اليوم الجمعة. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الجمعة، أن يبقى الطقس حارا نسبيا بكل من الجنوب الشرقي وأقصى جنوب المملكة، مع تشكل سحب منخفضة كثيفة مصحوبة بقطرات مطرية جد خفيفة أو بكتل ضبابية قرب سواحل المحيط الأطلسي وبالشمال الغربي للأقاليم الجنوبية، وذلك خلال الصباح والليل. كما يرتقب أن تكون الأجواء غائمة جزئيا بأقصى جنوب البلاد  طقس حار مع قطرات خفيفة متوقع اليوم الجمعة     .', 'size': 4}], 'main_title': 'طقس الجمعة.. أمطار ورياح قوية بهذه المناطق بالمغرب'}, {'community_id': '9', 'articles': [{'id': '156', 'title': 'قرعة دوري أبطال أوروبا تسفر عن مواجهات نارية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-586924.html', 'summary': 'قرعة دوري أبطال أوروبا تسفر عن مواجهات نارية. أسفرت قرعة المجموعة الموحدة لدوري أبطال أوروبا في كرة القدم لموسم 2025-2026، والتي جرت الخميس في موناكو عن مواجهات نارية وقوية. ومن المقرر أن تقام المباريات الأولى في الفترة من 16 إلى 18 شتنبر، فيما ستجرى المباراة النهائية في 30 ماي 2026 على ملعب بوشكاس أرينا في بودابست بالمجر. في', 'size': 2}, {'id': '251', 'title': 'قرعة دوري أبطال أوروبا تسفر عن مواجهات قوية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%82%d8%b1%d8%b9%d8%a9-%d8%af%d9%88%d8%b1%d9%8a-%d8%a3%d8%a8%d8%b7%d8%a7%d9%84-%d8%a3%d9%88%d8%b1%d9%88%d8%a8%d8%a7-%d8%aa%d8%b3%d9%81%d8%b1-%d8%b9%d9%86-%d9%85%d9%88%d8%a7%d8%ac%d9%87%d8%a7%d8%aa-2/', 'summary': 'قرعة دوري أبطال أوروبا تسفر عن مواجهات قوية. أسفرت قرعة المجموعة الموحدة لدوري أبطال أوروبا في كرة القدم لموسم 2025-2026، والتي جرت الخميس في موناكو عن مواجهات نارية وقوية. ومن المقرر أن تقام المباريات الأولى في الفترة من 16 إلى 18 شتنبر، فيما ستجرى المباراة النهائية في 30 ماي 2026 على ملعب بوشكاس أرينا في بودابست بالمجر. في ما يلي جميع مباريات الأندية الـ36 المشاركة في مسابقة دوري …  قرعة دوري أبطال أوروبا تسفر عن مواجهات قوية     .', 'size': 2}], 'main_title': 'قرعة دوري أبطال أوروبا تسفر عن مواجهات نارية'}, {'community_id': '4', 'articles': [{'id': '170', 'title': 'المغرب والعراق يتفقان على ترحيل السجناء والتعاون في العقوبات البديلة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095856.html', 'summary': 'المغرب والعراق يتفقان على ترحيل السجناء والتعاون في العقوبات البديلة. وقع وزير العدل، عبد اللطيف وهبي، ونظيره العراقي، خالد شواني، اليوم الخميس بالرباط، على اتفاقية تعاون لنقل المحكوم عليهم بعقوبات سالبة للحرية، في خطوة من شأنها أن تعطي فرصة لحل إشكالية المئات من المغاربة المعتقلين في العراق بتهم تتعلق بالتطرف أو الالتحاق بمجموعات مسلحة. وجاء التوقيع على هذه الاتفاقية، حسب بلاغ صحافي لوزارة العدل، في ظهرت المقالة المغرب والعراق يتفقان على ترحيل السجناء والتعاون في العقوبات البديلة  .', 'size': 3}, {'id': '187', 'title': 'المغرب والعراق يوقعان اتفاقية لنقل المحكوم عليهم تمهيدا لإعادة المعتقلين المغاربة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d9%88%d8%a7%d9%84%d8%b9%d8%b1%d8%a7%d9%82-%d9%8a%d9%88%d9%82%d8%b9%d8%a7%d9%86-%d8%a7%d8%aa%d9%81%d8%a7%d9%82%d9%8a%d8%a9-%d9%84%d9%86%d9%82%d9%84-%d8%a7%d9%84/', 'summary': 'المغرب والعراق يوقعان اتفاقية لنقل المحكوم عليهم تمهيدا لإعادة المعتقلين المغاربة. وقع وزير العدل، عبد اللطيف وهبي، ونظيره العراقي خالد شواني، يوم الخميس 28 غشت 2025 بالرباط، اتفاقية لنقل المحكوم عليهم بعقوبات سالبة للحرية بين البلدين، في خطوة اعتبرتها الحكومة المغربية أساسية لحل إشكالية المئات من المعتقلين المغاربة في العراق على ذمة قضايا مرتبطة بالإرهاب أو الالتحاق بجماعات مسلحة. خطوة لمعالجة ملف المعتقلين الوثيقة، التي  المغرب والعراق يوقعان اتفاقية لنقل المحكوم عليهم تمهيدا لإعادة المعتقلين المغاربة     .', 'size': 2}, {'id': '202', 'title': 'توقيع اتفاقية ومذكرة تفاهم للتعاون القضائي بين المغرب والعراق', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/473992.html', 'summary': 'توقيع اتفاقية ومذكرة تفاهم للتعاون القضائي بين المغرب والعراق. وقع المغرب وجمهورية العراق، اليوم الخميس بالرباط، اتفاقية تعاون في مجال نقل المحكوم عليهم بعقوبات سالبة للحرية بين البلدين، ومذكرة تفاهم بشأن التعاون في مجال العقوبات البديلة. وتهدف الاتفاقية، التي وقعها وزير العدل عبد اللطيف وهبي، ونظيره بجمهورية العراق خالد شواني، إلى تعزيز العمل المشترك والتبادل المثمر بين البلدين في مجال العدالة وحل الإشكالات القائمة، …', 'size': 2}], 'main_title': 'المغرب والعراق يتفقان على ترحيل السجناء والتعاون في العقوبات البديلة'}, {'community_id': '13', 'articles': [{'id': '173', 'title': 'برئاسة أخنوش.. “الأحرار” يصادق على مقترحاته للانتخابات ويستنكر “الحملات المغرضة” ضد المغرب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095848.html', 'summary': 'برئاسة أخنوش.. “الأحرار” يصادق على مقترحاته للانتخابات ويستنكر “الحملات المغرضة” ضد المغرب. عقد المكتب السياسي لحزب التجمع الوطني للأحرار، مساء اليوم الخميس بالرباط، اجتماعا برئاسة عزيز أخنوش، تدارس خلاله الحزب أبرز القضايا الوطنية والدولية، ورسم ملامح استعداداته للدخول السياسي المقبل، وعلى رأسه مشروع قانون المالية لسنة 2026. وأعلن الحزب في بلاغ صادر عقب الاجتماع، عن مصادقته على مقترحاته المتعلقة بإعداد المنظومة المؤطرة للانتخابات التشريعية المقبلة، والتي سيتم ظهرت المقالة برئاسة أخنوش.. “الأحرار” يصادق على مقترحاته للانتخابات ويستنكر “الحملات المغرضة” ضد المغرب  .', 'size': 2}, {'id': '248', 'title': 'التجمع الوطني للأحرار يندد بالحملات المغرضة ضد المغرب ويؤكد تجند المغاربة خلف الملك محمد السادس', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d8%aa%d8%ac%d9%85%d8%b9-%d8%a7%d9%84%d9%88%d8%b7%d9%86%d9%8a-%d9%84%d9%84%d8%a3%d8%ad%d8%b1%d8%a7%d8%b1-%d9%8a%d9%86%d8%af%d8%af-%d8%a8%d8%a7%d9%84%d8%ad%d9%85%d9%84%d8%a7%d8%aa-%d8%a7/', 'summary': 'التجمع الوطني للأحرار يندد بالحملات المغرضة ضد المغرب ويؤكد تجند المغاربة خلف الملك محمد السادس. جدّد المكتب السياسي لحزب التجمع الوطني للأحرار، خلال اجتماعه الدوري برئاسة عزيز أخنوش، المنعقد مساء اليوم الخميس 28 غشت 2025 بالرباط، تهانيه للملك محمد السادس بمناسبة عيد الشباب وذكرى ثورة الملك والشعب، مبرزا ما تحمله هذه الذكرى من رمزية قوية في تعزيز التلاحم الوثيق بين العرش والشعب. وسجل الحزب بحدة استنكاره لما وصفه …  التجمع الوطني للأحرار يندد بالحملات المغرضة ضد المغرب ويؤكد تجند المغاربة خلف الملك محمد السادس     .', 'size': 2}], 'main_title': 'برئاسة أخنوش.. “الأحرار” يصادق على مقترحاته للانتخابات ويستنكر “الحملات المغرضة” ضد المغرب'}, {'community_id': '7', 'articles': [{'id': '204', 'title': 'البواري يبرز فعالية المبادرات الملكية الرامية للحفاظ على الثروة الحيوانية خلال سنوات الجفاف', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/473988.html', 'summary': 'البواري يبرز فعالية المبادرات الملكية الرامية للحفاظ على الثروة الحيوانية خلال سنوات الجفاف. أبرز وزير الفلاحة والصيد البحري والتنمية القروية والمياه والغابات، أحمد البواري، اليوم الخميس بالرباط، فعالية المبادرات السامية التي اتخذها صاحب الجلالة الملك محمد السادس للحفاظ على الثروة الحيوانية خلال سنوات الجفاف الشديدة. وسجل البواري خلال الندوة الصحفية التي تلت انعقاد المجلس الحكومي، الدور الحاسم للقرار الملكي الحكيم الذي أهاب بالشعب المغربي عدم القيام بشعيرة الذبح …', 'size': 2}, {'id': '235', 'title': 'إبراز فعالية المبادرات الملكية السامية الرامية للحفاظ على الثروة الحيوانية خلال سنوات الجفاف', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226430/', 'summary': 'إبراز فعالية المبادرات الملكية السامية الرامية للحفاظ على الثروة الحيوانية خلال سنوات الجفاف. أبرز وزير الفلاحة والصيد البحري والتنمية القروية والمياه والغابات، أحمد البواري، اليوم الخميس بالرباط، فعالية المبادرات السامية التي اتخذها صاحب الجلالة الملك محمد السادس للحفاظ على الثروة الحيوانية خلال سنوات الجفاف الشديدة. وسجل البواري خلال الندوة الصحفية التي تلت انعقاد المجلس الحكومي، الدور الحاسم للقرار الملكي الحكيم الذي أهاب بالشعب المغربي عدم القيام بشعيرة الذبح', 'size': 2}], 'main_title': 'البواري يبرز فعالية المبادرات الملكية الرامية للحفاظ على الثروة الحيوانية خلال سنوات الجفاف'}, {'community_id': '2', 'articles': [{'id': '274', 'title': '8 قتلى في حادثة سير بإقليم تارودانت', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/8-%d9%82%d8%aa%d9%84%d9%89-%d9%81%d9%8a-%d8%ad%d8%a7%d8%af%d8%ab%d8%a9-%d8%b3%d9%8a%d8%b1-%d8%a8%d8%a5%d9%82%d9%84%d9%8a%d9%85-%d8%aa%d8%a7%d8%b1%d9%88%d8%af%d8%a7%d9%86%d8%aa-1615843.html', 'summary': '8 قتلى في حادثة سير بإقليم تارودانت. أفادت السلطات المحلية بإقليم تارودانت بأن 8 أشخاص لقوا مصرعهم في حادثة سير وقعت ليلة الخميس 28 غشت 2025 في الطريق الوطنية رقم 11، على مستوى دوار تروا ياسين، التابع لجماعة بيكودين بقيادة أركانة. وأوضحت السلطات ذاتها أن شاحنة لنقل الخضر اصطدمت بسيارة أجرة من الصنف الأول وعلى متنها سبعة أشخاص كانوا متجهين نحو مدينة  8 قتلى في حادثة سير بإقليم تارودانت     - هسبريس جريدة إلكترونية مغربية .', 'size': 3}, {'id': '345', 'title': 'مصرع 8 أشخاص في حادثة سير بإقليم تارودانت', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%b5%d8%b1%d8%b9-8-%d8%a3%d8%b4%d8%ae%d8%a7%d8%b5-%d9%81%d9%8a-%d8%ad%d8%a7%d8%af%d8%ab%d8%a9-%d8%b3%d9%8a%d8%b1-%d8%a8%d8%a5%d9%82%d9%84%d9%8a%d9%85-%d8%aa%d8%a7%d8%b1%d9%88%d8%af%d8%a7%d9%86/', 'summary': 'مصرع 8 أشخاص في حادثة سير بإقليم تارودانت. أفادت السلطات المحلية بإقليم تارودانت بأن 8 أشخاص لقوا مصرعهم في حادثة سير وقعت ليلة الخميس 28 غشت 2025 بالطريق الوطنية رقم 11، على مستوى دوار تروا ياسين، التابع لجماعة بيكودين بقيادة أركانة. وأوضحت أن الحادثة وقعت جراء اصطدام بين شاحنة لنقل الخضر وسيارة أجرة من الصنف الأول، وعلى متنها سبعة أشخاص كانوا متجهين نحو  مصرع 8 أشخاص في حادثة سير بإقليم تارودانت     .', 'size': 4}, {'id': '356', 'title': 'ارتفاع حصيلة ضحايا حادثة بيكودين بتارودانت إلى 8 قتلى', 'source': 'rue20.com', 'link': 'https://rue20.com/932225.html', 'summary': 'ارتفاع حصيلة ضحايا حادثة بيكودين بتارودانت إلى 8 قتلى.  | متابعة أفادت السلطات المحلية بإقليم تارودانت بأن 8 أشخاص لقوا مصرعهم في حادثة سير وقعت ليلة الخميس 28 غشت 2025 بالطريق الوطنية رقم 11، على مستوى دوار تروا ياسين، التابع لجماعة بيكودين بقيادة أركانة. وأوضحت أن الحادثة وقعت جراء اصطدام بين شاحنة لنقل الخضر وسيارة أجرة من الصنف الأول، وعلى متنها سبعة الخبر ارتفاع حصيلة ضحايا حادثة بيكودين بتارودانت إلى 8 قتلى  .', 'size': 4}, {'id': '362', 'title': 'إقليم تارودانت.. مصرع 8 أشخاص في حادثة سير', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/474047.html', 'summary': 'إقليم تارودانت.. مصرع 8 أشخاص في حادثة سير. أفادت السلطات المحلية بإقليم تارودانت بأن 8 أشخاص لقوا مصرعهم في حادثة سير وقعت ليلة الخميس 28 غشت 2025 بالطريق الوطنية رقم 11، على مستوى دوار تروا ياسين، التابع لجماعة بيكودين بقيادة أركانة.', 'size': 3}], 'main_title': 'مصرع 8 أشخاص في حادثة سير بإقليم تارودانت'}, {'community_id': '12', 'articles': [{'id': '323', 'title': 'المهرجان الدولي للفيلم بمراكش.. المخرج الكوري بونغ جون هو يترأس لجنة تحكيم الدورة ال22', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d9%85%d9%87%d8%b1%d8%ac%d8%a7%d9%86-%d8%a7%d9%84%d8%af%d9%88%d9%84%d9%8a-%d9%84%d9%84%d9%81%d9%8a%d9%84%d9%85-%d8%a8%d9%85%d8%b1%d8%a7%d9%83%d8%b4-%d8%a7%d9%84%d9%85%d8%ae%d8%b1%d8%ac/', 'summary': 'المهرجان الدولي للفيلم بمراكش.. المخرج الكوري بونغ جون هو يترأس لجنة تحكيم الدورة ال22. اختارت إدارة المهرجان الدولي للفيلم بمراكش، المخرج الكوري الجنوبي بونغ جون هو، المتوج بالعديد من الجوائز الدولية المرموقة، لرئاسة لجنة تحكيم الدورة الثانية والعشرين للمهرجان الدولي للفيلم بمراكش، التي ستنظم خلال الفترة من 28 نونبر إلى 6 دجنبر 2025. وفي تصريح عقب اختياره لرئاسة لجنة تحكيم المهرجان، قال بون جون هو: “منذ عدة سنوات، يحتفى', 'size': 2}, {'id': '326', 'title': 'مخرج Parasite يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش', 'source': 'assabah.ma', 'link': 'https://assabah.ma/868061.html', 'summary': 'مخرج Paraite يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش. تستعد مراكش لاحتضان الدورة الثانية والعشرين للمهرجان الدولي للفيلم، في الفترة الممتدة من 28 نونبر إلى 6 دجنبر 2025، حيث سيترأس لجنة تحكيم المسابقة الرسمية المخرج الكوري الجنوبي بونغ جون هو، أحد أبرز السينمائيين العالميين المتوجين بجائزة الأوسكار. وسيكون من مهام لجنة التحكيم التي يرأسها مخرج فيلمأكمل القراءة » المقالة مخرج Paraite يترأس لجنة تحكيم النسخة الـ22 لمهرجان الفيلم بمراكش  .', 'size': 2}, {'id': '338', 'title': 'المخرج “بونغ جون هو” رئيسا للجنة تحكيم الدورة الـ22 لمهرجان مراكش الدولي', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1095889.html', 'summary': 'المخرج “بونغ جون هو” رئيسا للجنة تحكيم الدورة الـ22 لمهرجان مراكش الدولي. أعلنت إدارة المهرجان الدولي للفيلم بمراكش عن اختيار المخرج الكوري الجنوبي بونغ جون هو، المتوج بجائزة الأوسكار والسعفة الذهبية، لرئاسة لجنة تحكيم الدورة الثانية والعشرين، المزمع تنظيمها ما بين 28 نونبر و6 دجنبر 2025. وستمنح اللجنة التي يترأسها صاحب فيلم “طفيلي”، الجائزة الكبرى للمهرجان، النجمة الذهبية، لأحد الأفلام الطويلة المشاركة في المسابقة الدولية، والتي تقتصر ظهرت المقالة المخرج “بونغ جون هو” رئيسا للجنة تحكيم الدورة الـ22 لمهرجان مراكش الدولي  .', 'size': 3}], 'main_title': 'المخرج “بونغ جون هو” رئيسا للجنة تحكيم الدورة الـ22 لمهرجان مراكش الدولي'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 06/07/2025 - 06h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '73', 'title': 'نشرة إنذارية .. طقس حارّ مع "الشركي" وهبّات رياح مع عواصف رملية بعدد من مناطق المملكة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/408732.html', 'summary': 'نشرة إنذارية .. طقس حارّ مع "الشركي" وهبّات رياح مع عواصف رملية بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع "الشركي" وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق', 'size': 2}, {'id': '229', 'title': 'نشرة إنذارية.. طقس حار مع “الشركي” في بعض المناطق', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224129/', 'summary': 'نشرة إنذارية.. طقس حار مع “الشركي” في بعض المناطق. كواليس اليوم أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع “الشركي” وهبات رياح محليا قوية مع عواصف رملية، اليوم السبت وغد الأحد، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة برتقالي، أنه من المرتقب تسجيل درجات حرارة تتراوح ما بين 43 و46 درجة غدا السبت بأقاليم طاطا', 'size': 2}, {'id': '231', 'title': 'السبت والأحد: طقس حار مع “الشركي” ورياح قوية مع عواصف رملية', 'source': 'almassaa.com', 'link': 'https://almassaa.com/%d8%a7%d9%84%d8%b3%d8%a8%d8%aa-%d9%88%d8%a7%d9%84%d8%a3%d8%ad%d8%af-%d8%b7%d9%82%d8%b3-%d8%ad%d8%a7%d8%b1-%d9%85%d8%b9-%d8%a7%d9%84%d8%b4%d8%b1%d9%83%d9%8a-%d9%88%d8%b1%d9%8a%d8%a7/', 'summary': 'السبت والأحد: طقس حار مع “الشركي” ورياح قوية مع عواصف رملية. المساء اليوم: أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل طقس حار مع “الشركي” وهبات رياح محليا قوية مع عواصف رملية، يومي السبت والأحد، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى', 'size': 3}], 'main_title': 'السبت والأحد: طقس حار مع “الشركي” ورياح قوية مع عواصف رملية'}, {'community_id': '6', 'articles': [{'id': '95', 'title': 'إعادة انتخاب المغرب عضوا في مجلس الفاو', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/divers/408758.html', 'summary': 'إعادة انتخاب المغرب عضوا في مجلس الفاو. جرى، أمس الجمعة بروما، إعادة انتخاب المملكة المغربية عضوا في مجلس منظمة الأمم المتحدة للأغذية والزراعة (الفاو)، لولاية جديدة تمتد من فاتح يوليوز 2026 إلى', 'size': 3}, {'id': '224', 'title': 'إعادة انتخاب المملكة المغربية عضوا في مجلس “الفاو”', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224151/', 'summary': 'إعادة انتخاب المملكة المغربية عضوا في مجلس “الفاو”. وكالات جرى، أمس الجمعة بروما، إعادة انتخاب المملكة المغربية عضوا في مجلس منظمة الأمم المتحدة للأغذية والزراعة (الفاو)، لولاية جديدة تمتد من فاتح يوليوز 2026 إلى غاية اختتام الدورة السادسة والأربعين لمؤتمر المنظمة الأممية، المقررة في سنة 2029. وجرى انتخاب المغرب، ممثلا في شخص السفير الممثل الدائم للمملكة لدى الوكالات الأممية بروما، يوسف بلا،', 'size': 3}, {'id': '328', 'title': 'روما.. إعادة انتخاب المغرب عضوا في مجلس “الفاو”', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%b1%d9%88%d9%85%d8%a7-%d8%a5%d8%b9%d8%a7%d8%af%d8%a9-%d8%a7%d9%86%d8%aa%d8%ae%d8%a7%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%b9%d8%b6%d9%88%d8%a7-%d9%81%d9%8a-%d9%85%d8%ac%d9%84%d8%b3/', 'summary': 'روما.. إعادة انتخاب المغرب عضوا في مجلس “الفاو”. جرى، أمس الجمعة (4 يوليوز) بروما، إعادة انتخاب المملكة المغربية عضوا في مجلس منظمة الأمم المتحدة للأغذية والزراعة (الفاو)، لولاية جديدة تمتد من فاتح يوليوز 2026 إلى غاية اختتام الدورة السادسة والأربعين لمؤتمر المنظمة الأممية، المقررة في سنة 2029. وجرى انتخاب المغرب، ممثلا في شخص السفير الممثل الدائم للمملكة لدى الوكالات الأممية بروما، يوسف بلا،', 'size': 3}], 'main_title': 'إعادة انتخاب المغرب عضوا في مجلس الفاو'}, {'community_id': '7', 'articles': [{'id': '115', 'title': 'جماعة طنجة تعلن عن اعتماد نظام جديد لعملية ركن السيارات', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/408780.html', 'summary': 'جماعة طنجة تعلن عن اعتماد نظام جديد لعملية ركن السيارات. أعلنت جماعة طنجة، الجمعة، عن انطلاق تنفيذ قرار تنظيمي، ابتداء من تاريخ 9 يوليوز الجاري، لتنظيم عملية ركن السيارات وفق معايير النجاعة والرقمنة والشفافية وتحسين', 'size': 2}, {'id': '329', 'title': 'ابتداء من 9 يوليوز الجاري.. اعتماد نظام جديد لركن السيارات في طنجة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d8%a8%d8%aa%d8%af%d8%a7%d8%a1-%d9%85%d9%86-9-%d9%8a%d9%88%d9%84%d9%8a%d9%88%d8%b2-%d8%a7%d9%84%d8%ac%d8%a7%d8%b1%d9%8a-%d8%a7%d8%b9%d8%aa%d9%85%d8%a7%d8%af-%d9%86%d8%b8%d8%a7%d9%85-%d8%ac/', 'summary': 'ابتداء من 9 يوليوز الجاري.. اعتماد نظام جديد لركن السيارات في طنجة. أعلنت جماعة طنجة، أمس الجمعة (4 يوليوز)، عن انطلاق تنفيذ قرار تنظيمي، ابتداء من تاريخ 9 يوليوز الجاري، لتنظيم عملية ركن السيارات وفق معايير النجاعة والرقمنة والشفافية وتحسين العلاقة مع المرتفقين. وأشارت جماعة طنجة، في بيان صحافي، أن القرار التنظيمي المذكور ينص على عدم المس بحرية التنقل والتجوال، وذلك بوقف العمل بعقل السيارات المخالفة لقواعد', 'size': 2}], 'main_title': 'جماعة طنجة تعلن عن اعتماد نظام جديد لعملية ركن السيارات'}, {'community_id': '3', 'articles': [{'id': '126', 'title': 'الاستقلال: التحولات الكبرى التي يعرفها المغرب لن توقفها المحاولات اليائسة للتشويش على رموز الأمة ومؤسساتها الدستورية', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%a7%d8%b3%d8%aa%d9%82%d9%84%d8%a7%d9%84-%d8%a7%d9%84%d8%aa%d8%ad%d9%88%d9%84%d8%a7%d8%aa-%d8%a7%d9%84%d9%83%d8%a8%d8%b1%d9%89-%d8%a7%d9%84%d8%aa%d9%8a-%d9%8a%d8%b9%d8%b1%d9%81%d9%87/', 'summary': 'الاستقلال: التحولات الكبرى التي يعرفها المغرب لن توقفها المحاولات اليائسة للتشويش على رموز الأمة ومؤسساتها الدستورية. أكد حزب الاستقلال على أن الانتقالات والتحولات الكبرى التي يعرفها المغرب “لن تستطيع أن تربكها أو توقفها بعض المحاولات اليائسة للمساس بمقومات الأمة المغربية و ثوابتها الوطنية، أو التشويش على رموزها ومؤسساتها الدستورية، والإلهاء بالقضايا الزائفة واختلاق الأكاذيب وممارسة التضليل لحجب الحقائق والتشويش على المكاسب والنجاحات المتتالية التي تحققها بلادنا”. وأشاد الحزب، في بلاغ للجنته', 'size': 2}, {'id': '392', 'title': 'بلاغ ناري من الاستقلال: حملات تشويه تُهدد ثوابت المغرب ومؤسساته الدستورية', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a8%d9%84%d8%a7%d8%ba-%d9%86%d8%a7%d8%b1%d9%8a-%d9%85%d9%86-%d8%a7%d9%84%d8%a7%d8%b3%d8%aa%d9%82%d9%84%d8%a7%d9%84-%d8%ad%d9%85%d9%84%d8%a7%d8%aa-%d8%aa%d8%b4%d9%88%d9%8a%d9%87-%d8%aa%d9%8f%d9%87/', 'summary': 'بلاغ ناري من الاستقلال: حملات تشويه تُهدد ثوابت المغرب ومؤسساته الدستورية.  – متابعات ندد حزب الاستقلال بما وصفه بـ”هجوم ممنهج” يستهدف رموز ومؤسسات الدولة المغربية، معتبراً أن هذه الحملات تشكل تهديداً خطيراً لتماسك الجبهة الداخلية، ومطالباً بتقوية الوحدة الوطنية...  بلاغ ناري من الاستقلال: حملات تشويه تُهدد ثوابت المغرب ومؤسساته الدستورية     .', 'size': 2}], 'main_title': 'الاستقلال: التحولات الكبرى التي يعرفها المغرب لن توقفها المحاولات اليائسة للتشويش على رموز الأمة ومؤسساتها الدستورية'}, {'community_id': '4', 'articles': [{'id': '161', 'title': 'موتسيبي من الرباط: المغرب يوحد إفريقيا ويقود تطوير كرة القدم النسوية', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1083267.html', 'summary': 'موتسيبي من الرباط: المغرب يوحد إفريقيا ويقود تطوير كرة القدم النسوية. عبر باتريس موتسيبي، رئيس الاتحاد الإفريقي لكرة القدم، عن سعادته بتواجده بالمملكة المغربية قبل ساعات من انطلاق نهائيات كأس أمم إفريقيا للسيدات “المغرب 2024″، مؤكدًا أنه يكن مشاعر خاصة للمغرب نظرًا للمجهودات المبذولة لتطوير كرة القدم الإفريقية. وسيواجه المنتخب الوطني النسوي نظيره الزامبي، يومه السبت، انطلاقًا من الساعة التاسعة مساءً (غرينتش+1)، على أرضية الملعب الأولمبي ظهرت المقالة موتسيبي من الرباط: المغرب يوحد إفريقيا ويقود تطوير كرة القدم النسوية  .', 'size': 2}, {'id': '188', 'title': 'موتسيبي من الرباط: المغرب في قلبي وكرة القدم النسوية الإفريقية تسير نحو العالمية', 'source': 'rue20.com', 'link': 'https://rue20.com/918241.html', 'summary': 'موتسيبي من الرباط: المغرب في قلبي وكرة القدم النسوية الإفريقية تسير نحو العالمية.  الرباط عبّر رئيس الاتحاد الإفريقي لكرة القدم، باتريس موتسيبي، عن سعادته الكبيرة بحلوله بالمغرب لحضور افتتاح بطولة كأس أمم إفريقيا للسيدات، معربًا عن تطلعه لمتابعة المباراة الافتتاحية بين المنتخبين المغربي والزامبي، والتي وصفها بـ”المثيرة”. وأكد موتسيبي، في تصريح صحفي، أن مستوى كرة القدم النسوية في إفريقيا يشهد تطورًا ملحوظًا ومستمرًا، مضيفًا أن الأداء اللافت الخبر موتسيبي من الرباط: المغرب في قلبي وكرة القدم النسوية الإفريقية تسير نحو العالمية  .', 'size': 2}], 'main_title': 'موتسيبي من الرباط: المغرب يوحد إفريقيا ويقود تطوير كرة القدم النسوية'}, {'community_id': '5', 'articles': [{'id': '163', 'title': 'جنيف.. المغرب يطرح تصورا استراتيجيا لدعم الآليات الوطنية لحقوق الإنسان', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1083264.html', 'summary': 'جنيف.. المغرب يطرح تصورا استراتيجيا لدعم الآليات الوطنية لحقوق الإنسان. جدد المغرب، أمس الجمعة بجنيف، تأكيده على أهمية التعاون التقني في تطوير وفعالية الآليات الوطنية لحماية حقوق الإنسان، وذلك خلال الدورة الـ59 لمجلس حقوق الإنسان التابع للأمم المتحدة. وأكدت المندوبية الوزارية المكلفة بحقوق الإنسان، في بيان تم تقديمه باسم اللجنة التنفيذية للشبكة الدولية للآليات الوطنية لتنفيذ وإعداد التقارير والمتابعة، أن التعاون التقني يظل عنصراً مركزياً ظهرت المقالة جنيف.. المغرب يطرح تصورا استراتيجيا لدعم الآليات الوطنية لحقوق الإنسان  .', 'size': 3}, {'id': '195', 'title': 'المغرب يدعو إلى تعزيز التعاون التقني خدمة للآليات الوطنية لحقوق الإنسان', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/468608.html', 'summary': 'المغرب يدعو إلى تعزيز التعاون التقني خدمة للآليات الوطنية لحقوق الإنسان. جدد المغرب بجنيف، خلال الدورة ال59 لمجلس حقوق الإنسان التابع للأمم المتحدة، التأكيد على الأهمية المحورية للتعاون التقني في تطوير وفعالية الآليات الوطنية لحماية حقوق الإنسان. وفي بيان تمت تلاوته خلال جلسة موضوعاتية سنوية باسم اللجنة التنفيذية للشبكة الدولية للآليات الوطنية لتنفيذ وإعداد التقارير والمتابعة، أكدت المندوبية الوزارية المكلفة بحقوق الإنسان، أن التعاون التقني يظل …', 'size': 3}, {'id': '226', 'title': 'جنيف.. المغرب يدعو إلى تعزيز التعاون التقني خدمة للآليات الوطنية لحقوق الإنسان', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224144/', 'summary': 'جنيف.. المغرب يدعو إلى تعزيز التعاون التقني خدمة للآليات الوطنية لحقوق الإنسان. وكالات جدد المغرب، أمس الجمعة بجنيف، خلال الدورة ال59 لمجلس حقوق الإنسان التابع للأمم المتحدة، التأكيد على الأهمية المحورية للتعاون التقني في تطوير وفعالية الآليات الوطنية لحماية حقوق الإنسان. وفي بيان تمت تلاوته خلال جلسة موضوعاتية سنوية باسم اللجنة التنفيذية للشبكة الدولية للآليات الوطنية لتنفيذ وإعداد التقارير والمتابعة، أكدت المندوبية الوزارية المكلفة بحقوق الإنسان،', 'size': 3}], 'main_title': 'جنيف.. المغرب يطرح تصورا استراتيجيا لدعم الآليات الوطنية لحقوق الإنسان'}, {'community_id': '1', 'articles': [{'id': '166', 'title': 'أزولاي يشيد بحصيلة “مذهلة” لمؤسسة البحث والابتكار ويعلن عن 2000 طالب في أفق 2025', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1083232.html', 'summary': 'أزولاي يشيد بحصيلة “مذهلة” لمؤسسة البحث والابتكار ويعلن عن 2000 طالب في أفق 2025. أكد أندري أزولاي، مستشار الملك محمد السادس ورئيس مؤسسة البحث والتطوير والابتكار في العلوم والهندسة، أمس الجمعة بالمحمدية، أن الحصيلة التي حققتها المؤسسة خلال السنوات الثلاث الماضية “بالغة الأهمية ومذهلة”. وأكد أزولاي، في كلمة خلال أشغال المجلس الإداري والجمع العام للمؤسسة، بالخصوص، على الدينامية التي أبانت عنها المؤسسة في مجالات التكوين والبحث والابتكار، مضيفا “لقد ظهرت المقالة أزولاي يشيد بحصيلة “مذهلة” لمؤسسة البحث والابتكار ويعلن عن 2000 طالب في أفق 2025  .', 'size': 2}, {'id': '227', 'title': 'أزولاي: حصيلة مؤسسة البحث والتطوير والابتكار في العلوم والهندسة بالغة الأهمية', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224139/', 'summary': 'أزولاي: حصيلة مؤسسة البحث والتطوير والابتكار في العلوم والهندسة بالغة الأهمية. و م ع أكد أندري أزولاي، مستشار جلالة الملك ورئيس مؤسسة البحث والتطوير والابتكار في العلوم والهندسة، أمس الجمعة بالمحمدية، أن الحصيلة التي حققتها المؤسسة خلال السنوات الثلاث الماضية “بالغة الأهمية ومذهلة”. وأكد أزولاي، في كلمة خلال أشغال المجلس الإداري والجمع العام للمؤسسة، بالخصوص، على الدينامية التي أبانت عنها المؤسسة في مجالات التكوين والبحث', 'size': 2}], 'main_title': 'أزولاي يشيد بحصيلة “مذهلة” لمؤسسة البحث والابتكار ويعلن عن 2000 طالب في أفق 2025'}, {'community_id': '2', 'articles': [{'id': '196', 'title': 'موتسيبي: المغرب يواصل الإسهام في تطوير كرة القدم الإفريقية والنسوية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/468606.html', 'summary': 'موتسيبي: المغرب يواصل الإسهام في تطوير كرة القدم الإفريقية والنسوية. أكد رئيس الكونفدرالية الإفريقية لكرة القدم، باتريس موتسيبي، اليوم السبت بسلا، أن المغرب ما فتئ يساهم في تطوير كرة القدم بشكل عام، وكرة القدم النسوية على وجه الخصوص. وقال موتيسبي، لدى وصوله إلى مطار الرباط ـ سلا لحضورالمباراة الافتتاحية لكأس إفريقيا للأمم لكرة القدم للسيدات: “أود أن أعرب عن شكري لصاحب الجلالة الملك محمد السادس، …', 'size': 2}, {'id': '237', 'title': 'موتسيبي يشيد بدور المغرب الريادي في تطوير كرة القدم الإفريقية عامة والنسوية خاصة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%85%d9%88%d8%aa%d8%b3%d9%8a%d8%a8%d9%8a-%d9%8a%d8%b4%d9%8a%d8%af-%d8%a8%d8%af%d9%88%d8%b1-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-%d8%a7%d9%84%d8%b1%d9%8a%d8%a7%d8%af%d9%8a-%d9%81%d9%8a-%d8%aa%d8%b7/', 'summary': 'موتسيبي يشيد بدور المغرب الريادي في تطوير كرة القدم الإفريقية عامة والنسوية خاصة. قال رئيس الكونفدرالية الإفريقية لكرة القدم، باتريس موتسيبي، اليوم السبت بسلا، إن المغرب ما فتئ يساهم في تطوير كرة القدم بشكل عام، وكرة القدم النسوية على وجه الخصوص. وأضاف موتيسبي لدى وصوله إلى مطار الرباط ـ سلا لحضور المباراة الافتتاحية لكأس إفريقيا للأمم لكرة القدم للسيدات التي يحتضنها المغرب من 5 إلى 26 …  موتسيبي يشيد بدور المغرب الريادي في تطوير كرة القدم الإفريقية عامة والنسوية خاصة     .', 'size': 2}], 'main_title': 'موتسيبي: المغرب يواصل الإسهام في تطوير كرة القدم الإفريقية والنسوية'}, {'community_id': '10', 'articles': [{'id': '215', 'title': 'برقية من الملك إلى رئيس جمهورية الرأس الأخضر', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a8%d8%b1%d9%82%d9%8a%d8%a9-%d9%85%d9%86-%d8%a7%d9%84%d9%85%d9%84%d9%83-%d8%a5%d9%84%d9%89-%d8%b1%d8%a6%d9%8a%d8%b3-%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7%d9%84%d8%b1%d8%a3%d8%b3-%d8%a7/', 'summary': 'برقية من الملك إلى رئيس جمهورية الرأس الأخضر.  – متابعة برقية من الملك إلى رئيس جمهورية الرأس الأخضر بعث الملك محمد السادس برقية تهنئة إلى رئيس جمهورية الرأس الأخضر، فخامة خوسيه ماريا بيريرا نيفيس، وذلك بمناسبة...  برقية من الملك إلى رئيس جمهورية الرأس الأخضر     .', 'size': 2}, {'id': '239', 'title': 'الملك محمد السادس يهنئ رئيس جمهورية الرأس الأخضر بمناسبة العيد الوطني لبلاده', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%85%d9%84%d9%83-%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b3%d8%a7%d8%af%d8%b3-%d9%8a%d9%87%d9%86%d8%a6-%d8%b1%d8%a6%d9%8a%d8%b3-%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a7-22/', 'summary': 'الملك محمد السادس يهنئ رئيس جمهورية الرأس الأخضر بمناسبة العيد الوطني لبلاده. بعث الملك محمد السادس برقية تهنئة إلى رئيس جمهورية الرأس الأخضر، خوسيه ماريا بيريرا نيفيس، وذلك بمناسبة العيد الوطني لبلاده. وأعرب الملك محمد السادس، في هذه البرقية، عن أحر تهانئه مقرونة بمتمنياته الصادقة لفخامة الرئيس خوسيه ماريا بيريرا نيفيس بموفور الصحة والهناء، ولشعب الرأس الأخضر بالتقدم والازدهار. ومما جاء في برقية الملك محمد …  الملك محمد السادس يهنئ رئيس جمهورية الرأس الأخضر بمناسبة العيد الوطني لبلاده     .', 'size': 2}], 'main_title': 'برقية من الملك إلى رئيس جمهورية الرأس الأخضر'}, {'community_id': '9', 'articles': [{'id': '326', 'title': 'موتسيبي: هذه النسخة من كأس إفريقيا للأمم لكرة القدم للسيدات ستظل في الذاكرة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%85%d9%88%d8%aa%d8%b3%d9%8a%d8%a8%d9%8a-%d9%87%d8%b0%d9%87-%d8%a7%d9%84%d9%86%d8%b3%d8%ae%d8%a9-%d9%85%d9%86-%d9%83%d8%a3%d8%b3-%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-%d9%84%d9%84%d8%a3%d9%85/', 'summary': 'موتسيبي: هذه النسخة من كأس إفريقيا للأمم لكرة القدم للسيدات ستظل في الذاكرة. أكد رئيس الاتحاد الإفريقي لكرة القدم، باتريس موتسيبي، اليوم السبت (5 يوليوز) بسلا، أن كأس إفريقيا للأمم للسيدات لكرة القدم، التي تحتضنها المملكة إلى غاية 26 يوليوز الجاري، ستظل في الذاكرة مقارنة بجميع النسخ السابقة للكان. وأضاف السيد موتسيبي، في مؤتمر صحافي بمركب محمد السادس لكرة القدم بالمعمورة بسلا، عقب اجتماع اللجنة التنفيذية للاتحاد الإفريقي', 'size': 2}, {'id': '370', 'title': 'موتسيبي : نسخة المغرب من كأس افريقيا للسيدات ستظل في الذاكرة', 'source': 'rue20.com', 'link': 'https://rue20.com/918395.html', 'summary': 'موتسيبي : نسخة المغرب من كأس افريقيا للسيدات ستظل في الذاكرة. . الرباط أكد رئيس الاتحاد الإفريقي لكرة القدم، باتريس موتسيبي، اليوم السبت بسلا، أن كأس إفريقيا للأمم للسيدات لكرة القدم، التي تحتضنها المملكة إلى غاية 26 يوليوز الجاري، ستظل في الذاكرة مقارنة بجميع النسخ السابقة للكان. وأضاف السيد موتسيبي، في مؤتمر صحافي بمركب محمد السادس لكرة القدم بالمعمورة بسلا، عقب اجتماع اللجنة التنفيذية للاتحاد الخبر موتسيبي : نسخة المغرب من كأس افريقيا للسيدات ستظل في الذاكرة  .', 'size': 2}], 'main_title': 'موتسيبي: هذه النسخة من كأس إفريقيا للأمم لكرة القدم للسيدات ستظل في الذاكرة'}, {'community_id': '11', 'articles': [{'id': '332', 'title': 'حكيمي يخلد اسمه في التاريخ بتحطيمه الرقم الأسطوري لداني ألفيس', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317516/', 'summary': 'حكيمي يخلد اسمه في التاريخ بتحطيمه الرقم الأسطوري لداني ألفيس. سطّر الدولي المغربي أشرف حكيمي إنجازًا تاريخيًا جديدًا يضاف إلى رصيده الحافل، بعدما قاد فريقه باريس سان جيرمان لتحقيق فوز ثمين على بايرن ميونخ بهدفين دون رد، في مباراة مثيرة جرت لحساب نصف نهائي كأس العالم للأندية، الجارية في الولايات المتحدة الأمريكية. ولم يكتف حكيمي بالمساهمة في الأداء الدفاعي القوي للفريق الباريسي، بل وقع على', 'size': 2}, {'id': '376', 'title': 'حكيمي يصنع هدفاً خرافياً ويقود باريس سان جيرمان لنصف نهائي كأس العالم للأندية', 'source': 'rue20.com', 'link': 'https://rue20.com/918309.html', 'summary': 'حكيمي يصنع هدفاً خرافياً ويقود باريس سان جيرمان لنصف نهائي كأس العالم للأندية. . الرباط ساهم الدولي المغربي أشرف حكيمي في تأهل فريقه باريس سان جيرمان الفرنسي إلى المربع الذهبي لكأس العالم للأندية لكرة القدم، بصناعة الهدف الثاني الحاسم ضد بايرن ميونخ الألماني، اليوم السبت بملعب ميرسيديس بانز بأتالانتا بالولايات المتحدة الأمريكية. وراوغ الظهير الأيمن المتألق ثلاثة لاعبين من الفريق البافاري ليمنح تمريرة حاسمة لزميله عثمان ديمبيلي، الخبر حكيمي يصنع هدفاً خرافياً ويقود باريس سان جيرمان لنصف نهائي كأس العالم للأندية  .', 'size': 2}, {'id': '405', 'title': 'كأس العالم للأندية.. حكيمي يساهم في تأهل باريس سان جيرمان إلى المربع الذهبي', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/224179/', 'summary': 'كأس العالم للأندية.. حكيمي يساهم في تأهل باريس سان جيرمان إلى المربع الذهبي. كواليس اليوم ساهم الدولي المغربي أشرف حكيمي في تأهل فريقه باريس سان جيرمان الفرنسي إلى المربع الذهبي لكأس العالم للأندية لكرة القدم، بصناعة الهدف الثاني الحاسم ضد بايرن ميونخ الألماني، اليوم السبت بملعب ميرسيديس بانز بأتالانتا بالولايات المتحدة الأمريكية. وراوغ الظهير الأيمن المتألق ثلاثة لاعبين من الفريق البافاري ليمنح تمريرة حاسمة لزميله عثمان ديمبيلي،', 'size': 3}], 'main_title': 'كأس العالم للأندية.. حكيمي يساهم في تأهل باريس سان جيرمان إلى المربع الذهبي'}, {'community_id': '8', 'articles': [{'id': '340', 'title': 'المغرب يطمح إلى أن يصبح “الرائد الإفريقي في الذكاء الاصطناعي” بحلول 2030', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/317499/', 'summary': 'المغرب يطمح إلى أن يصبح “الرائد الإفريقي في الذكاء الاصطناعي” بحلول 2030. كتبت المجلة الاقتصادية الأسبوعية الفرنسية “Challenge” أن المغرب، في الوقت الذي يستعد فيه لاحتضان نهائيات كأس العالم لكرة القدم سنة 2030، يطمح إلى أن يصبح “رائد القارة الإفريقية” في مجال الذكاء الاصطناعي. وأبرزت المجلة في مقال نشرته على موقعها الإلكتروني تحت عنوان “لمَ لا تكون هناك يونيكورن مغربية؟: الذكاء الاصطناعي في صلب الرهان المقاولاتي للمملكة”،', 'size': 2}, {'id': '383', 'title': 'مجلة: المغرب يطمح إلى أن يصبح الرائد الإفريقي في الذكاء الاصطناعي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/468624.html', 'summary': 'مجلة: المغرب يطمح إلى أن يصبح الرائد الإفريقي في الذكاء الاصطناعي. و.م.ع كتبت المجلة الاقتصادية الأسبوعية الفرنسية “Challenge” أن المغرب، في الوقت الذي يستعد فيه لاحتضان نهائيات كأس العالم لكرة القدم سنة 2030، يطمح إلى أن يصبح “رائد القارة الإفريقية” في مجال الذكاء الاصطناعي. وأبرزت المجلة في مقال نشرته على موقعها الإلكتروني تحت عنوان “لمَ لا تكون هناك يونيكورن مغربية؟: الذكاء الاصطناعي في صلب الرهان المقاولاتي …', 'size': 2}], 'main_title': 'المغرب يطمح إلى أن يصبح “الرائد الإفريقي في الذكاء الاصطناعي” بحلول 2030'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
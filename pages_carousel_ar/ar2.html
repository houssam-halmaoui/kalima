<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 20/08/2025 - 12h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '0', 'articles': [{'id': '20', 'title': 'فرانش مونتانا والشيخة مهرة يقضيان عطلة خاصة ببوزنيقة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-650690.html', 'summary': 'فرانش مونتانا والشيخة مهرة يقضيان عطلة خاصة ببوزنيقة. هبة بريس - فن يقضي مغني الراب الأمريكي من أصول مغربية كريم خربوش المعروف بـ“ فرانش مونتانا ”، رفقة الشيخة مهرة بنت محمد بن راشد آل مكتوم، عطلة خاصة بمدينة بوزنيقة. وشوهد مونتانا والشيخة مهرة، اليوم الثلاثاء، على شاطئ المدينة برفقة حراس ومرافقين، حيث يقيمان في إقامة مطلة على البحر. وكانت الشيخة مهرة، ابنة نائب رئيس دولة الإمارات العربية المتحدة وحاكم دبي، قد أعلنت في وقت سابق ارتباطها رسميا بفرانش مونتانا.', 'size': 2}, {'id': '187', 'title': 'فرانش مونتانا وصديقته ابنة حاكم دبي يقضيان العطلة ببوزنيقة', 'source': 'rue20.com', 'link': 'https://rue20.com/929778.html', 'summary': 'فرانش مونتانا وصديقته ابنة حاكم دبي يقضيان العطلة ببوزنيقة.  / متابعة يقضي نجم الراب الأمريكي من أصول مغربية “فرانش مونتانا”، وصديقته الشيخة مهرة بنت محمد بن راشد آل مكتوم حاكم إمارة دبي ، عطلة خاصة ببوزنيقة الساحلية. وشوهد مونتانا و الشيخة مهرة ، اليوم الثلاثاء في شاطئ بوزنيقة رفقة حراس ومرافقين في إحدى الإقامات الفاخرة المطلة على الشاطئ. الشيخة مهرة بنت محمد الخبر فرانش مونتانا وصديقته ابنة حاكم دبي يقضيان العطلة ببوزنيقة  .', 'size': 2}], 'main_title': 'فرانش مونتانا والشيخة مهرة يقضيان عطلة خاصة ببوزنيقة'}, {'community_id': '8', 'articles': [{'id': '68', 'title': 'ذكرى ثورة الملك والشعب..جلالة الملك يصدر عفوه السامي على 881 شخصا', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205183', 'summary': 'ذكرى ثورة الملك والشعب..جلالة الملك يصدر عفوه السامي على 881 شخصا.  بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة، أصدر صاحب الجلالة الملك محمد السادس، نصره الله، أمره السامي بالعفو على 881 شخصا، منهم 676 في حالة اعتقال و205 في حالة سراح. وفي ما يلي نص بلاغ وزارة العدل بهذا الخصوص: “بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة 1447 هجرية 2025 ميلادية تفضل', 'size': 5}, {'id': '166', 'title': 'العفو الملكي يشمل 881 شخصا بمناسبة ذكرى ثورة الملك والشعب', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1093811.html', 'summary': 'العفو الملكي يشمل 881 شخصا بمناسبة ذكرى ثورة الملك والشعب. بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة، أصدر الملك محمد السادس أمره بالعفو على 881 شخصا، منهم 676 في حالة اعتقال و205 في حالة سراح. وفي ما يلي نص بلاغ وزارة العدل بهذا الخصوص: “بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة 1447 هجرية 2025 ميلادية تفضل جلالة الملك أدام الله عزه ونصره، فأصدر ظهرت المقالة العفو الملكي يشمل 881 شخصا بمناسبة ذكرى ثورة الملك والشعب  .', 'size': 5}, {'id': '185', 'title': 'جلالة الملك يصدر عفواً على 881 سجيناً في ذكرى ثورة الملك والشعب', 'source': 'rue20.com', 'link': 'https://rue20.com/929788.html', 'summary': 'جلالة الملك يصدر عفواً على 881 سجيناً في ذكرى ثورة الملك والشعب. . الرباط بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة، أصدر صاحب الجلالة الملك محمد السادس، نصره الله، أمره السامي بالعفو على 881 شخصا، منهم 676 في حالة اعتقال و205 في حالة سراح. وفي ما يلي نص بلاغ وزارة العدل بهذا الخصوص: “بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة 1447 هجرية 2025 ميلادية الخبر جلالة الملك يصدر عفواً على 881 سجيناً في ذكرى ثورة الملك والشعب  .', 'size': 5}, {'id': '192', 'title': 'ذكرى ثورة الملك والشعب.. عفو ملكي على 881 شخصا', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/473151.html', 'summary': 'ذكرى ثورة الملك والشعب.. عفو ملكي على 881 شخصا. بمناسبة ذكرى ثورة الملك والشعب لهذه السنة، أصدر الملك محمد السادس، أمره السامي بالعفو على 881 شخصا، منهم 676 في حالة اعتقال و205 في حالة سراح. وفي ما يلي نص بلاغ وزارة العدل بهذا الخصوص: “بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة 1447 هجرية 2025 ميلادية تفضل جلالة الملك أدام الله عزه ونصره، فأصدر …', 'size': 5}, {'id': '226', 'title': 'في ذكرى ثورة الملك والشعب.. جلالة الملك يعفو عن 881 شخصا', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226123/', 'summary': 'في ذكرى ثورة الملك والشعب.. جلالة الملك يعفو عن 881 شخصا. الرباط – بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة، أصدر صاحب الجلالة الملك محمد السادس، نصره الله، أمره السامي بالعفو على 881 شخصا، منهم 676 في حالة اعتقال و205 في حالة سراح. وفي ما يلي نص بلاغ وزارة العدل بهذا الخصوص: “بمناسبة ذكرى ثورة الملك والشعب المجيدة لهذه السنة 1447 هجرية 2025 ميلادية تفضل', 'size': 5}], 'main_title': 'ذكرى ثورة الملك والشعب..جلالة الملك يصدر عفوه السامي على 881 شخصا'}, {'community_id': '2', 'articles': [{'id': '95', 'title': 'توقيف سيدة وابنتها بمطار محمد الخامس بعد تورطهما في عمليات نصب بالملايين', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/411309.html', 'summary': 'توقيف سيدة وابنتها بمطار محمد الخامس بعد تورطهما في عمليات نصب بالملايين. تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي بمدينة الدار البيضاء، يوم الأحد 17 غشت الجاري، من توقيف سيدة وابنتها للاشتباه في ارتباطهما بشبكة إجرامية', 'size': 2}, {'id': '209', 'title': '“الاستثمار الوهمي” يلقي بسيدة وابنتها خلف القضبان', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a7%d9%84%d8%a7%d8%b3%d8%aa%d8%ab%d9%85%d8%a7%d8%b1-%d8%a7%d9%84%d9%88%d9%87%d9%85%d9%8a-%d9%8a%d9%84%d9%82%d9%8a-%d8%a8%d8%b3%d9%8a%d8%af%d8%a9-%d9%88%d8%a7%d8%a8%d9%86%d8%aa%d9%87%d8%a7/', 'summary': '“الاستثمار الوهمي” يلقي بسيدة وابنتها خلف القضبان.  – متابعات تمكنت عناصر الأمن الوطني بمطار محمد الخامس الدولي بمدينة الدار البيضاء، يوم الأحد 17 غشت 2025، من توقيف سيدة وابنتها للاشتباه في تورطهما ضمن شبكة إجرامية...  “الاستثمار الوهمي” يلقي بسيدة وابنتها خلف القضبان     .', 'size': 2}], 'main_title': 'توقيف سيدة وابنتها بمطار محمد الخامس بعد تورطهما في عمليات نصب بالملايين'}, {'community_id': '7', 'articles': [{'id': '121', 'title': 'توقيف مواطن دنماركي في طنجة بتهم القتل العمد', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/411334.html', 'summary': 'توقيف مواطن دنماركي في طنجة بتهم القتل العمد. تمكنت عناصر الشرطة بولاية أمن طنجة، مساء اليوم الثلاثاء 19 غشت الجاري، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه', 'size': 5}, {'id': '220', 'title': 'طنجة: توقيف دنماركي من أصل فلسطيني مطلوب دوليا في جريمة قتل بالسلاح الناري', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226140/', 'summary': 'طنجة: توقيف دنماركي من أصل فلسطيني مطلوب دوليا في جريمة قتل بالسلاح الناري. تمكنت عناصر الشرطة بولاية أمن طنجة، مساء اليوم الثلاثاء 19 غشت الجاري، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية في قضية تتعلق بالقتل العمد باستخدام السلاح. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أظهرت عملية تنقيطه بقاعدة', 'size': 6}, {'id': '313', 'title': 'طنجة…توقيف دنماركي من أصول فلسطينية مبحوث عنه', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321370/', 'summary': 'طنجة…توقيف دنماركي من أصول فلسطينية مبحوث عنه. تمكنت عناصر الشرطة بولاية أمن طنجة، مساء اليوم الثلاثاء 19 غشت الجاري، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية في قضية تتعلق بالقتل العمد باستخدام السلاح. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أظهرت عملية تنقيطه', 'size': 5}, {'id': '322', 'title': 'دانماركي في قبضة أمن طنجة في قضية تتعلق بالقتل بواسطة السلاح', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-585731.html', 'summary': 'دانماركي في قبضة أمن طنجة في قضية تتعلق بالقتل بواسطة السلاح. تمكنت عناصر الشرطة بولاية أمن طنجة، مساء اليوم الثلاثاء 19 غشت الجاري، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية في قضية تتعلق بالقتل العمد باستخدام السلاح. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أظهرت عملية', 'size': 5}, {'id': '361', 'title': 'أمن طنجة يوقف مواطنا دنماركيا متهم بالقتل العمد باستخدام السلاح', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/473157.html', 'summary': 'أمن طنجة يوقف مواطنا دنماركيا متهم بالقتل العمد باستخدام السلاح. تمكنت عناصر الشرطة بولاية أمن طنجة، مساء أمس الثلاثاء، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية', 'size': 5}], 'main_title': 'طنجة: توقيف دنماركي من أصل فلسطيني مطلوب دوليا في جريمة قتل بالسلاح الناري'}, {'community_id': '4', 'articles': [{'id': '130', 'title': 'حموشي يستقبل اللواء خالد بن حمد العطية لتعزيز التعاون العربي في مجال الرياضة الشرطية', 'source': 'assabah.ma', 'link': 'https://assabah.ma/866413.html', 'summary': 'حموشي يستقبل اللواء خالد بن حمد العطية لتعزيز التعاون العربي في مجال الرياضة الشرطية. استقبل عبد اللطيف حموشي، المدير العام للأمن الوطني ولمراقبة التراب الوطني، يوم الاثنين بمكتبه في الرباط، اللواء خالد بن حمد العطية، رئيس الاتحادين الرياضي القطري والعربي للشرطة، وذلك في إطار تعزيز التعاون العربي في مجال الرياضة الشرطية. وخلال هذا اللقاء، عبّر اللواء العطية عن شكره وتقديرهأكمل القراءة » المقالة حموشي يستقبل اللواء خالد بن حمد العطية لتعزيز التعاون العربي في مجال الرياضة الشرطية  .', 'size': 2}, {'id': '239', 'title': 'حموشي يستقبل اللواء خالد العطية لتعزيز التعاون في الرياضة الشرطية العربية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%ad%d9%85%d9%88%d8%b4%d9%8a-%d9%8a%d8%b3%d8%aa%d9%82%d8%a8%d9%84-%d8%a7%d9%84%d9%84%d9%88%d8%a7%d8%a1-%d8%ae%d8%a7%d9%84%d8%af-%d8%a7%d9%84%d8%b9%d8%b7%d9%8a%d8%a9-%d9%84%d8%aa%d8%b9%d8%b2%d9%8a/', 'summary': 'حموشي يستقبل اللواء خالد العطية لتعزيز التعاون في الرياضة الشرطية العربية. استقبل عبد اللطيف حموشي، المدير العام للأمن الوطني ومدير المديرية العامة لمراقبة التراب الوطني، أمس الإثنين بالرباط، اللواء خالد بن حمد العطية، رئيس الاتحادين الرياضي القطري والعربي للشرطة. وحسب ما نشرته وسائل إعلام قطرية، فقد أعرب اللواء العطية، باسم الاتحاد الرياضي العربي للشرطة، خلال اللقاء عن خالص الشكر والتقدير لعبد اللطيف حموشي، تقديرًا …  حموشي يستقبل اللواء خالد العطية لتعزيز التعاون في الرياضة الشرطية العربية     .', 'size': 2}], 'main_title': 'حموشي يستقبل اللواء خالد بن حمد العطية لتعزيز التعاون العربي في مجال الرياضة الشرطية'}, {'community_id': '11', 'articles': [{'id': '144', 'title': 'الوكيل العام يكشف تفاصيل قضية “أسدون”', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321345/', 'summary': 'الوكيل العام يكشف تفاصيل قضية “أسدون”. كشف الوكيل العام للملك لدى محكمة الاستئناف بالدار البيضاء عن تفاصيل ما تم تداوله بخصوص الحقوقي سيون شمعون حريم بروخ أسدون. وأصدر الوكيل العام للملك لدى محكمة الاستئناف بالدار البيضاء بلاغا يوضح للرأي العام ملابسات قضية “سيون شمعون حريم بروخ أسدون”، التي أثارت نقاشا واسعا على مواقع التواصل الاجتماعي خلال الأيام الأخيرة. ولفت الوكيل', 'size': 2}, {'id': '195', 'title': 'الوكيل العام للملك يكشف ملابسات العثور على سيون أسدون مغمى عليه داخل منزله', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/473144.html', 'summary': 'الوكيل العام للملك يكشف ملابسات العثور على سيون أسدون مغمى عليه داخل منزله. أفاد الوكيل العام للملك لدى محكمة الاستئناف بالدار البيضاء، اليوم الثلاثاء، بأن الأبحاث بخصوص قضية سيون شمعون حريم بروخ أسدون لا تزال جارية وسيتم ترتيب الآثار القانونية المناسبة فور انتهائها. وأوضح بلاغ للوكيل العام للملك لدى محكمة الاستئناف بالدار البيضاء أنه علاقة بما يتم تداوله عبر بعض وسائط التواصل الاجتماعي بخصوص “قضية سيون شمعون حريم …', 'size': 2}], 'main_title': 'الوكيل العام يكشف تفاصيل قضية “أسدون”'}, {'community_id': '3', 'articles': [{'id': '182', 'title': 'توقيف مواطن دنماركي بطنجة مطلوب لدى القضاء الدنماركي في قضية قتل', 'source': 'rue20.com', 'link': 'https://rue20.com/929818.html', 'summary': 'توقيف مواطن دنماركي بطنجة مطلوب لدى القضاء الدنماركي في قضية قتل.  الرباط تمكنت عناصر الشرطة بولاية أمن طنجة، مساء اليوم الثلاثاء 19 غشت الجاري، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية في قضية تتعلق بالقتل العمد باستخدام السلاح. وقد جرى توقيف المشتبه فيه بمدينة طنجة، حيث أظهرت عملية الخبر توقيف مواطن دنماركي بطنجة مطلوب لدى القضاء الدنماركي في قضية قتل  .', 'size': 3}, {'id': '233', 'title': 'توقيف مواطن دنماركي من أصول فلسطينية بطنجة مبحوث عنه دوليا بتهمة القتل العمد', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d9%85%d9%88%d8%a7%d8%b7%d9%86-%d8%af%d9%86%d9%85%d8%a7%d8%b1%d9%83%d9%8a-%d9%85%d9%86-%d8%a3%d8%b5%d9%88%d9%84-%d9%81%d9%84%d8%b3%d8%b7%d9%8a%d9%86%d9%8a%d8%a9-%d8%a8/', 'summary': 'توقيف مواطن دنماركي من أصول فلسطينية بطنجة مبحوث عنه دوليا بتهمة القتل العمد. أفاد مصدر أمني عناصر الشرطة بولاية أمن طنجة، تمكنت مساء اليوم الثلاثاء 19 غشت الجاري، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية في قضية تتعلق بالقتل العمد باستخدام السلاح. وحسب ذات المصدر، فقد جرى توقيف المشتبه …  توقيف مواطن دنماركي من أصول فلسطينية بطنجة مبحوث عنه دوليا بتهمة القتل العمد     .', 'size': 3}, {'id': '341', 'title': 'توقيف دنماركي مبحوث عنه دوليا بطنجة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%af%d9%86%d9%85%d8%a7%d8%b1%d9%83%d9%8a-%d9%85%d8%a8%d8%ad%d9%88%d8%ab-%d8%b9%d9%86%d9%87-%d8%af%d9%88%d9%84%d9%8a%d8%a7-%d8%a8%d8%b7%d9%86%d8%ac%d8%a9/', 'summary': 'توقيف دنماركي مبحوث عنه دوليا بطنجة. أفاد مصدر أمني، أن عناصر الشرطة بولاية أمن طنجة تمكنت، أمس الثلاثاء، من توقيف مواطن دنماركي من أصول فلسطينية، يبلغ من العمر 26 سنة، لكونه يشكل موضوع أمر دولي بإلقاء القبض صادر عن السلطات القضائية الدنماركية في قضية تتعلق بالقتل العمد باستخدام السلاح. وذكر مصدر أمني أنه جرى توقيف المشتبه فيه بمدينة طنجة، حيث أظهرت  توقيف دنماركي مبحوث عنه دوليا بطنجة     .', 'size': 4}], 'main_title': 'توقيف دنماركي مبحوث عنه دوليا بطنجة'}, {'community_id': '10', 'articles': [{'id': '213', 'title': 'توقيف شاب صدم دراجة أمنية وعرّض حياة المواطنين للخطر', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%aa%d9%88%d9%82%d9%8a%d9%81-%d8%b4%d8%a7%d8%a8-%d8%b5%d8%af%d9%85-%d8%af%d8%b1%d8%a7%d8%ac%d8%a9-%d8%a3%d9%85%d9%86%d9%8a%d8%a9-%d9%88%d8%b9%d8%b1%d9%91%d8%b6-%d8%ad%d9%8a%d8%a7%d8%a9-%d8%a7%d9%84/', 'summary': 'توقيف شاب صدم دراجة أمنية وعرّض حياة المواطنين للخطر.  – متابعات تمكنت عناصر الشرطة بولاية أمن مراكش، بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، زوال اليوم الثلاثاء 19 غشت 2025، من توقيف شاب يبلغ من العمر...  توقيف شاب صدم دراجة أمنية وعرّض حياة المواطنين للخطر     .', 'size': 2}, {'id': '323', 'title': 'أمن مراكش يدخل على خط فيديو السائق المتهور', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-585727.html', 'summary': 'أمن مراكش يدخل على خط فيديو السائق المتهور. تمكنت عناصر الشرطة بولاية أمن مراكش بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، اليوم الثلاثاء 19 غشت الجاري، من توقيف شخص يبلغ من العمر 26 سنة، وذلك للاشتباه في تورطه في قضية تتعلق بعدم الامتثال وتعريض أمن المواطنين وعناصر الشرطة للخطر. وأفاد بلاغ أمني بأن عناصر الشرطة ضبطت المشتبه فيه متلبسا', 'size': 2}, {'id': '346', 'title': 'مراكش.. توقيف سائق متهور صدم دراجة أمنية وعرّض حياة المواطنين للخطر', 'source': 'rue20.com', 'link': 'https://rue20.com/929851.html', 'summary': 'مراكش.. توقيف سائق متهور صدم دراجة أمنية وعرّض حياة المواطنين للخطر.  ا متابعة تمكنت عناصر الشرطة بولاية أمن مراكش بتنسيق مع مصالح المديرية العامة لمراقبة التراب الوطني، اليوم الثلاثاء 19 غشت الجاري، من توقيف شخص يبلغ من العمر 26 سنة، وذلك للاشتباه في تورطه في قضية تتعلق بعدم الامتثال وتعريض أمن المواطنين وعناصر الشرطة للخطر. وأفاد بلاغ أمني بأن عناصر الشرطة ضبطت المشتبه فيه الخبر مراكش.. توقيف سائق متهور صدم دراجة أمنية وعرّض حياة المواطنين للخطر  .', 'size': 3}], 'main_title': 'مراكش.. توقيف سائق متهور صدم دراجة أمنية وعرّض حياة المواطنين للخطر'}, {'community_id': '5', 'articles': [{'id': '261', 'title': 'موقف حازم من اليابان تجاه البوليساريو', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a7%d9%84%d9%8a%d8%a7%d8%a8%d8%a7%d9%86-%d8%aa%d8%b1%d9%81%d8%b6-%d9%85%d9%86%d8%a7%d9%88%d8%b1%d8%a7%d8%aa-%d8%a7%d9%84%d8%a8%d9%88%d9%84%d9%8a%d8%b3%d8%a7%d8%b1%d9%8a%d9%88-1611679.html', 'summary': 'موقف حازم من اليابان تجاه البوليساريو. في رسالة قوية وواضحة إلى إفريقيا والأمم المتحدة جددت اليابان، اليوم الأربعاء، وللمرة الثالثة في ظرف يومين، موقفها الثابت بعدم اعترافها بالكيان الانفصالي، وذلك خلال افتتاح قمة المؤتمر الدولي لطوكيو حول التنمية بإفريقيا (تيكاد-9). وفي افتتاح هذه القمة، وتمهيدا لبدء أشغالها، أدلى وزير الشؤون الخارجية الياباني تاكيشي إيوايا بتصريح رسمي باسم حكومته، مؤكدا أن “وجود  موقف حازم من اليابان تجاه البوليساريو     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '305', 'title': 'اليابان تجدد التأكيد أمام أشغال قمة “تيكاد-9”  على عدم اعترافها بالكيان الانفصالي', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321391/', 'summary': 'اليابان تجدد التأكيد أمام أشغال قمة “تيكاد-9” على عدم اعترافها بالكيان الانفصالي. في رسالة قوية وواضحة إلى إفريقيا والأمم المتحدة، جددت اليابان، اليوم الأربعاء 20 غشت، وللمرة الثالثة في ظرف يومين، موقفها الثابت بعدم اعترافها بالكيان الانفصالي، وذلك خلال افتتاح قمة المؤتمر الدولي لطوكيو حول التنمية بإفريقيا (تيكاد-9). وفي افتتاح هذه القمة، وتمهيدا لبدء أشغالها، أدلى وزير الشؤون الخارجية الياباني تاكيشي إيوايا بتصريح رسمي باسم حكومته، ليؤكد', 'size': 4}, {'id': '351', 'title': 'اليابان تجدد عدم اعترافها بالبوليساريو و ترفض حضورها في قمة تيكاد', 'source': 'rue20.com', 'link': 'https://rue20.com/929841.html', 'summary': 'اليابان تجدد عدم اعترافها بالبوليساريو و ترفض حضورها في قمة تيكاد.  | الرباط في رسالة قوية وواضحة إلى إفريقيا والأمم المتحدة، جددت اليابان، اليوم الأربعاء، وللمرة الثالثة في ظرف يومين، موقفها الثابت بعدم اعترافها بالكيان الانفصالي، وذلك خلال افتتاح قمة المؤتمر الدولي لطوكيو حول التنمية بإفريقيا (تيكاد-9). وفي افتتاح هذه القمة، وتمهيدا لبدء أشغالها، أدلى وزير الشؤون الخارجية الياباني تاكيشي إيوايا بتصريح رسمي باسم الخبر اليابان تجدد عدم اعترافها بالبوليساريو و ترفض حضورها في قمة تيكاد  .', 'size': 3}, {'id': '355', 'title': 'قمة تيكاد–9.. اليابان تجدد التأكيد للمرة الثالثة على عدم اعترافها بالكيان الانفصالي', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/473196.html', 'summary': 'قمة تيكاد–9.. اليابان تجدد التأكيد للمرة الثالثة على عدم اعترافها بالكيان الانفصالي. في رسالة قوية وواضحة إلى إفريقيا والأمم المتحدة، جددت اليابان، اليوم الأربعاء، وللمرة الثالثة في ظرف يومين، موقفها الثابت بعدم اعترافها بالكيان الانفصالي، وذلك خلال افتتاح قمة المؤتمر الدولي لطوكيو حول التنمية بإفريقيا (تيكاد-9).', 'size': 3}], 'main_title': 'اليابان تجدد التأكيد أمام أشغال قمة “تيكاد-9”  على عدم اعترافها بالكيان الانفصالي'}, {'community_id': '6', 'articles': [{'id': '310', 'title': 'إسبانيا تلجأ لطائرات “كانادير” المغربية لمواجهة حرائق الغابات', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321376/', 'summary': 'إسبانيا تلجأ لطائرات “كانادير” المغربية لمواجهة حرائق الغابات. كشفت السفارة الألمانية، عن مشاركة المغرب في الجهود الدولية الرامية إلى احتواء موجة الحرائق العنيفة التي اجتاحت شبه الجزيرة الإيبيرية خلال الأيام الأخيرة، وذلك عبر إرسال طائرات متخصصة من طراز “كانادير” للمساهمة في عمليات الإطفاء. وأوضحت السفارة أن إسبانيا استعانت بالطائرات المغربية المتقدمة، المعروفة بفعاليتها في إخماد حرائق الغابات، إلى جانب تلقي دعم من 67', 'size': 2}, {'id': '317', 'title': 'بعد البرتغال.. المغرب يرسل طائرات “كنادير” إلى إسبانيا', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-585747.html', 'summary': 'بعد البرتغال.. المغرب يرسل طائرات “كنادير” إلى إسبانيا. كشفت سفارة ألمانيا بالمغرب، أن إسبانيا استعانت بالطائرات المغربية المتخصصة في إطفاء الحرائق، وذلك في إطار الجهود الدولية المبذولة لمواجهة النيران المهولة التي اجتاحت شبه الجزيرة الإيبيرية خلال الأيام الأخيرة. وذكرت السفارة في منشور على صفحتها الرسمية بفيسبوك، أن 67 رجل إطفاء ألماني توجهوا على متن 21 مركبة خاصة إلى إسبانيا لدعم', 'size': 2}], 'main_title': 'إسبانيا تلجأ لطائرات “كانادير” المغربية لمواجهة حرائق الغابات'}, {'community_id': '9', 'articles': [{'id': '314', 'title': 'توقعات طقس اليوم الأربعاء بالبلاد', 'source': 'aljarida24.ma', 'link': 'https://aljarida24.ma/p/actualites/321365/', 'summary': 'توقعات طقس اليوم الأربعاء بالبلاد. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الأربعاء، أن يستمر الطقس الحار بداخل الأقاليم الجنوبية وأقصى الجنوب الشرقي للبلاد، والطقس الحار نسبيا بسهول تادلة وداخل منطقة سوس. ويرتقب تمركز سحب ركامية و غير مستقرة شيئا ما بداخل الأقاليم الصحراوية. كما يتوقع، خلال الصباح والليل، تشكل كتل ضبابية فوق هضاب الفوسفاط و فوق الشمال الغربي للأقاليم', 'size': 4}, {'id': '319', 'title': 'توقعات الأرصاد الجوية لطقس الأربعاء بالمغرب', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-585717.html', 'summary': 'توقعات الأرصاد الجوية لطقس الأربعاء بالمغرب. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم الأربعاء، أن يستمر الطقس الحار بداخل الأقاليم الجنوبية وأقصى الجنوب الشرقي للبلاد، والطقس الحار نسبيا بسهول تادلة وداخل منطقة سوس. ويرتقب تمركز سحب ركامية و غير مستقرة شيئا ما بداخل الأقاليم الصحراوية، كما يتوقع، خلال الصباح والليل، تشكل كتل ضبابية فوق هضاب الفوسفاط و فوق', 'size': 4}, {'id': '342', 'title': 'توقعات أحوال الطقس.. تشكل كتل ضبابية فوق هضاب الفوسفاط', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%aa%d8%b4%d9%83%d9%84-%d9%83%d8%aa%d9%84-%d8%b6%d8%a8%d8%a7%d8%a8%d9%8a%d8%a9-%d9%81%d9%88%d9%82/', 'summary': 'توقعات أحوال الطقس.. تشكل كتل ضبابية فوق هضاب الفوسفاط. تتوقع المديرية العامة للأرصاد الجوية، اليوم الأربعاء، أن يستمر الطقس الحار بداخل الأقاليم الجنوبية وأقصى الجنوب الشرقي للبلاد، والطقس الحار نسبيا بسهول تادلة وداخل منطقة سوس. ويرتقب تمركز سحب ركامية و غير مستقرة شيئا ما بداخل الأقاليم الصحراوية. كما يتوقع، خلال الصباح والليل، تشكل كتل ضبابية فوق هضاب الفوسفاط و فوق الشمال الغربي للأقاليم الصحراوية،  توقعات أحوال الطقس.. تشكل كتل ضبابية فوق هضاب الفوسفاط     .', 'size': 4}, {'id': '378', 'title': 'توقعات أحوال الطقس اليوم الأربعاء', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%aa%d9%88%d9%82%d8%b9%d8%a7%d8%aa-%d8%a3%d8%ad%d9%88%d8%a7%d9%84-%d8%a7%d9%84%d8%b7%d9%82%d8%b3-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%a3%d8%b1%d8%a8%d8%b9%d8%a7%d8%a1-33/', 'summary': 'توقعات أحوال الطقس اليوم الأربعاء. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليومه الأربعاء، أن يستمر الطقس الحار بداخل الأقاليم الجنوبية وأقصى الجنوب الشرقي للبلاد، والطقس الحار نسبيا بسهول تادلة وداخل منطقة سوس، ويرتقب تمركز سحب ركامية و غير مستقرة شيئا ما بداخل الأقاليم الصحراوية. كما يتوقع، خلال الصباح والليل، تشكل كتل ضبابية فوق هضاب الفوسفاط وفوق الشمال الغربي …  توقعات أحوال الطقس اليوم الأربعاء     .', 'size': 4}], 'main_title': 'توقعات طقس اليوم الأربعاء بالبلاد'}, {'community_id': '1', 'articles': [{'id': '315', 'title': 'وست هام يعرض مبلغا ضخما لضم مهاجم مغربي', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-585757.html', 'summary': 'وست هام يعرض مبلغا ضخما لضم مهاجم مغربي. عاد نادي ويست هام يونايتد للدخول بقوة في سباق التنافس على الظفر بالدولي المغربي يوسف النصيري، هداف المنتخب الوطني، وذلك خلال الميركاتو الصيفي الجاري. وبحسب تقارير إعلامية تركية، فإن إدارة النادي اللندني تستعد لتقديم عرض رسمي ضخم تصل قيمته إلى 40 مليون يورو، لإقناع فنربخشة بالتخلي عن هدافه الأول. الصفقة', 'size': 2}, {'id': '373', 'title': 'ويست هام يونايتد الإنجليزي يدخل سباق التعاقد مع النصيري', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d9%88%d9%8a%d8%b3%d8%aa-%d9%87%d8%a7%d9%85-%d9%8a%d9%88%d9%86%d8%a7%d9%8a%d8%aa%d8%af-%d8%a7%d9%84%d8%a5%d9%86%d8%ac%d9%84%d9%8a%d8%b2%d9%8a-%d9%8a%d8%af%d8%ae%d9%84-%d8%b3%d8%a8%d8%a7%d9%82-%d8%a7/', 'summary': 'ويست هام يونايتد الإنجليزي يدخل سباق التعاقد مع النصيري. كشفت صحيفة “ستار” التركية عن معطيات جديدة تخص مستقبل الدولي المغربي يوسف النصيري، مهاجم فنربخشة التركي، مؤكدة أن نادي ويست هام يونايتد الإنجليزي بات الأقرب لضم اللاعب خلال فترة الانتقالات الصيفية الجارية. وبحسب المصدر ذاته، فإن إدارة النادي اللندني تستعد لتقديم عرض رسمي ضخم تصل قيمته إلى 40 مليون يورو لإقناع فنربخشة بالتخلي عن هدافه الأول، …  ويست هام يونايتد الإنجليزي يدخل سباق التعاقد مع النصيري     .', 'size': 2}], 'main_title': 'وست هام يعرض مبلغا ضخما لضم مهاجم مغربي'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
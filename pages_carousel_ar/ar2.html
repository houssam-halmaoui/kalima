<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 15/10/2025 - 18h26</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '9', 'articles': [{'id': '12', 'title': 'شوكي: التعبيرات الشبابية مدعوة للنقاش داخل المؤسسات التي توافق عليها المغاربة', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666218.html', 'summary': 'شوكي: التعبيرات الشبابية مدعوة للنقاش داخل المؤسسات التي توافق عليها المغاربة. هبة بريس قال محمد شوكي، رئيس فريق التجمع الوطني للأحرار بمجلس النواب، إن شرعية المنجز وشرعية المساءلة متكاملتان، لأنّ المنجز هو كل ما يقتضي من كفاءة ونجاعة وشفافية وإشراك، والمساءلة هي كل ما تقتضي من محاسبة ومراقبة، مبرزا أن المساءلات أنواع رسمية في البرلمان ومدنية (ما نقوم به الآن) وشعبية، ممثّل لها بالتعبيرات الشعبية التي', 'size': 2}, {'id': '359', 'title': 'شوكي: مستعدون للتعامل مع التعبيرات الشبابية عبر التوضيح والتنوير والإشراك والحوار داخل المؤسسات', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/414556.html', 'summary': 'شوكي: مستعدون للتعامل مع التعبيرات الشبابية عبر التوضيح والتنوير والإشراك والحوار داخل المؤسسات. اعتبر محمد شوكي، رئيس فريق التجمع الوطني للأحرار بمجلس النواب، أن الشكل الاحتجاجي للتعبيرات الشبابية جديد ويؤشر على وجود فجوة بينه وبين ما عهدناه من', 'size': 2}], 'main_title': 'شوكي: التعبيرات الشبابية مدعوة للنقاش داخل المؤسسات التي توافق عليها المغاربة'}, {'community_id': '5', 'articles': [{'id': '29', 'title': 'ليبيريا تجدد دعمها لمبادرة الحكم الذاتي', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666168.html', 'summary': 'ليبيريا تجدد دعمها لمبادرة الحكم الذاتي. هبة بريس جددت ليبيريا، اليوم الثلاثاء في نيويورك، تأكيد دعمها لمبادرة الحكم الذاتي التي قدمها المغرب سنة 2007، بهدف التوصل إلى حل نهائي للنزاع الإقليمي حول الصحراء المغربية. وخلال مداخلته أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة، أكد ممثل ليبيريا أن المبادرة المغربية، “التي تتماشى مع توجهات مجلس الأمن”، تحظى بدعم دولي واسع. كما عبر', 'size': 2}, {'id': '123', 'title': 'الصحراء المغربية.. ليبيريا تجدد دعمها لمخطط الحكم الذاتي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%b5%d8%ad%d8%b1%d8%a7%d8%a1-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a%d8%a9-%d9%84%d9%8a%d8%a8%d9%8a%d8%b1%d9%8a%d8%a7-%d8%aa%d8%ac%d8%af%d8%af-%d8%af%d8%b9%d9%85%d9%87%d8%a7-%d9%84-2/', 'summary': 'الصحراء المغربية.. ليبيريا تجدد دعمها لمخطط الحكم الذاتي. جددت ليبيريا، أمس الثلاثاء (14 أكتوبر) في نيويورك، تأكيد دعمها لمبادرة الحكم الذاتي التي قدمها المغرب سنة 2007، بهدف التوصل إلى حل نهائي للنزاع الإقليمي حول الصحراء المغربية. وخلال مداخلته أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة، أكد ممثل ليبيريا أن المبادرة المغربية، “التي تتماشى مع توجهات مجلس الأمن”، تحظى بدعم دولي واسع. كما عبر', 'size': 2}], 'main_title': 'ليبيريا تجدد دعمها لمبادرة الحكم الذاتي'}, {'community_id': '11', 'articles': [{'id': '106', 'title': 'منظمة الصحة العالمية تُحذر من الانتشار الواسع للبكتيريا المقاومة للمضادات الحيوية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/health/414516.html', 'summary': 'منظمة الصحة العالمية تُحذر من الانتشار الواسع للبكتيريا المقاومة للمضادات الحيوية. حذّرت منظمة الصحة العالمية، الإثنين، من الانتشار الواسع للبكتيريا المقاومة للمضادات الحيوية، ما يقوّض فاعلية علاجات حيوية ويزيد من احتمال أن تصبح جروح طفيفة والتهابات', 'size': 2}, {'id': '403', 'title': 'الصحة العالمية تحذر من تراجع فعالية المضادات الحيوية بأكثر من 40 في المائة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d9%84%d8%b5%d8%ad%d8%a9-%d8%a7%d9%84%d8%b9%d8%a7%d9%84%d9%85%d9%8a%d8%a9-%d8%aa%d8%ad%d8%b0%d8%b1-%d9%85%d9%86-%d8%aa%d8%b1%d8%a7%d8%ac%d8%b9-%d9%81%d8%b9%d8%a7%d9%84%d9%8a%d8%a9-%d8%a7%d9%84/', 'summary': 'الصحة العالمية تحذر من تراجع فعالية المضادات الحيوية بأكثر من 40 في المائة. أفادت منظمة الصحة العالمية بأن تزايد مقاومة المضادات الحيوية الأساسية يشكل تهديدا متزايدا للصحة العالمية، مبينة أن واحدة من كل ست حالات عدوى بكتيرية مؤكدة مختبريا، تسببت في عدوى شائعة بين البشر حول العالم في 2023، كانت مقاومة للعلاج بالمضادات الحيوية. واعتمد التقرير الأخير للمنظمة على معلومات عرضتها أزيد من 100 دولة، وخلص إلى أنه  الصحة العالمية تحذر من تراجع فعالية المضادات الحيوية بأكثر من 40 في المائة     .', 'size': 2}], 'main_title': 'منظمة الصحة العالمية تُحذر من الانتشار الواسع للبكتيريا المقاومة للمضادات الحيوية'}, {'community_id': '0', 'articles': [{'id': '110', 'title': 'بعد فراره أثناء إعادة تمثيل الجريمة..توقيف متهم في جريمة قتل هزّت حي طنجة البالية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/414518.html', 'summary': 'بعد فراره أثناء إعادة تمثيل الجريمة..توقيف متهم في جريمة قتل هزّت حي طنجة البالية. تمكنت المصالح الأمنية التابعة للمصلحة الولائية للشرطة القضائية بمنطقة أمن بني مكادة، من توقيف المتهم الرئيسي في جريمة القتل المروعة التي شهدها حي "طنجة البالية"،', 'size': 2}, {'id': '436', 'title': 'أمن طنجة يوقِف “قاتل” فَرَّ من مسرح إعادة تمثيل الجريمة', 'source': 'howiyapress.com', 'link': 'https://howiyapress.com/%d8%a3%d9%85%d9%86-%d8%b7%d9%86%d8%ac%d8%a9-%d9%8a%d9%88%d9%82%d9%90%d9%81-%d9%82%d8%a7%d8%aa%d9%84-%d9%81%d9%8e%d8%b1%d9%91%d9%8e-%d9%85%d9%86-%d9%85%d8%b3%d8%b1%d8%ad-%d8%a5%d8%b9%d8%a7%d8%af/', 'summary': 'أمن طنجة يوقِف “قاتل” فَرَّ من مسرح إعادة تمثيل الجريمة. -متابعات تمكنت عناصر المصلحة الولائية للشرطة القضائية بمنطقة أمن بني مكادة، صباح الأربعاء 15 أكتوبر، من إعادة إيقاف متهم رئيسي في جريمة قتل هزّت حي طنجة البالية بمدينة طنجة،...  أمن طنجة يوقِف “قاتل” فَرَّ من مسرح إعادة تمثيل الجريمة     .', 'size': 2}], 'main_title': 'بعد فراره أثناء إعادة تمثيل الجريمة..توقيف متهم في جريمة قتل هزّت حي طنجة البالية'}, {'community_id': '13', 'articles': [{'id': '117', 'title': '"السعدي" يستجيب لمطالب موظفي وموظفات غرف الصناعة التقليدية', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/economy/414525.html', 'summary': '"السعدي" يستجيب لمطالب موظفي وموظفات غرف الصناعة التقليدية. كشفت الجامعة الوطنية لموظفي الغرف المهنية عن استجابة كاتب الدولة المكلف بالصناعة التقليدية والاقتصاد الاجتماعي والتضامني، السيد لحسن السعدي، لعدد من مطالب الجامعة، وخصوصًا مطلب', 'size': 2}, {'id': '412', 'title': 'السعدي يزف اتفاقًا لتحسين وضعية موظفي غرف الصناعة التقليدية', 'source': 'rue20.com', 'link': 'https://rue20.com/945377.html', 'summary': 'السعدي يزف اتفاقًا لتحسين وضعية موظفي غرف الصناعة التقليدية.  ا الرباط أعلنت الجامعة الوطنية لموظفي الغرف المهنية عن التوصل إلى اتفاق شامل مع كاتب الدولة المكلف بالصناعة التقليدية والاقتصاد الاجتماعي والتضامني، لحسن السعدي، بخصوص عدد من النقاط الواردة في الملف المطلبي للجامعة، على رأسها الحفاظ على مركزية الأجور. ووفق بلاغ صادر عن الجامعة، فقد زفّ الوزير السعدي خلال جلسة الحوار القطاعي المنعقدة الخبر السعدي يزف اتفاقًا لتحسين وضعية موظفي غرف الصناعة التقليدية  .', 'size': 2}], 'main_title': '"السعدي" يستجيب لمطالب موظفي وموظفات غرف الصناعة التقليدية'}, {'community_id': '6', 'articles': [{'id': '124', 'title': 'الأمم المتحدة.. جمهورية إفريقيا الوسطى تجدد تأكيد دعمها للمبادرة المغربية للحكم الذاتي', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d8%a3%d9%85%d9%85-%d8%a7%d9%84%d9%85%d8%aa%d8%ad%d8%af%d8%a9-%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-%d8%a7%d9%84%d9%88%d8%b3%d8%b7%d9%89/', 'summary': 'الأمم المتحدة.. جمهورية إفريقيا الوسطى تجدد تأكيد دعمها للمبادرة المغربية للحكم الذاتي. جددت جمهورية إفريقيا الوسطى، اليوم الثلاثاء بنيويورك، تأكيد دعمها للمبادرة المغربية للحكم الذاتي، باعتبارها “الأساس الأكثر جدية ومصداقية وواقعية” من أجل التوصل إلى تسوية نهائية للنزاع الإقليمي حول الصحراء المغربية. وفي كلمة ألقاها أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة، أكد السفير الممثل الدائم لجمهورية إفريقيا الوسطى، ماريوس نزيسيوي، أن هذه المبادرة، القائمة على مبادئ', 'size': 2}, {'id': '246', 'title': 'جمهورية إفريقيا الوسطى تجدد تأكيد دعمها للمبادرة المغربية للحكم الذاتي في الصحراء المغربية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%ac%d9%85%d9%87%d9%88%d8%b1%d9%8a%d8%a9-%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-%d8%a7%d9%84%d9%88%d8%b3%d8%b7%d9%89-%d8%aa%d8%ac%d8%af%d8%af-%d8%aa%d8%a3%d9%83%d9%8a%d8%af-%d8%af%d8%b9%d9%85/', 'summary': 'جمهورية إفريقيا الوسطى تجدد تأكيد دعمها للمبادرة المغربية للحكم الذاتي في الصحراء المغربية. جددت جمهورية إفريقيا الوسطى، أمس الثلاثاء 14 أكتوبر 3035، بنيويورك، تأكيد دعمها للمبادرة المغربية للحكم الذاتي، باعتبارها “الأساس الأكثر جدية ومصداقية وواقعية” من أجل التوصل إلى تسوية نهائية للنزاع الإقليمي حول الصحراء المغربية. وفي كلمة ألقاها أمام اللجنة الرابعة للجمعية العامة للأمم المتحدة، أكد السفير الممثل الدائم لجمهورية إفريقيا الوسطى، ماريوس نزيسيوي، أن …  جمهورية إفريقيا الوسطى تجدد تأكيد دعمها للمبادرة المغربية للحكم الذاتي في الصحراء المغربية     .', 'size': 2}], 'main_title': 'الأمم المتحدة.. جمهورية إفريقيا الوسطى تجدد تأكيد دعمها للمبادرة المغربية للحكم الذاتي'}, {'community_id': '15', 'articles': [{'id': '166', 'title': 'استئنافية أكادير تصدر أحكاما “ثقيلة” في حق مثيري الشغب بآيت عميرة', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108286.html', 'summary': 'استئنافية أكادير تصدر أحكاما “ثقيلة” في حق مثيري الشغب بآيت عميرة. أفاد مصدر مطلع أن محكمة الاستئناف بأكادير أصدرت، اليوم الثلاثاء، أحكاما قضائية وصفت بالصارمة، تراوحت مدتها بين 3 و15 سنة سجنا نافذا، في حق 17 شخصا توبعوا على خلفية أحداث شغب وأعمال تخريب شهدتها منطقة آيت عميرة بإقليم اشتوكة آيت باها خلال احتجاجات جيل زد مطلع أكتوبر الجاري. وأوضح المصدر ذاته أن متهمين اثنين نالا ظهرت المقالة استئنافية أكادير تصدر أحكاما “ثقيلة” في حق مثيري الشغب بآيت عميرة  .', 'size': 4}, {'id': '180', 'title': 'استئنافية أكادير توزع 162 سنة على 17 متهما في أحداث الشغب بآيت عميرة', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a7%d8%b3%d8%aa%d8%a6%d9%86%d8%a7%d9%81%d9%8a%d8%a9-%d8%a3%d9%83%d8%a7%d8%af%d9%8a%d8%b1-%d8%aa%d9%88%d8%b2%d8%b9-162-%d8%b3%d9%86%d8%a9-%d8%b9%d9%84%d9%89-17-%d9%85%d8%aa%d9%87%d9%85%d8%a7-%d9%81/', 'summary': 'استئنافية أكادير توزع 162 سنة على 17 متهما في أحداث الشغب بآيت عميرة. أصدرت محكمة الاستئناف بمدينة أكادير، مساء أمس الثلاثاء 14 أكتوبر الجاري، أحكامًا صارمة بلغ مجموعها 162 سنة سجنا نافذا في حق 17 شخصًا، على خلفية تورطهم في أعمال شغب وتخريب شهدتها منطقة آيت عميرة، التابعة ترابيا لإقليم اشتوكة آيت باها. وتنوعت التهم الموجهة إلى المدانين بين إضرام النار عمدًا في ممتلكات عامة، وخصوصًا مركبات تابعة  استئنافية أكادير توزع 162 سنة على 17 متهما في أحداث الشغب بآيت عميرة     .', 'size': 3}, {'id': '226', 'title': '162 سنة سجناً لـ17 متهماً في أحداث شغب آيت عميرة!', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228504/', 'summary': '162 سنة سجناً لـ17 متهماً في أحداث شغب آيت عميرة!. الرباط – كواليس أصدرت محكمة الاستئناف بأكادير، مساء الثلاثاء 14 أكتوبر، أحكاماً ثقيلة بلغ مجموعها 162 سنة سجناً نافذاً في حق 17 متهماً تورطوا في أعمال شغب وتخريب شهدتها منطقة آيت عميرة بإقليم اشتوكة آيت باها، في واحدة من أكثر القضايا التي أثارت الجدل محلياً. المتهمون واجهوا تهماً ثقيلة من بينها إضرام النار عمداً في', 'size': 2}, {'id': '247', 'title': 'أكادير.. أحكام ثقيلة في حق متورطين بأحداث شغب خلال احتجاجات جيل Z بآيت عميرة', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a3%d9%83%d8%a7%d8%af%d9%8a%d8%b1-%d8%a3%d8%ad%d9%83%d8%a7%d9%85-%d8%ab%d9%82%d9%8a%d9%84%d8%a9-%d9%81%d9%8a-%d8%ad%d9%82-%d9%85%d8%aa%d9%88%d8%b1%d8%b7%d9%8a%d9%86-%d8%a8%d8%a3%d8%ad%d8%af%d8%a7/', 'summary': 'أكادير.. أحكام ثقيلة في حق متورطين بأحداث شغب خلال احتجاجات جيل Z بآيت عميرة. أصدرت غرفة الجنايات الابتدائية بمحكمة الاستئناف بمدينة أكادير، مساء أمس الثلاثاء 14 أكتوبر الجاري، أحكاماً قضائية وصفت بالصارمة، بلغت في مجموعها 162 سنة سجناً نافذاً في حق 17 متهماً، على خلفية تورطهم في أعمال شغب وتخريب شهدتها منطقة آيت عميرة التابعة لإقليم اشتوكة آيت باها خلال احتجاجات ما عُرف لدى الرأي العام بجيل …  أكادير.. أحكام ثقيلة في حق متورطين بأحداث شغب خلال احتجاجات جيل Z بآيت عميرة     .', 'size': 3}], 'main_title': 'استئنافية أكادير تصدر أحكاما “ثقيلة” في حق مثيري الشغب بآيت عميرة'}, {'community_id': '1', 'articles': [{'id': '174', 'title': 'المنتخب الوطني يهزم الكونغو ويبلغ الفوز الـ16 تواليا محطما الرقم القياسي العالمي', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108275.html', 'summary': 'المنتخب الوطني يهزم الكونغو ويبلغ الفوز الـ16 تواليا محطما الرقم القياسي العالمي. حقق المنتخب الوطني المغربي انتصارا ثمينا على ضيفه الكونغو بهدف نظيف، خلال اللقاء الذي جرى مساء يومه الثلاثاء على أرضية ملعب الأمير مولاي عبد الله بالرباط، وذلك لحساب الجولة الأخيرة من التصفيات الإفريقية المؤهلة إلى نهائيات كأس العالم 2026. ونجح المنتخب الوطني في الوصول إلى مناطق الخصم منذ بداية المباراة، حيث كان المهاجم إسماعيل صيباري ظهرت المقالة المنتخب الوطني يهزم الكونغو ويبلغ الفوز الـ16 تواليا محطما الرقم القياسي العالمي  .', 'size': 2}, {'id': '254', 'title': 'النصيري يقود المنتخب المغربي للفوز على الكونغو بهدف نظيف في تصفيات كأس العالم', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%a7%d9%84%d9%86%d8%b5%d9%8a%d8%b1%d9%8a-%d9%8a%d9%82%d9%88%d8%af-%d8%a7%d9%84%d9%85%d9%86%d8%aa%d8%ae%d8%a8-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8%d9%8a-%d9%84%d9%84%d9%81%d9%88%d8%b2-%d8%b9%d9%84/', 'summary': 'النصيري يقود المنتخب المغربي للفوز على الكونغو بهدف نظيف في تصفيات كأس العالم. حقق المنتخب الوطني المغربي فوزا ثمينا على منتخب الكونغو، بنتيجة هدف دون رد، في المباراة التي جرت مساء اليوم الثلاثاء 14 أكتوبر 2025، على أرضية ملعب المجمع الرياضي مولاي عبد الله بالرباط، ضمن تصفيات كأس العالم 2026. وسجل هدف المباراة الوحيد الدولي المغربي يوسف النصيري في الدقيقة 63، بعد تمريرة حاسمة من القائد …  النصيري يقود المنتخب المغربي للفوز على الكونغو بهدف نظيف في تصفيات كأس العالم     .', 'size': 2}], 'main_title': 'المنتخب الوطني يهزم الكونغو ويبلغ الفوز الـ16 تواليا محطما الرقم القياسي العالمي'}, {'community_id': '12', 'articles': [{'id': '176', 'title': 'وزارة السياحة: استقبال 15 مليون سائح حتى نهاية شتنبر 2025', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%a7%d9%84%d8%b3%d9%8a%d8%a7%d8%ad%d8%a9-%d8%a7%d8%b3%d8%aa%d9%82%d8%a8%d8%a7%d9%84-15-%d9%85%d9%84%d9%8a%d9%88%d9%86-%d8%b3%d8%a7%d8%a6%d8%ad-%d8%ad%d8%aa%d9%89/', 'summary': 'وزارة السياحة: استقبال 15 مليون سائح حتى نهاية شتنبر 2025. أفادت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني بأن المغرب استقبل 15 مليون سائح حتى نهاية شتنبر 2025، بزيادة قدرها 14 بالمائة مقارنة بالفترة نفسها من السنة الماضية. وذكر بلاغ للوزارة أن شهر شتنبر الماضي سجل 1,4 مليون سائح، بارتفاع نسبته 9 بالمائة. وأوضح المصدر ذاته أن هذا الرقم القياسي الجديد يؤكد استمرار الدينامية الإيجابية  وزارة السياحة: استقبال 15 مليون سائح حتى نهاية شتنبر 2025     .', 'size': 2}, {'id': '195', 'title': 'قطاع السياحة يواصل ديناميته الإيجابية.. استقبال 15 مليون سائح حتى نهاية شتنبر', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/478670.html', 'summary': 'قطاع السياحة يواصل ديناميته الإيجابية.. استقبال 15 مليون سائح حتى نهاية شتنبر. أفادت وزارة السياحة والصناعة التقليدية والاقتصاد الاجتماعي والتضامني، بأن المغرب استقبل 15 مليون سائح حتى نهاية شتنبر 2025، بزيادة قدرها 14 بالمائة مقارنة بالفترة نفسها من السنة الماضية.', 'size': 2}], 'main_title': 'وزارة السياحة: استقبال 15 مليون سائح حتى نهاية شتنبر 2025'}, {'community_id': '10', 'articles': [{'id': '181', 'title': 'برنامج دعم السكن.. استفادة أزيد من 36 ألف شاب دون الأربعين', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d8%b1%d9%86%d8%a7%d9%85%d8%ac-%d8%af%d8%b9%d9%85-%d8%a7%d9%84%d8%b3%d9%83%d9%86-%d8%a7%d8%b3%d8%aa%d9%81%d8%a7%d8%af%d8%a9-%d8%a3%d8%b2%d9%8a%d8%af-%d9%85%d9%86-36-%d8%a3%d9%84%d9%81-%d8%b4/', 'summary': 'برنامج دعم السكن.. استفادة أزيد من 36 ألف شاب دون الأربعين. كشفت وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة، فاطمة الزهراء المنصوري، أمس الثلاثاء بمجلس المستشارين، أن عدد الشباب المغاربة الذين تقل أعمارهم عن 40 سنة المستفيدين من برنامج دعم السكن بلغ 36 ألفا و576 مستفيدا. وأوضحت الوزيرة، في معرض جوابها عن سؤال شفوي حول "حصيلة استفادة الشباب من برامج دعم السكن" تقدم به فريق  برنامج دعم السكن.. استفادة أزيد من 36 ألف شاب دون الأربعين     .', 'size': 2}, {'id': '379', 'title': '“فاطمة الزهراء المنصوري” تردّ على تساؤلات المستشارين حول حصيلة البرامج السكنية والتحديات التنموية', 'source': 'www.alayam24.com', 'link': 'https://www.alayam24.com/articles-593984.html', 'summary': '“فاطمة الزهراء المنصوري” تردّ على تساؤلات المستشارين حول حصيلة البرامج السكنية والتحديات التنموية. في جلسة شفوية عقدها مجلس المستشارين يوم الاثنين 14 أكتوبر 2025، استعرضت وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة مجموعة من البرامج والمبادرات التي تقودها الوزارة للارتقاء بالسكن والتعمير، رداً على أسئلة طرحتها فرق برلمانية حول السكن اللائق، ودعم الشباب، وأوضاع السكن في العالم القروي، والعاملين بالوكالات الحضرية، وتحسين الولوج إلى المرافق القرب، والتجزئات', 'size': 2}, {'id': '385', 'title': 'الحكومة تسرع وتيرة السكن وتعلن خطة خماسية للقضاء على باقي “البراريك”', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108366.html', 'summary': 'الحكومة تسرع وتيرة السكن وتعلن خطة خماسية للقضاء على باقي “البراريك”. كشفت وزيرة إعداد التراب الوطني والتعمير والإسكان وسياسة المدينة، فاطمة الزهراء المنصوري، خلال جلسة للأسئلة الشفوية بمجلس المستشارين، عن تحقيق نتائج ملموسة في قطاع السكن خلال السنوات الأربع الأخيرة من الولاية الحكومية الحالية، تمثلت في تحسين ظروف عيش نحو مليون مواطن وتقليص العجز السكني بشكل ملحوظ. وأوضحت الوزيرة، في معرض جوابها عن سؤال حول “السكن ظهرت المقالة الحكومة تسرع وتيرة السكن وتعلن خطة خماسية للقضاء على باقي “البراريك”  .', 'size': 3}], 'main_title': 'الحكومة تسرع وتيرة السكن وتعلن خطة خماسية للقضاء على باقي “البراريك”'}, {'community_id': '2', 'articles': [{'id': '291', 'title': 'إقبال جماهيري على تذاكر كأس إفريقيا', 'source': 'www.hespress.com', 'link': 'https://www.hespress.com/%d8%a5%d9%82%d8%a8%d8%a7%d9%84-%d8%ac%d9%85%d8%a7%d9%87%d9%8a%d8%b1%d9%8a-%d8%b9%d9%84%d9%89-%d8%aa%d8%b0%d8%a7%d9%83%d8%b1-%d9%83%d8%a3%d8%b3-%d8%a5%d9%81%d8%b1%d9%8a%d9%82%d9%8a%d8%a7-1640522.html', 'summary': 'إقبال جماهيري على تذاكر كأس إفريقيا. أعلنت اللجنة المنظمة لبطولة كأس الأمم الإفريقية المغرب 2025 أن عملية بيع التذاكر، التي انطلقت أمس الثلاثاء، شهدت إقبالاً كبيراً من الجماهير، حيث تم بيع 137 ألفاً و250 تذكرة من أصل 400 ألف تذكرة مخصصة للمرحلة الأولى من البيع. وأوضحت اللجنة في بلاغ لها أن هذه المرحلة تمثل ثلث الحصة الإجمالية لتذاكر البطولة، وتشمل جميع  إقبال جماهيري على تذاكر كأس إفريقيا     - هسبريس جريدة إلكترونية مغربية .', 'size': 2}, {'id': '406', 'title': '"كان" المغرب 2025.. 137 ألف تذكرة بيعت في يوم واحد', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%83%d8%a7%d9%86-%d8%a7%d9%84%d9%85%d8%ba%d8%b1%d8%a8-2025-137-%d8%a3%d9%84%d9%81-%d8%aa%d8%b0%d9%83%d8%b1%d8%a9-%d8%a8%d9%8a%d8%b9%d8%aa-%d9%81%d9%8a-%d9%8a%d9%88%d9%85-%d9%88%d8%a7%d8%ad/', 'summary': '"كان" المغرب 2025.. 137 ألف تذكرة بيعت في يوم واحد. أعلنت اللجنة المنظمة لبطولة كأس أمم إفريقيا "المغرب 2025"، اليوم الأربعاء، عن بيع 137 ألفا و250 تذكرة، خلال أقل من 24 ساعة من انطلاق المرحلة الأولى من العملية. وأوضحت اللجنة المنظمة للبطولة القارية التي يستضيفها المغرب انطلاقا من 21 دجنبر المقبل، أنها وضعت 400 ألف تذكرة للبيع في المرحلة الأولى، والتي تشكل ثلث الحصة الإجمالية  "كان" المغرب 2025.. 137 ألف تذكرة بيعت في يوم واحد     .', 'size': 2}], 'main_title': 'إقبال جماهيري على تذاكر كأس إفريقيا'}, {'community_id': '14', 'articles': [{'id': '299', 'title': 'الطالبي العلمي يتباحث مع الممثلة المقيمة لبرنامج الأمم المتحدة الإنمائي بالمغرب', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666342.html', 'summary': 'الطالبي العلمي يتباحث مع الممثلة المقيمة لبرنامج الأمم المتحدة الإنمائي بالمغرب. هبة بريس أجرى رئيس مجلس النواب، راشيد الطالبي العلمي، اليوم الأربعاء بمقر المجلس، مباحثات مع الممثلة المقيمة لبرنامج الأمم المتحدة الإنمائي بالمغرب، إيلاريا كارنيفالي. وذكر بلاغ للمجلس أن اللقاء ركز على إبراز علاقات التعاون والشراكة التي تربط مجلس النواب بالعديد من الهيئات والمؤسسات الوطنية والدولية والأممية، من بينها برنامج الأمم المتحدة الإنمائي. وأضاف المصدر ذاته', 'size': 2}, {'id': '416', 'title': 'رئيس مجلس النواب يعقد مباحثات مع ممثلة برنامج الأمم المتحدة الإنمائي', 'source': 'rue20.com', 'link': 'https://rue20.com/945362.html', 'summary': 'رئيس مجلس النواب يعقد مباحثات مع ممثلة برنامج الأمم المتحدة الإنمائي.  ا الرباط أجرى رئيس مجلس النواب، راشيد الطالبي العلمي، اليوم الأربعاء 15 أكتوبر 2025، بمقر المجلس في الرباط، مباحثات مع إيلاريا كارنفالي، الممثلة المقيمة لبرنامج الأمم المتحدة الإنمائي بالمملكة المغربية. وتم خلال هذا اللقاء التأكيد على متانة علاقات التعاون والشراكة التي تجمع مجلس النواب بعدد من الهيئات والمؤسسات الوطنية والدولية، وفي مقدمتها برنامج الخبر رئيس مجلس النواب يعقد مباحثات مع ممثلة برنامج الأمم المتحدة الإنمائي  .', 'size': 2}], 'main_title': 'الطالبي العلمي يتباحث مع الممثلة المقيمة لبرنامج الأمم المتحدة الإنمائي بالمغرب'}, {'community_id': '3', 'articles': [{'id': '319', 'title': 'نشرة إنذارية: زخات رعدية مصحوبة بهبات رياح مرتقبة يوم غد الخميس', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-666275.html', 'summary': 'نشرة إنذارية: زخات رعدية مصحوبة بهبات رياح مرتقبة يوم غد الخميس. هبة بريس أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (ما بين 15 و25 ملم) مصحوبة بهبات رياح، غدا الخميس، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة “برتقالي”، أن هذه الزخات الرعدية ستهم إقليمي فكيك وبولمان، وذلك من الساعة الواحدة بعد الزوال إلى الحادية عشرة ليلا.', 'size': 2}, {'id': '447', 'title': 'زخات رعدية محليا قوية مصحوبة بهبات رياح مرتقبة غدا الخميس بعدد من مناطق المملكة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/228525/', 'summary': 'زخات رعدية محليا قوية مصحوبة بهبات رياح مرتقبة غدا الخميس بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (ما بين 15 و25 ملم) مصحوبة بهبات رياح، غدا الخميس، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة “برتقالي”، أن هذه الزخات الرعدية ستهم إقليمي فكيك وبولمان، وذلك من الساعة الواحدة بعد الزوال إلى الحادية عشرة ليلا.', 'size': 2}], 'main_title': 'نشرة إنذارية: زخات رعدية مصحوبة بهبات رياح مرتقبة يوم غد الخميس'}, {'community_id': '4', 'articles': [{'id': '336', 'title': 'حكيمي: لا أفهم استياء الجماهير المغربية… وعلينا أن نتحد للتتويج بكأس إفريقيا', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/sport/lionatlas/414532.html', 'summary': 'حكيمي: لا أفهم استياء الجماهير المغربية… وعلينا أن نتحد للتتويج بكأس إفريقيا. دعا الدولي المغربي أشرف حكيمي، لاعب باريس سان جيرمان، الجماهير المغربية إلى التحلي بالإيجابية والتركيز على الهدف الأهم للمنتخب الوطني، وهو التتويج بكأس أمم إفريقيا. وأكد', 'size': 2}, {'id': '399', 'title': 'حكيمي: لا أفهم سبب استياء الجماهير.. ويجب أن نتحد جميعا للتتويج بكأس إفريقيا', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108338.html', 'summary': 'حكيمي: لا أفهم سبب استياء الجماهير.. ويجب أن نتحد جميعا للتتويج بكأس إفريقيا. دعا الدولي المغربي أشرف حكيمي، لاعب نادي باريس سان جيرمان الفرنسي، الجماهير المغربية إلى التحلي بالإيجابية خلال الفترة المقبلة التي ستعرف انطلاق كأس أمم إفريقيا، مشيرا إلى أن الهدف الأول للعناصر الوطنية هو التتويج باللقب. وقال حكيمي في تصريحات صحفية بعد مباراة الكونغو التي انتهت لصالح رفاقه بهدف نظيف: “مرة أخرى، الخصوم يأتون إلينا باحترام ظهرت المقالة حكيمي: لا أفهم سبب استياء الجماهير.. ويجب أن نتحد جميعا للتتويج بكأس إفريقيا  .', 'size': 2}], 'main_title': 'حكيمي: لا أفهم استياء الجماهير المغربية… وعلينا أن نتحد للتتويج بكأس إفريقيا'}, {'community_id': '7', 'articles': [{'id': '337', 'title': 'نشرة إنذارية: زخات رعدية قوية مصحوبة بهبات رياح مرتقبة غدا الخميس بعدد من مناطق المملكة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/414533.html', 'summary': 'نشرة إنذارية: زخات رعدية قوية مصحوبة بهبات رياح مرتقبة غدا الخميس بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (ما بين 15 و25 ملم) مصحوبة بهبات رياح، غدا الخميس، بعدد من مناطق', 'size': 2}, {'id': '427', 'title': 'يوم غد الخميس.. زخات رعدية محليا قوية مصحوبة بهبات رياح', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/478689.html', 'summary': 'يوم غد الخميس.. زخات رعدية محليا قوية مصحوبة بهبات رياح. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية محليا قوية (ما بين 15 و25 ملم) مصحوبة بهبات رياح، غدا الخميس، بعدد من مناطق المملكة.', 'size': 2}], 'main_title': 'نشرة إنذارية: زخات رعدية قوية مصحوبة بهبات رياح مرتقبة غدا الخميس بعدد من مناطق المملكة'}, {'community_id': '8', 'articles': [{'id': '358', 'title': 'وزارة الصحة تُوقف طبيبًا جراحًا بزاكورة بعد “هفوة مهنية خطيرة” عطّلت خدمات المستشفى الإقليمي', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/414555.html', 'summary': 'وزارة الصحة تُوقف طبيبًا جراحًا بزاكورة بعد “هفوة مهنية خطيرة” عطّلت خدمات المستشفى الإقليمي. في خطوة حازمة تعكس تشدد وزارة الصحة والحماية الاجتماعية في مواجهة مظاهر التهاون داخل المؤسسات الاستشفائية، أصدرت الوزارة قرارا يقضي بتوقيف طبيب جراح يعمل بالمستشفى', 'size': 2}, {'id': '390', 'title': 'الغياب يتسبب في توقيف طبيب جراح بزاكورة احتياطيا عن العمل', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1108395.html', 'summary': 'الغياب يتسبب في توقيف طبيب جراح بزاكورة احتياطيا عن العمل. قررت وزارة الصحة والحماية الاجتماعية، أمس الثلاثاء 14 أكتوبر الجاري، توقيف طبيب جراح يعمل بالمستشفى الإقليمي بزاكورة احتياطيا عن العمل، مع إيقاف راتبه باستثناء التعويضات العائلية إذا اقتضى الحال، وذلك على خلفية ما وصفته بـ“هفوة خطيرة”. وجاء في قرار الوزارة أن الطبيب ارتكب إخلالا بإلتزامه المهني بتغيبه عن العمل منذ 6 أكتوبر الجاري، ما أدى ظهرت المقالة الغياب يتسبب في توقيف طبيب جراح بزاكورة احتياطيا عن العمل  .', 'size': 2}], 'main_title': 'وزارة الصحة تُوقف طبيبًا جراحًا بزاكورة بعد “هفوة مهنية خطيرة” عطّلت خدمات المستشفى الإقليمي'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    
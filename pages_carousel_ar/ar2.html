<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أهم الأخبار - Treemap Carousel</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f4f4f4;
              
        }
        
        .swiper {
            width: 100%;
            height: 90vh;
            margin-top: 10px;
        }
        
        .swiper-slide {
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 10px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 10px;
            width: calc(100% - 20px); /* Utilisez calc pour soustraire les marges */
            margin-left: auto;
            margin-right: auto;

        }
        
        .treemap-container {
           width: 100%;
            height: 100%;
            margin-bottom: 10px;
            direction: rtl; /* Changez rtl en ltr */
            position: relative;
          z-index: 1;

        }
        
        .community-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            position: relative;
              z-index: 10;
              padding: 10px;
              background: rgba(255, 255, 255, 0.8); /* Fond semi-transparent pour contraste */
              text-align: center;
        }
        
        .node {
            overflow: hidden;
            border: 1px solid white;
            position: absolute;
            transition: all 0.3s;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .node:hover {
            opacity: 0.9;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .node-content {
            padding: 8px;
            overflow: hidden;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .node-title {
            font-size: 14px;  
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .node-source {
            font-size: 12px;  
            color: #666;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            font-size: 16px; 
            max-width: 90%;
            width: 350px;
            color: #333;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            direction: rtl;
            text-align: right;
        }
        
        .tooltip-title {
            font-size: 16px;  
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .tooltip-source {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        
        .tooltip-summary {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .swiper-pagination {
            position: relative;
            bottom: 0;
            margin-top: 15px;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            opacity: 0.7;
            transition: all 0.3s;
        }
        
        .swiper-pagination-bullet-active {
            background-color: #007aff;
            opacity: 1;
            width: 20px;
            border-radius: 6px;
        }
        
        .swiper-button-next, .swiper-button-prev {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.4);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .swiper-button-next:hover, .swiper-button-prev:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 18px;
        }
        
        header {
            background-color: #333;
            color: white;
            text-align: center;
        }
        
        .header-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .header-subtitle {
            font-size: 12px;
            opacity: 0.8;
        }
        
        @media screen and (max-width: 768px) {
            .node-title {
                font-size: 14px;  
            }
            .node-source {
                font-size: 12px;  
            }
            .community-title {
                font-size: 16px;  
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
            }
            .tooltip-title {
                font-size: 16px;
            }
            .swiper-button-next, .swiper-button-prev {
                width: 36px;
                height: 36px;
            }
        }
    </style>
    
    
    
</head>
<body>
    <header> 
        <div class="header-title">أهم الأخبار لآخر 24 ساعة

</div>    
        <div class="header-subtitle"> آخر تحديث : 08/09/2025 - 18h39</div>  
    </header>
    
    

    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="treemap-carousel"> </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script>
        const treemapData = [{'community_id': '11', 'articles': [{'id': '14', 'title': 'الأرصاد الجوية تعمم نشرة إنذارية بسبب زخات رعدية مرتقبة في المغرب', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-655368.html', 'summary': 'الأرصاد الجوية تعمم نشرة إنذارية بسبب زخات رعدية مرتقبة في المغرب. هبة بريس ـ الرباط أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب، تسجيل زخات رعدية مصحوبة بهبات رياح، اليوم الاثنين بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة “برتقالي”، أنه من المرتقب تسجيل زخات رعدية (من 25 إلى 35 ملم) مصحوبة بهبات رياح، بعمالات وأقاليم أوسرد، وأزيلال، وبني ملال، وخنيفرة، وواد الذهب، وبوجدور، وأسا الزاك، والسمارة، وخريبكة، والحوز، وتارودانت، وإفران، وبولمان والعيون، اليوم الاثنين من الساعة الثانية بعد الزوال إلى الحادية عشرة ليلا.', 'size': 2}, {'id': '113', 'title': 'نشرة إنذارية: زخات رعدية مصحوبة بهبات رياح مرتقبة بعدد من مناطق المملكة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%86%d8%b4%d8%b1%d8%a9-%d8%a5%d9%86%d8%b0%d8%a7%d8%b1%d9%8a%d8%a9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%b5%d8%ad%d9%88%d8%a8%d8%a9-%d8%a8%d9%87%d8%a8%d8%a7%d8%aa-%d8%b1/', 'summary': 'نشرة إنذارية: زخات رعدية مصحوبة بهبات رياح مرتقبة بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب، تسجيل زخات رعدية مصحوبة بهبات رياح، اليوم الاثنين (8 شتنبر)، بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة “برتقالي”، أنه من المرتقب تسجيل زخات رعدية (من 25 إلى 35 ملم) مصحوبة بهبات رياح، بعمالات وأقاليم أوسرد، وأزيلال، وبني ملال، وخنيفرة، وواد الذهب، وبوجدور، وأسا', 'size': 2}, {'id': '159', 'title': 'نشرة إنذارية.. زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الاثنين', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%86%d8%b4%d8%b1%d8%a9-%d8%a5%d9%86%d8%b0%d8%a7%d8%b1%d9%8a%d8%a9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%b5%d8%ad%d9%88%d8%a8%d8%a9-%d8%a8%d9%87%d8%a8%d8%a7%d8%aa-%d8%b1/', 'summary': 'نشرة إنذارية.. زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الاثنين. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب تسجيل زخات رعدية مصحوبة بهبات رياح، اليوم الاثنين بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة "برتقالي"، أنه من المرتقب تسجيل زخات رعدية (من 25 إلى 35 ملم) مصحوبة بهبات رياح، بعمالات وأقاليم أوسرد، وأزيلال، وبني ملال، وخنيفرة، وواد الذهب، وبوجدور، وأسا الزاك، والسمارة،  نشرة إنذارية.. زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الاثنين     .', 'size': 2}, {'id': '428', 'title': 'زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الاثنين بعدد من مناطق المملكة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226819/', 'summary': 'زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الاثنين بعدد من مناطق المملكة. أفادت المديرية العامة للأرصاد الجوية بأنه يرتقب، تسجيل زخات رعدية مصحوبة بهبات رياح، اليوم الاثنين بعدد من مناطق المملكة. وأوضحت المديرية، في نشرة إنذارية من مستوى يقظة “برتقالي”، أنه من المرتقب تسجيل زخات رعدية (من 25 إلى 35 ملم) مصحوبة بهبات رياح، بعمالات وأقاليم أوسرد، وأزيلال، وبني ملال، وخنيفرة، وواد الذهب، وبوجدور، وأسا الزاك، والسمارة،', 'size': 4}], 'main_title': 'زخات رعدية مصحوبة بهبات رياح مرتقبة اليوم الاثنين بعدد من مناطق المملكة'}, {'community_id': '1', 'articles': [{'id': '23', 'title': 'ضباب و زخات رعدية.. توقعات الطقس في المغرب لبداية هذا الأسبوع', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-655338.html', 'summary': 'ضباب و زخات رعدية.. توقعات الطقس في المغرب لبداية هذا الأسبوع. هبة بريس ـ الرباط تتوقع المديرية العامة للأرصاد الجوية، بالنسبة ليوم الاثنين، تشكل كتل من الضباب وسحب منخفضة كثيفة نوعا ما على السواحل والسهول الشمالية والوسطى. كما يرتقب نزول زخات رعدية ستهم كلا من، مرتفعات الأطلس، والجنوب الشرقي والمنطقة الشرقية والأقاليم الصحراوية. وسيلاحظ تسجيل هبات رياح قوية نوعا ما بكل من مرتفعات الأطلس وشمال الأقاليم الجنوبية والسواحل الوسطى. وستتراوح درجات الحرارة الدنيا ما بين 24 و29 درجة بالجنوب الشرقي للبلاد وداخل الأقاليم الجنوبية، وما بين 11 و17 درجة بالمرتفعات وجنوب المنطقة الشرقية، وستكون ما بين 19 و25 درجة فيما تبقى من ربوع المملكة. أما درجات الحرارة خلال النهار، فستكون في ارتفاع بالجنوب الشرقي، بينما ستكون في انخفاض بباقي أرجاء المملكة. وسيكون البحر هادئا إلى قليل الهيجان بالواجهة المتوسطية والبوغاز، وقليل الھیجان إلى أحيانا ھائج بباقي السواحل.', 'size': 2}, {'id': '164', 'title': 'ضباب وسحب منخفضة مع زخات رعدية متوقعة اليوم', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%b6%d8%a8%d8%a7%d8%a8-%d9%88%d8%b3%d8%ad%d8%a8-%d9%85%d9%86%d8%ae%d9%81%d8%b6%d8%a9-%d9%85%d8%b9-%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%aa%d9%88%d9%82%d8%b9%d8%a9-%d8%a7/', 'summary': 'ضباب وسحب منخفضة مع زخات رعدية متوقعة اليوم. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، تشكل كتل من الضباب وسحب منخفضة كثيفة نوعا ما على السواحل والسهول الشمالية والوسطى. كما يرتقب نزول زخات رعدية ستهم كلا من، مرتفعات الأطلس، والجنوب الشرقي والمنطقة الشرقية والأقاليم الصحراوية. وسيلاحظ تسجيل هبات رياح قوية نوعا ما بكل من مرتفعات الأطلس وشمال الأقاليم الجنوبية والسواحل الوسطى. وستتراوح  ضباب وسحب منخفضة مع زخات رعدية متوقعة اليوم     .', 'size': 2}], 'main_title': 'ضباب و زخات رعدية.. توقعات الطقس في المغرب لبداية هذا الأسبوع'}, {'community_id': '2', 'articles': [{'id': '66', 'title': 'تمارة: الفارس الغالي بوقاع يفوز بالجائزة الكبرى لصاحب الجلالة الملك محمد السادس للقفز على الحواجز ثلات نجوم', 'source': 'www.alahdat.net', 'link': 'https://www.alahdat.net/archives/205874', 'summary': 'تمارة: الفارس الغالي بوقاع يفوز بالجائزة الكبرى لصاحب الجلالة الملك محمد السادس للقفز على الحواجز ثلات نجوم.  فاز الفارس الغالي بوقاع رفقة الفرس “أكيس”، أمس الأحد، بالجائزة الكبرى لصاحب الجلالة الملك محمد السادس، المسابقة البارزة ضمن المباراة الرسمية للقفز على الحواجز (ثلاث نجوم)، التي احتضنت أطوارها حلبة المدرسة الملكية للخيالة بتمارة، على مدى ثلاثة أيام. وتألق الفارس بوقاع في مباراة السد الفاصلة، حيث كان الوحيد الذي أنهى مطاف السباق بدون', 'size': 2}, {'id': '216', 'title': 'الفارس الغالي بوقاع يفوز بالجائزة الكبرى لصاحب الجلالة للقفز على الحواجز', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226791/', 'summary': 'الفارس الغالي بوقاع يفوز بالجائزة الكبرى لصاحب الجلالة للقفز على الحواجز. فاز الفارس الغالي بوقاع رفقة الفرس “أكيس”، اليوم الأحد، بالجائزة الكبرى لصاحب الجلالة الملك محمد السادس، المسابقة البارزة ضمن المباراة الرسمية للقفز على الحواجز (ثلاث نجوم)، التي احتضنت أطوارها حلبة المدرسة الملكية للخيالة بتمارة، على مدى ثلاثة أيام. وتألق الفارس بوقاع في مباراة السد الفاصلة، حيث كان الوحيد الذي أنهى مطاف السباق بدون خطأ، بتوقيت', 'size': 2}], 'main_title': 'تمارة: الفارس الغالي بوقاع يفوز بالجائزة الكبرى لصاحب الجلالة الملك محمد السادس للقفز على الحواجز ثلات نجوم'}, {'community_id': '3', 'articles': [{'id': '73', 'title': 'زلزال الحوز.. تعبئة متواصلة بمراكش من أجل تنفيذ عملية إعادة البناء على الوجه الأمثل', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/national/412323.html', 'summary': 'زلزال الحوز.. تعبئة متواصلة بمراكش من أجل تنفيذ عملية إعادة البناء على الوجه الأمثل. تتميز عملية إعادة بناء وتأهيل المنازل المتضررة بمراكش جراء زلزال الحوز بالسرعة في تنفيذ الأشغال، بفضل التعبئة المتواصلة لمختلف الأطراف المعنية، وذلك تنفيذا للتوجيهات الملكية', 'size': 2}, {'id': '217', 'title': 'زلزال الحوز .. دينامية متواصلة لإعادة الإعمار في جميع الأقاليم المتضررة', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226787/', 'summary': 'زلزال الحوز .. دينامية متواصلة لإعادة الإعمار في جميع الأقاليم المتضررة. تتواصل عملية إعادة الإعمار بالأقاليم المتضررة من الزلزال الذي ضرب إقليم الحوز في شتنبر 2023، بوتيرة متسارعة، بفضل التعبئة الجماعية لكافة الفاعلين المعنيين، تنفيذا للتوجيهات الملكية السامية. وتعكس الأوراش المفتوحة في المجالات الأساسية، مثل السكن والبنيات التحتية والتعليم والصحة والتراث، فعالية الإجراءات المتخذة بتنسيق وثيق بين مختلف المتدخلين، حيث تجاوزت نسب الإنجاز 90 في المائة', 'size': 2}], 'main_title': 'زلزال الحوز.. تعبئة متواصلة بمراكش من أجل تنفيذ عملية إعادة البناء على الوجه الأمثل'}, {'community_id': '6', 'articles': [{'id': '163', 'title': 'مصرع شخصين في حريق بدوار مولاي عزوز الملك بمراكش', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%85%d8%b5%d8%b1%d8%b9-%d8%b4%d8%ae%d8%b5%d9%8a%d9%86-%d9%81%d9%8a-%d8%ad%d8%b1%d9%8a%d9%82-%d8%a8%d8%af%d9%88%d8%a7%d8%b1-%d9%85%d9%88%d9%84%d8%a7%d9%8a-%d8%b9%d8%b2%d9%88%d8%b2-%d8%a7%d9%84%d9%85/', 'summary': 'مصرع شخصين في حريق بدوار مولاي عزوز الملك بمراكش. أفادت السلطات المحلية بولاية جهة مراكش – آسفي بأن شخصين لقيا مصرعهما، اليوم الاثنين، في حريق اندلع، حوالي الساعة الخامسة والنصف صباحا، بخمسة أكواخ بدوار "مولاي عزوز الملك"، التابع للملحقة الإدارية النخيل الشمالي بالمنطقة الحضرية النخيل بمدينة مراكش. وأوضح المصدر ذاته، أنه فور إشعارها بالحادث، انتقلت السلطات المحلية والأمنية ومصالح الوقاية المدنية، إلى عين المكان  مصرع شخصين في حريق بدوار مولاي عزوز الملك بمراكش     .', 'size': 3}, {'id': '170', 'title': 'احتراق أكواخ يودي بحياة شخصين بمراكش', 'source': 'rue20.com', 'link': 'https://rue20.com/934489.html', 'summary': 'احتراق أكواخ يودي بحياة شخصين بمراكش.  | متابعة أفادت السلطات المحلية بولاية جهة مراكش – آسفي بأن شخصين لقيا مصرعهما، اليوم الاثنين، في حريق اندلع، حوالي الساعة الخامسة والنصف صباحا، بخمس أكواخ متواجدة بدوار “مولاي عزوز الملك”، التابع للملحقة الإدارية النخيل الشمالي بالمنطقة الحضرية النخيل بمدينة مراكش. وأوضح المصدر ذاته، أنه فور إشعارها بالحادث، انتقلت السلطات المحلية والأمنية ومصالح الخبر احتراق أكواخ يودي بحياة شخصين بمراكش  .', 'size': 3}, {'id': '187', 'title': 'مراكش.. مصرع شخصين في حريق بدوار “مولاي عزوز الملك” بالمنطقة الحضرية النخيل', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/474751.html', 'summary': 'مراكش.. مصرع شخصين في حريق بدوار “مولاي عزوز الملك” بالمنطقة الحضرية النخيل. أفادت السلطات المحلية بولاية جهة مراكش – آسفي بأن شخصين لقيا مصرعهما، اليوم الاثنين، في حريق اندلع، حوالي الساعة الخامسة والنصف صباحا، بخمس أكواخ متواجدة بدوار “مولاي عزوز الملك”', 'size': 3}], 'main_title': 'مصرع شخصين في حريق بدوار مولاي عزوز الملك بمراكش'}, {'community_id': '8', 'articles': [{'id': '167', 'title': 'توقعات أحوال الطقس لليوم الإثنين', 'source': 'soltana.ma', 'link': 'https://soltana.ma/1357767.html', 'summary': 'توقعات أحوال الطقس لليوم الإثنين. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، تشكل كتل من الضباب وسحب منخفضة كثيفة نوعا ما على السواحل والسهول الشمالية والوسطى. كما يرتقب نزول زخات رعدية ستهم كلا من، مرتفعات الأطلس، والجنوب الشرقي والمنطقة الشرقية والأقاليم الصحراوية.وسيلاحظ تسجيل هبات رياح قوية نوعا ما بكل من مرتفعات الأطلس وشمال الأقاليم الجنوبية والسواحل الوسطى. وستتراوح درجات', 'size': 2}, {'id': '234', 'title': 'زخات رعدية مرتقبة اليوم الإثنين بعدد من المناطق المغربية', 'source': 'www.barlamane.com', 'link': 'https://www.barlamane.com/%d8%b2%d8%ae%d8%a7%d8%aa-%d8%b1%d8%b9%d8%af%d9%8a%d8%a9-%d9%85%d8%b1%d8%aa%d9%82%d8%a8%d8%a9-%d8%a7%d9%84%d9%8a%d9%88%d9%85-%d8%a7%d9%84%d8%a5%d8%ab%d9%86%d9%8a%d9%86-%d8%a8%d8%b9%d8%af%d8%af-%d9%85/', 'summary': 'زخات رعدية مرتقبة اليوم الإثنين بعدد من المناطق المغربية. تتوقع المديرية العامة للأرصاد الجوية، بالنسبة لليوم الاثنين، تشكل كتل من الضباب وسحب منخفضة كثيفة نوعا ما على السواحل والسهول الشمالية والوسطى. كما يرتقب نزول زخات رعدية ستهم كلا من، مرتفعات الأطلس، والجنوب الشرقي والمنطقة الشرقية والأقاليم الصحراوية. وسيلاحظ تسجيل هبات رياح قوية نوعا ما بكل من مرتفعات الأطلس وشمال الأقاليم الجنوبية والسواحل …  زخات رعدية مرتقبة اليوم الإثنين بعدد من المناطق المغربية     .', 'size': 2}], 'main_title': 'توقعات أحوال الطقس لليوم الإثنين'}, {'community_id': '4', 'articles': [{'id': '178', 'title': 'أشغال ماراطونية لتغيير وجه محيط ملعب أكادير', 'source': 'rue20.com', 'link': 'https://rue20.com/934423.html', 'summary': 'أشغال ماراطونية لتغيير وجه محيط ملعب أكادير.  | متابعة في أفق تنظيم كأس أمم إفريقيا 2025، خصصت مدينة أكادير ميزانية تفوق 500 مليون درهم لمشروع ضخم لتأهيل المجال الحضري والمنظر العام بمحيط الملعب الكبير. هذا الورش يشمل تهيئة الطرقات، ومواقف السيارات، وإحداث حديقة حضرية، وفضاءات للعب والترفيه، فضلا عن تثبيت التجهيزات الحضرية وأعمدة الإنارة العمومية. ووفق المعطيات المتوفرة، فإن المشروع الخبر أشغال ماراطونية لتغيير وجه محيط ملعب أكادير  .', 'size': 2}, {'id': '292', 'title': 'تخصيص 500 مليون درهم لتأهيل محيط الملعب الكبير بأكادير', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-655407.html', 'summary': 'تخصيص 500 مليون درهم لتأهيل محيط الملعب الكبير بأكادير. هبة بريس ـ متابعة في إطار الاستعدادات لاحتضان كأس أمم إفريقيا 2025، رصدت مدينة أكادير ميزانية تفوق 500 مليون درهم لإنجاز مشروع واسع لتأهيل المجال الحضري وتحسين المنظر العام بمحيط الملعب الكبير. المشروع يشمل تهيئة شبكات الطرق والممرات، إنشاء مواقف للسيارات، إحداث حديقة حضرية ومساحات مخصصة للعب والترفيه، إضافة إلى تثبيت تجهيزات حضرية جديدة وأعمدة للإنارة العمومية. وحسب المعطيات المتوفرة، يخضع الورش لآجال إنجاز ضيقة لا تتجاوز ثلاثة أشهر، إذ تسابق أكادير الزمن لاستكمال مختلف الأشغال قبل انطلاق البطولة المقررة ما بين 21 دجنبر 2025 و18 يناير 2026، باعتبارها إحدى المدن الست التي ستحتضن المنافسات.', 'size': 2}], 'main_title': 'أشغال ماراطونية لتغيير وجه محيط ملعب أكادير'}, {'community_id': '0', 'articles': [{'id': '188', 'title': 'الركراكي: نحترم جميع خصومنا والهدف أمام زامبيا هو الفوز', 'source': 'machahid24.com', 'link': 'https://machahid24.com/sport/474748.html', 'summary': 'الركراكي: نحترم جميع خصومنا والهدف أمام زامبيا هو الفوز. أكد مدرب المنتخب الوطني المغربي لكرة القدم، وليد الركراكي، اليوم الأحد، أن المنتخب يحترم جميع الخصوم ويهدف للفوز على نظيره الزامبي في تصفيات كأس العالم 2026.', 'size': 2}, {'id': '215', 'title': 'وليد الركراكي: نحترم جميع الخصوم والهدف أمام زامبيا هو الفوز', 'source': 'www.cawalisse.com', 'link': 'https://www.cawalisse.com/226794/', 'summary': 'وليد الركراكي: نحترم جميع الخصوم والهدف أمام زامبيا هو الفوز. أكد مدرب المنتخب الوطني المغربي لكرة القدم، وليد الركراكي، اليوم الأحد، أن المنتخب يحترم جميع الخصوم ويهدف للفوز على نظيره الزامبي في تصفيات كأس العالم 2026. وأوضح المدرب وليد الركراكي، في المؤتمر الصحافي الذي يسبق مباراة أسود الأطلس ضد المنتخب الزامبي (الساعة الثانية بعد الظهر)، في إطار الجولة الثامنة عن المجموعة الخامسة من التصفيات الإفريقية', 'size': 2}], 'main_title': 'الركراكي: نحترم جميع خصومنا والهدف أمام زامبيا هو الفوز'}, {'community_id': '5', 'articles': [{'id': '282', 'title': 'توقيف ضابط شرطة بمكناس للاشتباه في تورطه في قضية ابتزاز', 'source': 'ar.hibapress.com', 'link': 'https://ar.hibapress.com/details-655453.html', 'summary': 'توقيف ضابط شرطة بمكناس للاشتباه في تورطه في قضية ابتزاز. باشرت المصلحة الولائية للشرطة القضائية بمدينة مكناس ، زوال الاثنين 8 شتنبر الجاري، بحثًا قضائيًا تحت إشراف النيابة العامة المختصة، وذلك للكشف عن الأفعال المنسوبة إلى ضابط شرطة ممتاز يشتبه في تورطه في قضية ابتزاز وطلب رشوة. وحسب المعطيات الأولية، جرى توقيف الشرطي المشتبه فيه في حالة تلبس أثناء محاولته ابتزاز أحد أطراف قضية زجرية، بناءً على شكاية وضعتها الضحية لدى السلطات الأمنية. وقد تقرر، بأمر من النيابة العامة، الاحتفاظ بالمعني بالأمر تحت تدبير الحراسة النظرية لتعميق البحث معه وكشف جميع ملابسات وخلفيات هذه القضية. وفي السياق ذاته، أصدرت المديرية العامة للأمن الوطني قرارًا يقضي بالتوقيف المؤقت عن العمل في حق الضابط، في انتظار ما ستسفر عنه المسطرة القضائية الجارية، قبل ترتيب الجزاءات الإدارية المقررة في النظام الأساسي لموظفي الأمن الوطني. (الصورة تعبيرية)', 'size': 4}, {'id': '331', 'title': 'اعتقال ضابط شرطة ممتاز بمكناس بعد تورطه في جريمة خطيرة', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/society/412392.html', 'summary': 'اعتقال ضابط شرطة ممتاز بمكناس بعد تورطه في جريمة خطيرة. فتحت المصلحة الولائية للشرطة القضائية بمدينة مكناس بحثا قضائيًا تحت إشراف النيابة العامة المختصة، زوال يومه الاثنين 8 شتنبر الجاري، وذلك لتحديد الأفعال الإجرامية المنسوبة', 'size': 5}, {'id': '333', 'title': 'مكناس.. التحقيق مع ضابط شرطة موقوف بتهمة الإبتزاز والرشوة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d9%85%d9%83%d9%86%d8%a7%d8%b3-%d8%a7%d9%84%d8%aa%d8%ad%d9%82%d9%8a%d9%82-%d9%85%d8%b9-%d8%b6%d8%a7%d8%a8%d8%b7-%d8%b4%d8%b1%d8%b7%d8%a9-%d9%85%d9%88%d9%82%d9%88%d9%81-%d8%a8%d8%aa%d9%87%d9%85%d8%a9/', 'summary': 'مكناس.. التحقيق مع ضابط شرطة موقوف بتهمة الإبتزاز والرشوة. فتحت المصلحة الولائية للشرطة القضائية بمدينة مكناس، بحثا قضائيًا تحت إشراف النيابة العامة المختصة، زوال اليوم الاثنين (8 شتنبر)، وذلك لتحديد الأفعال الإجرامية المنسوبة لضابط شرطة ممتاز يعمل بنفس المدينة، والذي يشتبه في تورطه في قضية تتعلق بالابتزاز وطلب مبلغ مالي على سبيل الرشوة. وذكر مصدر أمني أنه، وحسب المعلومات الأولية للبحث، فقد تم توقيف', 'size': 3}, {'id': '338', 'title': 'الابتزاز والرشوة يطيحان بضابط شرطة بمكناس', 'source': 'assabah.ma', 'link': 'https://assabah.ma/869876.html', 'summary': 'الابتزاز والرشوة يطيحان بضابط شرطة بمكناس. فتحت المصلحة الولائية للشرطة القضائية بمدينة مكناس بحثا قضائيا تحت إشراف النيابة العامة المختصة، زوال يومه الاثنين 8 شتنبر الجاري، وذلك لتحديد الأفعال الإجرامية المنسوبة لضابط شرطة ممتاز يعمل بنفس المدينة، والذي يشتبه في تورطه في قضية تتعلق بالابتزاز وطلب مبلغ مالي على سبيل الرشوة. وحسبأكمل القراءة » المقالة الابتزاز والرشوة يطيحان بضابط شرطة بمكناس  .', 'size': 4}, {'id': '388', 'title': 'ضابط شرطة بمكناس في قبضة العدالة بتهمة الإبتزاز والرشوة', 'source': 'rue20.com', 'link': 'https://rue20.com/934614.html', 'summary': 'ضابط شرطة بمكناس في قبضة العدالة بتهمة الإبتزاز والرشوة.  | الرباط فتحت المصلحة الولائية للشرطة القضائية بمدينة مكناس بحثا قضائيًا تحت إشراف النيابة العامة المختصة، زوال يومه الاثنين 8 شتنبر الجاري، وذلك لتحديد الأفعال الإجرامية المنسوبة لضابط شرطة ممتاز يعمل بنفس المدينة، والذي يشتبه في تورطه في قضية تتعلق بالابتزاز وطلب مبلغ مالي على سبيل الرشوة. وحسب المعلومات الأولية للبحث، فقد تم الخبر ضابط شرطة بمكناس في قبضة العدالة بتهمة الإبتزاز والرشوة  .', 'size': 5}], 'main_title': 'اعتقال ضابط شرطة ممتاز بمكناس بعد تورطه في جريمة خطيرة'}, {'community_id': '10', 'articles': [{'id': '315', 'title': 'افتتاح أشغال الدورة السابعة لمؤتمر ومعرض "موريتانيد" للتعدين والطاقة بمشاركة المغرب', 'source': 'www.akhbarona.com', 'link': 'https://www.akhbarona.com/divers/412374.html', 'summary': 'افتتاح أشغال الدورة السابعة لمؤتمر ومعرض "موريتانيد" للتعدين والطاقة بمشاركة المغرب. افتتحت اليوم الاثنين بالعاصمة الموريتانية نواكشوط، أشغال النسخة السابعة من مؤتمر ومعرض "موريتانيد" للتعدين والطاقة، بمشاركة وفد مغربي رفيع المستوى تترأسه وزيرة الانتقال الطاقي والتنمية', 'size': 2}, {'id': '404', 'title': 'نواكشوط.. افتتاح مؤتمر ومعرض “موريتانيد” للتعدين والطاقة بمشاركة مغربية وازنة', 'source': 'machahid24.com', 'link': 'https://machahid24.com/home/474800.html', 'summary': 'نواكشوط.. افتتاح مؤتمر ومعرض “موريتانيد” للتعدين والطاقة بمشاركة مغربية وازنة. افتتحت اليوم الاثنين بالعاصمة الموريتانية نواكشوط، أشغال النسخة السابعة من مؤتمر ومعرض "موريتانيد" للتعدين والطاقة، بمشاركة وفد مغربي رفيع المستوى تترأسه وزيرة الانتقال الطاقي والتنمية المستدامة، ليلى بنعلي.', 'size': 2}], 'main_title': 'افتتاح أشغال الدورة السابعة لمؤتمر ومعرض "موريتانيد" للتعدين والطاقة بمشاركة المغرب'}, {'community_id': '9', 'articles': [{'id': '336', 'title': 'الوزير بنسعيد: الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية تضمن فعالية التنظيم الذاتي للمهنة', 'source': 'kifache.com', 'link': 'https://kifache.com/%d8%a7%d9%84%d9%88%d8%b2%d9%8a%d8%b1-%d8%a8%d9%86%d8%b3%d8%b9%d9%8a%d8%af-%d8%a7%d9%84%d9%88%d8%b2%d8%a7%d8%b1%d8%a9-%d8%aa%d8%b9%d9%85%d9%84-%d8%b9%d9%84%d9%89-%d8%aa%d9%88%d9%81%d9%8a%d8%b1-%d8%a8/', 'summary': 'الوزير بنسعيد: الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية تضمن فعالية التنظيم الذاتي للمهنة. أكد وزير الشباب والثقافة والتواصل، محمد المهدي بنسعيد، اليوم الاثنين (8 شتنبر)، بمجلس المستشارين، أن الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية تمكن من ضمان فعالية التنظيم الذاتي للمهنة. وأوضح بنسعيد، خلال تقديم مشروع القانون رقم 26.25 المتعلق بإعادة تنظيم المجلس الوطني للصحافة، أن ترصيد التجربة الحالية للتنظيم الذاتي يتم وفق الضمانات', 'size': 2}, {'id': '381', 'title': 'بنسعيد: الاستثمار في الإعلام "شبه نضالي" ومقاولات قليلة تحقق أرباحا', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d8%a8%d9%86%d8%b3%d8%b9%d9%8a%d8%af-%d8%a7%d9%84%d8%a7%d8%b3%d8%aa%d8%ab%d9%85%d8%a7%d8%b1-%d9%81%d9%8a-%d8%a7%d9%84%d8%a5%d8%b9%d9%84%d8%a7%d9%85-%d8%b4%d8%a8%d9%87-%d9%86%d8%b6%d8%a7%d9%84%d9%8a/', 'summary': 'بنسعيد: الاستثمار في الإعلام "شبه نضالي" ومقاولات قليلة تحقق أرباحا. أكد محمد المهدي بنسعيد، وزير الثقافة والشباب والتواصل، أن الاستثمار في المجال الإعلامي يظل "شبه نضالي"، موضحا أن قلة فقط من المقاولات تحقق أرباحا. وأضاف الوزير، في معرض تقديمه لمشروع القانون المتعلق بإعادة تنظيم المجلس الوطني للصحافة بلجنة التعليم والشؤون الثقافية والاجتماعية بمجلس المستشارين اليوم الاثنين، أن الحديث عن رقم المعاملات لا يقصد به الأغنياء،  بنسعيد: الاستثمار في الإعلام "شبه نضالي" ومقاولات قليلة تحقق أرباحا     .', 'size': 2}, {'id': '401', 'title': 'بنسعيد: الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية', 'source': 'machahid24.com', 'link': 'https://machahid24.com/politique/474817.html', 'summary': 'بنسعيد: الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية. أكد وزير الشباب والثقافة والتواصل، محمد المهدي بنسعيد، اليوم الاثنين بمجلس المستشارين، أن الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية، تمكن من ضمان فعالية التنظيم الذاتي للمهنة.', 'size': 3}], 'main_title': 'بنسعيد: الوزارة تعمل على توفير بيئة قانونية مستقرة وشفافة للممارسة الصحفية'}, {'community_id': '7', 'articles': [{'id': '374', 'title': 'الحوز بعد عامين: بين الذاكرة والصمود', 'source': 'al3omk.com', 'link': 'https://al3omk.com/1098029.html', 'summary': 'الحوز بعد عامين: بين الذاكرة والصمود. في مثل هذا اليوم، 8 شتنبر 2023، ارتجت جبال الحوز تحت وقع زلزال مدمر بلغت شدته 6.8 درجات على سلم ريشتر مخلفا دمارا واسعا امتد إلى عدة دواوير وقرى. خلف هذا الزلزال المروع أكثر من 3000 شهيد، وأصيب حوالي 5000 شخص بجروح متفاوتة، بينما وجد أكثر من 30.000 شخص أنفسهم بلا مأوى، مضطرين للعيش في ظهرت المقالة الحوز بعد عامين: بين الذاكرة والصمود  .', 'size': 2}, {'id': '384', 'title': 'في الذكرى الثانية لزلزال الحوز.. متضررون يشككون في  الأرقام الرسمية', 'source': 'ar.telquel.ma', 'link': 'https://ar.telquel.ma/%d9%81%d9%8a-%d8%a7%d9%84%d8%b0%d9%83%d8%b1%d9%89-%d8%a7%d9%84%d8%ab%d8%a7%d9%86%d9%8a%d8%a9-%d9%84%d8%b2%d9%84%d8%b2%d8%a7%d9%84-%d8%a7%d9%84%d8%ad%d9%88%d8%b2-%d9%85%d8%aa%d8%b6%d8%b1%d8%b1%d9%88/', 'summary': 'في الذكرى الثانية لزلزال الحوز.. متضررون يشككون في الأرقام الرسمية. تحل، اليوم الاثنين، الذكرى الثانية لزلزال الحوز الذي بلغت قوته 7 درجات على سلم "ريشتر"، وخلف خسائر بشرية ومادية جسيمة بعد أن مس 2930 دوارا موزعا على 163 جماعة ترابية تابعة لخمسة أقاليم وعمالة واحدة. وبينما تؤكد المعطيات الرسمية أن نسبة تقدم الأشغال بلغت، إلى حدود بداية شتنبر الجاري، 91,33 في المائة بعد الانتهاء من  في الذكرى الثانية لزلزال الحوز.. متضررون يشككون في الأرقام الرسمية     .', 'size': 2}], 'main_title': 'الحوز بعد عامين: بين الذاكرة والصمود'}];
        
        const tooltip = d3.select("#tooltip");
        
        const communityColors = d3.scaleOrdinal()
            .domain(treemapData.map(d => d.community_id))
            .range(d3.quantize(d3.interpolateRainbow, treemapData.length));
        
        let clickTimer = null;
        let clickCount = 0;
        
        function createTreemap(data, containerId) {
            const container = d3.select(`#${containerId}`);
            const width = container.node().getBoundingClientRect().width;
            const height = container.node().getBoundingClientRect().height;
            
            const sources = [...new Set(data.articles.map(d => d.source))];
            const color = d3.scaleOrdinal()
                .domain(sources)
                .range(d3.quantize(d3.interpolateHcl("#007FFF", "#FFA500"), sources.length));
            
            
            
            const hierarchyData = {
                name: "root",
                children: data.articles
            };
            
            const root = d3.hierarchy(hierarchyData)
                .sum(d => d.size || 1)
                .sort((a, b) => b.value - a.value);
            
            const treemap = d3.treemap()
                .size([width, height])
                .padding(4)
                .round(true);
            
            treemap(root);
            
            const nodes = container.selectAll(".node")
                .data(root.leaves())
                .enter()
                .append("div")
                .attr("class", "node")
                .style("left", d => `${d.x0}px`)
                .style("top", d => `${d.y0}px`)
                .style("width", d => `${d.x1 - d.x0}px`)
                .style("height", d => `${d.y1 - d.y0}px`)
                .style("background-color", d => color(d.data.source))
                .on("click", function(event, d) {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        showTooltip(event, d);
                        
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 300);
                    } else {
                        // Double clic - ouvrir le lien
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        if (d.data.link && d.data.link !== "#") {
                            window.open(d.data.link, '_blank');
                        }
                    }
                })
                .on("mouseover", function(event, d) {
                    if (window.innerWidth > 768) {
                        showTooltip(event, d);
                    }
                })
                .on("mousemove", function(event) {
                    if (window.innerWidth > 768) {
                        moveTooltip(event);
                    }
                })
                .on("mouseout", function() {
                    if (window.innerWidth > 768 && clickCount === 0) {
                        hideTooltip();
                    }
                });
            
            nodes.append("div")
                .attr("class", "node-content")
                .html(d => `
                    <div class="node-title">${d.data.title ?  d.data.title : 'Sans titre'}</div>
                    <div class="node-source">${d.data.source}</div>
                `);
        }
        
        function showTooltip(event, d) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = d.data.summary || '';

            const cleanSummary = tempDiv.textContent || tempDiv.innerText || '';

            tooltip.style("opacity", 1)
                .html(`
                    <div class="tooltip-title">${d.data.title}</div>
                    <div class="tooltip-source">${d.data.source}</div>
                    <div class="tooltip-summary">${cleanSummary ? cleanSummary : ''}</div>
                `);

            moveTooltip(event);
        }
        
        function moveTooltip(event) {
            const tooltipNode = tooltip.node();
            const tooltipWidth = tooltipNode.offsetWidth;
            const tooltipHeight = tooltipNode.offsetHeight;
            
            let left = event.pageX + 15;
            let top = event.pageY + 15;
            
            if (left + tooltipWidth > window.innerWidth) {
                left = event.pageX - tooltipWidth - 15;
            }
            
            if (top + tooltipHeight > window.innerHeight) {
                top = event.pageY - tooltipHeight - 15;
            }
            
            if (window.innerWidth <= 768) {
                left = (window.innerWidth - tooltipWidth) / 2;
                top = window.scrollY + (window.innerHeight - tooltipHeight) / 3;
            }
            
            tooltip.style("left", `${left}px`)
                .style("top", `${top}px`);
        }
        
        function hideTooltip() {
            tooltip.style("opacity", 0);
        }
        
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !event.target.closest('.node') && 
                !event.target.closest('.tooltip')) {
                hideTooltip();
            }
        });
        
        function initCarousel() {
            const carouselContainer = document.getElementById('treemap-carousel');
            
            treemapData.forEach((data, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                const title = document.createElement('div');
                title.className = 'community-title';
                title.textContent = data.main_title;
                slide.appendChild(title);
                
                const treemapContainer = document.createElement('div');
                treemapContainer.className = 'treemap-container';
                treemapContainer.id = `treemap-${data.community_id}`;
                slide.appendChild(treemapContainer);
                
                carouselContainer.appendChild(slide);
            });
            
            const swiper = new Swiper(".mySwiper", {
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                    
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                spaceBetween: 30,
                
                keyboard: {
                    enabled: true,
                },
                grabCursor: true, 
                effect: "slide", 
                speed: 600, 
                loop: true, 
                spaceBetween: 30,
                on: {
                    slideChange: function() {
                        setTimeout(function() {
                            window.dispatchEvent(new Event('resize'));
                            hideTooltip();
                        }, 300);
                    }
                }
            });
            
            setTimeout(() => {
                treemapData.forEach(data => {
                    createTreemap(data, `treemap-${data.community_id}`);
                });
            }, 300);
            
            window.addEventListener('resize', () => {
                treemapData.forEach(data => {
                    const container = document.getElementById(`treemap-${data.community_id}`);
                    container.innerHTML = ''; 
                    createTreemap(data, `treemap-${data.community_id}`);
                });
                hideTooltip();
            });
        }
        
        window.addEventListener('load', initCarousel);
        
    </script>
    
</body>



</html>
    